/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */ ! function (e, t) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function (e) {
        if (!e.document) throw new Error("jQuery requires a window with a document");
        return t(e)
    } : t(e)
}("undefined" != typeof window ? window : this, function (C, e) {
    "use strict";
    var t = [],
        r = Object.getPrototypeOf,
        s = t.slice,
        g = t.flat ? function (e) {
            return t.flat.call(e)
        } : function (e) {
            return t.concat.apply([], e)
        },
        u = t.push,
        i = t.indexOf,
        n = {},
        o = n.toString,
        v = n.hasOwnProperty,
        a = v.toString,
        l = a.call(Object),
        y = {},
        m = function (e) {
            return "function" == typeof e && "number" != typeof e.nodeType
        },
        x = function (e) {
            return null != e && e === e.window
        },
        E = C.document,
        c = {
            type: !0,
            src: !0,
            nonce: !0,
            noModule: !0
        };

    function b(e, t, n) {
        var r, i, o = (n = n || E).createElement("script");
        if (o.text = e, t)
            for (r in c)(i = t[r] || t.getAttribute && t.getAttribute(r)) && o.setAttribute(r, i);
        n.head.appendChild(o).parentNode.removeChild(o)
    }

    function w(e) {
        return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? n[o.call(e)] || "object" : typeof e
    }
    var f = "3.5.1",
        S = function (e, t) {
            return new S.fn.init(e, t)
        };

    function p(e) {
        var t = !!e && "length" in e && e.length,
            n = w(e);
        return !m(e) && !x(e) && ("array" === n || 0 === t || "number" == typeof t && 0 < t && t - 1 in e)
    }
    S.fn = S.prototype = {
        jquery: f,
        constructor: S,
        length: 0,
        toArray: function () {
            return s.call(this)
        },
        get: function (e) {
            return null == e ? s.call(this) : e < 0 ? this[e + this.length] : this[e]
        },
        pushStack: function (e) {
            var t = S.merge(this.constructor(), e);
            return t.prevObject = this, t
        },
        each: function (e) {
            return S.each(this, e)
        },
        map: function (n) {
            return this.pushStack(S.map(this, function (e, t) {
                return n.call(e, t, e)
            }))
        },
        slice: function () {
            return this.pushStack(s.apply(this, arguments))
        },
        first: function () {
            return this.eq(0)
        },
        last: function () {
            return this.eq(-1)
        },
        even: function () {
            return this.pushStack(S.grep(this, function (e, t) {
                return (t + 1) % 2
            }))
        },
        odd: function () {
            return this.pushStack(S.grep(this, function (e, t) {
                return t % 2
            }))
        },
        eq: function (e) {
            var t = this.length,
                n = +e + (e < 0 ? t : 0);
            return this.pushStack(0 <= n && n < t ? [this[n]] : [])
        },
        end: function () {
            return this.prevObject || this.constructor()
        },
        push: u,
        sort: t.sort,
        splice: t.splice
    }, S.extend = S.fn.extend = function () {
        var e, t, n, r, i, o, a = arguments[0] || {},
            s = 1,
            u = arguments.length,
            l = !1;
        for ("boolean" == typeof a && (l = a, a = arguments[s] || {}, s++), "object" == typeof a || m(a) || (a = {}), s === u && (a = this, s--); s < u; s++)
            if (null != (e = arguments[s]))
                for (t in e) r = e[t], "__proto__" !== t && a !== r && (l && r && (S.isPlainObject(r) || (i = Array.isArray(r))) ? (n = a[t], o = i && !Array.isArray(n) ? [] : i || S.isPlainObject(n) ? n : {}, i = !1, a[t] = S.extend(l, o, r)) : void 0 !== r && (a[t] = r));
        return a
    }, S.extend({
        expando: "jQuery" + (f + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function (e) {
            throw new Error(e)
        },
        noop: function () {},
        isPlainObject: function (e) {
            var t, n;
            return !(!e || "[object Object]" !== o.call(e)) && (!(t = r(e)) || "function" == typeof (n = v.call(t, "constructor") && t.constructor) && a.call(n) === l)
        },
        isEmptyObject: function (e) {
            var t;
            for (t in e) return !1;
            return !0
        },
        globalEval: function (e, t, n) {
            b(e, {
                nonce: t && t.nonce
            }, n)
        },
        each: function (e, t) {
            var n, r = 0;
            if (p(e)) {
                for (n = e.length; r < n; r++)
                    if (!1 === t.call(e[r], r, e[r])) break
            } else
                for (r in e)
                    if (!1 === t.call(e[r], r, e[r])) break;
            return e
        },
        makeArray: function (e, t) {
            var n = t || [];
            return null != e && (p(Object(e)) ? S.merge(n, "string" == typeof e ? [e] : e) : u.call(n, e)), n
        },
        inArray: function (e, t, n) {
            return null == t ? -1 : i.call(t, e, n)
        },
        merge: function (e, t) {
            for (var n = +t.length, r = 0, i = e.length; r < n; r++) e[i++] = t[r];
            return e.length = i, e
        },
        grep: function (e, t, n) {
            for (var r = [], i = 0, o = e.length, a = !n; i < o; i++) !t(e[i], i) !== a && r.push(e[i]);
            return r
        },
        map: function (e, t, n) {
            var r, i, o = 0,
                a = [];
            if (p(e))
                for (r = e.length; o < r; o++) null != (i = t(e[o], o, n)) && a.push(i);
            else
                for (o in e) null != (i = t(e[o], o, n)) && a.push(i);
            return g(a)
        },
        guid: 1,
        support: y
    }), "function" == typeof Symbol && (S.fn[Symbol.iterator] = t[Symbol.iterator]), S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (e, t) {
        n["[object " + t + "]"] = t.toLowerCase()
    });
    var d = function (n) {
        var e, d, b, o, i, h, f, g, w, u, l, T, C, a, E, v, s, c, y, S = "sizzle" + 1 * new Date,
            p = n.document,
            k = 0,
            r = 0,
            m = ue(),
            x = ue(),
            A = ue(),
            N = ue(),
            D = function (e, t) {
                return e === t && (l = !0), 0
            },
            j = {}.hasOwnProperty,
            t = [],
            q = t.pop,
            L = t.push,
            H = t.push,
            O = t.slice,
            P = function (e, t) {
                for (var n = 0, r = e.length; n < r; n++)
                    if (e[n] === t) return n;
                return -1
            },
            R = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            M = "[\\x20\\t\\r\\n\\f]",
            I = "(?:\\\\[\\da-fA-F]{1,6}" + M + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
            W = "\\[" + M + "*(" + I + ")(?:" + M + "*([*^$|!~]?=)" + M + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + I + "))|)" + M + "*\\]",
            F = ":(" + I + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + W + ")*)|.*)\\)|)",
            B = new RegExp(M + "+", "g"),
            $ = new RegExp("^" + M + "+|((?:^|[^\\\\])(?:\\\\.)*)" + M + "+$", "g"),
            _ = new RegExp("^" + M + "*," + M + "*"),
            z = new RegExp("^" + M + "*([>+~]|" + M + ")" + M + "*"),
            U = new RegExp(M + "|>"),
            X = new RegExp(F),
            V = new RegExp("^" + I + "$"),
            G = {
                ID: new RegExp("^#(" + I + ")"),
                CLASS: new RegExp("^\\.(" + I + ")"),
                TAG: new RegExp("^(" + I + "|[*])"),
                ATTR: new RegExp("^" + W),
                PSEUDO: new RegExp("^" + F),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + M + "*(even|odd|(([+-]|)(\\d*)n|)" + M + "*(?:([+-]|)" + M + "*(\\d+)|))" + M + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + R + ")$", "i"),
                needsContext: new RegExp("^" + M + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + M + "*((?:-\\d)?\\d*)" + M + "*\\)|)(?=[^-]|$)", "i")
            },
            Y = /HTML$/i,
            Q = /^(?:input|select|textarea|button)$/i,
            J = /^h\d$/i,
            K = /^[^{]+\{\s*\[native \w/,
            Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            ee = /[+~]/,
            te = new RegExp("\\\\[\\da-fA-F]{1,6}" + M + "?|\\\\([^\\r\\n\\f])", "g"),
            ne = function (e, t) {
                var n = "0x" + e.slice(1) - 65536;
                return t || (n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320))
            },
            re = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            ie = function (e, t) {
                return t ? "\0" === e ? "\ufffd" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
            },
            oe = function () {
                T()
            },
            ae = be(function (e) {
                return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
            }, {
                dir: "parentNode",
                next: "legend"
            });
        try {
            H.apply(t = O.call(p.childNodes), p.childNodes), t[p.childNodes.length].nodeType
        } catch (e) {
            H = {
                apply: t.length ? function (e, t) {
                    L.apply(e, O.call(t))
                } : function (e, t) {
                    var n = e.length,
                        r = 0;
                    while (e[n++] = t[r++]);
                    e.length = n - 1
                }
            }
        }

        function se(t, e, n, r) {
            var i, o, a, s, u, l, c, f = e && e.ownerDocument,
                p = e ? e.nodeType : 9;
            if (n = n || [], "string" != typeof t || !t || 1 !== p && 9 !== p && 11 !== p) return n;
            if (!r && (T(e), e = e || C, E)) {
                if (11 !== p && (u = Z.exec(t)))
                    if (i = u[1]) {
                        if (9 === p) {
                            if (!(a = e.getElementById(i))) return n;
                            if (a.id === i) return n.push(a), n
                        } else if (f && (a = f.getElementById(i)) && y(e, a) && a.id === i) return n.push(a), n
                    } else {
                        if (u[2]) return H.apply(n, e.getElementsByTagName(t)), n;
                        if ((i = u[3]) && d.getElementsByClassName && e.getElementsByClassName) return H.apply(n, e.getElementsByClassName(i)), n
                    } if (d.qsa && !N[t + " "] && (!v || !v.test(t)) && (1 !== p || "object" !== e.nodeName.toLowerCase())) {
                    if (c = t, f = e, 1 === p && (U.test(t) || z.test(t))) {
                        (f = ee.test(t) && ye(e.parentNode) || e) === e && d.scope || ((s = e.getAttribute("id")) ? s = s.replace(re, ie) : e.setAttribute("id", s = S)), o = (l = h(t)).length;
                        while (o--) l[o] = (s ? "#" + s : ":scope") + " " + xe(l[o]);
                        c = l.join(",")
                    }
                    try {
                        return H.apply(n, f.querySelectorAll(c)), n
                    } catch (e) {
                        N(t, !0)
                    } finally {
                        s === S && e.removeAttribute("id")
                    }
                }
            }
            return g(t.replace($, "$1"), e, n, r)
        }

        function ue() {
            var r = [];
            return function e(t, n) {
                return r.push(t + " ") > b.cacheLength && delete e[r.shift()], e[t + " "] = n
            }
        }

        function le(e) {
            return e[S] = !0, e
        }

        function ce(e) {
            var t = C.createElement("fieldset");
            try {
                return !!e(t)
            } catch (e) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t), t = null
            }
        }

        function fe(e, t) {
            var n = e.split("|"),
                r = n.length;
            while (r--) b.attrHandle[n[r]] = t
        }

        function pe(e, t) {
            var n = t && e,
                r = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
            if (r) return r;
            if (n)
                while (n = n.nextSibling)
                    if (n === t) return -1;
            return e ? 1 : -1
        }

        function de(t) {
            return function (e) {
                return "input" === e.nodeName.toLowerCase() && e.type === t
            }
        }

        function he(n) {
            return function (e) {
                var t = e.nodeName.toLowerCase();
                return ("input" === t || "button" === t) && e.type === n
            }
        }

        function ge(t) {
            return function (e) {
                return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && ae(e) === t : e.disabled === t : "label" in e && e.disabled === t
            }
        }

        function ve(a) {
            return le(function (o) {
                return o = +o, le(function (e, t) {
                    var n, r = a([], e.length, o),
                        i = r.length;
                    while (i--) e[n = r[i]] && (e[n] = !(t[n] = e[n]))
                })
            })
        }

        function ye(e) {
            return e && "undefined" != typeof e.getElementsByTagName && e
        }
        for (e in d = se.support = {}, i = se.isXML = function (e) {
                var t = e.namespaceURI,
                    n = (e.ownerDocument || e).documentElement;
                return !Y.test(t || n && n.nodeName || "HTML")
            }, T = se.setDocument = function (e) {
                var t, n, r = e ? e.ownerDocument || e : p;
                return r != C && 9 === r.nodeType && r.documentElement && (a = (C = r).documentElement, E = !i(C), p != C && (n = C.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", oe, !1) : n.attachEvent && n.attachEvent("onunload", oe)), d.scope = ce(function (e) {
                    return a.appendChild(e).appendChild(C.createElement("div")), "undefined" != typeof e.querySelectorAll && !e.querySelectorAll(":scope fieldset div").length
                }), d.attributes = ce(function (e) {
                    return e.className = "i", !e.getAttribute("className")
                }), d.getElementsByTagName = ce(function (e) {
                    return e.appendChild(C.createComment("")), !e.getElementsByTagName("*").length
                }), d.getElementsByClassName = K.test(C.getElementsByClassName), d.getById = ce(function (e) {
                    return a.appendChild(e).id = S, !C.getElementsByName || !C.getElementsByName(S).length
                }), d.getById ? (b.filter.ID = function (e) {
                    var t = e.replace(te, ne);
                    return function (e) {
                        return e.getAttribute("id") === t
                    }
                }, b.find.ID = function (e, t) {
                    if ("undefined" != typeof t.getElementById && E) {
                        var n = t.getElementById(e);
                        return n ? [n] : []
                    }
                }) : (b.filter.ID = function (e) {
                    var n = e.replace(te, ne);
                    return function (e) {
                        var t = "undefined" != typeof e.getAttributeNode && e.getAttributeNode("id");
                        return t && t.value === n
                    }
                }, b.find.ID = function (e, t) {
                    if ("undefined" != typeof t.getElementById && E) {
                        var n, r, i, o = t.getElementById(e);
                        if (o) {
                            if ((n = o.getAttributeNode("id")) && n.value === e) return [o];
                            i = t.getElementsByName(e), r = 0;
                            while (o = i[r++])
                                if ((n = o.getAttributeNode("id")) && n.value === e) return [o]
                        }
                        return []
                    }
                }), b.find.TAG = d.getElementsByTagName ? function (e, t) {
                    return "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName(e) : d.qsa ? t.querySelectorAll(e) : void 0
                } : function (e, t) {
                    var n, r = [],
                        i = 0,
                        o = t.getElementsByTagName(e);
                    if ("*" === e) {
                        while (n = o[i++]) 1 === n.nodeType && r.push(n);
                        return r
                    }
                    return o
                }, b.find.CLASS = d.getElementsByClassName && function (e, t) {
                    if ("undefined" != typeof t.getElementsByClassName && E) return t.getElementsByClassName(e)
                }, s = [], v = [], (d.qsa = K.test(C.querySelectorAll)) && (ce(function (e) {
                    var t;
                    a.appendChild(e).innerHTML = "<a id='" + S + "'></a><select id='" + S + "-\r\\' msallowcapture=''><option selected=''></option></select>", e.querySelectorAll("[msallowcapture^='']").length && v.push("[*^$]=" + M + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || v.push("\\[" + M + "*(?:value|" + R + ")"), e.querySelectorAll("[id~=" + S + "-]").length || v.push("~="), (t = C.createElement("input")).setAttribute("name", ""), e.appendChild(t), e.querySelectorAll("[name='']").length || v.push("\\[" + M + "*name" + M + "*=" + M + "*(?:''|\"\")"), e.querySelectorAll(":checked").length || v.push(":checked"), e.querySelectorAll("a#" + S + "+*").length || v.push(".#.+[+~]"), e.querySelectorAll("\\\f"), v.push("[\\r\\n\\f]")
                }), ce(function (e) {
                    e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var t = C.createElement("input");
                    t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && v.push("name" + M + "*[*^$|!~]?="), 2 !== e.querySelectorAll(":enabled").length && v.push(":enabled", ":disabled"), a.appendChild(e).disabled = !0, 2 !== e.querySelectorAll(":disabled").length && v.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), v.push(",.*:")
                })), (d.matchesSelector = K.test(c = a.matches || a.webkitMatchesSelector || a.mozMatchesSelector || a.oMatchesSelector || a.msMatchesSelector)) && ce(function (e) {
                    d.disconnectedMatch = c.call(e, "*"), c.call(e, "[s!='']:x"), s.push("!=", F)
                }), v = v.length && new RegExp(v.join("|")), s = s.length && new RegExp(s.join("|")), t = K.test(a.compareDocumentPosition), y = t || K.test(a.contains) ? function (e, t) {
                    var n = 9 === e.nodeType ? e.documentElement : e,
                        r = t && t.parentNode;
                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                } : function (e, t) {
                    if (t)
                        while (t = t.parentNode)
                            if (t === e) return !0;
                    return !1
                }, D = t ? function (e, t) {
                    if (e === t) return l = !0, 0;
                    var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return n || (1 & (n = (e.ownerDocument || e) == (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !d.sortDetached && t.compareDocumentPosition(e) === n ? e == C || e.ownerDocument == p && y(p, e) ? -1 : t == C || t.ownerDocument == p && y(p, t) ? 1 : u ? P(u, e) - P(u, t) : 0 : 4 & n ? -1 : 1)
                } : function (e, t) {
                    if (e === t) return l = !0, 0;
                    var n, r = 0,
                        i = e.parentNode,
                        o = t.parentNode,
                        a = [e],
                        s = [t];
                    if (!i || !o) return e == C ? -1 : t == C ? 1 : i ? -1 : o ? 1 : u ? P(u, e) - P(u, t) : 0;
                    if (i === o) return pe(e, t);
                    n = e;
                    while (n = n.parentNode) a.unshift(n);
                    n = t;
                    while (n = n.parentNode) s.unshift(n);
                    while (a[r] === s[r]) r++;
                    return r ? pe(a[r], s[r]) : a[r] == p ? -1 : s[r] == p ? 1 : 0
                }), C
            }, se.matches = function (e, t) {
                return se(e, null, null, t)
            }, se.matchesSelector = function (e, t) {
                if (T(e), d.matchesSelector && E && !N[t + " "] && (!s || !s.test(t)) && (!v || !v.test(t))) try {
                    var n = c.call(e, t);
                    if (n || d.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n
                } catch (e) {
                    N(t, !0)
                }
                return 0 < se(t, C, null, [e]).length
            }, se.contains = function (e, t) {
                return (e.ownerDocument || e) != C && T(e), y(e, t)
            }, se.attr = function (e, t) {
                (e.ownerDocument || e) != C && T(e);
                var n = b.attrHandle[t.toLowerCase()],
                    r = n && j.call(b.attrHandle, t.toLowerCase()) ? n(e, t, !E) : void 0;
                return void 0 !== r ? r : d.attributes || !E ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
            }, se.escape = function (e) {
                return (e + "").replace(re, ie)
            }, se.error = function (e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            }, se.uniqueSort = function (e) {
                var t, n = [],
                    r = 0,
                    i = 0;
                if (l = !d.detectDuplicates, u = !d.sortStable && e.slice(0), e.sort(D), l) {
                    while (t = e[i++]) t === e[i] && (r = n.push(i));
                    while (r--) e.splice(n[r], 1)
                }
                return u = null, e
            }, o = se.getText = function (e) {
                var t, n = "",
                    r = 0,
                    i = e.nodeType;
                if (i) {
                    if (1 === i || 9 === i || 11 === i) {
                        if ("string" == typeof e.textContent) return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling) n += o(e)
                    } else if (3 === i || 4 === i) return e.nodeValue
                } else
                    while (t = e[r++]) n += o(t);
                return n
            }, (b = se.selectors = {
                cacheLength: 50,
                createPseudo: le,
                match: G,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function (e) {
                        return e[1] = e[1].replace(te, ne), e[3] = (e[3] || e[4] || e[5] || "").replace(te, ne), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                    },
                    CHILD: function (e) {
                        return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || se.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && se.error(e[0]), e
                    },
                    PSEUDO: function (e) {
                        var t, n = !e[6] && e[2];
                        return G.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && X.test(n) && (t = h(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function (e) {
                        var t = e.replace(te, ne).toLowerCase();
                        return "*" === e ? function () {
                            return !0
                        } : function (e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function (e) {
                        var t = m[e + " "];
                        return t || (t = new RegExp("(^|" + M + ")" + e + "(" + M + "|$)")) && m(e, function (e) {
                            return t.test("string" == typeof e.className && e.className || "undefined" != typeof e.getAttribute && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function (n, r, i) {
                        return function (e) {
                            var t = se.attr(e, n);
                            return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === i : "!=" === r ? t !== i : "^=" === r ? i && 0 === t.indexOf(i) : "*=" === r ? i && -1 < t.indexOf(i) : "$=" === r ? i && t.slice(-i.length) === i : "~=" === r ? -1 < (" " + t.replace(B, " ") + " ").indexOf(i) : "|=" === r && (t === i || t.slice(0, i.length + 1) === i + "-"))
                        }
                    },
                    CHILD: function (h, e, t, g, v) {
                        var y = "nth" !== h.slice(0, 3),
                            m = "last" !== h.slice(-4),
                            x = "of-type" === e;
                        return 1 === g && 0 === v ? function (e) {
                            return !!e.parentNode
                        } : function (e, t, n) {
                            var r, i, o, a, s, u, l = y !== m ? "nextSibling" : "previousSibling",
                                c = e.parentNode,
                                f = x && e.nodeName.toLowerCase(),
                                p = !n && !x,
                                d = !1;
                            if (c) {
                                if (y) {
                                    while (l) {
                                        a = e;
                                        while (a = a[l])
                                            if (x ? a.nodeName.toLowerCase() === f : 1 === a.nodeType) return !1;
                                        u = l = "only" === h && !u && "nextSibling"
                                    }
                                    return !0
                                }
                                if (u = [m ? c.firstChild : c.lastChild], m && p) {
                                    d = (s = (r = (i = (o = (a = c)[S] || (a[S] = {}))[a.uniqueID] || (o[a.uniqueID] = {}))[h] || [])[0] === k && r[1]) && r[2], a = s && c.childNodes[s];
                                    while (a = ++s && a && a[l] || (d = s = 0) || u.pop())
                                        if (1 === a.nodeType && ++d && a === e) {
                                            i[h] = [k, s, d];
                                            break
                                        }
                                } else if (p && (d = s = (r = (i = (o = (a = e)[S] || (a[S] = {}))[a.uniqueID] || (o[a.uniqueID] = {}))[h] || [])[0] === k && r[1]), !1 === d)
                                    while (a = ++s && a && a[l] || (d = s = 0) || u.pop())
                                        if ((x ? a.nodeName.toLowerCase() === f : 1 === a.nodeType) && ++d && (p && ((i = (o = a[S] || (a[S] = {}))[a.uniqueID] || (o[a.uniqueID] = {}))[h] = [k, d]), a === e)) break;
                                return (d -= v) === g || d % g == 0 && 0 <= d / g
                            }
                        }
                    },
                    PSEUDO: function (e, o) {
                        var t, a = b.pseudos[e] || b.setFilters[e.toLowerCase()] || se.error("unsupported pseudo: " + e);
                        return a[S] ? a(o) : 1 < a.length ? (t = [e, e, "", o], b.setFilters.hasOwnProperty(e.toLowerCase()) ? le(function (e, t) {
                            var n, r = a(e, o),
                                i = r.length;
                            while (i--) e[n = P(e, r[i])] = !(t[n] = r[i])
                        }) : function (e) {
                            return a(e, 0, t)
                        }) : a
                    }
                },
                pseudos: {
                    not: le(function (e) {
                        var r = [],
                            i = [],
                            s = f(e.replace($, "$1"));
                        return s[S] ? le(function (e, t, n, r) {
                            var i, o = s(e, null, r, []),
                                a = e.length;
                            while (a--)(i = o[a]) && (e[a] = !(t[a] = i))
                        }) : function (e, t, n) {
                            return r[0] = e, s(r, null, n, i), r[0] = null, !i.pop()
                        }
                    }),
                    has: le(function (t) {
                        return function (e) {
                            return 0 < se(t, e).length
                        }
                    }),
                    contains: le(function (t) {
                        return t = t.replace(te, ne),
                            function (e) {
                                return -1 < (e.textContent || o(e)).indexOf(t)
                            }
                    }),
                    lang: le(function (n) {
                        return V.test(n || "") || se.error("unsupported lang: " + n), n = n.replace(te, ne).toLowerCase(),
                            function (e) {
                                var t;
                                do {
                                    if (t = E ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-")
                                } while ((e = e.parentNode) && 1 === e.nodeType);
                                return !1
                            }
                    }),
                    target: function (e) {
                        var t = n.location && n.location.hash;
                        return t && t.slice(1) === e.id
                    },
                    root: function (e) {
                        return e === a
                    },
                    focus: function (e) {
                        return e === C.activeElement && (!C.hasFocus || C.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: ge(!1),
                    disabled: ge(!0),
                    checked: function (e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function (e) {
                        return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                    },
                    empty: function (e) {
                        for (e = e.firstChild; e; e = e.nextSibling)
                            if (e.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function (e) {
                        return !b.pseudos.empty(e)
                    },
                    header: function (e) {
                        return J.test(e.nodeName)
                    },
                    input: function (e) {
                        return Q.test(e.nodeName)
                    },
                    button: function (e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    text: function (e) {
                        var t;
                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                    },
                    first: ve(function () {
                        return [0]
                    }),
                    last: ve(function (e, t) {
                        return [t - 1]
                    }),
                    eq: ve(function (e, t, n) {
                        return [n < 0 ? n + t : n]
                    }),
                    even: ve(function (e, t) {
                        for (var n = 0; n < t; n += 2) e.push(n);
                        return e
                    }),
                    odd: ve(function (e, t) {
                        for (var n = 1; n < t; n += 2) e.push(n);
                        return e
                    }),
                    lt: ve(function (e, t, n) {
                        for (var r = n < 0 ? n + t : t < n ? t : n; 0 <= --r;) e.push(r);
                        return e
                    }),
                    gt: ve(function (e, t, n) {
                        for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                        return e
                    })
                }
            }).pseudos.nth = b.pseudos.eq, {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) b.pseudos[e] = de(e);
        for (e in {
                submit: !0,
                reset: !0
            }) b.pseudos[e] = he(e);

        function me() {}

        function xe(e) {
            for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
            return r
        }

        function be(s, e, t) {
            var u = e.dir,
                l = e.next,
                c = l || u,
                f = t && "parentNode" === c,
                p = r++;
            return e.first ? function (e, t, n) {
                while (e = e[u])
                    if (1 === e.nodeType || f) return s(e, t, n);
                return !1
            } : function (e, t, n) {
                var r, i, o, a = [k, p];
                if (n) {
                    while (e = e[u])
                        if ((1 === e.nodeType || f) && s(e, t, n)) return !0
                } else
                    while (e = e[u])
                        if (1 === e.nodeType || f)
                            if (i = (o = e[S] || (e[S] = {}))[e.uniqueID] || (o[e.uniqueID] = {}), l && l === e.nodeName.toLowerCase()) e = e[u] || e;
                            else {
                                if ((r = i[c]) && r[0] === k && r[1] === p) return a[2] = r[2];
                                if ((i[c] = a)[2] = s(e, t, n)) return !0
                            } return !1
            }
        }

        function we(i) {
            return 1 < i.length ? function (e, t, n) {
                var r = i.length;
                while (r--)
                    if (!i[r](e, t, n)) return !1;
                return !0
            } : i[0]
        }

        function Te(e, t, n, r, i) {
            for (var o, a = [], s = 0, u = e.length, l = null != t; s < u; s++)(o = e[s]) && (n && !n(o, r, i) || (a.push(o), l && t.push(s)));
            return a
        }

        function Ce(d, h, g, v, y, e) {
            return v && !v[S] && (v = Ce(v)), y && !y[S] && (y = Ce(y, e)), le(function (e, t, n, r) {
                var i, o, a, s = [],
                    u = [],
                    l = t.length,
                    c = e || function (e, t, n) {
                        for (var r = 0, i = t.length; r < i; r++) se(e, t[r], n);
                        return n
                    }(h || "*", n.nodeType ? [n] : n, []),
                    f = !d || !e && h ? c : Te(c, s, d, n, r),
                    p = g ? y || (e ? d : l || v) ? [] : t : f;
                if (g && g(f, p, n, r), v) {
                    i = Te(p, u), v(i, [], n, r), o = i.length;
                    while (o--)(a = i[o]) && (p[u[o]] = !(f[u[o]] = a))
                }
                if (e) {
                    if (y || d) {
                        if (y) {
                            i = [], o = p.length;
                            while (o--)(a = p[o]) && i.push(f[o] = a);
                            y(null, p = [], i, r)
                        }
                        o = p.length;
                        while (o--)(a = p[o]) && -1 < (i = y ? P(e, a) : s[o]) && (e[i] = !(t[i] = a))
                    }
                } else p = Te(p === t ? p.splice(l, p.length) : p), y ? y(null, t, p, r) : H.apply(t, p)
            })
        }

        function Ee(e) {
            for (var i, t, n, r = e.length, o = b.relative[e[0].type], a = o || b.relative[" "], s = o ? 1 : 0, u = be(function (e) {
                    return e === i
                }, a, !0), l = be(function (e) {
                    return -1 < P(i, e)
                }, a, !0), c = [function (e, t, n) {
                    var r = !o && (n || t !== w) || ((i = t).nodeType ? u(e, t, n) : l(e, t, n));
                    return i = null, r
                }]; s < r; s++)
                if (t = b.relative[e[s].type]) c = [be(we(c), t)];
                else {
                    if ((t = b.filter[e[s].type].apply(null, e[s].matches))[S]) {
                        for (n = ++s; n < r; n++)
                            if (b.relative[e[n].type]) break;
                        return Ce(1 < s && we(c), 1 < s && xe(e.slice(0, s - 1).concat({
                            value: " " === e[s - 2].type ? "*" : ""
                        })).replace($, "$1"), t, s < n && Ee(e.slice(s, n)), n < r && Ee(e = e.slice(n)), n < r && xe(e))
                    }
                    c.push(t)
                } return we(c)
        }
        return me.prototype = b.filters = b.pseudos, b.setFilters = new me, h = se.tokenize = function (e, t) {
            var n, r, i, o, a, s, u, l = x[e + " "];
            if (l) return t ? 0 : l.slice(0);
            a = e, s = [], u = b.preFilter;
            while (a) {
                for (o in n && !(r = _.exec(a)) || (r && (a = a.slice(r[0].length) || a), s.push(i = [])), n = !1, (r = z.exec(a)) && (n = r.shift(), i.push({
                        value: n,
                        type: r[0].replace($, " ")
                    }), a = a.slice(n.length)), b.filter) !(r = G[o].exec(a)) || u[o] && !(r = u[o](r)) || (n = r.shift(), i.push({
                    value: n,
                    type: o,
                    matches: r
                }), a = a.slice(n.length));
                if (!n) break
            }
            return t ? a.length : a ? se.error(e) : x(e, s).slice(0)
        }, f = se.compile = function (e, t) {
            var n, v, y, m, x, r, i = [],
                o = [],
                a = A[e + " "];
            if (!a) {
                t || (t = h(e)), n = t.length;
                while (n--)(a = Ee(t[n]))[S] ? i.push(a) : o.push(a);
                (a = A(e, (v = o, m = 0 < (y = i).length, x = 0 < v.length, r = function (e, t, n, r, i) {
                    var o, a, s, u = 0,
                        l = "0",
                        c = e && [],
                        f = [],
                        p = w,
                        d = e || x && b.find.TAG("*", i),
                        h = k += null == p ? 1 : Math.random() || .1,
                        g = d.length;
                    for (i && (w = t == C || t || i); l !== g && null != (o = d[l]); l++) {
                        if (x && o) {
                            a = 0, t || o.ownerDocument == C || (T(o), n = !E);
                            while (s = v[a++])
                                if (s(o, t || C, n)) {
                                    r.push(o);
                                    break
                                } i && (k = h)
                        }
                        m && ((o = !s && o) && u--, e && c.push(o))
                    }
                    if (u += l, m && l !== u) {
                        a = 0;
                        while (s = y[a++]) s(c, f, t, n);
                        if (e) {
                            if (0 < u)
                                while (l--) c[l] || f[l] || (f[l] = q.call(r));
                            f = Te(f)
                        }
                        H.apply(r, f), i && !e && 0 < f.length && 1 < u + y.length && se.uniqueSort(r)
                    }
                    return i && (k = h, w = p), c
                }, m ? le(r) : r))).selector = e
            }
            return a
        }, g = se.select = function (e, t, n, r) {
            var i, o, a, s, u, l = "function" == typeof e && e,
                c = !r && h(e = l.selector || e);
            if (n = n || [], 1 === c.length) {
                if (2 < (o = c[0] = c[0].slice(0)).length && "ID" === (a = o[0]).type && 9 === t.nodeType && E && b.relative[o[1].type]) {
                    if (!(t = (b.find.ID(a.matches[0].replace(te, ne), t) || [])[0])) return n;
                    l && (t = t.parentNode), e = e.slice(o.shift().value.length)
                }
                i = G.needsContext.test(e) ? 0 : o.length;
                while (i--) {
                    if (a = o[i], b.relative[s = a.type]) break;
                    if ((u = b.find[s]) && (r = u(a.matches[0].replace(te, ne), ee.test(o[0].type) && ye(t.parentNode) || t))) {
                        if (o.splice(i, 1), !(e = r.length && xe(o))) return H.apply(n, r), n;
                        break
                    }
                }
            }
            return (l || f(e, c))(r, t, !E, n, !t || ee.test(e) && ye(t.parentNode) || t), n
        }, d.sortStable = S.split("").sort(D).join("") === S, d.detectDuplicates = !!l, T(), d.sortDetached = ce(function (e) {
            return 1 & e.compareDocumentPosition(C.createElement("fieldset"))
        }), ce(function (e) {
            return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
        }) || fe("type|href|height|width", function (e, t, n) {
            if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }), d.attributes && ce(function (e) {
            return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
        }) || fe("value", function (e, t, n) {
            if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue
        }), ce(function (e) {
            return null == e.getAttribute("disabled")
        }) || fe(R, function (e, t, n) {
            var r;
            if (!n) return !0 === e[t] ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }), se
    }(C);
    S.find = d, S.expr = d.selectors, S.expr[":"] = S.expr.pseudos, S.uniqueSort = S.unique = d.uniqueSort, S.text = d.getText, S.isXMLDoc = d.isXML, S.contains = d.contains, S.escapeSelector = d.escape;
    var h = function (e, t, n) {
            var r = [],
                i = void 0 !== n;
            while ((e = e[t]) && 9 !== e.nodeType)
                if (1 === e.nodeType) {
                    if (i && S(e).is(n)) break;
                    r.push(e)
                } return r
        },
        T = function (e, t) {
            for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
            return n
        },
        k = S.expr.match.needsContext;

    function A(e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
    }
    var N = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

    function D(e, n, r) {
        return m(n) ? S.grep(e, function (e, t) {
            return !!n.call(e, t, e) !== r
        }) : n.nodeType ? S.grep(e, function (e) {
            return e === n !== r
        }) : "string" != typeof n ? S.grep(e, function (e) {
            return -1 < i.call(n, e) !== r
        }) : S.filter(n, e, r)
    }
    S.filter = function (e, t, n) {
        var r = t[0];
        return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === r.nodeType ? S.find.matchesSelector(r, e) ? [r] : [] : S.find.matches(e, S.grep(t, function (e) {
            return 1 === e.nodeType
        }))
    }, S.fn.extend({
        find: function (e) {
            var t, n, r = this.length,
                i = this;
            if ("string" != typeof e) return this.pushStack(S(e).filter(function () {
                for (t = 0; t < r; t++)
                    if (S.contains(i[t], this)) return !0
            }));
            for (n = this.pushStack([]), t = 0; t < r; t++) S.find(e, i[t], n);
            return 1 < r ? S.uniqueSort(n) : n
        },
        filter: function (e) {
            return this.pushStack(D(this, e || [], !1))
        },
        not: function (e) {
            return this.pushStack(D(this, e || [], !0))
        },
        is: function (e) {
            return !!D(this, "string" == typeof e && k.test(e) ? S(e) : e || [], !1).length
        }
    });
    var j, q = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
    (S.fn.init = function (e, t, n) {
        var r, i;
        if (!e) return this;
        if (n = n || j, "string" == typeof e) {
            if (!(r = "<" === e[0] && ">" === e[e.length - 1] && 3 <= e.length ? [null, e, null] : q.exec(e)) || !r[1] && t) return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
            if (r[1]) {
                if (t = t instanceof S ? t[0] : t, S.merge(this, S.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : E, !0)), N.test(r[1]) && S.isPlainObject(t))
                    for (r in t) m(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
                return this
            }
            return (i = E.getElementById(r[2])) && (this[0] = i, this.length = 1), this
        }
        return e.nodeType ? (this[0] = e, this.length = 1, this) : m(e) ? void 0 !== n.ready ? n.ready(e) : e(S) : S.makeArray(e, this)
    }).prototype = S.fn, j = S(E);
    var L = /^(?:parents|prev(?:Until|All))/,
        H = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };

    function O(e, t) {
        while ((e = e[t]) && 1 !== e.nodeType);
        return e
    }
    S.fn.extend({
        has: function (e) {
            var t = S(e, this),
                n = t.length;
            return this.filter(function () {
                for (var e = 0; e < n; e++)
                    if (S.contains(this, t[e])) return !0
            })
        },
        closest: function (e, t) {
            var n, r = 0,
                i = this.length,
                o = [],
                a = "string" != typeof e && S(e);
            if (!k.test(e))
                for (; r < i; r++)
                    for (n = this[r]; n && n !== t; n = n.parentNode)
                        if (n.nodeType < 11 && (a ? -1 < a.index(n) : 1 === n.nodeType && S.find.matchesSelector(n, e))) {
                            o.push(n);
                            break
                        } return this.pushStack(1 < o.length ? S.uniqueSort(o) : o)
        },
        index: function (e) {
            return e ? "string" == typeof e ? i.call(S(e), this[0]) : i.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function (e, t) {
            return this.pushStack(S.uniqueSort(S.merge(this.get(), S(e, t))))
        },
        addBack: function (e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), S.each({
        parent: function (e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function (e) {
            return h(e, "parentNode")
        },
        parentsUntil: function (e, t, n) {
            return h(e, "parentNode", n)
        },
        next: function (e) {
            return O(e, "nextSibling")
        },
        prev: function (e) {
            return O(e, "previousSibling")
        },
        nextAll: function (e) {
            return h(e, "nextSibling")
        },
        prevAll: function (e) {
            return h(e, "previousSibling")
        },
        nextUntil: function (e, t, n) {
            return h(e, "nextSibling", n)
        },
        prevUntil: function (e, t, n) {
            return h(e, "previousSibling", n)
        },
        siblings: function (e) {
            return T((e.parentNode || {}).firstChild, e)
        },
        children: function (e) {
            return T(e.firstChild)
        },
        contents: function (e) {
            return null != e.contentDocument && r(e.contentDocument) ? e.contentDocument : (A(e, "template") && (e = e.content || e), S.merge([], e.childNodes))
        }
    }, function (r, i) {
        S.fn[r] = function (e, t) {
            var n = S.map(this, i, e);
            return "Until" !== r.slice(-5) && (t = e), t && "string" == typeof t && (n = S.filter(t, n)), 1 < this.length && (H[r] || S.uniqueSort(n), L.test(r) && n.reverse()), this.pushStack(n)
        }
    });
    var P = /[^\x20\t\r\n\f]+/g;

    function R(e) {
        return e
    }

    function M(e) {
        throw e
    }

    function I(e, t, n, r) {
        var i;
        try {
            e && m(i = e.promise) ? i.call(e).done(t).fail(n) : e && m(i = e.then) ? i.call(e, t, n) : t.apply(void 0, [e].slice(r))
        } catch (e) {
            n.apply(void 0, [e])
        }
    }
    S.Callbacks = function (r) {
        var e, n;
        r = "string" == typeof r ? (e = r, n = {}, S.each(e.match(P) || [], function (e, t) {
            n[t] = !0
        }), n) : S.extend({}, r);
        var i, t, o, a, s = [],
            u = [],
            l = -1,
            c = function () {
                for (a = a || r.once, o = i = !0; u.length; l = -1) {
                    t = u.shift();
                    while (++l < s.length) !1 === s[l].apply(t[0], t[1]) && r.stopOnFalse && (l = s.length, t = !1)
                }
                r.memory || (t = !1), i = !1, a && (s = t ? [] : "")
            },
            f = {
                add: function () {
                    return s && (t && !i && (l = s.length - 1, u.push(t)), function n(e) {
                        S.each(e, function (e, t) {
                            m(t) ? r.unique && f.has(t) || s.push(t) : t && t.length && "string" !== w(t) && n(t)
                        })
                    }(arguments), t && !i && c()), this
                },
                remove: function () {
                    return S.each(arguments, function (e, t) {
                        var n;
                        while (-1 < (n = S.inArray(t, s, n))) s.splice(n, 1), n <= l && l--
                    }), this
                },
                has: function (e) {
                    return e ? -1 < S.inArray(e, s) : 0 < s.length
                },
                empty: function () {
                    return s && (s = []), this
                },
                disable: function () {
                    return a = u = [], s = t = "", this
                },
                disabled: function () {
                    return !s
                },
                lock: function () {
                    return a = u = [], t || i || (s = t = ""), this
                },
                locked: function () {
                    return !!a
                },
                fireWith: function (e, t) {
                    return a || (t = [e, (t = t || []).slice ? t.slice() : t], u.push(t), i || c()), this
                },
                fire: function () {
                    return f.fireWith(this, arguments), this
                },
                fired: function () {
                    return !!o
                }
            };
        return f
    }, S.extend({
        Deferred: function (e) {
            var o = [
                    ["notify", "progress", S.Callbacks("memory"), S.Callbacks("memory"), 2],
                    ["resolve", "done", S.Callbacks("once memory"), S.Callbacks("once memory"), 0, "resolved"],
                    ["reject", "fail", S.Callbacks("once memory"), S.Callbacks("once memory"), 1, "rejected"]
                ],
                i = "pending",
                a = {
                    state: function () {
                        return i
                    },
                    always: function () {
                        return s.done(arguments).fail(arguments), this
                    },
                    "catch": function (e) {
                        return a.then(null, e)
                    },
                    pipe: function () {
                        var i = arguments;
                        return S.Deferred(function (r) {
                            S.each(o, function (e, t) {
                                var n = m(i[t[4]]) && i[t[4]];
                                s[t[1]](function () {
                                    var e = n && n.apply(this, arguments);
                                    e && m(e.promise) ? e.promise().progress(r.notify).done(r.resolve).fail(r.reject) : r[t[0] + "With"](this, n ? [e] : arguments)
                                })
                            }), i = null
                        }).promise()
                    },
                    then: function (t, n, r) {
                        var u = 0;

                        function l(i, o, a, s) {
                            return function () {
                                var n = this,
                                    r = arguments,
                                    e = function () {
                                        var e, t;
                                        if (!(i < u)) {
                                            if ((e = a.apply(n, r)) === o.promise()) throw new TypeError("Thenable self-resolution");
                                            t = e && ("object" == typeof e || "function" == typeof e) && e.then, m(t) ? s ? t.call(e, l(u, o, R, s), l(u, o, M, s)) : (u++, t.call(e, l(u, o, R, s), l(u, o, M, s), l(u, o, R, o.notifyWith))) : (a !== R && (n = void 0, r = [e]), (s || o.resolveWith)(n, r))
                                        }
                                    },
                                    t = s ? e : function () {
                                        try {
                                            e()
                                        } catch (e) {
                                            S.Deferred.exceptionHook && S.Deferred.exceptionHook(e, t.stackTrace), u <= i + 1 && (a !== M && (n = void 0, r = [e]), o.rejectWith(n, r))
                                        }
                                    };
                                i ? t() : (S.Deferred.getStackHook && (t.stackTrace = S.Deferred.getStackHook()), C.setTimeout(t))
                            }
                        }
                        return S.Deferred(function (e) {
                            o[0][3].add(l(0, e, m(r) ? r : R, e.notifyWith)), o[1][3].add(l(0, e, m(t) ? t : R)), o[2][3].add(l(0, e, m(n) ? n : M))
                        }).promise()
                    },
                    promise: function (e) {
                        return null != e ? S.extend(e, a) : a
                    }
                },
                s = {};
            return S.each(o, function (e, t) {
                var n = t[2],
                    r = t[5];
                a[t[1]] = n.add, r && n.add(function () {
                    i = r
                }, o[3 - e][2].disable, o[3 - e][3].disable, o[0][2].lock, o[0][3].lock), n.add(t[3].fire), s[t[0]] = function () {
                    return s[t[0] + "With"](this === s ? void 0 : this, arguments), this
                }, s[t[0] + "With"] = n.fireWith
            }), a.promise(s), e && e.call(s, s), s
        },
        when: function (e) {
            var n = arguments.length,
                t = n,
                r = Array(t),
                i = s.call(arguments),
                o = S.Deferred(),
                a = function (t) {
                    return function (e) {
                        r[t] = this, i[t] = 1 < arguments.length ? s.call(arguments) : e, --n || o.resolveWith(r, i)
                    }
                };
            if (n <= 1 && (I(e, o.done(a(t)).resolve, o.reject, !n), "pending" === o.state() || m(i[t] && i[t].then))) return o.then();
            while (t--) I(i[t], a(t), o.reject);
            return o.promise()
        }
    });
    var W = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    S.Deferred.exceptionHook = function (e, t) {
        C.console && C.console.warn && e && W.test(e.name) && C.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
    }, S.readyException = function (e) {
        C.setTimeout(function () {
            throw e
        })
    };
    var F = S.Deferred();

    function B() {
        E.removeEventListener("DOMContentLoaded", B), C.removeEventListener("load", B), S.ready()
    }
    S.fn.ready = function (e) {
        return F.then(e)["catch"](function (e) {
            S.readyException(e)
        }), this
    }, S.extend({
        isReady: !1,
        readyWait: 1,
        ready: function (e) {
            (!0 === e ? --S.readyWait : S.isReady) || (S.isReady = !0) !== e && 0 < --S.readyWait || F.resolveWith(E, [S])
        }
    }), S.ready.then = F.then, "complete" === E.readyState || "loading" !== E.readyState && !E.documentElement.doScroll ? C.setTimeout(S.ready) : (E.addEventListener("DOMContentLoaded", B), C.addEventListener("load", B));
    var $ = function (e, t, n, r, i, o, a) {
            var s = 0,
                u = e.length,
                l = null == n;
            if ("object" === w(n))
                for (s in i = !0, n) $(e, t, s, n[s], !0, o, a);
            else if (void 0 !== r && (i = !0, m(r) || (a = !0), l && (a ? (t.call(e, r), t = null) : (l = t, t = function (e, t, n) {
                    return l.call(S(e), n)
                })), t))
                for (; s < u; s++) t(e[s], n, a ? r : r.call(e[s], s, t(e[s], n)));
            return i ? e : l ? t.call(e) : u ? t(e[0], n) : o
        },
        _ = /^-ms-/,
        z = /-([a-z])/g;

    function U(e, t) {
        return t.toUpperCase()
    }

    function X(e) {
        return e.replace(_, "ms-").replace(z, U)
    }
    var V = function (e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    };

    function G() {
        this.expando = S.expando + G.uid++
    }
    G.uid = 1, G.prototype = {
        cache: function (e) {
            var t = e[this.expando];
            return t || (t = {}, V(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                value: t,
                configurable: !0
            }))), t
        },
        set: function (e, t, n) {
            var r, i = this.cache(e);
            if ("string" == typeof t) i[X(t)] = n;
            else
                for (r in t) i[X(r)] = t[r];
            return i
        },
        get: function (e, t) {
            return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][X(t)]
        },
        access: function (e, t, n) {
            return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n), void 0 !== n ? n : t)
        },
        remove: function (e, t) {
            var n, r = e[this.expando];
            if (void 0 !== r) {
                if (void 0 !== t) {
                    n = (t = Array.isArray(t) ? t.map(X) : (t = X(t)) in r ? [t] : t.match(P) || []).length;
                    while (n--) delete r[t[n]]
                }(void 0 === t || S.isEmptyObject(r)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
            }
        },
        hasData: function (e) {
            var t = e[this.expando];
            return void 0 !== t && !S.isEmptyObject(t)
        }
    };
    var Y = new G,
        Q = new G,
        J = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        K = /[A-Z]/g;

    function Z(e, t, n) {
        var r, i;
        if (void 0 === n && 1 === e.nodeType)
            if (r = "data-" + t.replace(K, "-$&").toLowerCase(), "string" == typeof (n = e.getAttribute(r))) {
                try {
                    n = "true" === (i = n) || "false" !== i && ("null" === i ? null : i === +i + "" ? +i : J.test(i) ? JSON.parse(i) : i)
                } catch (e) {}
                Q.set(e, t, n)
            } else n = void 0;
        return n
    }
    S.extend({
        hasData: function (e) {
            return Q.hasData(e) || Y.hasData(e)
        },
        data: function (e, t, n) {
            return Q.access(e, t, n)
        },
        removeData: function (e, t) {
            Q.remove(e, t)
        },
        _data: function (e, t, n) {
            return Y.access(e, t, n)
        },
        _removeData: function (e, t) {
            Y.remove(e, t)
        }
    }), S.fn.extend({
        data: function (n, e) {
            var t, r, i, o = this[0],
                a = o && o.attributes;
            if (void 0 === n) {
                if (this.length && (i = Q.get(o), 1 === o.nodeType && !Y.get(o, "hasDataAttrs"))) {
                    t = a.length;
                    while (t--) a[t] && 0 === (r = a[t].name).indexOf("data-") && (r = X(r.slice(5)), Z(o, r, i[r]));
                    Y.set(o, "hasDataAttrs", !0)
                }
                return i
            }
            return "object" == typeof n ? this.each(function () {
                Q.set(this, n)
            }) : $(this, function (e) {
                var t;
                if (o && void 0 === e) return void 0 !== (t = Q.get(o, n)) ? t : void 0 !== (t = Z(o, n)) ? t : void 0;
                this.each(function () {
                    Q.set(this, n, e)
                })
            }, null, e, 1 < arguments.length, null, !0)
        },
        removeData: function (e) {
            return this.each(function () {
                Q.remove(this, e)
            })
        }
    }), S.extend({
        queue: function (e, t, n) {
            var r;
            if (e) return t = (t || "fx") + "queue", r = Y.get(e, t), n && (!r || Array.isArray(n) ? r = Y.access(e, t, S.makeArray(n)) : r.push(n)), r || []
        },
        dequeue: function (e, t) {
            t = t || "fx";
            var n = S.queue(e, t),
                r = n.length,
                i = n.shift(),
                o = S._queueHooks(e, t);
            "inprogress" === i && (i = n.shift(), r--), i && ("fx" === t && n.unshift("inprogress"), delete o.stop, i.call(e, function () {
                S.dequeue(e, t)
            }, o)), !r && o && o.empty.fire()
        },
        _queueHooks: function (e, t) {
            var n = t + "queueHooks";
            return Y.get(e, n) || Y.access(e, n, {
                empty: S.Callbacks("once memory").add(function () {
                    Y.remove(e, [t + "queue", n])
                })
            })
        }
    }), S.fn.extend({
        queue: function (t, n) {
            var e = 2;
            return "string" != typeof t && (n = t, t = "fx", e--), arguments.length < e ? S.queue(this[0], t) : void 0 === n ? this : this.each(function () {
                var e = S.queue(this, t, n);
                S._queueHooks(this, t), "fx" === t && "inprogress" !== e[0] && S.dequeue(this, t)
            })
        },
        dequeue: function (e) {
            return this.each(function () {
                S.dequeue(this, e)
            })
        },
        clearQueue: function (e) {
            return this.queue(e || "fx", [])
        },
        promise: function (e, t) {
            var n, r = 1,
                i = S.Deferred(),
                o = this,
                a = this.length,
                s = function () {
                    --r || i.resolveWith(o, [o])
                };
            "string" != typeof e && (t = e, e = void 0), e = e || "fx";
            while (a--)(n = Y.get(o[a], e + "queueHooks")) && n.empty && (r++, n.empty.add(s));
            return s(), i.promise(t)
        }
    });
    var ee = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        te = new RegExp("^(?:([+-])=|)(" + ee + ")([a-z%]*)$", "i"),
        ne = ["Top", "Right", "Bottom", "Left"],
        re = E.documentElement,
        ie = function (e) {
            return S.contains(e.ownerDocument, e)
        },
        oe = {
            composed: !0
        };
    re.getRootNode && (ie = function (e) {
        return S.contains(e.ownerDocument, e) || e.getRootNode(oe) === e.ownerDocument
    });
    var ae = function (e, t) {
        return "none" === (e = t || e).style.display || "" === e.style.display && ie(e) && "none" === S.css(e, "display")
    };

    function se(e, t, n, r) {
        var i, o, a = 20,
            s = r ? function () {
                return r.cur()
            } : function () {
                return S.css(e, t, "")
            },
            u = s(),
            l = n && n[3] || (S.cssNumber[t] ? "" : "px"),
            c = e.nodeType && (S.cssNumber[t] || "px" !== l && +u) && te.exec(S.css(e, t));
        if (c && c[3] !== l) {
            u /= 2, l = l || c[3], c = +u || 1;
            while (a--) S.style(e, t, c + l), (1 - o) * (1 - (o = s() / u || .5)) <= 0 && (a = 0), c /= o;
            c *= 2, S.style(e, t, c + l), n = n || []
        }
        return n && (c = +c || +u || 0, i = n[1] ? c + (n[1] + 1) * n[2] : +n[2], r && (r.unit = l, r.start = c, r.end = i)), i
    }
    var ue = {};

    function le(e, t) {
        for (var n, r, i, o, a, s, u, l = [], c = 0, f = e.length; c < f; c++)(r = e[c]).style && (n = r.style.display, t ? ("none" === n && (l[c] = Y.get(r, "display") || null, l[c] || (r.style.display = "")), "" === r.style.display && ae(r) && (l[c] = (u = a = o = void 0, a = (i = r).ownerDocument, s = i.nodeName, (u = ue[s]) || (o = a.body.appendChild(a.createElement(s)), u = S.css(o, "display"), o.parentNode.removeChild(o), "none" === u && (u = "block"), ue[s] = u)))) : "none" !== n && (l[c] = "none", Y.set(r, "display", n)));
        for (c = 0; c < f; c++) null != l[c] && (e[c].style.display = l[c]);
        return e
    }
    S.fn.extend({
        show: function () {
            return le(this, !0)
        },
        hide: function () {
            return le(this)
        },
        toggle: function (e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function () {
                ae(this) ? S(this).show() : S(this).hide()
            })
        }
    });
    var ce, fe, pe = /^(?:checkbox|radio)$/i,
        de = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
        he = /^$|^module$|\/(?:java|ecma)script/i;
    ce = E.createDocumentFragment().appendChild(E.createElement("div")), (fe = E.createElement("input")).setAttribute("type", "radio"), fe.setAttribute("checked", "checked"), fe.setAttribute("name", "t"), ce.appendChild(fe), y.checkClone = ce.cloneNode(!0).cloneNode(!0).lastChild.checked, ce.innerHTML = "<textarea>x</textarea>", y.noCloneChecked = !!ce.cloneNode(!0).lastChild.defaultValue, ce.innerHTML = "<option></option>", y.option = !!ce.lastChild;
    var ge = {
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };

    function ve(e, t) {
        var n;
        return n = "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(t || "*") : "undefined" != typeof e.querySelectorAll ? e.querySelectorAll(t || "*") : [], void 0 === t || t && A(e, t) ? S.merge([e], n) : n
    }

    function ye(e, t) {
        for (var n = 0, r = e.length; n < r; n++) Y.set(e[n], "globalEval", !t || Y.get(t[n], "globalEval"))
    }
    ge.tbody = ge.tfoot = ge.colgroup = ge.caption = ge.thead, ge.th = ge.td, y.option || (ge.optgroup = ge.option = [1, "<select multiple='multiple'>", "</select>"]);
    var me = /<|&#?\w+;/;

    function xe(e, t, n, r, i) {
        for (var o, a, s, u, l, c, f = t.createDocumentFragment(), p = [], d = 0, h = e.length; d < h; d++)
            if ((o = e[d]) || 0 === o)
                if ("object" === w(o)) S.merge(p, o.nodeType ? [o] : o);
                else if (me.test(o)) {
            a = a || f.appendChild(t.createElement("div")), s = (de.exec(o) || ["", ""])[1].toLowerCase(), u = ge[s] || ge._default, a.innerHTML = u[1] + S.htmlPrefilter(o) + u[2], c = u[0];
            while (c--) a = a.lastChild;
            S.merge(p, a.childNodes), (a = f.firstChild).textContent = ""
        } else p.push(t.createTextNode(o));
        f.textContent = "", d = 0;
        while (o = p[d++])
            if (r && -1 < S.inArray(o, r)) i && i.push(o);
            else if (l = ie(o), a = ve(f.appendChild(o), "script"), l && ye(a), n) {
            c = 0;
            while (o = a[c++]) he.test(o.type || "") && n.push(o)
        }
        return f
    }
    var be = /^key/,
        we = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        Te = /^([^.]*)(?:\.(.+)|)/;

    function Ce() {
        return !0
    }

    function Ee() {
        return !1
    }

    function Se(e, t) {
        return e === function () {
            try {
                return E.activeElement
            } catch (e) {}
        }() == ("focus" === t)
    }

    function ke(e, t, n, r, i, o) {
        var a, s;
        if ("object" == typeof t) {
            for (s in "string" != typeof n && (r = r || n, n = void 0), t) ke(e, s, n, r, t[s], o);
            return e
        }
        if (null == r && null == i ? (i = n, r = n = void 0) : null == i && ("string" == typeof n ? (i = r, r = void 0) : (i = r, r = n, n = void 0)), !1 === i) i = Ee;
        else if (!i) return e;
        return 1 === o && (a = i, (i = function (e) {
            return S().off(e), a.apply(this, arguments)
        }).guid = a.guid || (a.guid = S.guid++)), e.each(function () {
            S.event.add(this, t, i, r, n)
        })
    }

    function Ae(e, i, o) {
        o ? (Y.set(e, i, !1), S.event.add(e, i, {
            namespace: !1,
            handler: function (e) {
                var t, n, r = Y.get(this, i);
                if (1 & e.isTrigger && this[i]) {
                    if (r.length)(S.event.special[i] || {}).delegateType && e.stopPropagation();
                    else if (r = s.call(arguments), Y.set(this, i, r), t = o(this, i), this[i](), r !== (n = Y.get(this, i)) || t ? Y.set(this, i, !1) : n = {}, r !== n) return e.stopImmediatePropagation(), e.preventDefault(), n.value
                } else r.length && (Y.set(this, i, {
                    value: S.event.trigger(S.extend(r[0], S.Event.prototype), r.slice(1), this)
                }), e.stopImmediatePropagation())
            }
        })) : void 0 === Y.get(e, i) && S.event.add(e, i, Ce)
    }
    S.event = {
        global: {},
        add: function (t, e, n, r, i) {
            var o, a, s, u, l, c, f, p, d, h, g, v = Y.get(t);
            if (V(t)) {
                n.handler && (n = (o = n).handler, i = o.selector), i && S.find.matchesSelector(re, i), n.guid || (n.guid = S.guid++), (u = v.events) || (u = v.events = Object.create(null)), (a = v.handle) || (a = v.handle = function (e) {
                    return "undefined" != typeof S && S.event.triggered !== e.type ? S.event.dispatch.apply(t, arguments) : void 0
                }), l = (e = (e || "").match(P) || [""]).length;
                while (l--) d = g = (s = Te.exec(e[l]) || [])[1], h = (s[2] || "").split(".").sort(), d && (f = S.event.special[d] || {}, d = (i ? f.delegateType : f.bindType) || d, f = S.event.special[d] || {}, c = S.extend({
                    type: d,
                    origType: g,
                    data: r,
                    handler: n,
                    guid: n.guid,
                    selector: i,
                    needsContext: i && S.expr.match.needsContext.test(i),
                    namespace: h.join(".")
                }, o), (p = u[d]) || ((p = u[d] = []).delegateCount = 0, f.setup && !1 !== f.setup.call(t, r, h, a) || t.addEventListener && t.addEventListener(d, a)), f.add && (f.add.call(t, c), c.handler.guid || (c.handler.guid = n.guid)), i ? p.splice(p.delegateCount++, 0, c) : p.push(c), S.event.global[d] = !0)
            }
        },
        remove: function (e, t, n, r, i) {
            var o, a, s, u, l, c, f, p, d, h, g, v = Y.hasData(e) && Y.get(e);
            if (v && (u = v.events)) {
                l = (t = (t || "").match(P) || [""]).length;
                while (l--)
                    if (d = g = (s = Te.exec(t[l]) || [])[1], h = (s[2] || "").split(".").sort(), d) {
                        f = S.event.special[d] || {}, p = u[d = (r ? f.delegateType : f.bindType) || d] || [], s = s[2] && new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = o = p.length;
                        while (o--) c = p[o], !i && g !== c.origType || n && n.guid !== c.guid || s && !s.test(c.namespace) || r && r !== c.selector && ("**" !== r || !c.selector) || (p.splice(o, 1), c.selector && p.delegateCount--, f.remove && f.remove.call(e, c));
                        a && !p.length && (f.teardown && !1 !== f.teardown.call(e, h, v.handle) || S.removeEvent(e, d, v.handle), delete u[d])
                    } else
                        for (d in u) S.event.remove(e, d + t[l], n, r, !0);
                S.isEmptyObject(u) && Y.remove(e, "handle events")
            }
        },
        dispatch: function (e) {
            var t, n, r, i, o, a, s = new Array(arguments.length),
                u = S.event.fix(e),
                l = (Y.get(this, "events") || Object.create(null))[u.type] || [],
                c = S.event.special[u.type] || {};
            for (s[0] = u, t = 1; t < arguments.length; t++) s[t] = arguments[t];
            if (u.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, u)) {
                a = S.event.handlers.call(this, u, l), t = 0;
                while ((i = a[t++]) && !u.isPropagationStopped()) {
                    u.currentTarget = i.elem, n = 0;
                    while ((o = i.handlers[n++]) && !u.isImmediatePropagationStopped()) u.rnamespace && !1 !== o.namespace && !u.rnamespace.test(o.namespace) || (u.handleObj = o, u.data = o.data, void 0 !== (r = ((S.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, s)) && !1 === (u.result = r) && (u.preventDefault(), u.stopPropagation()))
                }
                return c.postDispatch && c.postDispatch.call(this, u), u.result
            }
        },
        handlers: function (e, t) {
            var n, r, i, o, a, s = [],
                u = t.delegateCount,
                l = e.target;
            if (u && l.nodeType && !("click" === e.type && 1 <= e.button))
                for (; l !== this; l = l.parentNode || this)
                    if (1 === l.nodeType && ("click" !== e.type || !0 !== l.disabled)) {
                        for (o = [], a = {}, n = 0; n < u; n++) void 0 === a[i = (r = t[n]).selector + " "] && (a[i] = r.needsContext ? -1 < S(i, this).index(l) : S.find(i, this, null, [l]).length), a[i] && o.push(r);
                        o.length && s.push({
                            elem: l,
                            handlers: o
                        })
                    } return l = this, u < t.length && s.push({
                elem: l,
                handlers: t.slice(u)
            }), s
        },
        addProp: function (t, e) {
            Object.defineProperty(S.Event.prototype, t, {
                enumerable: !0,
                configurable: !0,
                get: m(e) ? function () {
                    if (this.originalEvent) return e(this.originalEvent)
                } : function () {
                    if (this.originalEvent) return this.originalEvent[t]
                },
                set: function (e) {
                    Object.defineProperty(this, t, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: e
                    })
                }
            })
        },
        fix: function (e) {
            return e[S.expando] ? e : new S.Event(e)
        },
        special: {
            load: {
                noBubble: !0
            },
            click: {
                setup: function (e) {
                    var t = this || e;
                    return pe.test(t.type) && t.click && A(t, "input") && Ae(t, "click", Ce), !1
                },
                trigger: function (e) {
                    var t = this || e;
                    return pe.test(t.type) && t.click && A(t, "input") && Ae(t, "click"), !0
                },
                _default: function (e) {
                    var t = e.target;
                    return pe.test(t.type) && t.click && A(t, "input") && Y.get(t, "click") || A(t, "a")
                }
            },
            beforeunload: {
                postDispatch: function (e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        }
    }, S.removeEvent = function (e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n)
    }, S.Event = function (e, t) {
        if (!(this instanceof S.Event)) return new S.Event(e, t);
        e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? Ce : Ee, this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target, this.currentTarget = e.currentTarget, this.relatedTarget = e.relatedTarget) : this.type = e, t && S.extend(this, t), this.timeStamp = e && e.timeStamp || Date.now(), this[S.expando] = !0
    }, S.Event.prototype = {
        constructor: S.Event,
        isDefaultPrevented: Ee,
        isPropagationStopped: Ee,
        isImmediatePropagationStopped: Ee,
        isSimulated: !1,
        preventDefault: function () {
            var e = this.originalEvent;
            this.isDefaultPrevented = Ce, e && !this.isSimulated && e.preventDefault()
        },
        stopPropagation: function () {
            var e = this.originalEvent;
            this.isPropagationStopped = Ce, e && !this.isSimulated && e.stopPropagation()
        },
        stopImmediatePropagation: function () {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = Ce, e && !this.isSimulated && e.stopImmediatePropagation(), this.stopPropagation()
        }
    }, S.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        "char": !0,
        code: !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: function (e) {
            var t = e.button;
            return null == e.which && be.test(e.type) ? null != e.charCode ? e.charCode : e.keyCode : !e.which && void 0 !== t && we.test(e.type) ? 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0 : e.which
        }
    }, S.event.addProp), S.each({
        focus: "focusin",
        blur: "focusout"
    }, function (e, t) {
        S.event.special[e] = {
            setup: function () {
                return Ae(this, e, Se), !1
            },
            trigger: function () {
                return Ae(this, e), !0
            },
            delegateType: t
        }
    }), S.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function (e, i) {
        S.event.special[e] = {
            delegateType: i,
            bindType: i,
            handle: function (e) {
                var t, n = e.relatedTarget,
                    r = e.handleObj;
                return n && (n === this || S.contains(this, n)) || (e.type = r.origType, t = r.handler.apply(this, arguments), e.type = i), t
            }
        }
    }), S.fn.extend({
        on: function (e, t, n, r) {
            return ke(this, e, t, n, r)
        },
        one: function (e, t, n, r) {
            return ke(this, e, t, n, r, 1)
        },
        off: function (e, t, n) {
            var r, i;
            if (e && e.preventDefault && e.handleObj) return r = e.handleObj, S(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
            if ("object" == typeof e) {
                for (i in e) this.off(i, t, e[i]);
                return this
            }
            return !1 !== t && "function" != typeof t || (n = t, t = void 0), !1 === n && (n = Ee), this.each(function () {
                S.event.remove(this, e, n, t)
            })
        }
    });
    var Ne = /<script|<style|<link/i,
        De = /checked\s*(?:[^=]|=\s*.checked.)/i,
        je = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

    function qe(e, t) {
        return A(e, "table") && A(11 !== t.nodeType ? t : t.firstChild, "tr") && S(e).children("tbody")[0] || e
    }

    function Le(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
    }

    function He(e) {
        return "true/" === (e.type || "").slice(0, 5) ? e.type = e.type.slice(5) : e.removeAttribute("type"), e
    }

    function Oe(e, t) {
        var n, r, i, o, a, s;
        if (1 === t.nodeType) {
            if (Y.hasData(e) && (s = Y.get(e).events))
                for (i in Y.remove(t, "handle events"), s)
                    for (n = 0, r = s[i].length; n < r; n++) S.event.add(t, i, s[i][n]);
            Q.hasData(e) && (o = Q.access(e), a = S.extend({}, o), Q.set(t, a))
        }
    }

    function Pe(n, r, i, o) {
        r = g(r);
        var e, t, a, s, u, l, c = 0,
            f = n.length,
            p = f - 1,
            d = r[0],
            h = m(d);
        if (h || 1 < f && "string" == typeof d && !y.checkClone && De.test(d)) return n.each(function (e) {
            var t = n.eq(e);
            h && (r[0] = d.call(this, e, t.html())), Pe(t, r, i, o)
        });
        if (f && (t = (e = xe(r, n[0].ownerDocument, !1, n, o)).firstChild, 1 === e.childNodes.length && (e = t), t || o)) {
            for (s = (a = S.map(ve(e, "script"), Le)).length; c < f; c++) u = e, c !== p && (u = S.clone(u, !0, !0), s && S.merge(a, ve(u, "script"))), i.call(n[c], u, c);
            if (s)
                for (l = a[a.length - 1].ownerDocument, S.map(a, He), c = 0; c < s; c++) u = a[c], he.test(u.type || "") && !Y.access(u, "globalEval") && S.contains(l, u) && (u.src && "module" !== (u.type || "").toLowerCase() ? S._evalUrl && !u.noModule && S._evalUrl(u.src, {
                    nonce: u.nonce || u.getAttribute("nonce")
                }, l) : b(u.textContent.replace(je, ""), u, l))
        }
        return n
    }

    function Re(e, t, n) {
        for (var r, i = t ? S.filter(t, e) : e, o = 0; null != (r = i[o]); o++) n || 1 !== r.nodeType || S.cleanData(ve(r)), r.parentNode && (n && ie(r) && ye(ve(r, "script")), r.parentNode.removeChild(r));
        return e
    }
    S.extend({
        htmlPrefilter: function (e) {
            return e
        },
        clone: function (e, t, n) {
            var r, i, o, a, s, u, l, c = e.cloneNode(!0),
                f = ie(e);
            if (!(y.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || S.isXMLDoc(e)))
                for (a = ve(c), r = 0, i = (o = ve(e)).length; r < i; r++) s = o[r], u = a[r], void 0, "input" === (l = u.nodeName.toLowerCase()) && pe.test(s.type) ? u.checked = s.checked : "input" !== l && "textarea" !== l || (u.defaultValue = s.defaultValue);
            if (t)
                if (n)
                    for (o = o || ve(e), a = a || ve(c), r = 0, i = o.length; r < i; r++) Oe(o[r], a[r]);
                else Oe(e, c);
            return 0 < (a = ve(c, "script")).length && ye(a, !f && ve(e, "script")), c
        },
        cleanData: function (e) {
            for (var t, n, r, i = S.event.special, o = 0; void 0 !== (n = e[o]); o++)
                if (V(n)) {
                    if (t = n[Y.expando]) {
                        if (t.events)
                            for (r in t.events) i[r] ? S.event.remove(n, r) : S.removeEvent(n, r, t.handle);
                        n[Y.expando] = void 0
                    }
                    n[Q.expando] && (n[Q.expando] = void 0)
                }
        }
    }), S.fn.extend({
        detach: function (e) {
            return Re(this, e, !0)
        },
        remove: function (e) {
            return Re(this, e)
        },
        text: function (e) {
            return $(this, function (e) {
                return void 0 === e ? S.text(this) : this.empty().each(function () {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                })
            }, null, e, arguments.length)
        },
        append: function () {
            return Pe(this, arguments, function (e) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || qe(this, e).appendChild(e)
            })
        },
        prepend: function () {
            return Pe(this, arguments, function (e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = qe(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function () {
            return Pe(this, arguments, function (e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function () {
            return Pe(this, arguments, function (e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        empty: function () {
            for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (S.cleanData(ve(e, !1)), e.textContent = "");
            return this
        },
        clone: function (e, t) {
            return e = null != e && e, t = null == t ? e : t, this.map(function () {
                return S.clone(this, e, t)
            })
        },
        html: function (e) {
            return $(this, function (e) {
                var t = this[0] || {},
                    n = 0,
                    r = this.length;
                if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                if ("string" == typeof e && !Ne.test(e) && !ge[(de.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = S.htmlPrefilter(e);
                    try {
                        for (; n < r; n++) 1 === (t = this[n] || {}).nodeType && (S.cleanData(ve(t, !1)), t.innerHTML = e);
                        t = 0
                    } catch (e) {}
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function () {
            var n = [];
            return Pe(this, arguments, function (e) {
                var t = this.parentNode;
                S.inArray(this, n) < 0 && (S.cleanData(ve(this)), t && t.replaceChild(e, this))
            }, n)
        }
    }), S.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (e, a) {
        S.fn[e] = function (e) {
            for (var t, n = [], r = S(e), i = r.length - 1, o = 0; o <= i; o++) t = o === i ? this : this.clone(!0), S(r[o])[a](t), u.apply(n, t.get());
            return this.pushStack(n)
        }
    });
    var Me = new RegExp("^(" + ee + ")(?!px)[a-z%]+$", "i"),
        Ie = function (e) {
            var t = e.ownerDocument.defaultView;
            return t && t.opener || (t = C), t.getComputedStyle(e)
        },
        We = function (e, t, n) {
            var r, i, o = {};
            for (i in t) o[i] = e.style[i], e.style[i] = t[i];
            for (i in r = n.call(e), t) e.style[i] = o[i];
            return r
        },
        Fe = new RegExp(ne.join("|"), "i");

    function Be(e, t, n) {
        var r, i, o, a, s = e.style;
        return (n = n || Ie(e)) && ("" !== (a = n.getPropertyValue(t) || n[t]) || ie(e) || (a = S.style(e, t)), !y.pixelBoxStyles() && Me.test(a) && Fe.test(t) && (r = s.width, i = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = n.width, s.width = r, s.minWidth = i, s.maxWidth = o)), void 0 !== a ? a + "" : a
    }

    function $e(e, t) {
        return {
            get: function () {
                if (!e()) return (this.get = t).apply(this, arguments);
                delete this.get
            }
        }
    }! function () {
        function e() {
            if (l) {
                u.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", l.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", re.appendChild(u).appendChild(l);
                var e = C.getComputedStyle(l);
                n = "1%" !== e.top, s = 12 === t(e.marginLeft), l.style.right = "60%", o = 36 === t(e.right), r = 36 === t(e.width), l.style.position = "absolute", i = 12 === t(l.offsetWidth / 3), re.removeChild(u), l = null
            }
        }

        function t(e) {
            return Math.round(parseFloat(e))
        }
        var n, r, i, o, a, s, u = E.createElement("div"),
            l = E.createElement("div");
        l.style && (l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", y.clearCloneStyle = "content-box" === l.style.backgroundClip, S.extend(y, {
            boxSizingReliable: function () {
                return e(), r
            },
            pixelBoxStyles: function () {
                return e(), o
            },
            pixelPosition: function () {
                return e(), n
            },
            reliableMarginLeft: function () {
                return e(), s
            },
            scrollboxSize: function () {
                return e(), i
            },
            reliableTrDimensions: function () {
                var e, t, n, r;
                return null == a && (e = E.createElement("table"), t = E.createElement("tr"), n = E.createElement("div"), e.style.cssText = "position:absolute;left:-11111px", t.style.height = "1px", n.style.height = "9px", re.appendChild(e).appendChild(t).appendChild(n), r = C.getComputedStyle(t), a = 3 < parseInt(r.height), re.removeChild(e)), a
            }
        }))
    }();
    var _e = ["Webkit", "Moz", "ms"],
        ze = E.createElement("div").style,
        Ue = {};

    function Xe(e) {
        var t = S.cssProps[e] || Ue[e];
        return t || (e in ze ? e : Ue[e] = function (e) {
            var t = e[0].toUpperCase() + e.slice(1),
                n = _e.length;
            while (n--)
                if ((e = _e[n] + t) in ze) return e
        }(e) || e)
    }
    var Ve = /^(none|table(?!-c[ea]).+)/,
        Ge = /^--/,
        Ye = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Qe = {
            letterSpacing: "0",
            fontWeight: "400"
        };

    function Je(e, t, n) {
        var r = te.exec(t);
        return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t
    }

    function Ke(e, t, n, r, i, o) {
        var a = "width" === t ? 1 : 0,
            s = 0,
            u = 0;
        if (n === (r ? "border" : "content")) return 0;
        for (; a < 4; a += 2) "margin" === n && (u += S.css(e, n + ne[a], !0, i)), r ? ("content" === n && (u -= S.css(e, "padding" + ne[a], !0, i)), "margin" !== n && (u -= S.css(e, "border" + ne[a] + "Width", !0, i))) : (u += S.css(e, "padding" + ne[a], !0, i), "padding" !== n ? u += S.css(e, "border" + ne[a] + "Width", !0, i) : s += S.css(e, "border" + ne[a] + "Width", !0, i));
        return !r && 0 <= o && (u += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - o - u - s - .5)) || 0), u
    }

    function Ze(e, t, n) {
        var r = Ie(e),
            i = (!y.boxSizingReliable() || n) && "border-box" === S.css(e, "boxSizing", !1, r),
            o = i,
            a = Be(e, t, r),
            s = "offset" + t[0].toUpperCase() + t.slice(1);
        if (Me.test(a)) {
            if (!n) return a;
            a = "auto"
        }
        return (!y.boxSizingReliable() && i || !y.reliableTrDimensions() && A(e, "tr") || "auto" === a || !parseFloat(a) && "inline" === S.css(e, "display", !1, r)) && e.getClientRects().length && (i = "border-box" === S.css(e, "boxSizing", !1, r), (o = s in e) && (a = e[s])), (a = parseFloat(a) || 0) + Ke(e, t, n || (i ? "border" : "content"), o, r, a) + "px"
    }

    function et(e, t, n, r, i) {
        return new et.prototype.init(e, t, n, r, i)
    }
    S.extend({
        cssHooks: {
            opacity: {
                get: function (e, t) {
                    if (t) {
                        var n = Be(e, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            gridArea: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnStart: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowStart: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {},
        style: function (e, t, n, r) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var i, o, a, s = X(t),
                    u = Ge.test(t),
                    l = e.style;
                if (u || (t = Xe(s)), a = S.cssHooks[t] || S.cssHooks[s], void 0 === n) return a && "get" in a && void 0 !== (i = a.get(e, !1, r)) ? i : l[t];
                "string" === (o = typeof n) && (i = te.exec(n)) && i[1] && (n = se(e, t, i), o = "number"), null != n && n == n && ("number" !== o || u || (n += i && i[3] || (S.cssNumber[s] ? "" : "px")), y.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (l[t] = "inherit"), a && "set" in a && void 0 === (n = a.set(e, n, r)) || (u ? l.setProperty(t, n) : l[t] = n))
            }
        },
        css: function (e, t, n, r) {
            var i, o, a, s = X(t);
            return Ge.test(t) || (t = Xe(s)), (a = S.cssHooks[t] || S.cssHooks[s]) && "get" in a && (i = a.get(e, !0, n)), void 0 === i && (i = Be(e, t, r)), "normal" === i && t in Qe && (i = Qe[t]), "" === n || n ? (o = parseFloat(i), !0 === n || isFinite(o) ? o || 0 : i) : i
        }
    }), S.each(["height", "width"], function (e, u) {
        S.cssHooks[u] = {
            get: function (e, t, n) {
                if (t) return !Ve.test(S.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? Ze(e, u, n) : We(e, Ye, function () {
                    return Ze(e, u, n)
                })
            },
            set: function (e, t, n) {
                var r, i = Ie(e),
                    o = !y.scrollboxSize() && "absolute" === i.position,
                    a = (o || n) && "border-box" === S.css(e, "boxSizing", !1, i),
                    s = n ? Ke(e, u, n, a, i) : 0;
                return a && o && (s -= Math.ceil(e["offset" + u[0].toUpperCase() + u.slice(1)] - parseFloat(i[u]) - Ke(e, u, "border", !1, i) - .5)), s && (r = te.exec(t)) && "px" !== (r[3] || "px") && (e.style[u] = t, t = S.css(e, u)), Je(0, t, s)
            }
        }
    }), S.cssHooks.marginLeft = $e(y.reliableMarginLeft, function (e, t) {
        if (t) return (parseFloat(Be(e, "marginLeft")) || e.getBoundingClientRect().left - We(e, {
            marginLeft: 0
        }, function () {
            return e.getBoundingClientRect().left
        })) + "px"
    }), S.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (i, o) {
        S.cssHooks[i + o] = {
            expand: function (e) {
                for (var t = 0, n = {}, r = "string" == typeof e ? e.split(" ") : [e]; t < 4; t++) n[i + ne[t] + o] = r[t] || r[t - 2] || r[0];
                return n
            }
        }, "margin" !== i && (S.cssHooks[i + o].set = Je)
    }), S.fn.extend({
        css: function (e, t) {
            return $(this, function (e, t, n) {
                var r, i, o = {},
                    a = 0;
                if (Array.isArray(t)) {
                    for (r = Ie(e), i = t.length; a < i; a++) o[t[a]] = S.css(e, t[a], !1, r);
                    return o
                }
                return void 0 !== n ? S.style(e, t, n) : S.css(e, t)
            }, e, t, 1 < arguments.length)
        }
    }), ((S.Tween = et).prototype = {
        constructor: et,
        init: function (e, t, n, r, i, o) {
            this.elem = e, this.prop = n, this.easing = i || S.easing._default, this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = o || (S.cssNumber[n] ? "" : "px")
        },
        cur: function () {
            var e = et.propHooks[this.prop];
            return e && e.get ? e.get(this) : et.propHooks._default.get(this)
        },
        run: function (e) {
            var t, n = et.propHooks[this.prop];
            return this.options.duration ? this.pos = t = S.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : et.propHooks._default.set(this), this
        }
    }).init.prototype = et.prototype, (et.propHooks = {
        _default: {
            get: function (e) {
                var t;
                return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = S.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
            },
            set: function (e) {
                S.fx.step[e.prop] ? S.fx.step[e.prop](e) : 1 !== e.elem.nodeType || !S.cssHooks[e.prop] && null == e.elem.style[Xe(e.prop)] ? e.elem[e.prop] = e.now : S.style(e.elem, e.prop, e.now + e.unit)
            }
        }
    }).scrollTop = et.propHooks.scrollLeft = {
        set: function (e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, S.easing = {
        linear: function (e) {
            return e
        },
        swing: function (e) {
            return .5 - Math.cos(e * Math.PI) / 2
        },
        _default: "swing"
    }, S.fx = et.prototype.init, S.fx.step = {};
    var tt, nt, rt, it, ot = /^(?:toggle|show|hide)$/,
        at = /queueHooks$/;

    function st() {
        nt && (!1 === E.hidden && C.requestAnimationFrame ? C.requestAnimationFrame(st) : C.setTimeout(st, S.fx.interval), S.fx.tick())
    }

    function ut() {
        return C.setTimeout(function () {
            tt = void 0
        }), tt = Date.now()
    }

    function lt(e, t) {
        var n, r = 0,
            i = {
                height: e
            };
        for (t = t ? 1 : 0; r < 4; r += 2 - t) i["margin" + (n = ne[r])] = i["padding" + n] = e;
        return t && (i.opacity = i.width = e), i
    }

    function ct(e, t, n) {
        for (var r, i = (ft.tweeners[t] || []).concat(ft.tweeners["*"]), o = 0, a = i.length; o < a; o++)
            if (r = i[o].call(n, t, e)) return r
    }

    function ft(o, e, t) {
        var n, a, r = 0,
            i = ft.prefilters.length,
            s = S.Deferred().always(function () {
                delete u.elem
            }),
            u = function () {
                if (a) return !1;
                for (var e = tt || ut(), t = Math.max(0, l.startTime + l.duration - e), n = 1 - (t / l.duration || 0), r = 0, i = l.tweens.length; r < i; r++) l.tweens[r].run(n);
                return s.notifyWith(o, [l, n, t]), n < 1 && i ? t : (i || s.notifyWith(o, [l, 1, 0]), s.resolveWith(o, [l]), !1)
            },
            l = s.promise({
                elem: o,
                props: S.extend({}, e),
                opts: S.extend(!0, {
                    specialEasing: {},
                    easing: S.easing._default
                }, t),
                originalProperties: e,
                originalOptions: t,
                startTime: tt || ut(),
                duration: t.duration,
                tweens: [],
                createTween: function (e, t) {
                    var n = S.Tween(o, l.opts, e, t, l.opts.specialEasing[e] || l.opts.easing);
                    return l.tweens.push(n), n
                },
                stop: function (e) {
                    var t = 0,
                        n = e ? l.tweens.length : 0;
                    if (a) return this;
                    for (a = !0; t < n; t++) l.tweens[t].run(1);
                    return e ? (s.notifyWith(o, [l, 1, 0]), s.resolveWith(o, [l, e])) : s.rejectWith(o, [l, e]), this
                }
            }),
            c = l.props;
        for (! function (e, t) {
                var n, r, i, o, a;
                for (n in e)
                    if (i = t[r = X(n)], o = e[n], Array.isArray(o) && (i = o[1], o = e[n] = o[0]), n !== r && (e[r] = o, delete e[n]), (a = S.cssHooks[r]) && "expand" in a)
                        for (n in o = a.expand(o), delete e[r], o) n in e || (e[n] = o[n], t[n] = i);
                    else t[r] = i
            }(c, l.opts.specialEasing); r < i; r++)
            if (n = ft.prefilters[r].call(l, o, c, l.opts)) return m(n.stop) && (S._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)), n;
        return S.map(c, ct, l), m(l.opts.start) && l.opts.start.call(o, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), S.fx.timer(S.extend(u, {
            elem: o,
            anim: l,
            queue: l.opts.queue
        })), l
    }
    S.Animation = S.extend(ft, {
        tweeners: {
            "*": [function (e, t) {
                var n = this.createTween(e, t);
                return se(n.elem, e, te.exec(t), n), n
            }]
        },
        tweener: function (e, t) {
            m(e) ? (t = e, e = ["*"]) : e = e.match(P);
            for (var n, r = 0, i = e.length; r < i; r++) n = e[r], ft.tweeners[n] = ft.tweeners[n] || [], ft.tweeners[n].unshift(t)
        },
        prefilters: [function (e, t, n) {
            var r, i, o, a, s, u, l, c, f = "width" in t || "height" in t,
                p = this,
                d = {},
                h = e.style,
                g = e.nodeType && ae(e),
                v = Y.get(e, "fxshow");
            for (r in n.queue || (null == (a = S._queueHooks(e, "fx")).unqueued && (a.unqueued = 0, s = a.empty.fire, a.empty.fire = function () {
                    a.unqueued || s()
                }), a.unqueued++, p.always(function () {
                    p.always(function () {
                        a.unqueued--, S.queue(e, "fx").length || a.empty.fire()
                    })
                })), t)
                if (i = t[r], ot.test(i)) {
                    if (delete t[r], o = o || "toggle" === i, i === (g ? "hide" : "show")) {
                        if ("show" !== i || !v || void 0 === v[r]) continue;
                        g = !0
                    }
                    d[r] = v && v[r] || S.style(e, r)
                } if ((u = !S.isEmptyObject(t)) || !S.isEmptyObject(d))
                for (r in f && 1 === e.nodeType && (n.overflow = [h.overflow, h.overflowX, h.overflowY], null == (l = v && v.display) && (l = Y.get(e, "display")), "none" === (c = S.css(e, "display")) && (l ? c = l : (le([e], !0), l = e.style.display || l, c = S.css(e, "display"), le([e]))), ("inline" === c || "inline-block" === c && null != l) && "none" === S.css(e, "float") && (u || (p.done(function () {
                        h.display = l
                    }), null == l && (c = h.display, l = "none" === c ? "" : c)), h.display = "inline-block")), n.overflow && (h.overflow = "hidden", p.always(function () {
                        h.overflow = n.overflow[0], h.overflowX = n.overflow[1], h.overflowY = n.overflow[2]
                    })), u = !1, d) u || (v ? "hidden" in v && (g = v.hidden) : v = Y.access(e, "fxshow", {
                    display: l
                }), o && (v.hidden = !g), g && le([e], !0), p.done(function () {
                    for (r in g || le([e]), Y.remove(e, "fxshow"), d) S.style(e, r, d[r])
                })), u = ct(g ? v[r] : 0, r, p), r in v || (v[r] = u.start, g && (u.end = u.start, u.start = 0))
        }],
        prefilter: function (e, t) {
            t ? ft.prefilters.unshift(e) : ft.prefilters.push(e)
        }
    }), S.speed = function (e, t, n) {
        var r = e && "object" == typeof e ? S.extend({}, e) : {
            complete: n || !n && t || m(e) && e,
            duration: e,
            easing: n && t || t && !m(t) && t
        };
        return S.fx.off ? r.duration = 0 : "number" != typeof r.duration && (r.duration in S.fx.speeds ? r.duration = S.fx.speeds[r.duration] : r.duration = S.fx.speeds._default), null != r.queue && !0 !== r.queue || (r.queue = "fx"), r.old = r.complete, r.complete = function () {
            m(r.old) && r.old.call(this), r.queue && S.dequeue(this, r.queue)
        }, r
    }, S.fn.extend({
        fadeTo: function (e, t, n, r) {
            return this.filter(ae).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, n, r)
        },
        animate: function (t, e, n, r) {
            var i = S.isEmptyObject(t),
                o = S.speed(e, n, r),
                a = function () {
                    var e = ft(this, S.extend({}, t), o);
                    (i || Y.get(this, "finish")) && e.stop(!0)
                };
            return a.finish = a, i || !1 === o.queue ? this.each(a) : this.queue(o.queue, a)
        },
        stop: function (i, e, o) {
            var a = function (e) {
                var t = e.stop;
                delete e.stop, t(o)
            };
            return "string" != typeof i && (o = e, e = i, i = void 0), e && this.queue(i || "fx", []), this.each(function () {
                var e = !0,
                    t = null != i && i + "queueHooks",
                    n = S.timers,
                    r = Y.get(this);
                if (t) r[t] && r[t].stop && a(r[t]);
                else
                    for (t in r) r[t] && r[t].stop && at.test(t) && a(r[t]);
                for (t = n.length; t--;) n[t].elem !== this || null != i && n[t].queue !== i || (n[t].anim.stop(o), e = !1, n.splice(t, 1));
                !e && o || S.dequeue(this, i)
            })
        },
        finish: function (a) {
            return !1 !== a && (a = a || "fx"), this.each(function () {
                var e, t = Y.get(this),
                    n = t[a + "queue"],
                    r = t[a + "queueHooks"],
                    i = S.timers,
                    o = n ? n.length : 0;
                for (t.finish = !0, S.queue(this, a, []), r && r.stop && r.stop.call(this, !0), e = i.length; e--;) i[e].elem === this && i[e].queue === a && (i[e].anim.stop(!0), i.splice(e, 1));
                for (e = 0; e < o; e++) n[e] && n[e].finish && n[e].finish.call(this);
                delete t.finish
            })
        }
    }), S.each(["toggle", "show", "hide"], function (e, r) {
        var i = S.fn[r];
        S.fn[r] = function (e, t, n) {
            return null == e || "boolean" == typeof e ? i.apply(this, arguments) : this.animate(lt(r, !0), e, t, n)
        }
    }), S.each({
        slideDown: lt("show"),
        slideUp: lt("hide"),
        slideToggle: lt("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function (e, r) {
        S.fn[e] = function (e, t, n) {
            return this.animate(r, e, t, n)
        }
    }), S.timers = [], S.fx.tick = function () {
        var e, t = 0,
            n = S.timers;
        for (tt = Date.now(); t < n.length; t++)(e = n[t])() || n[t] !== e || n.splice(t--, 1);
        n.length || S.fx.stop(), tt = void 0
    }, S.fx.timer = function (e) {
        S.timers.push(e), S.fx.start()
    }, S.fx.interval = 13, S.fx.start = function () {
        nt || (nt = !0, st())
    }, S.fx.stop = function () {
        nt = null
    }, S.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, S.fn.delay = function (r, e) {
        return r = S.fx && S.fx.speeds[r] || r, e = e || "fx", this.queue(e, function (e, t) {
            var n = C.setTimeout(e, r);
            t.stop = function () {
                C.clearTimeout(n)
            }
        })
    }, rt = E.createElement("input"), it = E.createElement("select").appendChild(E.createElement("option")), rt.type = "checkbox", y.checkOn = "" !== rt.value, y.optSelected = it.selected, (rt = E.createElement("input")).value = "t", rt.type = "radio", y.radioValue = "t" === rt.value;
    var pt, dt = S.expr.attrHandle;
    S.fn.extend({
        attr: function (e, t) {
            return $(this, S.attr, e, t, 1 < arguments.length)
        },
        removeAttr: function (e) {
            return this.each(function () {
                S.removeAttr(this, e)
            })
        }
    }), S.extend({
        attr: function (e, t, n) {
            var r, i, o = e.nodeType;
            if (3 !== o && 8 !== o && 2 !== o) return "undefined" == typeof e.getAttribute ? S.prop(e, t, n) : (1 === o && S.isXMLDoc(e) || (i = S.attrHooks[t.toLowerCase()] || (S.expr.match.bool.test(t) ? pt : void 0)), void 0 !== n ? null === n ? void S.removeAttr(e, t) : i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : (e.setAttribute(t, n + ""), n) : i && "get" in i && null !== (r = i.get(e, t)) ? r : null == (r = S.find.attr(e, t)) ? void 0 : r)
        },
        attrHooks: {
            type: {
                set: function (e, t) {
                    if (!y.radioValue && "radio" === t && A(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        },
        removeAttr: function (e, t) {
            var n, r = 0,
                i = t && t.match(P);
            if (i && 1 === e.nodeType)
                while (n = i[r++]) e.removeAttribute(n)
        }
    }), pt = {
        set: function (e, t, n) {
            return !1 === t ? S.removeAttr(e, n) : e.setAttribute(n, n), n
        }
    }, S.each(S.expr.match.bool.source.match(/\w+/g), function (e, t) {
        var a = dt[t] || S.find.attr;
        dt[t] = function (e, t, n) {
            var r, i, o = t.toLowerCase();
            return n || (i = dt[o], dt[o] = r, r = null != a(e, t, n) ? o : null, dt[o] = i), r
        }
    });
    var ht = /^(?:input|select|textarea|button)$/i,
        gt = /^(?:a|area)$/i;

    function vt(e) {
        return (e.match(P) || []).join(" ")
    }

    function yt(e) {
        return e.getAttribute && e.getAttribute("class") || ""
    }

    function mt(e) {
        return Array.isArray(e) ? e : "string" == typeof e && e.match(P) || []
    }
    S.fn.extend({
        prop: function (e, t) {
            return $(this, S.prop, e, t, 1 < arguments.length)
        },
        removeProp: function (e) {
            return this.each(function () {
                delete this[S.propFix[e] || e]
            })
        }
    }), S.extend({
        prop: function (e, t, n) {
            var r, i, o = e.nodeType;
            if (3 !== o && 8 !== o && 2 !== o) return 1 === o && S.isXMLDoc(e) || (t = S.propFix[t] || t, i = S.propHooks[t]), void 0 !== n ? i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : e[t] = n : i && "get" in i && null !== (r = i.get(e, t)) ? r : e[t]
        },
        propHooks: {
            tabIndex: {
                get: function (e) {
                    var t = S.find.attr(e, "tabindex");
                    return t ? parseInt(t, 10) : ht.test(e.nodeName) || gt.test(e.nodeName) && e.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }), y.optSelected || (S.propHooks.selected = {
        get: function (e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null
        },
        set: function (e) {
            var t = e.parentNode;
            t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex)
        }
    }), S.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
        S.propFix[this.toLowerCase()] = this
    }), S.fn.extend({
        addClass: function (t) {
            var e, n, r, i, o, a, s, u = 0;
            if (m(t)) return this.each(function (e) {
                S(this).addClass(t.call(this, e, yt(this)))
            });
            if ((e = mt(t)).length)
                while (n = this[u++])
                    if (i = yt(n), r = 1 === n.nodeType && " " + vt(i) + " ") {
                        a = 0;
                        while (o = e[a++]) r.indexOf(" " + o + " ") < 0 && (r += o + " ");
                        i !== (s = vt(r)) && n.setAttribute("class", s)
                    } return this
        },
        removeClass: function (t) {
            var e, n, r, i, o, a, s, u = 0;
            if (m(t)) return this.each(function (e) {
                S(this).removeClass(t.call(this, e, yt(this)))
            });
            if (!arguments.length) return this.attr("class", "");
            if ((e = mt(t)).length)
                while (n = this[u++])
                    if (i = yt(n), r = 1 === n.nodeType && " " + vt(i) + " ") {
                        a = 0;
                        while (o = e[a++])
                            while (-1 < r.indexOf(" " + o + " ")) r = r.replace(" " + o + " ", " ");
                        i !== (s = vt(r)) && n.setAttribute("class", s)
                    } return this
        },
        toggleClass: function (i, t) {
            var o = typeof i,
                a = "string" === o || Array.isArray(i);
            return "boolean" == typeof t && a ? t ? this.addClass(i) : this.removeClass(i) : m(i) ? this.each(function (e) {
                S(this).toggleClass(i.call(this, e, yt(this), t), t)
            }) : this.each(function () {
                var e, t, n, r;
                if (a) {
                    t = 0, n = S(this), r = mt(i);
                    while (e = r[t++]) n.hasClass(e) ? n.removeClass(e) : n.addClass(e)
                } else void 0 !== i && "boolean" !== o || ((e = yt(this)) && Y.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === i ? "" : Y.get(this, "__className__") || ""))
            })
        },
        hasClass: function (e) {
            var t, n, r = 0;
            t = " " + e + " ";
            while (n = this[r++])
                if (1 === n.nodeType && -1 < (" " + vt(yt(n)) + " ").indexOf(t)) return !0;
            return !1
        }
    });
    var xt = /\r/g;
    S.fn.extend({
        val: function (n) {
            var r, e, i, t = this[0];
            return arguments.length ? (i = m(n), this.each(function (e) {
                var t;
                1 === this.nodeType && (null == (t = i ? n.call(this, e, S(this).val()) : n) ? t = "" : "number" == typeof t ? t += "" : Array.isArray(t) && (t = S.map(t, function (e) {
                    return null == e ? "" : e + ""
                })), (r = S.valHooks[this.type] || S.valHooks[this.nodeName.toLowerCase()]) && "set" in r && void 0 !== r.set(this, t, "value") || (this.value = t))
            })) : t ? (r = S.valHooks[t.type] || S.valHooks[t.nodeName.toLowerCase()]) && "get" in r && void 0 !== (e = r.get(t, "value")) ? e : "string" == typeof (e = t.value) ? e.replace(xt, "") : null == e ? "" : e : void 0
        }
    }), S.extend({
        valHooks: {
            option: {
                get: function (e) {
                    var t = S.find.attr(e, "value");
                    return null != t ? t : vt(S.text(e))
                }
            },
            select: {
                get: function (e) {
                    var t, n, r, i = e.options,
                        o = e.selectedIndex,
                        a = "select-one" === e.type,
                        s = a ? null : [],
                        u = a ? o + 1 : i.length;
                    for (r = o < 0 ? u : a ? o : 0; r < u; r++)
                        if (((n = i[r]).selected || r === o) && !n.disabled && (!n.parentNode.disabled || !A(n.parentNode, "optgroup"))) {
                            if (t = S(n).val(), a) return t;
                            s.push(t)
                        } return s
                },
                set: function (e, t) {
                    var n, r, i = e.options,
                        o = S.makeArray(t),
                        a = i.length;
                    while (a--)((r = i[a]).selected = -1 < S.inArray(S.valHooks.option.get(r), o)) && (n = !0);
                    return n || (e.selectedIndex = -1), o
                }
            }
        }
    }), S.each(["radio", "checkbox"], function () {
        S.valHooks[this] = {
            set: function (e, t) {
                if (Array.isArray(t)) return e.checked = -1 < S.inArray(S(e).val(), t)
            }
        }, y.checkOn || (S.valHooks[this].get = function (e) {
            return null === e.getAttribute("value") ? "on" : e.value
        })
    }), y.focusin = "onfocusin" in C;
    var bt = /^(?:focusinfocus|focusoutblur)$/,
        wt = function (e) {
            e.stopPropagation()
        };
    S.extend(S.event, {
        trigger: function (e, t, n, r) {
            var i, o, a, s, u, l, c, f, p = [n || E],
                d = v.call(e, "type") ? e.type : e,
                h = v.call(e, "namespace") ? e.namespace.split(".") : [];
            if (o = f = a = n = n || E, 3 !== n.nodeType && 8 !== n.nodeType && !bt.test(d + S.event.triggered) && (-1 < d.indexOf(".") && (d = (h = d.split(".")).shift(), h.sort()), u = d.indexOf(":") < 0 && "on" + d, (e = e[S.expando] ? e : new S.Event(d, "object" == typeof e && e)).isTrigger = r ? 2 : 3, e.namespace = h.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = n), t = null == t ? [e] : S.makeArray(t, [e]), c = S.event.special[d] || {}, r || !c.trigger || !1 !== c.trigger.apply(n, t))) {
                if (!r && !c.noBubble && !x(n)) {
                    for (s = c.delegateType || d, bt.test(s + d) || (o = o.parentNode); o; o = o.parentNode) p.push(o), a = o;
                    a === (n.ownerDocument || E) && p.push(a.defaultView || a.parentWindow || C)
                }
                i = 0;
                while ((o = p[i++]) && !e.isPropagationStopped()) f = o, e.type = 1 < i ? s : c.bindType || d, (l = (Y.get(o, "events") || Object.create(null))[e.type] && Y.get(o, "handle")) && l.apply(o, t), (l = u && o[u]) && l.apply && V(o) && (e.result = l.apply(o, t), !1 === e.result && e.preventDefault());
                return e.type = d, r || e.isDefaultPrevented() || c._default && !1 !== c._default.apply(p.pop(), t) || !V(n) || u && m(n[d]) && !x(n) && ((a = n[u]) && (n[u] = null), S.event.triggered = d, e.isPropagationStopped() && f.addEventListener(d, wt), n[d](), e.isPropagationStopped() && f.removeEventListener(d, wt), S.event.triggered = void 0, a && (n[u] = a)), e.result
            }
        },
        simulate: function (e, t, n) {
            var r = S.extend(new S.Event, n, {
                type: e,
                isSimulated: !0
            });
            S.event.trigger(r, null, t)
        }
    }), S.fn.extend({
        trigger: function (e, t) {
            return this.each(function () {
                S.event.trigger(e, t, this)
            })
        },
        triggerHandler: function (e, t) {
            var n = this[0];
            if (n) return S.event.trigger(e, t, n, !0)
        }
    }), y.focusin || S.each({
        focus: "focusin",
        blur: "focusout"
    }, function (n, r) {
        var i = function (e) {
            S.event.simulate(r, e.target, S.event.fix(e))
        };
        S.event.special[r] = {
            setup: function () {
                var e = this.ownerDocument || this.document || this,
                    t = Y.access(e, r);
                t || e.addEventListener(n, i, !0), Y.access(e, r, (t || 0) + 1)
            },
            teardown: function () {
                var e = this.ownerDocument || this.document || this,
                    t = Y.access(e, r) - 1;
                t ? Y.access(e, r, t) : (e.removeEventListener(n, i, !0), Y.remove(e, r))
            }
        }
    });
    var Tt = C.location,
        Ct = {
            guid: Date.now()
        },
        Et = /\?/;
    S.parseXML = function (e) {
        var t;
        if (!e || "string" != typeof e) return null;
        try {
            t = (new C.DOMParser).parseFromString(e, "text/xml")
        } catch (e) {
            t = void 0
        }
        return t && !t.getElementsByTagName("parsererror").length || S.error("Invalid XML: " + e), t
    };
    var St = /\[\]$/,
        kt = /\r?\n/g,
        At = /^(?:submit|button|image|reset|file)$/i,
        Nt = /^(?:input|select|textarea|keygen)/i;

    function Dt(n, e, r, i) {
        var t;
        if (Array.isArray(e)) S.each(e, function (e, t) {
            r || St.test(n) ? i(n, t) : Dt(n + "[" + ("object" == typeof t && null != t ? e : "") + "]", t, r, i)
        });
        else if (r || "object" !== w(e)) i(n, e);
        else
            for (t in e) Dt(n + "[" + t + "]", e[t], r, i)
    }
    S.param = function (e, t) {
        var n, r = [],
            i = function (e, t) {
                var n = m(t) ? t() : t;
                r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n)
            };
        if (null == e) return "";
        if (Array.isArray(e) || e.jquery && !S.isPlainObject(e)) S.each(e, function () {
            i(this.name, this.value)
        });
        else
            for (n in e) Dt(n, e[n], t, i);
        return r.join("&")
    }, S.fn.extend({
        serialize: function () {
            return S.param(this.serializeArray())
        },
        serializeArray: function () {
            return this.map(function () {
                var e = S.prop(this, "elements");
                return e ? S.makeArray(e) : this
            }).filter(function () {
                var e = this.type;
                return this.name && !S(this).is(":disabled") && Nt.test(this.nodeName) && !At.test(e) && (this.checked || !pe.test(e))
            }).map(function (e, t) {
                var n = S(this).val();
                return null == n ? null : Array.isArray(n) ? S.map(n, function (e) {
                    return {
                        name: t.name,
                        value: e.replace(kt, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(kt, "\r\n")
                }
            }).get()
        }
    });
    var jt = /%20/g,
        qt = /#.*$/,
        Lt = /([?&])_=[^&]*/,
        Ht = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Ot = /^(?:GET|HEAD)$/,
        Pt = /^\/\//,
        Rt = {},
        Mt = {},
        It = "*/".concat("*"),
        Wt = E.createElement("a");

    function Ft(o) {
        return function (e, t) {
            "string" != typeof e && (t = e, e = "*");
            var n, r = 0,
                i = e.toLowerCase().match(P) || [];
            if (m(t))
                while (n = i[r++]) "+" === n[0] ? (n = n.slice(1) || "*", (o[n] = o[n] || []).unshift(t)) : (o[n] = o[n] || []).push(t)
        }
    }

    function Bt(t, i, o, a) {
        var s = {},
            u = t === Mt;

        function l(e) {
            var r;
            return s[e] = !0, S.each(t[e] || [], function (e, t) {
                var n = t(i, o, a);
                return "string" != typeof n || u || s[n] ? u ? !(r = n) : void 0 : (i.dataTypes.unshift(n), l(n), !1)
            }), r
        }
        return l(i.dataTypes[0]) || !s["*"] && l("*")
    }

    function $t(e, t) {
        var n, r, i = S.ajaxSettings.flatOptions || {};
        for (n in t) void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
        return r && S.extend(!0, e, r), e
    }
    Wt.href = Tt.href, S.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Tt.href,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": It,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": S.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function (e, t) {
            return t ? $t($t(e, S.ajaxSettings), t) : $t(S.ajaxSettings, e)
        },
        ajaxPrefilter: Ft(Rt),
        ajaxTransport: Ft(Mt),
        ajax: function (e, t) {
            "object" == typeof e && (t = e, e = void 0), t = t || {};
            var c, f, p, n, d, r, h, g, i, o, v = S.ajaxSetup({}, t),
                y = v.context || v,
                m = v.context && (y.nodeType || y.jquery) ? S(y) : S.event,
                x = S.Deferred(),
                b = S.Callbacks("once memory"),
                w = v.statusCode || {},
                a = {},
                s = {},
                u = "canceled",
                T = {
                    readyState: 0,
                    getResponseHeader: function (e) {
                        var t;
                        if (h) {
                            if (!n) {
                                n = {};
                                while (t = Ht.exec(p)) n[t[1].toLowerCase() + " "] = (n[t[1].toLowerCase() + " "] || []).concat(t[2])
                            }
                            t = n[e.toLowerCase() + " "]
                        }
                        return null == t ? null : t.join(", ")
                    },
                    getAllResponseHeaders: function () {
                        return h ? p : null
                    },
                    setRequestHeader: function (e, t) {
                        return null == h && (e = s[e.toLowerCase()] = s[e.toLowerCase()] || e, a[e] = t), this
                    },
                    overrideMimeType: function (e) {
                        return null == h && (v.mimeType = e), this
                    },
                    statusCode: function (e) {
                        var t;
                        if (e)
                            if (h) T.always(e[T.status]);
                            else
                                for (t in e) w[t] = [w[t], e[t]];
                        return this
                    },
                    abort: function (e) {
                        var t = e || u;
                        return c && c.abort(t), l(0, t), this
                    }
                };
            if (x.promise(T), v.url = ((e || v.url || Tt.href) + "").replace(Pt, Tt.protocol + "//"), v.type = t.method || t.type || v.method || v.type, v.dataTypes = (v.dataType || "*").toLowerCase().match(P) || [""], null == v.crossDomain) {
                r = E.createElement("a");
                try {
                    r.href = v.url, r.href = r.href, v.crossDomain = Wt.protocol + "//" + Wt.host != r.protocol + "//" + r.host
                } catch (e) {
                    v.crossDomain = !0
                }
            }
            if (v.data && v.processData && "string" != typeof v.data && (v.data = S.param(v.data, v.traditional)), Bt(Rt, v, t, T), h) return T;
            for (i in (g = S.event && v.global) && 0 == S.active++ && S.event.trigger("ajaxStart"), v.type = v.type.toUpperCase(), v.hasContent = !Ot.test(v.type), f = v.url.replace(qt, ""), v.hasContent ? v.data && v.processData && 0 === (v.contentType || "").indexOf("application/x-www-form-urlencoded") && (v.data = v.data.replace(jt, "+")) : (o = v.url.slice(f.length), v.data && (v.processData || "string" == typeof v.data) && (f += (Et.test(f) ? "&" : "?") + v.data, delete v.data), !1 === v.cache && (f = f.replace(Lt, "$1"), o = (Et.test(f) ? "&" : "?") + "_=" + Ct.guid++ + o), v.url = f + o), v.ifModified && (S.lastModified[f] && T.setRequestHeader("If-Modified-Since", S.lastModified[f]), S.etag[f] && T.setRequestHeader("If-None-Match", S.etag[f])), (v.data && v.hasContent && !1 !== v.contentType || t.contentType) && T.setRequestHeader("Content-Type", v.contentType), T.setRequestHeader("Accept", v.dataTypes[0] && v.accepts[v.dataTypes[0]] ? v.accepts[v.dataTypes[0]] + ("*" !== v.dataTypes[0] ? ", " + It + "; q=0.01" : "") : v.accepts["*"]), v.headers) T.setRequestHeader(i, v.headers[i]);
            if (v.beforeSend && (!1 === v.beforeSend.call(y, T, v) || h)) return T.abort();
            if (u = "abort", b.add(v.complete), T.done(v.success), T.fail(v.error), c = Bt(Mt, v, t, T)) {
                if (T.readyState = 1, g && m.trigger("ajaxSend", [T, v]), h) return T;
                v.async && 0 < v.timeout && (d = C.setTimeout(function () {
                    T.abort("timeout")
                }, v.timeout));
                try {
                    h = !1, c.send(a, l)
                } catch (e) {
                    if (h) throw e;
                    l(-1, e)
                }
            } else l(-1, "No Transport");

            function l(e, t, n, r) {
                var i, o, a, s, u, l = t;
                h || (h = !0, d && C.clearTimeout(d), c = void 0, p = r || "", T.readyState = 0 < e ? 4 : 0, i = 200 <= e && e < 300 || 304 === e, n && (s = function (e, t, n) {
                    var r, i, o, a, s = e.contents,
                        u = e.dataTypes;
                    while ("*" === u[0]) u.shift(), void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
                    if (r)
                        for (i in s)
                            if (s[i] && s[i].test(r)) {
                                u.unshift(i);
                                break
                            } if (u[0] in n) o = u[0];
                    else {
                        for (i in n) {
                            if (!u[0] || e.converters[i + " " + u[0]]) {
                                o = i;
                                break
                            }
                            a || (a = i)
                        }
                        o = o || a
                    }
                    if (o) return o !== u[0] && u.unshift(o), n[o]
                }(v, T, n)), !i && -1 < S.inArray("script", v.dataTypes) && (v.converters["text script"] = function () {}), s = function (e, t, n, r) {
                    var i, o, a, s, u, l = {},
                        c = e.dataTypes.slice();
                    if (c[1])
                        for (a in e.converters) l[a.toLowerCase()] = e.converters[a];
                    o = c.shift();
                    while (o)
                        if (e.responseFields[o] && (n[e.responseFields[o]] = t), !u && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), u = o, o = c.shift())
                            if ("*" === o) o = u;
                            else if ("*" !== u && u !== o) {
                        if (!(a = l[u + " " + o] || l["* " + o]))
                            for (i in l)
                                if ((s = i.split(" "))[1] === o && (a = l[u + " " + s[0]] || l["* " + s[0]])) {
                                    !0 === a ? a = l[i] : !0 !== l[i] && (o = s[0], c.unshift(s[1]));
                                    break
                                } if (!0 !== a)
                            if (a && e["throws"]) t = a(t);
                            else try {
                                t = a(t)
                            } catch (e) {
                                return {
                                    state: "parsererror",
                                    error: a ? e : "No conversion from " + u + " to " + o
                                }
                            }
                    }
                    return {
                        state: "success",
                        data: t
                    }
                }(v, s, T, i), i ? (v.ifModified && ((u = T.getResponseHeader("Last-Modified")) && (S.lastModified[f] = u), (u = T.getResponseHeader("etag")) && (S.etag[f] = u)), 204 === e || "HEAD" === v.type ? l = "nocontent" : 304 === e ? l = "notmodified" : (l = s.state, o = s.data, i = !(a = s.error))) : (a = l, !e && l || (l = "error", e < 0 && (e = 0))), T.status = e, T.statusText = (t || l) + "", i ? x.resolveWith(y, [o, l, T]) : x.rejectWith(y, [T, l, a]), T.statusCode(w), w = void 0, g && m.trigger(i ? "ajaxSuccess" : "ajaxError", [T, v, i ? o : a]), b.fireWith(y, [T, l]), g && (m.trigger("ajaxComplete", [T, v]), --S.active || S.event.trigger("ajaxStop")))
            }
            return T
        },
        getJSON: function (e, t, n) {
            return S.get(e, t, n, "json")
        },
        getScript: function (e, t) {
            return S.get(e, void 0, t, "script")
        }
    }), S.each(["get", "post"], function (e, i) {
        S[i] = function (e, t, n, r) {
            return m(t) && (r = r || n, n = t, t = void 0), S.ajax(S.extend({
                url: e,
                type: i,
                dataType: r,
                data: t,
                success: n
            }, S.isPlainObject(e) && e))
        }
    }), S.ajaxPrefilter(function (e) {
        var t;
        for (t in e.headers) "content-type" === t.toLowerCase() && (e.contentType = e.headers[t] || "")
    }), S._evalUrl = function (e, t, n) {
        return S.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: {
                "text script": function () {}
            },
            dataFilter: function (e) {
                S.globalEval(e, t, n)
            }
        })
    }, S.fn.extend({
        wrapAll: function (e) {
            var t;
            return this[0] && (m(e) && (e = e.call(this[0])), t = S(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function () {
                var e = this;
                while (e.firstElementChild) e = e.firstElementChild;
                return e
            }).append(this)), this
        },
        wrapInner: function (n) {
            return m(n) ? this.each(function (e) {
                S(this).wrapInner(n.call(this, e))
            }) : this.each(function () {
                var e = S(this),
                    t = e.contents();
                t.length ? t.wrapAll(n) : e.append(n)
            })
        },
        wrap: function (t) {
            var n = m(t);
            return this.each(function (e) {
                S(this).wrapAll(n ? t.call(this, e) : t)
            })
        },
        unwrap: function (e) {
            return this.parent(e).not("body").each(function () {
                S(this).replaceWith(this.childNodes)
            }), this
        }
    }), S.expr.pseudos.hidden = function (e) {
        return !S.expr.pseudos.visible(e)
    }, S.expr.pseudos.visible = function (e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    }, S.ajaxSettings.xhr = function () {
        try {
            return new C.XMLHttpRequest
        } catch (e) {}
    };
    var _t = {
            0: 200,
            1223: 204
        },
        zt = S.ajaxSettings.xhr();
    y.cors = !!zt && "withCredentials" in zt, y.ajax = zt = !!zt, S.ajaxTransport(function (i) {
        var o, a;
        if (y.cors || zt && !i.crossDomain) return {
            send: function (e, t) {
                var n, r = i.xhr();
                if (r.open(i.type, i.url, i.async, i.username, i.password), i.xhrFields)
                    for (n in i.xhrFields) r[n] = i.xhrFields[n];
                for (n in i.mimeType && r.overrideMimeType && r.overrideMimeType(i.mimeType), i.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest"), e) r.setRequestHeader(n, e[n]);
                o = function (e) {
                    return function () {
                        o && (o = a = r.onload = r.onerror = r.onabort = r.ontimeout = r.onreadystatechange = null, "abort" === e ? r.abort() : "error" === e ? "number" != typeof r.status ? t(0, "error") : t(r.status, r.statusText) : t(_t[r.status] || r.status, r.statusText, "text" !== (r.responseType || "text") || "string" != typeof r.responseText ? {
                            binary: r.response
                        } : {
                            text: r.responseText
                        }, r.getAllResponseHeaders()))
                    }
                }, r.onload = o(), a = r.onerror = r.ontimeout = o("error"), void 0 !== r.onabort ? r.onabort = a : r.onreadystatechange = function () {
                    4 === r.readyState && C.setTimeout(function () {
                        o && a()
                    })
                }, o = o("abort");
                try {
                    r.send(i.hasContent && i.data || null)
                } catch (e) {
                    if (o) throw e
                }
            },
            abort: function () {
                o && o()
            }
        }
    }), S.ajaxPrefilter(function (e) {
        e.crossDomain && (e.contents.script = !1)
    }), S.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function (e) {
                return S.globalEval(e), e
            }
        }
    }), S.ajaxPrefilter("script", function (e) {
        void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET")
    }), S.ajaxTransport("script", function (n) {
        var r, i;
        if (n.crossDomain || n.scriptAttrs) return {
            send: function (e, t) {
                r = S("<script>").attr(n.scriptAttrs || {}).prop({
                    charset: n.scriptCharset,
                    src: n.url
                }).on("load error", i = function (e) {
                    r.remove(), i = null, e && t("error" === e.type ? 404 : 200, e.type)
                }), E.head.appendChild(r[0])
            },
            abort: function () {
                i && i()
            }
        }
    });
    var Ut, Xt = [],
        Vt = /(=)\?(?=&|$)|\?\?/;
    S.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            var e = Xt.pop() || S.expando + "_" + Ct.guid++;
            return this[e] = !0, e
        }
    }), S.ajaxPrefilter("json jsonp", function (e, t, n) {
        var r, i, o, a = !1 !== e.jsonp && (Vt.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Vt.test(e.data) && "data");
        if (a || "jsonp" === e.dataTypes[0]) return r = e.jsonpCallback = m(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, a ? e[a] = e[a].replace(Vt, "$1" + r) : !1 !== e.jsonp && (e.url += (Et.test(e.url) ? "&" : "?") + e.jsonp + "=" + r), e.converters["script json"] = function () {
            return o || S.error(r + " was not called"), o[0]
        }, e.dataTypes[0] = "json", i = C[r], C[r] = function () {
            o = arguments
        }, n.always(function () {
            void 0 === i ? S(C).removeProp(r) : C[r] = i, e[r] && (e.jsonpCallback = t.jsonpCallback, Xt.push(r)), o && m(i) && i(o[0]), o = i = void 0
        }), "script"
    }), y.createHTMLDocument = ((Ut = E.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === Ut.childNodes.length), S.parseHTML = function (e, t, n) {
        return "string" != typeof e ? [] : ("boolean" == typeof t && (n = t, t = !1), t || (y.createHTMLDocument ? ((r = (t = E.implementation.createHTMLDocument("")).createElement("base")).href = E.location.href, t.head.appendChild(r)) : t = E), o = !n && [], (i = N.exec(e)) ? [t.createElement(i[1])] : (i = xe([e], t, o), o && o.length && S(o).remove(), S.merge([], i.childNodes)));
        var r, i, o
    }, S.fn.load = function (e, t, n) {
        var r, i, o, a = this,
            s = e.indexOf(" ");
        return -1 < s && (r = vt(e.slice(s)), e = e.slice(0, s)), m(t) ? (n = t, t = void 0) : t && "object" == typeof t && (i = "POST"), 0 < a.length && S.ajax({
            url: e,
            type: i || "GET",
            dataType: "html",
            data: t
        }).done(function (e) {
            o = arguments, a.html(r ? S("<div>").append(S.parseHTML(e)).find(r) : e)
        }).always(n && function (e, t) {
            a.each(function () {
                n.apply(this, o || [e.responseText, t, e])
            })
        }), this
    }, S.expr.pseudos.animated = function (t) {
        return S.grep(S.timers, function (e) {
            return t === e.elem
        }).length
    }, S.offset = {
        setOffset: function (e, t, n) {
            var r, i, o, a, s, u, l = S.css(e, "position"),
                c = S(e),
                f = {};
            "static" === l && (e.style.position = "relative"), s = c.offset(), o = S.css(e, "top"), u = S.css(e, "left"), ("absolute" === l || "fixed" === l) && -1 < (o + u).indexOf("auto") ? (a = (r = c.position()).top, i = r.left) : (a = parseFloat(o) || 0, i = parseFloat(u) || 0), m(t) && (t = t.call(e, n, S.extend({}, s))), null != t.top && (f.top = t.top - s.top + a), null != t.left && (f.left = t.left - s.left + i), "using" in t ? t.using.call(e, f) : ("number" == typeof f.top && (f.top += "px"), "number" == typeof f.left && (f.left += "px"), c.css(f))
        }
    }, S.fn.extend({
        offset: function (t) {
            if (arguments.length) return void 0 === t ? this : this.each(function (e) {
                S.offset.setOffset(this, t, e)
            });
            var e, n, r = this[0];
            return r ? r.getClientRects().length ? (e = r.getBoundingClientRect(), n = r.ownerDocument.defaultView, {
                top: e.top + n.pageYOffset,
                left: e.left + n.pageXOffset
            }) : {
                top: 0,
                left: 0
            } : void 0
        },
        position: function () {
            if (this[0]) {
                var e, t, n, r = this[0],
                    i = {
                        top: 0,
                        left: 0
                    };
                if ("fixed" === S.css(r, "position")) t = r.getBoundingClientRect();
                else {
                    t = this.offset(), n = r.ownerDocument, e = r.offsetParent || n.documentElement;
                    while (e && (e === n.body || e === n.documentElement) && "static" === S.css(e, "position")) e = e.parentNode;
                    e && e !== r && 1 === e.nodeType && ((i = S(e).offset()).top += S.css(e, "borderTopWidth", !0), i.left += S.css(e, "borderLeftWidth", !0))
                }
                return {
                    top: t.top - i.top - S.css(r, "marginTop", !0),
                    left: t.left - i.left - S.css(r, "marginLeft", !0)
                }
            }
        },
        offsetParent: function () {
            return this.map(function () {
                var e = this.offsetParent;
                while (e && "static" === S.css(e, "position")) e = e.offsetParent;
                return e || re
            })
        }
    }), S.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function (t, i) {
        var o = "pageYOffset" === i;
        S.fn[t] = function (e) {
            return $(this, function (e, t, n) {
                var r;
                if (x(e) ? r = e : 9 === e.nodeType && (r = e.defaultView), void 0 === n) return r ? r[i] : e[t];
                r ? r.scrollTo(o ? r.pageXOffset : n, o ? n : r.pageYOffset) : e[t] = n
            }, t, e, arguments.length)
        }
    }), S.each(["top", "left"], function (e, n) {
        S.cssHooks[n] = $e(y.pixelPosition, function (e, t) {
            if (t) return t = Be(e, n), Me.test(t) ? S(e).position()[n] + "px" : t
        })
    }), S.each({
        Height: "height",
        Width: "width"
    }, function (a, s) {
        S.each({
            padding: "inner" + a,
            content: s,
            "": "outer" + a
        }, function (r, o) {
            S.fn[o] = function (e, t) {
                var n = arguments.length && (r || "boolean" != typeof e),
                    i = r || (!0 === e || !0 === t ? "margin" : "border");
                return $(this, function (e, t, n) {
                    var r;
                    return x(e) ? 0 === o.indexOf("outer") ? e["inner" + a] : e.document.documentElement["client" + a] : 9 === e.nodeType ? (r = e.documentElement, Math.max(e.body["scroll" + a], r["scroll" + a], e.body["offset" + a], r["offset" + a], r["client" + a])) : void 0 === n ? S.css(e, t, i) : S.style(e, t, n, i)
                }, s, n ? e : void 0, n)
            }
        })
    }), S.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (e, t) {
        S.fn[t] = function (e) {
            return this.on(t, e)
        }
    }), S.fn.extend({
        bind: function (e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function (e, t) {
            return this.off(e, null, t)
        },
        delegate: function (e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function (e, t, n) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
        },
        hover: function (e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        }
    }), S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (e, n) {
        S.fn[n] = function (e, t) {
            return 0 < arguments.length ? this.on(n, null, e, t) : this.trigger(n)
        }
    });
    var Gt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    S.proxy = function (e, t) {
        var n, r, i;
        if ("string" == typeof t && (n = e[t], t = e, e = n), m(e)) return r = s.call(arguments, 2), (i = function () {
            return e.apply(t || this, r.concat(s.call(arguments)))
        }).guid = e.guid = e.guid || S.guid++, i
    }, S.holdReady = function (e) {
        e ? S.readyWait++ : S.ready(!0)
    }, S.isArray = Array.isArray, S.parseJSON = JSON.parse, S.nodeName = A, S.isFunction = m, S.isWindow = x, S.camelCase = X, S.type = w, S.now = Date.now, S.isNumeric = function (e) {
        var t = S.type(e);
        return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
    }, S.trim = function (e) {
        return null == e ? "" : (e + "").replace(Gt, "")
    }, "function" == typeof define && define.amd && define("jquery", [], function () {
        return S
    });
    var Yt = C.jQuery,
        Qt = C.$;
    return S.noConflict = function (e) {
        return C.$ === S && (C.$ = Qt), e && C.jQuery === S && (C.jQuery = Yt), S
    }, "undefined" == typeof e && (C.jQuery = C.$ = S), S
});

/* --------------------------------------------------------------- Plugin CSS --------------------------------------------------------------- */

;
window.Modernizr = function (a, b, c) {
		function x(a) {
			j.cssText = a
		}

		function y(a, b) {
			return x(prefixes.join(a + ";") + (b || ""))
		}

		function z(a, b) {
			return typeof a === b
		}

		function A(a, b) {
			return !!~("" + a).indexOf(b)
		}

		function B(a, b) {
			for (var d in a) {
				var e = a[d];
				if (!A(e, "-") && j[e] !== c) return b == "pfx" ? e : !0
			}
			return !1
		}

		function C(a, b, d) {
			for (var e in a) {
				var f = b[a[e]];
				if (f !== c) return d === !1 ? a[e] : z(f, "function") ? f.bind(d || b) : f
			}
			return !1
		}

		function D(a, b, c) {
			var d = a.charAt(0).toUpperCase() + a.slice(1),
				e = (a + " " + n.join(d + " ") + d).split(" ");
			return z(b, "string") || z(b, "undefined") ? B(e, b) : (e = (a + " " + o.join(d + " ") + d).split(" "), C(e, b, c))
		}
		var d = "2.6.2",
			e = {},
			f = !0,
			g = b.documentElement,
			h = "modernizr",
			i = b.createElement(h),
			j = i.style,
			k, l = {}.toString,
			m = "Webkit Moz O ms",
			n = m.split(" "),
			o = m.toLowerCase().split(" "),
			p = {},
			q = {},
			r = {},
			s = [],
			t = s.slice,
			u, v = {}.hasOwnProperty,
			w;
		!z(v, "undefined") && !z(v.call, "undefined") ? w = function (a, b) {
			return v.call(a, b)
		} : w = function (a, b) {
			return b in a && z(a.constructor.prototype[b], "undefined")
		}, Function.prototype.bind || (Function.prototype.bind = function (b) {
			var c = this;
			if (typeof c != "function") throw new TypeError;
			var d = t.call(arguments, 1),
				e = function () {
					if (this instanceof e) {
						var a = function () {};
						a.prototype = c.prototype;
						var f = new a,
							g = c.apply(f, d.concat(t.call(arguments)));
						return Object(g) === g ? g : f
					}
					return c.apply(b, d.concat(t.call(arguments)))
				};
			return e
		}), p.csstransitions = function () {
			return D("transition")
		};
		for (var E in p) w(p, E) && (u = E.toLowerCase(), e[u] = p[E](), s.push((e[u] ? "" : "no-") + u));
		return e.addTest = function (a, b) {
				if (typeof a == "object")
					for (var d in a) w(a, d) && e.addTest(d, a[d]);
				else {
					a = a.toLowerCase();
					if (e[a] !== c) return e;
					b = typeof b == "function" ? b() : b, typeof f != "undefined" && f && (g.className += " " + (b ? "" : "no-") + a), e[a] = b
				}
				return e
			}, x(""), i = k = null,
			function (a, b) {
				function k(a, b) {
					var c = a.createElement("p"),
						d = a.getElementsByTagName("head")[0] || a.documentElement;
					return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild)
				}

				function l() {
					var a = r.elements;
					return typeof a == "string" ? a.split(" ") : a
				}

				function m(a) {
					var b = i[a[g]];
					return b || (b = {}, h++, a[g] = h, i[h] = b), b
				}

				function n(a, c, f) {
					c || (c = b);
					if (j) return c.createElement(a);
					f || (f = m(c));
					var g;
					return f.cache[a] ? g = f.cache[a].cloneNode() : e.test(a) ? g = (f.cache[a] = f.createElem(a)).cloneNode() : g = f.createElem(a), g.canHaveChildren && !d.test(a) ? f.frag.appendChild(g) : g
				}

				function o(a, c) {
					a || (a = b);
					if (j) return a.createDocumentFragment();
					c = c || m(a);
					var d = c.frag.cloneNode(),
						e = 0,
						f = l(),
						g = f.length;
					for (; e < g; e++) d.createElement(f[e]);
					return d
				}

				function p(a, b) {
					b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function (c) {
						return r.shivMethods ? n(c, a, b) : b.createElem(c)
					}, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + l().join().replace(/\w+/g, function (a) {
						return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")'
					}) + ");return n}")(r, b.frag)
				}

				function q(a) {
					a || (a = b);
					var c = m(a);
					return r.shivCSS && !f && !c.hasCSS && (c.hasCSS = !!k(a, "article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")), j || p(a, c), a
				}
				var c = a.html5 || {},
					d = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
					e = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
					f, g = "_html5shiv",
					h = 0,
					i = {},
					j;
				(function () {
					try {
						var a = b.createElement("a");
						a.innerHTML = "<xyz></xyz>", f = "hidden" in a, j = a.childNodes.length == 1 || function () {
							b.createElement("a");
							var a = b.createDocumentFragment();
							return typeof a.cloneNode == "undefined" || typeof a.createDocumentFragment == "undefined" || typeof a.createElement == "undefined"
						}()
					} catch (c) {
						f = !0, j = !0
					}
				})();
				var r = {
					elements: c.elements || "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
					shivCSS: c.shivCSS !== !1,
					supportsUnknownElements: j,
					shivMethods: c.shivMethods !== !1,
					type: "default",
					shivDocument: q,
					createElement: n,
					createDocumentFragment: o
				};
				a.html5 = r, q(b)
			}(this, b), e._version = d, e._domPrefixes = o, e._cssomPrefixes = n, e.testProp = function (a) {
				return B([a])
			}, e.testAllProps = D, g.className = g.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (f ? " js " + s.join(" ") : ""), e
	}(this, this.document),
	function (a, b, c) {
		function d(a) {
			return "[object Function]" == o.call(a)
		}

		function e(a) {
			return "string" == typeof a
		}

		function f() {}

		function g(a) {
			return !a || "loaded" == a || "complete" == a || "uninitialized" == a
		}

		function h() {
			var a = p.shift();
			q = 1, a ? a.t ? m(function () {
				("c" == a.t ? B.injectCss : B.injectJs)(a.s, 0, a.a, a.x, a.e, 1)
			}, 0) : (a(), h()) : q = 0
		}

		function i(a, c, d, e, f, i, j) {
			function k(b) {
				if (!o && g(l.readyState) && (u.r = o = 1, !q && h(), l.onload = l.onreadystatechange = null, b)) {
					"img" != a && m(function () {
						t.removeChild(l)
					}, 50);
					for (var d in y[c]) y[c].hasOwnProperty(d) && y[c][d].onload()
				}
			}
			var j = j || B.errorTimeout,
				l = b.createElement(a),
				o = 0,
				r = 0,
				u = {
					t: d,
					s: c,
					e: f,
					a: i,
					x: j
				};
			1 === y[c] && (r = 1, y[c] = []), "object" == a ? l.data = c : (l.src = c, l.type = a), l.width = l.height = "0", l.onerror = l.onload = l.onreadystatechange = function () {
				k.call(this, r)
			}, p.splice(e, 0, u), "img" != a && (r || 2 === y[c] ? (t.insertBefore(l, s ? null : n), m(k, j)) : y[c].push(l))
		}

		function j(a, b, c, d, f) {
			return q = 0, b = b || "j", e(a) ? i("c" == b ? v : u, a, b, this.i++, c, d, f) : (p.splice(this.i++, 0, a), 1 == p.length && h()), this
		}

		function k() {
			var a = B;
			return a.loader = {
				load: j,
				i: 0
			}, a
		}
		var l = b.documentElement,
			m = a.setTimeout,
			n = b.getElementsByTagName("script")[0],
			o = {}.toString,
			p = [],
			q = 0,
			r = "MozAppearance" in l.style,
			s = r && !!b.createRange().compareNode,
			t = s ? l : n.parentNode,
			l = a.opera && "[object Opera]" == o.call(a.opera),
			l = !!b.attachEvent && !l,
			u = r ? "object" : l ? "script" : "img",
			v = l ? "script" : u,
			w = Array.isArray || function (a) {
				return "[object Array]" == o.call(a)
			},
			x = [],
			y = {},
			z = {
				timeout: function (a, b) {
					return b.length && (a.timeout = b[0]), a
				}
			},
			A, B;
		B = function (a) {
			function b(a) {
				var a = a.split("!"),
					b = x.length,
					c = a.pop(),
					d = a.length,
					c = {
						url: c,
						origUrl: c,
						prefixes: a
					},
					e, f, g;
				for (f = 0; f < d; f++) g = a[f].split("="), (e = z[g.shift()]) && (c = e(c, g));
				for (f = 0; f < b; f++) c = x[f](c);
				return c
			}

			function g(a, e, f, g, h) {
				var i = b(a),
					j = i.autoCallback;
				i.url.split(".").pop().split("?").shift(), i.bypass || (e && (e = d(e) ? e : e[a] || e[g] || e[a.split("/").pop().split("?")[0]]), i.instead ? i.instead(a, e, f, g, h) : (y[i.url] ? i.noexec = !0 : y[i.url] = 1, f.load(i.url, i.forceCSS || !i.forceJS && "css" == i.url.split(".").pop().split("?").shift() ? "c" : c, i.noexec, i.attrs, i.timeout), (d(e) || d(j)) && f.load(function () {
					k(), e && e(i.origUrl, h, g), j && j(i.origUrl, h, g), y[i.url] = 2
				})))
			}

			function h(a, b) {
				function c(a, c) {
					if (a) {
						if (e(a)) c || (j = function () {
							var a = [].slice.call(arguments);
							k.apply(this, a), l()
						}), g(a, j, b, 0, h);
						else if (Object(a) === a)
							for (n in m = function () {
									var b = 0,
										c;
									for (c in a) a.hasOwnProperty(c) && b++;
									return b
								}(), a) a.hasOwnProperty(n) && (!c && !--m && (d(j) ? j = function () {
								var a = [].slice.call(arguments);
								k.apply(this, a), l()
							} : j[n] = function (a) {
								return function () {
									var b = [].slice.call(arguments);
									a && a.apply(this, b), l()
								}
							}(k[n])), g(a[n], j, b, n, h))
					} else !c && l()
				}
				var h = !!a.test,
					i = a.load || a.both,
					j = a.callback || f,
					k = j,
					l = a.complete || f,
					m, n;
				c(h ? a.yep : a.nope, !!i), i && c(i)
			}
			var i, j, l = this.yepnope.loader;
			if (e(a)) g(a, 0, l, 0);
			else if (w(a))
				for (i = 0; i < a.length; i++) j = a[i], e(j) ? g(j, 0, l, 0) : w(j) ? B(j) : Object(j) === j && h(j, l);
			else Object(a) === a && h(a, l)
		}, B.addPrefix = function (a, b) {
			z[a] = b
		}, B.addFilter = function (a) {
			x.push(a)
		}, B.errorTimeout = 1e4, null == b.readyState && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", A = function () {
			b.removeEventListener("DOMContentLoaded", A, 0), b.readyState = "complete"
		}, 0)), a.yepnope = k(), a.yepnope.executeStack = h, a.yepnope.injectJs = function (a, c, d, e, i, j) {
			var k = b.createElement("script"),
				l, o, e = e || B.errorTimeout;
			k.src = a;
			for (o in d) k.setAttribute(o, d[o]);
			c = j ? h : c || f, k.onreadystatechange = k.onload = function () {
				!l && g(k.readyState) && (l = 1, c(), k.onload = k.onreadystatechange = null)
			}, m(function () {
				l || (l = 1, c(1))
			}, e), i ? k.onload() : n.parentNode.insertBefore(k, n)
		}, a.yepnope.injectCss = function (a, c, d, e, g, i) {
			var e = b.createElement("link"),
				j, c = i ? h : c || f;
			e.href = a, e.rel = "stylesheet", e.type = "text/css";
			for (j in d) e.setAttribute(j, d[j]);
			g || (n.parentNode.insertBefore(e, n), m(c, 0))
		}
	}(this, document), Modernizr.load = function () {
		yepnope.apply(window, [].slice.call(arguments, 0))
	};


jQuery.easing.jswing = jQuery.easing.swing;
jQuery.extend(jQuery.easing, {
	def: "easeOutQuad",
	swing: function (e, f, a, h, g) {
		return jQuery.easing[jQuery.easing.def](e, f, a, h, g)
	},
	easeInQuad: function (e, f, a, h, g) {
		return h * (f /= g) * f + a
	},
	easeOutQuad: function (e, f, a, h, g) {
		return -h * (f /= g) * (f - 2) + a
	},
	easeInOutQuad: function (e, f, a, h, g) {
		if ((f /= g / 2) < 1) {
			return h / 2 * f * f + a
		}
		return -h / 2 * ((--f) * (f - 2) - 1) + a
	},
	easeInCubic: function (e, f, a, h, g) {
		return h * (f /= g) * f * f + a
	},
	easeOutCubic: function (e, f, a, h, g) {
		return h * ((f = f / g - 1) * f * f + 1) + a
	},
	easeInOutCubic: function (e, f, a, h, g) {
		if ((f /= g / 2) < 1) {
			return h / 2 * f * f * f + a
		}
		return h / 2 * ((f -= 2) * f * f + 2) + a
	},
	easeInQuart: function (e, f, a, h, g) {
		return h * (f /= g) * f * f * f + a
	},
	easeOutQuart: function (e, f, a, h, g) {
		return -h * ((f = f / g - 1) * f * f * f - 1) + a
	},
	easeInOutQuart: function (e, f, a, h, g) {
		if ((f /= g / 2) < 1) {
			return h / 2 * f * f * f * f + a
		}
		return -h / 2 * ((f -= 2) * f * f * f - 2) + a
	},
	easeInQuint: function (e, f, a, h, g) {
		return h * (f /= g) * f * f * f * f + a
	},
	easeOutQuint: function (e, f, a, h, g) {
		return h * ((f = f / g - 1) * f * f * f * f + 1) + a
	},
	easeInOutQuint: function (e, f, a, h, g) {
		if ((f /= g / 2) < 1) {
			return h / 2 * f * f * f * f * f + a
		}
		return h / 2 * ((f -= 2) * f * f * f * f + 2) + a
	},
	easeInSine: function (e, f, a, h, g) {
		return -h * Math.cos(f / g * (Math.PI / 2)) + h + a
	},
	easeOutSine: function (e, f, a, h, g) {
		return h * Math.sin(f / g * (Math.PI / 2)) + a
	},
	easeInOutSine: function (e, f, a, h, g) {
		return -h / 2 * (Math.cos(Math.PI * f / g) - 1) + a
	},
	easeInExpo: function (e, f, a, h, g) {
		return (f == 0) ? a : h * Math.pow(2, 10 * (f / g - 1)) + a
	},
	easeOutExpo: function (e, f, a, h, g) {
		return (f == g) ? a + h : h * (-Math.pow(2, -10 * f / g) + 1) + a
	},
	easeInOutExpo: function (e, f, a, h, g) {
		if (f == 0) {
			return a
		}
		if (f == g) {
			return a + h
		}
		if ((f /= g / 2) < 1) {
			return h / 2 * Math.pow(2, 10 * (f - 1)) + a
		}
		return h / 2 * (-Math.pow(2, -10 * --f) + 2) + a
	},
	easeInCirc: function (e, f, a, h, g) {
		return -h * (Math.sqrt(1 - (f /= g) * f) - 1) + a
	},
	easeOutCirc: function (e, f, a, h, g) {
		return h * Math.sqrt(1 - (f = f / g - 1) * f) + a
	},
	easeInOutCirc: function (e, f, a, h, g) {
		if ((f /= g / 2) < 1) {
			return -h / 2 * (Math.sqrt(1 - f * f) - 1) + a
		}
		return h / 2 * (Math.sqrt(1 - (f -= 2) * f) + 1) + a
	},
	easeInElastic: function (f, h, e, l, k) {
		var i = 1.70158;
		var j = 0;
		var g = l;
		if (h == 0) {
			return e
		}
		if ((h /= k) == 1) {
			return e + l
		}
		if (!j) {
			j = k * 0.3
		}
		if (g < Math.abs(l)) {
			g = l;
			var i = j / 4
		} else {
			var i = j / (2 * Math.PI) * Math.asin(l / g)
		}
		return -(g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
	},
	easeOutElastic: function (f, h, e, l, k) {
		var i = 1.70158;
		var j = 0;
		var g = l;
		if (h == 0) {
			return e
		}
		if ((h /= k) == 1) {
			return e + l
		}
		if (!j) {
			j = k * 0.3
		}
		if (g < Math.abs(l)) {
			g = l;
			var i = j / 4
		} else {
			var i = j / (2 * Math.PI) * Math.asin(l / g)
		}
		return g * Math.pow(2, -10 * h) * Math.sin((h * k - i) * (2 * Math.PI) / j) + l + e
	},
	easeInOutElastic: function (f, h, e, l, k) {
		var i = 1.70158;
		var j = 0;
		var g = l;
		if (h == 0) {
			return e
		}
		if ((h /= k / 2) == 2) {
			return e + l
		}
		if (!j) {
			j = k * (0.3 * 1.5)
		}
		if (g < Math.abs(l)) {
			g = l;
			var i = j / 4
		} else {
			var i = j / (2 * Math.PI) * Math.asin(l / g)
		}
		if (h < 1) {
			return -0.5 * (g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
		}
		return g * Math.pow(2, -10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j) * 0.5 + l + e
	},
	easeInBack: function (e, f, a, i, h, g) {
		if (g == undefined) {
			g = 1.70158
		}
		return i * (f /= h) * f * ((g + 1) * f - g) + a
	},
	easeOutBack: function (e, f, a, i, h, g) {
		if (g == undefined) {
			g = 1.70158
		}
		return i * ((f = f / h - 1) * f * ((g + 1) * f + g) + 1) + a
	},
	easeInOutBack: function (e, f, a, i, h, g) {
		if (g == undefined) {
			g = 1.70158
		}
		if ((f /= h / 2) < 1) {
			return i / 2 * (f * f * (((g *= (1.525)) + 1) * f - g)) + a
		}
		return i / 2 * ((f -= 2) * f * (((g *= (1.525)) + 1) * f + g) + 2) + a
	},
	easeInBounce: function (e, f, a, h, g) {
		return h - jQuery.easing.easeOutBounce(e, g - f, 0, h, g) + a
	},
	easeOutBounce: function (e, f, a, h, g) {
		if ((f /= g) < (1 / 2.75)) {
			return h * (7.5625 * f * f) + a
		} else {
			if (f < (2 / 2.75)) {
				return h * (7.5625 * (f -= (1.5 / 2.75)) * f + 0.75) + a
			} else {
				if (f < (2.5 / 2.75)) {
					return h * (7.5625 * (f -= (2.25 / 2.75)) * f + 0.9375) + a
				} else {
					return h * (7.5625 * (f -= (2.625 / 2.75)) * f + 0.984375) + a
				}
			}
		}
	},
	easeInOutBounce: function (e, f, a, h, g) {
		if (f < g / 2) {
			return jQuery.easing.easeInBounce(e, f * 2, 0, h, g) * 0.5 + a
		}
		return jQuery.easing.easeOutBounce(e, f * 2 - g, 0, h, g) * 0.5 + h * 0.5 + a
	}
});

/*! lightgallery - v1.2.22 - 2016-07-20
 * http://sachinchoolur.github.io/lightGallery/
 * Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
! function (a, b, c, d) {
	"use strict";

	function e(b, d) {
		if (this.el = b, this.$el = a(b), this.s = a.extend({}, f, d), this.s.dynamic && "undefined" !== this.s.dynamicEl && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) throw "When using dynamic mode, you must also define dynamicEl as an Array.";
		return this.modules = {}, this.lGalleryOn = !1, this.lgBusy = !1, this.hideBartimeout = !1, this.isTouch = "ontouchstart" in c.documentElement, this.s.slideEndAnimatoin && (this.s.hideControlOnEnd = !1), this.s.dynamic ? this.$items = this.s.dynamicEl : "this" === this.s.selector ? this.$items = this.$el : "" !== this.s.selector ? this.s.selectWithin ? this.$items = a(this.s.selectWithin).find(this.s.selector) : this.$items = this.$el.find(a(this.s.selector)) : this.$items = this.$el.children(), this.$slide = "", this.$outer = "", this.init(), this
	}
	var f = {
		mode: "lg-slide",
		cssEasing: "ease",
		easing: "linear",
		speed: 600,
		height: "100%",
		width: "100%",
		addClass: "",
		startClass: "lg-start-zoom",
		backdropDuration: 150,
		hideBarsDelay: 6e3,
		useLeft: !1,
		closable: !0,
		loop: !0,
		escKey: !0,
		keyPress: !0,
		controls: !0,
		slideEndAnimatoin: !0,
		hideControlOnEnd: !1,
		mousewheel: !0,
		getCaptionFromTitleOrAlt: !0,
		appendSubHtmlTo: ".lg-sub-html",
		subHtmlSelectorRelative: !1,
		preload: 1,
		showAfterLoad: !0,
		selector: "",
		selectWithin: "",
		nextHtml: "",
		prevHtml: "",
		index: !1,
		iframeMaxWidth: "100%",
		download: !0,
		counter: !0,
		appendCounterTo: ".lg-toolbar",
		swipeThreshold: 50,
		enableSwipe: !0,
		enableDrag: !0,
		dynamic: !1,
		dynamicEl: [],
		galleryId: 1
	};
	e.prototype.init = function () {
		var c = this;
		c.s.preload > c.$items.length && (c.s.preload = c.$items.length);
		var d = b.location.hash;
		d.indexOf("lg=" + this.s.galleryId) > 0 && (c.index = parseInt(d.split("&slide=")[1], 10), a("body").addClass("lg-from-hash"), a("body").hasClass("lg-on") || (setTimeout(function () {
			c.build(c.index)
		}), a("body").addClass("lg-on"))), c.s.dynamic ? (c.$el.trigger("onBeforeOpen.lg"), c.index = c.s.index || 0, a("body").hasClass("lg-on") || setTimeout(function () {
			c.build(c.index), a("body").addClass("lg-on")
		})) : c.$items.on("click.lgcustom", function (b) {
			try {
				b.preventDefault(), b.preventDefault()
			} catch (a) {
				b.returnValue = !1
			}
			c.$el.trigger("onBeforeOpen.lg"), c.index = c.s.index || c.$items.index(this), a("body").hasClass("lg-on") || (c.build(c.index), a("body").addClass("lg-on"))
		})
	}, e.prototype.build = function (b) {
		var c = this;
		c.structure(), a.each(a.fn.lightGallery.modules, function (b) {
			c.modules[b] = new a.fn.lightGallery.modules[b](c.el)
		}), c.slide(b, !1, !1), c.s.keyPress && c.keyPress(), c.$items.length > 1 && (c.arrow(), setTimeout(function () {
			c.enableDrag(), c.enableSwipe()
		}, 50), c.s.mousewheel && c.mousewheel()), c.counter(), c.closeGallery(), c.$el.trigger("onAfterOpen.lg"), c.$outer.on("mousemove.lg click.lg touchstart.lg", function () {
			c.$outer.removeClass("lg-hide-items"), clearTimeout(c.hideBartimeout), c.hideBartimeout = setTimeout(function () {
				c.$outer.addClass("lg-hide-items")
			}, c.s.hideBarsDelay)
		})
	}, e.prototype.structure = function () {
		var c, d = "",
			e = "",
			f = 0,
			g = "",
			h = this;
		for (a("body").append('<div class="lg-backdrop"></div>'), a(".lg-backdrop").css("transition-duration", this.s.backdropDuration + "ms"), f = 0; f < this.$items.length; f++) d += '<div class="lg-item"></div>';
		if (this.s.controls && this.$items.length > 1 && (e = '<div class="lg-actions"><div class="lg-prev lg-icon">' + this.s.prevHtml + '</div><div class="lg-next lg-icon">' + this.s.nextHtml + "</div></div>"), ".lg-sub-html" === this.s.appendSubHtmlTo && (g = '<div class="lg-sub-html"></div>'), c = '<div class="lg-outer ' + this.s.addClass + " " + this.s.startClass + '"><div class="lg" style="width:' + this.s.width + "; height:" + this.s.height + '"><div class="lg-inner">' + d + '</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>' + e + g + "</div></div>", a("body").append(c), this.$outer = a(".lg-outer"), this.$slide = this.$outer.find(".lg-item"), this.s.useLeft ? (this.$outer.addClass("lg-use-left"), this.s.mode = "lg-slide") : this.$outer.addClass("lg-use-css3"), h.setTop(), a(b).on("resize.lg orientationchange.lg", function () {
				setTimeout(function () {
					h.setTop()
				}, 100)
			}), this.$slide.eq(this.index).addClass("lg-current"), this.doCss() ? this.$outer.addClass("lg-css3") : (this.$outer.addClass("lg-css"), this.s.speed = 0), this.$outer.addClass(this.s.mode), this.s.enableDrag && this.$items.length > 1 && this.$outer.addClass("lg-grab"), this.s.showAfterLoad && this.$outer.addClass("lg-show-after-load"), this.doCss()) {
			var i = this.$outer.find(".lg-inner");
			i.css("transition-timing-function", this.s.cssEasing), i.css("transition-duration", this.s.speed + "ms")
		}
		a(".lg-backdrop").addClass("in"), setTimeout(function () {
			h.$outer.addClass("lg-visible")
		}, this.s.backdropDuration), this.s.download && this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'), this.prevScrollTop = a(b).scrollTop()
	}, e.prototype.setTop = function () {
		if ("100%" !== this.s.height) {
			var c = a(b).height(),
				d = (c - parseInt(this.s.height, 10)) / 2,
				e = this.$outer.find(".lg");
			c >= parseInt(this.s.height, 10) ? e.css("top", d + "px") : e.css("top", "0px")
		}
	}, e.prototype.doCss = function () {
		var a = function () {
			var a = ["transition", "MozTransition", "WebkitTransition", "OTransition", "msTransition", "KhtmlTransition"],
				b = c.documentElement,
				d = 0;
			for (d = 0; d < a.length; d++)
				if (a[d] in b.style) return !0
		};
		return !!a()
	}, e.prototype.isVideo = function (a, b) {
		var c;
		if (c = this.s.dynamic ? this.s.dynamicEl[b].html : this.$items.eq(b).attr("data-html"), !a && c) return {
			html5: !0
		};
		var d = a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),
			e = a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),
			f = a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),
			g = a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);
		return d ? {
			youtube: d
		} : e ? {
			vimeo: e
		} : f ? {
			dailymotion: f
		} : g ? {
			vk: g
		} : void 0
	}, e.prototype.counter = function () {
		this.s.counter && a(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">' + (parseInt(this.index, 10) + 1) + '</span> / <span id="lg-counter-all">' + this.$items.length + "</span></div>")
	}, e.prototype.addHtml = function (b) {
		var c, d, e = null;
		if (this.s.dynamic ? this.s.dynamicEl[b].subHtmlUrl ? c = this.s.dynamicEl[b].subHtmlUrl : e = this.s.dynamicEl[b].subHtml : (d = this.$items.eq(b), d.attr("data-sub-html-url") ? c = d.attr("data-sub-html-url") : (e = d.attr("data-sub-html"), this.s.getCaptionFromTitleOrAlt && !e && (e = d.attr("title") || d.find("img").first().attr("alt")))), !c)
			if ("undefined" != typeof e && null !== e) {
				var f = e.substring(0, 1);
				"." !== f && "#" !== f || (e = this.s.subHtmlSelectorRelative && !this.s.dynamic ? d.find(e).html() : a(e).html())
			} else e = "";
		".lg-sub-html" === this.s.appendSubHtmlTo ? c ? this.$outer.find(this.s.appendSubHtmlTo).load(c) : this.$outer.find(this.s.appendSubHtmlTo).html(e) : c ? this.$slide.eq(b).load(c) : this.$slide.eq(b).append(e), "undefined" != typeof e && null !== e && ("" === e ? this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html") : this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")), this.$el.trigger("onAfterAppendSubHtml.lg", [b])
	}, e.prototype.preload = function (a) {
		var b = 1,
			c = 1;
		for (b = 1; b <= this.s.preload && !(b >= this.$items.length - a); b++) this.loadContent(a + b, !1, 0);
		for (c = 1; c <= this.s.preload && !(a - c < 0); c++) this.loadContent(a - c, !1, 0)
	}, e.prototype.loadContent = function (c, d, e) {
		var f, g, h, i, j, k, l = this,
			m = !1,
			n = function (c) {
				for (var d = [], e = [], f = 0; f < c.length; f++) {
					var h = c[f].split(" ");
					"" === h[0] && h.splice(0, 1), e.push(h[0]), d.push(h[1])
				}
				for (var i = a(b).width(), j = 0; j < d.length; j++)
					if (parseInt(d[j], 10) > i) {
						g = e[j];
						break
					}
			};
		if (l.s.dynamic) {
			if (l.s.dynamicEl[c].poster && (m = !0, h = l.s.dynamicEl[c].poster), k = l.s.dynamicEl[c].html, g = l.s.dynamicEl[c].src, l.s.dynamicEl[c].responsive) {
				var o = l.s.dynamicEl[c].responsive.split(",");
				n(o)
			}
			i = l.s.dynamicEl[c].srcset, j = l.s.dynamicEl[c].sizes
		} else {
			if (l.$items.eq(c).attr("data-poster") && (m = !0, h = l.$items.eq(c).attr("data-poster")), k = l.$items.eq(c).attr("data-html"), g = l.$items.eq(c).attr("href") || l.$items.eq(c).attr("data-src"), l.$items.eq(c).attr("data-responsive")) {
				var p = l.$items.eq(c).attr("data-responsive").split(",");
				n(p)
			}
			i = l.$items.eq(c).attr("data-srcset"), j = l.$items.eq(c).attr("data-sizes")
		}
		var q = !1;
		l.s.dynamic ? l.s.dynamicEl[c].iframe && (q = !0) : "true" === l.$items.eq(c).attr("data-iframe") && (q = !0);
		var r = l.isVideo(g, c);
		if (!l.$slide.eq(c).hasClass("lg-loaded")) {
			if (q) l.$slide.eq(c).prepend('<div class="lg-video-cont" style="max-width:' + l.s.iframeMaxWidth + '"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="' + g + '"  allowfullscreen="true"></iframe></div></div>');
			else if (m) {
				var s = "";
				s = r && r.youtube ? "lg-has-youtube" : r && r.vimeo ? "lg-has-vimeo" : "lg-has-html5", l.$slide.eq(c).prepend('<div class="lg-video-cont ' + s + ' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="' + h + '" /></div></div>')
			} else r ? (l.$slide.eq(c).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'), l.$el.trigger("hasVideo.lg", [c, g, k])) : l.$slide.eq(c).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="' + g + '" /></div>');
			if (l.$el.trigger("onAferAppendSlide.lg", [c]), f = l.$slide.eq(c).find(".lg-object"), j && f.attr("sizes", j), i) {
				f.attr("srcset", i);
				try {
					picturefill({
						elements: [f[0]]
					})
				} catch (a) {
					console.error("Make sure you have included Picturefill version 2")
				}
			}
			".lg-sub-html" !== this.s.appendSubHtmlTo && l.addHtml(c), l.$slide.eq(c).addClass("lg-loaded")
		}
		l.$slide.eq(c).find(".lg-object").on("load.lg error.lg", function () {
			var b = 0;
			e && !a("body").hasClass("lg-from-hash") && (b = e), setTimeout(function () {
				l.$slide.eq(c).addClass("lg-complete"), l.$el.trigger("onSlideItemLoad.lg", [c, e || 0])
			}, b)
		}), r && r.html5 && !m && l.$slide.eq(c).addClass("lg-complete"), d === !0 && (l.$slide.eq(c).hasClass("lg-complete") ? l.preload(c) : l.$slide.eq(c).find(".lg-object").on("load.lg error.lg", function () {
			l.preload(c)
		}))
	}, e.prototype.slide = function (b, c, d) {
		var e = this.$outer.find(".lg-current").index(),
			f = this;
		if (!f.lGalleryOn || e !== b) {
			var g = this.$slide.length,
				h = f.lGalleryOn ? this.s.speed : 0,
				i = !1,
				j = !1;
			if (!f.lgBusy) {
				if (this.s.download) {
					var k;
					k = f.s.dynamic ? f.s.dynamicEl[b].downloadUrl !== !1 && (f.s.dynamicEl[b].downloadUrl || f.s.dynamicEl[b].src) : "false" !== f.$items.eq(b).attr("data-download-url") && (f.$items.eq(b).attr("data-download-url") || f.$items.eq(b).attr("href") || f.$items.eq(b).attr("data-src")), k ? (a("#lg-download").attr("href", k), f.$outer.removeClass("lg-hide-download")) : f.$outer.addClass("lg-hide-download")
				}
				if (this.$el.trigger("onBeforeSlide.lg", [e, b, c, d]), f.lgBusy = !0, clearTimeout(f.hideBartimeout), ".lg-sub-html" === this.s.appendSubHtmlTo && setTimeout(function () {
						f.addHtml(b)
					}, h), this.arrowDisable(b), c) {
					var l = b - 1,
						m = b + 1;
					0 === b && e === g - 1 ? (m = 0, l = g - 1) : b === g - 1 && 0 === e && (m = 0, l = g - 1), this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"), f.$slide.eq(l).addClass("lg-prev-slide"), f.$slide.eq(m).addClass("lg-next-slide"), f.$slide.eq(b).addClass("lg-current")
				} else f.$outer.addClass("lg-no-trans"), this.$slide.removeClass("lg-prev-slide lg-next-slide"), b < e ? (j = !0, 0 !== b || e !== g - 1 || d || (j = !1, i = !0)) : b > e && (i = !0, b !== g - 1 || 0 !== e || d || (j = !0, i = !1)), j ? (this.$slide.eq(b).addClass("lg-prev-slide"), this.$slide.eq(e).addClass("lg-next-slide")) : i && (this.$slide.eq(b).addClass("lg-next-slide"), this.$slide.eq(e).addClass("lg-prev-slide")), setTimeout(function () {
					f.$slide.removeClass("lg-current"), f.$slide.eq(b).addClass("lg-current"), f.$outer.removeClass("lg-no-trans")
				}, 50);
				f.lGalleryOn ? (setTimeout(function () {
					f.loadContent(b, !0, 0)
				}, this.s.speed + 50), setTimeout(function () {
					f.lgBusy = !1, f.$el.trigger("onAfterSlide.lg", [e, b, c, d])
				}, this.s.speed)) : (f.loadContent(b, !0, f.s.backdropDuration), f.lgBusy = !1, f.$el.trigger("onAfterSlide.lg", [e, b, c, d])), f.lGalleryOn = !0, this.s.counter && a("#lg-counter-current").text(b + 1)
			}
		}
	}, e.prototype.goToNextSlide = function (a) {
		var b = this;
		b.lgBusy || (b.index + 1 < b.$slide.length ? (b.index++, b.$el.trigger("onBeforeNextSlide.lg", [b.index]), b.slide(b.index, a, !1)) : b.s.loop ? (b.index = 0, b.$el.trigger("onBeforeNextSlide.lg", [b.index]), b.slide(b.index, a, !1)) : b.s.slideEndAnimatoin && (b.$outer.addClass("lg-right-end"), setTimeout(function () {
			b.$outer.removeClass("lg-right-end")
		}, 400)))
	}, e.prototype.goToPrevSlide = function (a) {
		var b = this;
		b.lgBusy || (b.index > 0 ? (b.index--, b.$el.trigger("onBeforePrevSlide.lg", [b.index, a]), b.slide(b.index, a, !1)) : b.s.loop ? (b.index = b.$items.length - 1, b.$el.trigger("onBeforePrevSlide.lg", [b.index, a]), b.slide(b.index, a, !1)) : b.s.slideEndAnimatoin && (b.$outer.addClass("lg-left-end"), setTimeout(function () {
			b.$outer.removeClass("lg-left-end")
		}, 400)))
	}, e.prototype.keyPress = function () {
		var c = this;
		this.$items.length > 1 && a(b).on("keyup.lg", function (a) {
			c.$items.length > 1 && (37 === a.keyCode && (a.preventDefault(), c.goToPrevSlide()), 39 === a.keyCode && (a.preventDefault(), c.goToNextSlide()))
		}), a(b).on("keydown.lg", function (a) {
			c.s.escKey === !0 && 27 === a.keyCode && (a.preventDefault(), c.$outer.hasClass("lg-thumb-open") ? c.$outer.removeClass("lg-thumb-open") : c.destroy())
		})
	}, e.prototype.arrow = function () {
		var a = this;
		this.$outer.find(".lg-prev").on("click.lg", function () {
			a.goToPrevSlide()
		}), this.$outer.find(".lg-next").on("click.lg", function () {
			a.goToNextSlide()
		})
	}, e.prototype.arrowDisable = function (a) {
		!this.s.loop && this.s.hideControlOnEnd && (a + 1 < this.$slide.length ? this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled") : this.$outer.find(".lg-next").attr("disabled", "disabled").addClass("disabled"), a > 0 ? this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled") : this.$outer.find(".lg-prev").attr("disabled", "disabled").addClass("disabled"))
	}, e.prototype.setTranslate = function (a, b, c) {
		this.s.useLeft ? a.css("left", b) : a.css({
			transform: "translate3d(" + b + "px, " + c + "px, 0px)"
		})
	}, e.prototype.touchMove = function (b, c) {
		var d = c - b;
		Math.abs(d) > 15 && (this.$outer.addClass("lg-dragging"), this.setTranslate(this.$slide.eq(this.index), d, 0), this.setTranslate(a(".lg-prev-slide"), -this.$slide.eq(this.index).width() + d, 0), this.setTranslate(a(".lg-next-slide"), this.$slide.eq(this.index).width() + d, 0))
	}, e.prototype.touchEnd = function (a) {
		var b = this;
		"lg-slide" !== b.s.mode && b.$outer.addClass("lg-slide"), this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity", "0"), setTimeout(function () {
			b.$outer.removeClass("lg-dragging"), a < 0 && Math.abs(a) > b.s.swipeThreshold ? b.goToNextSlide(!0) : a > 0 && Math.abs(a) > b.s.swipeThreshold ? b.goToPrevSlide(!0) : Math.abs(a) < 5 && b.$el.trigger("onSlideClick.lg"), b.$slide.removeAttr("style")
		}), setTimeout(function () {
			b.$outer.hasClass("lg-dragging") || "lg-slide" === b.s.mode || b.$outer.removeClass("lg-slide")
		}, b.s.speed + 100)
	}, e.prototype.enableSwipe = function () {
		var a = this,
			b = 0,
			c = 0,
			d = !1;
		a.s.enableSwipe && a.isTouch && a.doCss() && (a.$slide.on("touchstart.lg", function (c) {
			a.$outer.hasClass("lg-zoomed") || a.lgBusy || (c.preventDefault(), a.manageSwipeClass(), b = c.originalEvent.targetTouches[0].pageX)
		}), a.$slide.on("touchmove.lg", function (e) {
			a.$outer.hasClass("lg-zoomed") || (e.preventDefault(), c = e.originalEvent.targetTouches[0].pageX, a.touchMove(b, c), d = !0)
		}), a.$slide.on("touchend.lg", function () {
			a.$outer.hasClass("lg-zoomed") || (d ? (d = !1, a.touchEnd(c - b)) : a.$el.trigger("onSlideClick.lg"))
		}))
	}, e.prototype.enableDrag = function () {
		var c = this,
			d = 0,
			e = 0,
			f = !1,
			g = !1;
		c.s.enableDrag && !c.isTouch && c.doCss() && (c.$slide.on("mousedown.lg", function (b) {
			c.$outer.hasClass("lg-zoomed") || (a(b.target).hasClass("lg-object") || a(b.target).hasClass("lg-video-play")) && (b.preventDefault(), c.lgBusy || (c.manageSwipeClass(), d = b.pageX, f = !0, c.$outer.scrollLeft += 1, c.$outer.scrollLeft -= 1, c.$outer.removeClass("lg-grab").addClass("lg-grabbing"), c.$el.trigger("onDragstart.lg")))
		}), a(b).on("mousemove.lg", function (a) {
			f && (g = !0, e = a.pageX, c.touchMove(d, e), c.$el.trigger("onDragmove.lg"))
		}), a(b).on("mouseup.lg", function (b) {
			g ? (g = !1, c.touchEnd(e - d), c.$el.trigger("onDragend.lg")) : (a(b.target).hasClass("lg-object") || a(b.target).hasClass("lg-video-play")) && c.$el.trigger("onSlideClick.lg"), f && (f = !1, c.$outer.removeClass("lg-grabbing").addClass("lg-grab"))
		}))
	}, e.prototype.manageSwipeClass = function () {
		var a = this.index + 1,
			b = this.index - 1,
			c = this.$slide.length;
		this.s.loop && (0 === this.index ? b = c - 1 : this.index === c - 1 && (a = 0)), this.$slide.removeClass("lg-next-slide lg-prev-slide"), b > -1 && this.$slide.eq(b).addClass("lg-prev-slide"), this.$slide.eq(a).addClass("lg-next-slide")
	}, e.prototype.mousewheel = function () {
		var a = this;
		a.$outer.on("mousewheel.lg", function (b) {
			b.deltaY && (b.deltaY > 0 ? a.goToPrevSlide() : a.goToNextSlide(), b.preventDefault())
		})
	}, e.prototype.closeGallery = function () {
		var b = this,
			c = !1;
		this.$outer.find(".lg-close").on("click.lg", function () {
			b.destroy()
		}), b.s.closable && (b.$outer.on("mousedown.lg", function (b) {
			c = !!(a(b.target).is(".lg-outer") || a(b.target).is(".lg-item ") || a(b.target).is(".lg-img-wrap"))
		}), b.$outer.on("mouseup.lg", function (d) {
			(a(d.target).is(".lg-outer") || a(d.target).is(".lg-item ") || a(d.target).is(".lg-img-wrap") && c) && (b.$outer.hasClass("lg-dragging") || b.destroy())
		}))
	}, e.prototype.destroy = function (c) {
		var d = this;
		c || d.$el.trigger("onBeforeClose.lg"), a(b).scrollTop(d.prevScrollTop), c && (d.s.dynamic || this.$items.off("click.lg click.lgcustom"), a.removeData(d.el, "lightGallery")), this.$el.off(".lg.tm"), a.each(a.fn.lightGallery.modules, function (a) {
			d.modules[a] && d.modules[a].destroy()
		}), this.lGalleryOn = !1, clearTimeout(d.hideBartimeout), this.hideBartimeout = !1, a(b).off(".lg"), a("body").removeClass("lg-on lg-from-hash"), d.$outer && d.$outer.removeClass("lg-visible"), a(".lg-backdrop").removeClass("in"), setTimeout(function () {
			d.$outer && d.$outer.remove(), a(".lg-backdrop").remove(), c || d.$el.trigger("onCloseAfter.lg")
		}, d.s.backdropDuration + 50)
	}, a.fn.lightGallery = function (b) {
		return this.each(function () {
			if (a.data(this, "lightGallery")) try {
				a(this).data("lightGallery").init()
			} catch (a) {
				console.error("lightGallery has not initiated properly")
			} else a.data(this, "lightGallery", new e(this, b))
		})
	}, a.fn.lightGallery.modules = {}
}(jQuery, window, document);
/*! lg-zoom - v1.0.4 - 2016-12-20
 * http://sachinchoolur.github.io/lightGallery
 * Copyright (c) 2016 Sachin N; Licensed GPLv3 */
! function (a, b) {
	"function" == typeof define && define.amd ? define(["jquery"], function (a) {
		return b(a)
	}) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(jQuery)
}(this, function (a) {
	! function () {
		"use strict";
		var b = function () {
				var a = !1,
					b = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
				return b && parseInt(b[2], 10) < 54 && (a = !0), a
			},
			c = {
				scale: 1,
				zoom: !0,
				actualSize: !0,
				enableZoomAfter: 300,
				useLeftForZoom: b()
			},
			d = function (b) {
				return this.core = a(b).data("lightGallery"), this.core.s = a.extend({}, c, this.core.s), this.core.s.zoom && this.core.doCss() && (this.init(), this.zoomabletimeout = !1, this.pageX = a(window).width() / 2, this.pageY = a(window).height() / 2 + a(window).scrollTop()), this
			};
		d.prototype.init = function () {
			var b = this,
				c = '<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';
			b.core.s.actualSize && (c += '<span id="lg-actual-size" class="lg-icon"></span>'), b.core.s.useLeftForZoom ? b.core.$outer.addClass("lg-use-left-for-zoom") : b.core.$outer.addClass("lg-use-transition-for-zoom"), this.core.$outer.find(".lg-toolbar").append(c), b.core.$el.on("onSlideItemLoad.lg.tm.zoom", function (c, d, e) {
				var f = b.core.s.enableZoomAfter + e;
				a("body").hasClass("lg-from-hash") && e ? f = 0 : a("body").removeClass("lg-from-hash"), b.zoomabletimeout = setTimeout(function () {
					b.core.$slide.eq(d).addClass("lg-zoomable")
				}, f + 30)
			});
			var d = 1,
				e = function (c) {
					var e, f, d = b.core.$outer.find(".lg-current .lg-image"),
						g = (a(window).width() - d.prop("offsetWidth")) / 2,
						h = (a(window).height() - d.prop("offsetHeight")) / 2 + a(window).scrollTop();
					e = b.pageX - g, f = b.pageY - h;
					var i = (c - 1) * e,
						j = (c - 1) * f;
					d.css("transform", "scale3d(" + c + ", " + c + ", 1)").attr("data-scale", c), b.core.s.useLeftForZoom ? d.parent().css({
						left: -i + "px",
						top: -j + "px"
					}).attr("data-x", i).attr("data-y", j) : d.parent().css("transform", "translate3d(-" + i + "px, -" + j + "px, 0)").attr("data-x", i).attr("data-y", j)
				},
				f = function () {
					d > 1 ? b.core.$outer.addClass("lg-zoomed") : b.resetZoom(), d < 1 && (d = 1), e(d)
				},
				g = function (c, e, g, h) {
					var j, i = e.prop("offsetWidth");
					j = b.core.s.dynamic ? b.core.s.dynamicEl[g].width || e[0].naturalWidth || i : b.core.$items.eq(g).attr("data-width") || e[0].naturalWidth || i;
					var k;
					b.core.$outer.hasClass("lg-zoomed") ? d = 1 : j > i && (k = j / i, d = k || 2), h ? (b.pageX = a(window).width() / 2, b.pageY = a(window).height() / 2 + a(window).scrollTop()) : (b.pageX = c.pageX || c.originalEvent.targetTouches[0].pageX, b.pageY = c.pageY || c.originalEvent.targetTouches[0].pageY), f(), setTimeout(function () {
						b.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")
					}, 10)
				},
				h = !1;
			b.core.$el.on("onAferAppendSlide.lg.tm.zoom", function (a, c) {
				var d = b.core.$slide.eq(c).find(".lg-image");
				d.on("dblclick", function (a) {
					g(a, d, c)
				}), d.on("touchstart", function (a) {
					h ? (clearTimeout(h), h = null, g(a, d, c)) : h = setTimeout(function () {
						h = null
					}, 300), a.preventDefault()
				})
			}), a(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom", function () {
				b.pageX = a(window).width() / 2, b.pageY = a(window).height() / 2 + a(window).scrollTop(), e(d)
			}), a("#lg-zoom-out").on("click.lg", function () {
				b.core.$outer.find(".lg-current .lg-image").length && (d -= b.core.s.scale, f())
			}), a("#lg-zoom-in").on("click.lg", function () {
				b.core.$outer.find(".lg-current .lg-image").length && (d += b.core.s.scale, f())
			}), a("#lg-actual-size").on("click.lg", function (a) {
				g(a, b.core.$slide.eq(b.core.index).find(".lg-image"), b.core.index, !0)
			}), b.core.$el.on("onBeforeSlide.lg.tm", function () {
				d = 1, b.resetZoom()
			}), b.core.isTouch || b.zoomDrag(), b.core.isTouch && b.zoomSwipe()
		}, d.prototype.resetZoom = function () {
			this.core.$outer.removeClass("lg-zoomed"), this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"), this.core.$slide.find(".lg-image").removeAttr("style data-scale"), this.pageX = a(window).width() / 2, this.pageY = a(window).height() / 2 + a(window).scrollTop()
		}, d.prototype.zoomSwipe = function () {
			var a = this,
				b = {},
				c = {},
				d = !1,
				e = !1,
				f = !1;
			a.core.$slide.on("touchstart.lg", function (c) {
				if (a.core.$outer.hasClass("lg-zoomed")) {
					var d = a.core.$slide.eq(a.core.index).find(".lg-object");
					f = d.prop("offsetHeight") * d.attr("data-scale") > a.core.$outer.find(".lg").height(), e = d.prop("offsetWidth") * d.attr("data-scale") > a.core.$outer.find(".lg").width(), (e || f) && (c.preventDefault(), b = {
						x: c.originalEvent.targetTouches[0].pageX,
						y: c.originalEvent.targetTouches[0].pageY
					})
				}
			}), a.core.$slide.on("touchmove.lg", function (g) {
				if (a.core.$outer.hasClass("lg-zoomed")) {
					var i, j, h = a.core.$slide.eq(a.core.index).find(".lg-img-wrap");
					g.preventDefault(), d = !0, c = {
						x: g.originalEvent.targetTouches[0].pageX,
						y: g.originalEvent.targetTouches[0].pageY
					}, a.core.$outer.addClass("lg-zoom-dragging"), j = f ? -Math.abs(h.attr("data-y")) + (c.y - b.y) : -Math.abs(h.attr("data-y")), i = e ? -Math.abs(h.attr("data-x")) + (c.x - b.x) : -Math.abs(h.attr("data-x")), (Math.abs(c.x - b.x) > 15 || Math.abs(c.y - b.y) > 15) && (a.core.s.useLeftForZoom ? h.css({
						left: i + "px",
						top: j + "px"
					}) : h.css("transform", "translate3d(" + i + "px, " + j + "px, 0)"))
				}
			}), a.core.$slide.on("touchend.lg", function () {
				a.core.$outer.hasClass("lg-zoomed") && d && (d = !1, a.core.$outer.removeClass("lg-zoom-dragging"), a.touchendZoom(b, c, e, f))
			})
		}, d.prototype.zoomDrag = function () {
			var b = this,
				c = {},
				d = {},
				e = !1,
				f = !1,
				g = !1,
				h = !1;
			b.core.$slide.on("mousedown.lg.zoom", function (d) {
				var f = b.core.$slide.eq(b.core.index).find(".lg-object");
				h = f.prop("offsetHeight") * f.attr("data-scale") > b.core.$outer.find(".lg").height(), g = f.prop("offsetWidth") * f.attr("data-scale") > b.core.$outer.find(".lg").width(), b.core.$outer.hasClass("lg-zoomed") && a(d.target).hasClass("lg-object") && (g || h) && (d.preventDefault(), c = {
					x: d.pageX,
					y: d.pageY
				}, e = !0, b.core.$outer.scrollLeft += 1, b.core.$outer.scrollLeft -= 1, b.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))
			}), a(window).on("mousemove.lg.zoom", function (a) {
				if (e) {
					var j, k, i = b.core.$slide.eq(b.core.index).find(".lg-img-wrap");
					f = !0, d = {
						x: a.pageX,
						y: a.pageY
					}, b.core.$outer.addClass("lg-zoom-dragging"), k = h ? -Math.abs(i.attr("data-y")) + (d.y - c.y) : -Math.abs(i.attr("data-y")), j = g ? -Math.abs(i.attr("data-x")) + (d.x - c.x) : -Math.abs(i.attr("data-x")), b.core.s.useLeftForZoom ? i.css({
						left: j + "px",
						top: k + "px"
					}) : i.css("transform", "translate3d(" + j + "px, " + k + "px, 0)")
				}
			}), a(window).on("mouseup.lg.zoom", function (a) {
				e && (e = !1, b.core.$outer.removeClass("lg-zoom-dragging"), !f || c.x === d.x && c.y === d.y || (d = {
					x: a.pageX,
					y: a.pageY
				}, b.touchendZoom(c, d, g, h)), f = !1), b.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")
			})
		}, d.prototype.touchendZoom = function (a, b, c, d) {
			var e = this,
				f = e.core.$slide.eq(e.core.index).find(".lg-img-wrap"),
				g = e.core.$slide.eq(e.core.index).find(".lg-object"),
				h = -Math.abs(f.attr("data-x")) + (b.x - a.x),
				i = -Math.abs(f.attr("data-y")) + (b.y - a.y),
				j = (e.core.$outer.find(".lg").height() - g.prop("offsetHeight")) / 2,
				k = Math.abs(g.prop("offsetHeight") * Math.abs(g.attr("data-scale")) - e.core.$outer.find(".lg").height() + j),
				l = (e.core.$outer.find(".lg").width() - g.prop("offsetWidth")) / 2,
				m = Math.abs(g.prop("offsetWidth") * Math.abs(g.attr("data-scale")) - e.core.$outer.find(".lg").width() + l);
			(Math.abs(b.x - a.x) > 15 || Math.abs(b.y - a.y) > 15) && (d && (i <= -k ? i = -k : i >= -j && (i = -j)), c && (h <= -m ? h = -m : h >= -l && (h = -l)), d ? f.attr("data-y", Math.abs(i)) : i = -Math.abs(f.attr("data-y")), c ? f.attr("data-x", Math.abs(h)) : h = -Math.abs(f.attr("data-x")), e.core.s.useLeftForZoom ? f.css({
				left: h + "px",
				top: i + "px"
			}) : f.css("transform", "translate3d(" + h + "px, " + i + "px, 0)"))
		}, d.prototype.destroy = function () {
			var b = this;
			b.core.$el.off(".lg.zoom"), a(window).off(".lg.zoom"), b.core.$slide.off(".lg.zoom"), b.core.$el.off(".lg.tm.zoom"), b.resetZoom(), clearTimeout(b.zoomabletimeout), b.zoomabletimeout = !1
		}, a.fn.lightGallery.modules.zoom = d
	}()
});
/*!  lightGallery video */
! function (e, o, i, l) {
	"use strict";
	var a = {
			videoMaxWidth: "855px",
			youtubePlayerParams: !1,
			vimeoPlayerParams: !1,
			dailymotionPlayerParams: !1,
			videojs: !1
		},
		s = function (o) {
			return this.core = e(o).data("lightGallery"), this.$el = e(o), this.core.s = e.extend({}, a, this.core.s), this.videoLoaded = !1, this.init(), this
		};
	s.prototype.init = function () {
		var o = this;
		o.core.$el.on("hasVideo.lg.tm", function (e, i, l, a) {
			if (o.core.$slide.eq(i).find(".lg-video").append(o.loadVideo(l, "lg-object", !0, i, a)), a)
				if (o.core.s.videojs) try {
					videojs(o.core.$slide.eq(i).find(".lg-html5").get(0), {}, function () {
						o.videoLoaded || this.play()
					})
				} catch (s) {
					console.error("Make sure you have included videojs")
				} else o.core.$slide.eq(i).find(".lg-html5").get(0).play()
		}), o.core.$el.on("onAferAppendSlide.lg.tm", function (e, i) {
			o.core.$slide.eq(i).find(".lg-video-cont").css("max-width", o.core.s.videoMaxWidth), o.videoLoaded = !0
		});
		var i = function (e) {
			if (e.find(".lg-object").hasClass("lg-has-poster") && e.find(".lg-object").is(":visible"))
				if (e.hasClass("lg-has-video")) {
					var i = e.find(".lg-youtube").get(0),
						l = e.find(".lg-vimeo").get(0),
						a = e.find(".lg-dailymotion").get(0),
						s = e.find(".lg-html5").get(0);
					if (i) i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', "*");
					else if (l) try {
							$f(l).api("play")
						} catch (r) {
							console.error("Make sure you have included froogaloop2 js")
						} else if (a) a.contentWindow.postMessage("play", "*");
						else if (s)
						if (o.core.s.videojs) try {
							videojs(s).play()
						} catch (r) {
							console.error("Make sure you have included videojs")
						} else s.play();
					e.addClass("lg-video-palying")
				} else {
					e.addClass("lg-video-palying lg-has-video");
					var t, d, c = function (i, l) {
						if (e.find(".lg-video").append(o.loadVideo(i, "", !1, o.core.index, l)), l)
							if (o.core.s.videojs) try {
								videojs(o.core.$slide.eq(o.core.index).find(".lg-html5").get(0), {}, function () {
									this.play()
								})
							} catch (a) {
								console.error("Make sure you have included videojs")
							} else o.core.$slide.eq(o.core.index).find(".lg-html5").get(0).play()
					};
					o.core.s.dynamic ? (t = o.core.s.dynamicEl[o.core.index].src, d = o.core.s.dynamicEl[o.core.index].html, c(t, d)) : (t = o.core.$items.eq(o.core.index).attr("href") || o.core.$items.eq(o.core.index).attr("data-src"), d = o.core.$items.eq(o.core.index).attr("data-html"), c(t, d));
					var n = e.find(".lg-object");
					e.find(".lg-video").append(n), e.find(".lg-video-object").hasClass("lg-html5") || (e.removeClass("lg-complete"), e.find(".lg-video-object").on("load.lg error.lg", function () {
						e.addClass("lg-complete")
					}))
				}
		};
		o.core.doCss() && o.core.$items.length > 1 && (o.core.s.enableSwipe && o.core.isTouch || o.core.s.enableDrag && !o.core.isTouch) ? o.core.$el.on("onSlideClick.lg.tm", function () {
			var e = o.core.$slide.eq(o.core.index);
			i(e)
		}) : o.core.$slide.on("click.lg", function () {
			i(e(this))
		}), o.core.$el.on("onBeforeSlide.lg.tm", function (e, i, l) {
			var a = o.core.$slide.eq(i),
				s = a.find(".lg-youtube").get(0),
				r = a.find(".lg-vimeo").get(0),
				t = a.find(".lg-dailymotion").get(0),
				d = a.find(".lg-html5").get(0);
			if (s) s.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*");
			else if (r) try {
					$f(r).api("pause")
				} catch (c) {
					console.error("Make sure you have included froogaloop2 js")
				} else if (t) t.contentWindow.postMessage("pause", "*");
				else if (d)
				if (o.core.s.videojs) try {
					videojs(d).pause()
				} catch (c) {
					console.error("Make sure you have included videojs")
				} else d.pause();
			var n;
			n = o.core.s.dynamic ? o.core.s.dynamicEl[l].src : o.core.$items.eq(l).attr("href") || o.core.$items.eq(l).attr("data-src");
			var m = o.core.isVideo(n, l) || {};
			(m.youtube || m.vimeo || m.dailymotion) && o.core.$outer.addClass("lg-hide-download")
		}), o.core.$el.on("onAfterSlide.lg.tm", function (e, i) {
			o.core.$slide.eq(i).removeClass("lg-video-palying")
		})
	}, s.prototype.loadVideo = function (o, i, l, a, s) {
		var r = "",
			t = 1,
			d = "",
			c = this.core.isVideo(o, a) || {};
		if (l && (t = this.videoLoaded ? 0 : 1), c.youtube) d = "?wmode=opaque&autoplay=" + t + "&enablejsapi=1", this.core.s.youtubePlayerParams && (d = d + "&" + e.param(this.core.s.youtubePlayerParams)), r = '<iframe class="lg-video-object lg-youtube ' + i + '" width="560" height="315" src="//www.youtube.com/embed/' + c.youtube[1] + d + '" frameborder="0" allowfullscreen></iframe>';
		else if (c.vimeo) d = "?autoplay=" + t + "&api=1", this.core.s.vimeoPlayerParams && (d = d + "&" + e.param(this.core.s.vimeoPlayerParams)), r = '<iframe class="lg-video-object lg-vimeo ' + i + '" width="560" height="315"  src="http://player.vimeo.com/video/' + c.vimeo[1] + d + '" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
		else if (c.dailymotion) d = "?wmode=opaque&autoplay=" + t + "&api=postMessage", this.core.s.dailymotionPlayerParams && (d = d + "&" + e.param(this.core.s.dailymotionPlayerParams)), r = '<iframe class="lg-video-object lg-dailymotion ' + i + '" width="560" height="315" src="//www.dailymotion.com/embed/video/' + c.dailymotion[1] + d + '" frameborder="0" allowfullscreen></iframe>';
		else if (c.html5) {
			var n = s.substring(0, 1);
			("." === n || "#" === n) && (s = e(s).html()), r = s
		}
		return r
	}, s.prototype.destroy = function () {
		this.videoLoaded = !1
	}, e.fn.lightGallery.modules.video = s
}(jQuery, window, document);


/*!
 * Isotope PACKAGED v2.2.2
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2015 Metafizzy
 */
! function (a) {
	function b() {}

	function c(a) {
		function c(b) {
			b.prototype.option || (b.prototype.option = function (b) {
				a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b))
			})
		}

		function e(b, c) {
			a.fn[b] = function (e) {
				if ("string" == typeof e) {
					for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) {
						var j = this[h],
							k = a.data(j, b);
						if (k)
							if (a.isFunction(k[e]) && "_" !== e.charAt(0)) {
								var l = k[e].apply(k, g);
								if (void 0 !== l) return l
							} else f("no such method '" + e + "' for " + b + " instance");
						else f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'")
					}
					return this
				}
				return this.each(function () {
					var d = a.data(this, b);
					d ? (d.option(e), d._init()) : (d = new c(this, e), a.data(this, b, d))
				})
			}
		}
		if (a) {
			var f = "undefined" == typeof console ? b : function (a) {
				console.error(a)
			};
			return a.bridget = function (a, b) {
				c(b), e(a, b)
			}, a.bridget
		}
	}
	var d = Array.prototype.slice;
	"function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], c) : c("object" == typeof exports ? require("jquery") : a.jQuery)
}(window),
function (a) {
	function b(b) {
		var c = a.event;
		return c.target = c.target || c.srcElement || b, c
	}
	var c = document.documentElement,
		d = function () {};
	c.addEventListener ? d = function (a, b, c) {
		a.addEventListener(b, c, !1)
	} : c.attachEvent && (d = function (a, c, d) {
		a[c + d] = d.handleEvent ? function () {
			var c = b(a);
			d.handleEvent.call(d, c)
		} : function () {
			var c = b(a);
			d.call(a, c)
		}, a.attachEvent("on" + c, a[c + d])
	});
	var e = function () {};
	c.removeEventListener ? e = function (a, b, c) {
		a.removeEventListener(b, c, !1)
	} : c.detachEvent && (e = function (a, b, c) {
		a.detachEvent("on" + b, a[b + c]);
		try {
			delete a[b + c]
		} catch (d) {
			a[b + c] = void 0
		}
	});
	var f = {
		bind: d,
		unbind: e
	};
	"function" == typeof define && define.amd ? define("eventie/eventie", f) : "object" == typeof exports ? module.exports = f : a.eventie = f
}(window),
function () {
	"use strict";

	function a() {}

	function b(a, b) {
		for (var c = a.length; c--;)
			if (a[c].listener === b) return c;
		return -1
	}

	function c(a) {
		return function () {
			return this[a].apply(this, arguments)
		}
	}
	var d = a.prototype,
		e = this,
		f = e.EventEmitter;
	d.getListeners = function (a) {
		var b, c, d = this._getEvents();
		if (a instanceof RegExp) {
			b = {};
			for (c in d) d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
		} else b = d[a] || (d[a] = []);
		return b
	}, d.flattenListeners = function (a) {
		var b, c = [];
		for (b = 0; b < a.length; b += 1) c.push(a[b].listener);
		return c
	}, d.getListenersAsObject = function (a) {
		var b, c = this.getListeners(a);
		return c instanceof Array && (b = {}, b[a] = c), b || c
	}, d.addListener = function (a, c) {
		var d, e = this.getListenersAsObject(a),
			f = "object" == typeof c;
		for (d in e) e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
			listener: c,
			once: !1
		});
		return this
	}, d.on = c("addListener"), d.addOnceListener = function (a, b) {
		return this.addListener(a, {
			listener: b,
			once: !0
		})
	}, d.once = c("addOnceListener"), d.defineEvent = function (a) {
		return this.getListeners(a), this
	}, d.defineEvents = function (a) {
		for (var b = 0; b < a.length; b += 1) this.defineEvent(a[b]);
		return this
	}, d.removeListener = function (a, c) {
		var d, e, f = this.getListenersAsObject(a);
		for (e in f) f.hasOwnProperty(e) && (d = b(f[e], c), -1 !== d && f[e].splice(d, 1));
		return this
	}, d.off = c("removeListener"), d.addListeners = function (a, b) {
		return this.manipulateListeners(!1, a, b)
	}, d.removeListeners = function (a, b) {
		return this.manipulateListeners(!0, a, b)
	}, d.manipulateListeners = function (a, b, c) {
		var d, e, f = a ? this.removeListener : this.addListener,
			g = a ? this.removeListeners : this.addListeners;
		if ("object" != typeof b || b instanceof RegExp)
			for (d = c.length; d--;) f.call(this, b, c[d]);
		else
			for (d in b) b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
		return this
	}, d.removeEvent = function (a) {
		var b, c = typeof a,
			d = this._getEvents();
		if ("string" === c) delete d[a];
		else if (a instanceof RegExp)
			for (b in d) d.hasOwnProperty(b) && a.test(b) && delete d[b];
		else delete this._events;
		return this
	}, d.removeAllListeners = c("removeEvent"), d.emitEvent = function (a, b) {
		var c, d, e, f, g = this.getListenersAsObject(a);
		for (e in g)
			if (g.hasOwnProperty(e))
				for (d = g[e].length; d--;) c = g[e][d], c.once === !0 && this.removeListener(a, c.listener), f = c.listener.apply(this, b || []), f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
		return this
	}, d.trigger = c("emitEvent"), d.emit = function (a) {
		var b = Array.prototype.slice.call(arguments, 1);
		return this.emitEvent(a, b)
	}, d.setOnceReturnValue = function (a) {
		return this._onceReturnValue = a, this
	}, d._getOnceReturnValue = function () {
		return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
	}, d._getEvents = function () {
		return this._events || (this._events = {})
	}, a.noConflict = function () {
		return e.EventEmitter = f, a
	}, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function () {
		return a
	}) : "object" == typeof module && module.exports ? module.exports = a : e.EventEmitter = a
}.call(this),
	function (a) {
		function b(a) {
			if (a) {
				if ("string" == typeof d[a]) return a;
				a = a.charAt(0).toUpperCase() + a.slice(1);
				for (var b, e = 0, f = c.length; f > e; e++)
					if (b = c[e] + a, "string" == typeof d[b]) return b
			}
		}
		var c = "Webkit Moz ms Ms O".split(" "),
			d = document.documentElement.style;
		"function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function () {
			return b
		}) : "object" == typeof exports ? module.exports = b : a.getStyleProperty = b
	}(window),
	function (a, b) {
		function c(a) {
			var b = parseFloat(a),
				c = -1 === a.indexOf("%") && !isNaN(b);
			return c && b
		}

		function d() {}

		function e() {
			for (var a = {
					width: 0,
					height: 0,
					innerWidth: 0,
					innerHeight: 0,
					outerWidth: 0,
					outerHeight: 0
				}, b = 0, c = h.length; c > b; b++) {
				var d = h[b];
				a[d] = 0
			}
			return a
		}

		function f(b) {
			function d() {
				if (!m) {
					m = !0;
					var d = a.getComputedStyle;
					if (j = function () {
							var a = d ? function (a) {
								return d(a, null)
							} : function (a) {
								return a.currentStyle
							};
							return function (b) {
								var c = a(b);
								return c || g("Style returned " + c + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"), c
							}
						}(), k = b("boxSizing")) {
						var e = document.createElement("div");
						e.style.width = "200px", e.style.padding = "1px 2px 3px 4px", e.style.borderStyle = "solid", e.style.borderWidth = "1px 2px 3px 4px", e.style[k] = "border-box";
						var f = document.body || document.documentElement;
						f.appendChild(e);
						var h = j(e);
						l = 200 === c(h.width), f.removeChild(e)
					}
				}
			}

			function f(a) {
				if (d(), "string" == typeof a && (a = document.querySelector(a)), a && "object" == typeof a && a.nodeType) {
					var b = j(a);
					if ("none" === b.display) return e();
					var f = {};
					f.width = a.offsetWidth, f.height = a.offsetHeight;
					for (var g = f.isBorderBox = !(!k || !b[k] || "border-box" !== b[k]), m = 0, n = h.length; n > m; m++) {
						var o = h[m],
							p = b[o];
						p = i(a, p);
						var q = parseFloat(p);
						f[o] = isNaN(q) ? 0 : q
					}
					var r = f.paddingLeft + f.paddingRight,
						s = f.paddingTop + f.paddingBottom,
						t = f.marginLeft + f.marginRight,
						u = f.marginTop + f.marginBottom,
						v = f.borderLeftWidth + f.borderRightWidth,
						w = f.borderTopWidth + f.borderBottomWidth,
						x = g && l,
						y = c(b.width);
					y !== !1 && (f.width = y + (x ? 0 : r + v));
					var z = c(b.height);
					return z !== !1 && (f.height = z + (x ? 0 : s + w)), f.innerWidth = f.width - (r + v), f.innerHeight = f.height - (s + w), f.outerWidth = f.width + t, f.outerHeight = f.height + u, f
				}
			}

			function i(b, c) {
				if (a.getComputedStyle || -1 === c.indexOf("%")) return c;
				var d = b.style,
					e = d.left,
					f = b.runtimeStyle,
					g = f && f.left;
				return g && (f.left = b.currentStyle.left), d.left = c, c = d.pixelLeft, d.left = e, g && (f.left = g), c
			}
			var j, k, l, m = !1;
			return f
		}
		var g = "undefined" == typeof console ? d : function (a) {
				console.error(a)
			},
			h = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
		"function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], f) : "object" == typeof exports ? module.exports = f(require("desandro-get-style-property")) : a.getSize = f(a.getStyleProperty)
	}(window),
	function (a) {
		function b(a) {
			"function" == typeof a && (b.isReady ? a() : g.push(a))
		}

		function c(a) {
			var c = "readystatechange" === a.type && "complete" !== f.readyState;
			b.isReady || c || d()
		}

		function d() {
			b.isReady = !0;
			for (var a = 0, c = g.length; c > a; a++) {
				var d = g[a];
				d()
			}
		}

		function e(e) {
			return "complete" === f.readyState ? d() : (e.bind(f, "DOMContentLoaded", c), e.bind(f, "readystatechange", c), e.bind(a, "load", c)), b
		}
		var f = a.document,
			g = [];
		b.isReady = !1, "function" == typeof define && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], e) : "object" == typeof exports ? module.exports = e(require("eventie")) : a.docReady = e(a.eventie)
	}(window),
	function (a) {
		"use strict";

		function b(a, b) {
			return a[g](b)
		}

		function c(a) {
			if (!a.parentNode) {
				var b = document.createDocumentFragment();
				b.appendChild(a)
			}
		}

		function d(a, b) {
			c(a);
			for (var d = a.parentNode.querySelectorAll(b), e = 0, f = d.length; f > e; e++)
				if (d[e] === a) return !0;
			return !1
		}

		function e(a, d) {
			return c(a), b(a, d)
		}
		var f, g = function () {
			if (a.matches) return "matches";
			if (a.matchesSelector) return "matchesSelector";
			for (var b = ["webkit", "moz", "ms", "o"], c = 0, d = b.length; d > c; c++) {
				var e = b[c],
					f = e + "MatchesSelector";
				if (a[f]) return f
			}
		}();
		if (g) {
			var h = document.createElement("div"),
				i = b(h, "div");
			f = i ? b : e
		} else f = d;
		"function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function () {
			return f
		}) : "object" == typeof exports ? module.exports = f : window.matchesSelector = f
	}(Element.prototype),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function (c, d) {
			return b(a, c, d)
		}) : "object" == typeof exports ? module.exports = b(a, require("doc-ready"), require("desandro-matches-selector")) : a.fizzyUIUtils = b(a, a.docReady, a.matchesSelector)
	}(window, function (a, b, c) {
		var d = {};
		d.extend = function (a, b) {
			for (var c in b) a[c] = b[c];
			return a
		}, d.modulo = function (a, b) {
			return (a % b + b) % b
		};
		var e = Object.prototype.toString;
		d.isArray = function (a) {
			return "[object Array]" == e.call(a)
		}, d.makeArray = function (a) {
			var b = [];
			if (d.isArray(a)) b = a;
			else if (a && "number" == typeof a.length)
				for (var c = 0, e = a.length; e > c; c++) b.push(a[c]);
			else b.push(a);
			return b
		}, d.indexOf = Array.prototype.indexOf ? function (a, b) {
			return a.indexOf(b)
		} : function (a, b) {
			for (var c = 0, d = a.length; d > c; c++)
				if (a[c] === b) return c;
			return -1
		}, d.removeFrom = function (a, b) {
			var c = d.indexOf(a, b); - 1 != c && a.splice(c, 1)
		}, d.isElement = "function" == typeof HTMLElement || "object" == typeof HTMLElement ? function (a) {
			return a instanceof HTMLElement
		} : function (a) {
			return a && "object" == typeof a && 1 == a.nodeType && "string" == typeof a.nodeName
		}, d.setText = function () {
			function a(a, c) {
				b = b || (void 0 !== document.documentElement.textContent ? "textContent" : "innerText"), a[b] = c
			}
			var b;
			return a
		}(), d.getParent = function (a, b) {
			for (; a != document.body;)
				if (a = a.parentNode, c(a, b)) return a
		}, d.getQueryElement = function (a) {
			return "string" == typeof a ? document.querySelector(a) : a
		}, d.handleEvent = function (a) {
			var b = "on" + a.type;
			this[b] && this[b](a)
		}, d.filterFindElements = function (a, b) {
			a = d.makeArray(a);
			for (var e = [], f = 0, g = a.length; g > f; f++) {
				var h = a[f];
				if (d.isElement(h))
					if (b) {
						c(h, b) && e.push(h);
						for (var i = h.querySelectorAll(b), j = 0, k = i.length; k > j; j++) e.push(i[j])
					} else e.push(h)
			}
			return e
		}, d.debounceMethod = function (a, b, c) {
			var d = a.prototype[b],
				e = b + "Timeout";
			a.prototype[b] = function () {
				var a = this[e];
				a && clearTimeout(a);
				var b = arguments,
					f = this;
				this[e] = setTimeout(function () {
					d.apply(f, b), delete f[e]
				}, c || 100)
			}
		}, d.toDashed = function (a) {
			return a.replace(/(.)([A-Z])/g, function (a, b, c) {
				return b + "-" + c
			}).toLowerCase()
		};
		var f = a.console;
		return d.htmlInit = function (c, e) {
			b(function () {
				for (var b = d.toDashed(e), g = document.querySelectorAll(".js-" + b), h = "data-" + b + "-options", i = 0, j = g.length; j > i; i++) {
					var k, l = g[i],
						m = l.getAttribute(h);
					try {
						k = m && JSON.parse(m)
					} catch (n) {
						f && f.error("Error parsing " + h + " on " + l.nodeName.toLowerCase() + (l.id ? "#" + l.id : "") + ": " + n);
						continue
					}
					var o = new c(l, k),
						p = a.jQuery;
					p && p.data(l, e, o)
				}
			})
		}, d
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function (c, d, e, f) {
			return b(a, c, d, e, f)
		}) : "object" == typeof exports ? module.exports = b(a, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (a.Outlayer = {}, a.Outlayer.Item = b(a, a.EventEmitter, a.getSize, a.getStyleProperty, a.fizzyUIUtils))
	}(window, function (a, b, c, d, e) {
		"use strict";

		function f(a) {
			for (var b in a) return !1;
			return b = null, !0
		}

		function g(a, b) {
			a && (this.element = a, this.layout = b, this.position = {
				x: 0,
				y: 0
			}, this._create())
		}

		function h(a) {
			return a.replace(/([A-Z])/g, function (a) {
				return "-" + a.toLowerCase()
			})
		}
		var i = a.getComputedStyle,
			j = i ? function (a) {
				return i(a, null)
			} : function (a) {
				return a.currentStyle
			},
			k = d("transition"),
			l = d("transform"),
			m = k && l,
			n = !!d("perspective"),
			o = {
				WebkitTransition: "webkitTransitionEnd",
				MozTransition: "transitionend",
				OTransition: "otransitionend",
				transition: "transitionend"
			} [k],
			p = ["transform", "transition", "transitionDuration", "transitionProperty"],
			q = function () {
				for (var a = {}, b = 0, c = p.length; c > b; b++) {
					var e = p[b],
						f = d(e);
					f && f !== e && (a[e] = f)
				}
				return a
			}();
		e.extend(g.prototype, b.prototype), g.prototype._create = function () {
			this._transn = {
				ingProperties: {},
				clean: {},
				onEnd: {}
			}, this.css({
				position: "absolute"
			})
		}, g.prototype.handleEvent = function (a) {
			var b = "on" + a.type;
			this[b] && this[b](a)
		}, g.prototype.getSize = function () {
			this.size = c(this.element)
		}, g.prototype.css = function (a) {
			var b = this.element.style;
			for (var c in a) {
				var d = q[c] || c;
				b[d] = a[c]
			}
		}, g.prototype.getPosition = function () {
			var a = j(this.element),
				b = this.layout.options,
				c = b.isOriginLeft,
				d = b.isOriginTop,
				e = a[c ? "left" : "right"],
				f = a[d ? "top" : "bottom"],
				g = this.layout.size,
				h = -1 != e.indexOf("%") ? parseFloat(e) / 100 * g.width : parseInt(e, 10),
				i = -1 != f.indexOf("%") ? parseFloat(f) / 100 * g.height : parseInt(f, 10);
			h = isNaN(h) ? 0 : h, i = isNaN(i) ? 0 : i, h -= c ? g.paddingLeft : g.paddingRight, i -= d ? g.paddingTop : g.paddingBottom, this.position.x = h, this.position.y = i
		}, g.prototype.layoutPosition = function () {
			var a = this.layout.size,
				b = this.layout.options,
				c = {},
				d = b.isOriginLeft ? "paddingLeft" : "paddingRight",
				e = b.isOriginLeft ? "left" : "right",
				f = b.isOriginLeft ? "right" : "left",
				g = this.position.x + a[d];
			c[e] = this.getXValue(g), c[f] = "";
			var h = b.isOriginTop ? "paddingTop" : "paddingBottom",
				i = b.isOriginTop ? "top" : "bottom",
				j = b.isOriginTop ? "bottom" : "top",
				k = this.position.y + a[h];
			c[i] = this.getYValue(k), c[j] = "", this.css(c), this.emitEvent("layout", [this])
		}, g.prototype.getXValue = function (a) {
			var b = this.layout.options;
			return b.percentPosition && !b.isHorizontal ? a / this.layout.size.width * 100 + "%" : a + "px"
		}, g.prototype.getYValue = function (a) {
			var b = this.layout.options;
			return b.percentPosition && b.isHorizontal ? a / this.layout.size.height * 100 + "%" : a + "px"
		}, g.prototype._transitionTo = function (a, b) {
			this.getPosition();
			var c = this.position.x,
				d = this.position.y,
				e = parseInt(a, 10),
				f = parseInt(b, 10),
				g = e === this.position.x && f === this.position.y;
			if (this.setPosition(a, b), g && !this.isTransitioning) return void this.layoutPosition();
			var h = a - c,
				i = b - d,
				j = {};
			j.transform = this.getTranslate(h, i), this.transition({
				to: j,
				onTransitionEnd: {
					transform: this.layoutPosition
				},
				isCleaning: !0
			})
		}, g.prototype.getTranslate = function (a, b) {
			var c = this.layout.options;
			return a = c.isOriginLeft ? a : -a, b = c.isOriginTop ? b : -b, n ? "translate3d(" + a + "px, " + b + "px, 0)" : "translate(" + a + "px, " + b + "px)"
		}, g.prototype.goTo = function (a, b) {
			this.setPosition(a, b), this.layoutPosition()
		}, g.prototype.moveTo = m ? g.prototype._transitionTo : g.prototype.goTo, g.prototype.setPosition = function (a, b) {
			this.position.x = parseInt(a, 10), this.position.y = parseInt(b, 10)
		}, g.prototype._nonTransition = function (a) {
			this.css(a.to), a.isCleaning && this._removeStyles(a.to);
			for (var b in a.onTransitionEnd) a.onTransitionEnd[b].call(this)
		}, g.prototype._transition = function (a) {
			if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(a);
			var b = this._transn;
			for (var c in a.onTransitionEnd) b.onEnd[c] = a.onTransitionEnd[c];
			for (c in a.to) b.ingProperties[c] = !0, a.isCleaning && (b.clean[c] = !0);
			if (a.from) {
				this.css(a.from);
				var d = this.element.offsetHeight;
				d = null
			}
			this.enableTransition(a.to), this.css(a.to), this.isTransitioning = !0
		};
		var r = "opacity," + h(q.transform || "transform");
		g.prototype.enableTransition = function () {
			this.isTransitioning || (this.css({
				transitionProperty: r,
				transitionDuration: this.layout.options.transitionDuration
			}), this.element.addEventListener(o, this, !1))
		}, g.prototype.transition = g.prototype[k ? "_transition" : "_nonTransition"], g.prototype.onwebkitTransitionEnd = function (a) {
			this.ontransitionend(a)
		}, g.prototype.onotransitionend = function (a) {
			this.ontransitionend(a)
		};
		var s = {
			"-webkit-transform": "transform",
			"-moz-transform": "transform",
			"-o-transform": "transform"
		};
		g.prototype.ontransitionend = function (a) {
			if (a.target === this.element) {
				var b = this._transn,
					c = s[a.propertyName] || a.propertyName;
				if (delete b.ingProperties[c], f(b.ingProperties) && this.disableTransition(), c in b.clean && (this.element.style[a.propertyName] = "", delete b.clean[c]), c in b.onEnd) {
					var d = b.onEnd[c];
					d.call(this), delete b.onEnd[c]
				}
				this.emitEvent("transitionEnd", [this])
			}
		}, g.prototype.disableTransition = function () {
			this.removeTransitionStyles(), this.element.removeEventListener(o, this, !1), this.isTransitioning = !1
		}, g.prototype._removeStyles = function (a) {
			var b = {};
			for (var c in a) b[c] = "";
			this.css(b)
		};
		var t = {
			transitionProperty: "",
			transitionDuration: ""
		};
		return g.prototype.removeTransitionStyles = function () {
			this.css(t)
		}, g.prototype.removeElem = function () {
			this.element.parentNode.removeChild(this.element), this.css({
				display: ""
			}), this.emitEvent("remove", [this])
		}, g.prototype.remove = function () {
			if (!k || !parseFloat(this.layout.options.transitionDuration)) return void this.removeElem();
			var a = this;
			this.once("transitionEnd", function () {
				a.removeElem()
			}), this.hide()
		}, g.prototype.reveal = function () {
			delete this.isHidden, this.css({
				display: ""
			});
			var a = this.layout.options,
				b = {},
				c = this.getHideRevealTransitionEndProperty("visibleStyle");
			b[c] = this.onRevealTransitionEnd, this.transition({
				from: a.hiddenStyle,
				to: a.visibleStyle,
				isCleaning: !0,
				onTransitionEnd: b
			})
		}, g.prototype.onRevealTransitionEnd = function () {
			this.isHidden || this.emitEvent("reveal")
		}, g.prototype.getHideRevealTransitionEndProperty = function (a) {
			var b = this.layout.options[a];
			if (b.opacity) return "opacity";
			for (var c in b) return c
		}, g.prototype.hide = function () {
			this.isHidden = !0, this.css({
				display: ""
			});
			var a = this.layout.options,
				b = {},
				c = this.getHideRevealTransitionEndProperty("hiddenStyle");
			b[c] = this.onHideTransitionEnd, this.transition({
				from: a.visibleStyle,
				to: a.hiddenStyle,
				isCleaning: !0,
				onTransitionEnd: b
			})
		}, g.prototype.onHideTransitionEnd = function () {
			this.isHidden && (this.css({
				display: "none"
			}), this.emitEvent("hide"))
		}, g.prototype.destroy = function () {
			this.css({
				position: "",
				left: "",
				right: "",
				top: "",
				bottom: "",
				transition: "",
				transform: ""
			})
		}, g
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function (c, d, e, f, g) {
			return b(a, c, d, e, f, g)
		}) : "object" == typeof exports ? module.exports = b(a, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : a.Outlayer = b(a, a.eventie, a.EventEmitter, a.getSize, a.fizzyUIUtils, a.Outlayer.Item)
	}(window, function (a, b, c, d, e, f) {
		"use strict";

		function g(a, b) {
			var c = e.getQueryElement(a);
			if (!c) return void(h && h.error("Bad element for " + this.constructor.namespace + ": " + (c || a)));
			this.element = c, i && (this.$element = i(this.element)), this.options = e.extend({}, this.constructor.defaults), this.option(b);
			var d = ++k;
			this.element.outlayerGUID = d, l[d] = this, this._create(), this.options.isInitLayout && this.layout()
		}
		var h = a.console,
			i = a.jQuery,
			j = function () {},
			k = 0,
			l = {};
		return g.namespace = "outlayer", g.Item = f, g.defaults = {
			containerStyle: {
				position: "relative"
			},
			isInitLayout: !0,
			isOriginLeft: !0,
			isOriginTop: !0,
			isResizeBound: !0,
			isResizingContainer: !0,
			transitionDuration: "0.4s",
			hiddenStyle: {
				opacity: 0,
				transform: "scale(0.001)"
			},
			visibleStyle: {
				opacity: 1,
				transform: "scale(1)"
			}
		}, e.extend(g.prototype, c.prototype), g.prototype.option = function (a) {
			e.extend(this.options, a)
		}, g.prototype._create = function () {
			this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), e.extend(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
		}, g.prototype.reloadItems = function () {
			this.items = this._itemize(this.element.children)
		}, g.prototype._itemize = function (a) {
			for (var b = this._filterFindItemElements(a), c = this.constructor.Item, d = [], e = 0, f = b.length; f > e; e++) {
				var g = b[e],
					h = new c(g, this);
				d.push(h)
			}
			return d
		}, g.prototype._filterFindItemElements = function (a) {
			return e.filterFindElements(a, this.options.itemSelector)
		}, g.prototype.getItemElements = function () {
			for (var a = [], b = 0, c = this.items.length; c > b; b++) a.push(this.items[b].element);
			return a
		}, g.prototype.layout = function () {
			this._resetLayout(), this._manageStamps();
			var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
			this.layoutItems(this.items, a), this._isLayoutInited = !0
		}, g.prototype._init = g.prototype.layout, g.prototype._resetLayout = function () {
			this.getSize()
		}, g.prototype.getSize = function () {
			this.size = d(this.element)
		}, g.prototype._getMeasurement = function (a, b) {
			var c, f = this.options[a];
			f ? ("string" == typeof f ? c = this.element.querySelector(f) : e.isElement(f) && (c = f), this[a] = c ? d(c)[b] : f) : this[a] = 0
		}, g.prototype.layoutItems = function (a, b) {
			a = this._getItemsForLayout(a), this._layoutItems(a, b), this._postLayout()
		}, g.prototype._getItemsForLayout = function (a) {
			for (var b = [], c = 0, d = a.length; d > c; c++) {
				var e = a[c];
				e.isIgnored || b.push(e)
			}
			return b
		}, g.prototype._layoutItems = function (a, b) {
			if (this._emitCompleteOnItems("layout", a), a && a.length) {
				for (var c = [], d = 0, e = a.length; e > d; d++) {
					var f = a[d],
						g = this._getItemLayoutPosition(f);
					g.item = f, g.isInstant = b || f.isLayoutInstant, c.push(g)
				}
				this._processLayoutQueue(c)
			}
		}, g.prototype._getItemLayoutPosition = function () {
			return {
				x: 0,
				y: 0
			}
		}, g.prototype._processLayoutQueue = function (a) {
			for (var b = 0, c = a.length; c > b; b++) {
				var d = a[b];
				this._positionItem(d.item, d.x, d.y, d.isInstant)
			}
		}, g.prototype._positionItem = function (a, b, c, d) {
			d ? a.goTo(b, c) : a.moveTo(b, c)
		}, g.prototype._postLayout = function () {
			this.resizeContainer()
		}, g.prototype.resizeContainer = function () {
			if (this.options.isResizingContainer) {
				var a = this._getContainerSize();
				a && (this._setContainerMeasure(a.width, !0), this._setContainerMeasure(a.height, !1))
			}
		}, g.prototype._getContainerSize = j, g.prototype._setContainerMeasure = function (a, b) {
			if (void 0 !== a) {
				var c = this.size;
				c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth), a = Math.max(a, 0), this.element.style[b ? "width" : "height"] = a + "px"
			}
		}, g.prototype._emitCompleteOnItems = function (a, b) {
			function c() {
				e.dispatchEvent(a + "Complete", null, [b])
			}

			function d() {
				g++, g === f && c()
			}
			var e = this,
				f = b.length;
			if (!b || !f) return void c();
			for (var g = 0, h = 0, i = b.length; i > h; h++) {
				var j = b[h];
				j.once(a, d)
			}
		}, g.prototype.dispatchEvent = function (a, b, c) {
			var d = b ? [b].concat(c) : c;
			if (this.emitEvent(a, d), i)
				if (this.$element = this.$element || i(this.element), b) {
					var e = i.Event(b);
					e.type = a, this.$element.trigger(e, c)
				} else this.$element.trigger(a, c)
		}, g.prototype.ignore = function (a) {
			var b = this.getItem(a);
			b && (b.isIgnored = !0)
		}, g.prototype.unignore = function (a) {
			var b = this.getItem(a);
			b && delete b.isIgnored
		}, g.prototype.stamp = function (a) {
			if (a = this._find(a)) {
				this.stamps = this.stamps.concat(a);
				for (var b = 0, c = a.length; c > b; b++) {
					var d = a[b];
					this.ignore(d)
				}
			}
		}, g.prototype.unstamp = function (a) {
			if (a = this._find(a))
				for (var b = 0, c = a.length; c > b; b++) {
					var d = a[b];
					e.removeFrom(this.stamps, d), this.unignore(d)
				}
		}, g.prototype._find = function (a) {
			return a ? ("string" == typeof a && (a = this.element.querySelectorAll(a)), a = e.makeArray(a)) : void 0
		}, g.prototype._manageStamps = function () {
			if (this.stamps && this.stamps.length) {
				this._getBoundingRect();
				for (var a = 0, b = this.stamps.length; b > a; a++) {
					var c = this.stamps[a];
					this._manageStamp(c)
				}
			}
		}, g.prototype._getBoundingRect = function () {
			var a = this.element.getBoundingClientRect(),
				b = this.size;
			this._boundingRect = {
				left: a.left + b.paddingLeft + b.borderLeftWidth,
				top: a.top + b.paddingTop + b.borderTopWidth,
				right: a.right - (b.paddingRight + b.borderRightWidth),
				bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
			}
		}, g.prototype._manageStamp = j, g.prototype._getElementOffset = function (a) {
			var b = a.getBoundingClientRect(),
				c = this._boundingRect,
				e = d(a),
				f = {
					left: b.left - c.left - e.marginLeft,
					top: b.top - c.top - e.marginTop,
					right: c.right - b.right - e.marginRight,
					bottom: c.bottom - b.bottom - e.marginBottom
				};
			return f
		}, g.prototype.handleEvent = function (a) {
			var b = "on" + a.type;
			this[b] && this[b](a)
		}, g.prototype.bindResize = function () {
			this.isResizeBound || (b.bind(a, "resize", this), this.isResizeBound = !0)
		}, g.prototype.unbindResize = function () {
			this.isResizeBound && b.unbind(a, "resize", this), this.isResizeBound = !1
		}, g.prototype.onresize = function () {
			function a() {
				b.resize(), delete b.resizeTimeout
			}
			this.resizeTimeout && clearTimeout(this.resizeTimeout);
			var b = this;
			this.resizeTimeout = setTimeout(a, 100)
		}, g.prototype.resize = function () {
			this.isResizeBound && this.needsResizeLayout() && this.layout()
		}, g.prototype.needsResizeLayout = function () {
			var a = d(this.element),
				b = this.size && a;
			return b && a.innerWidth !== this.size.innerWidth
		}, g.prototype.addItems = function (a) {
			var b = this._itemize(a);
			return b.length && (this.items = this.items.concat(b)), b
		}, g.prototype.appended = function (a) {
			var b = this.addItems(a);
			b.length && (this.layoutItems(b, !0), this.reveal(b))
		}, g.prototype.prepended = function (a) {
			var b = this._itemize(a);
			if (b.length) {
				var c = this.items.slice(0);
				this.items = b.concat(c), this._resetLayout(), this._manageStamps(), this.layoutItems(b, !0), this.reveal(b), this.layoutItems(c)
			}
		}, g.prototype.reveal = function (a) {
			this._emitCompleteOnItems("reveal", a);
			for (var b = a && a.length, c = 0; b && b > c; c++) {
				var d = a[c];
				d.reveal()
			}
		}, g.prototype.hide = function (a) {
			this._emitCompleteOnItems("hide", a);
			for (var b = a && a.length, c = 0; b && b > c; c++) {
				var d = a[c];
				d.hide()
			}
		}, g.prototype.revealItemElements = function (a) {
			var b = this.getItems(a);
			this.reveal(b)
		}, g.prototype.hideItemElements = function (a) {
			var b = this.getItems(a);
			this.hide(b)
		}, g.prototype.getItem = function (a) {
			for (var b = 0, c = this.items.length; c > b; b++) {
				var d = this.items[b];
				if (d.element === a) return d
			}
		}, g.prototype.getItems = function (a) {
			a = e.makeArray(a);
			for (var b = [], c = 0, d = a.length; d > c; c++) {
				var f = a[c],
					g = this.getItem(f);
				g && b.push(g)
			}
			return b
		}, g.prototype.remove = function (a) {
			var b = this.getItems(a);
			if (this._emitCompleteOnItems("remove", b), b && b.length)
				for (var c = 0, d = b.length; d > c; c++) {
					var f = b[c];
					f.remove(), e.removeFrom(this.items, f)
				}
		}, g.prototype.destroy = function () {
			var a = this.element.style;
			a.height = "", a.position = "", a.width = "";
			for (var b = 0, c = this.items.length; c > b; b++) {
				var d = this.items[b];
				d.destroy()
			}
			this.unbindResize();
			var e = this.element.outlayerGUID;
			delete l[e], delete this.element.outlayerGUID, i && i.removeData(this.element, this.constructor.namespace)
		}, g.data = function (a) {
			a = e.getQueryElement(a);
			var b = a && a.outlayerGUID;
			return b && l[b]
		}, g.create = function (a, b) {
			function c() {
				g.apply(this, arguments)
			}
			return Object.create ? c.prototype = Object.create(g.prototype) : e.extend(c.prototype, g.prototype), c.prototype.constructor = c, c.defaults = e.extend({}, g.defaults), e.extend(c.defaults, b), c.prototype.settings = {}, c.namespace = a, c.data = g.data, c.Item = function () {
				f.apply(this, arguments)
			}, c.Item.prototype = new f, e.htmlInit(c, a), i && i.bridget && i.bridget(a, c), c
		}, g.Item = f, g
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("isotope/js/item", ["outlayer/outlayer"], b) : "object" == typeof exports ? module.exports = b(require("outlayer")) : (a.Isotope = a.Isotope || {}, a.Isotope.Item = b(a.Outlayer))
	}(window, function (a) {
		"use strict";

		function b() {
			a.Item.apply(this, arguments)
		}
		b.prototype = new a.Item, b.prototype._create = function () {
			this.id = this.layout.itemGUID++, a.Item.prototype._create.call(this), this.sortData = {}
		}, b.prototype.updateSortData = function () {
			if (!this.isIgnored) {
				this.sortData.id = this.id, this.sortData["original-order"] = this.id, this.sortData.random = Math.random();
				var a = this.layout.options.getSortData,
					b = this.layout._sorters;
				for (var c in a) {
					var d = b[c];
					this.sortData[c] = d(this.element, this)
				}
			}
		};
		var c = b.prototype.destroy;
		return b.prototype.destroy = function () {
			c.apply(this, arguments), this.css({
				display: ""
			})
		}, b
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("isotope/js/layout-mode", ["get-size/get-size", "outlayer/outlayer"], b) : "object" == typeof exports ? module.exports = b(require("get-size"), require("outlayer")) : (a.Isotope = a.Isotope || {}, a.Isotope.LayoutMode = b(a.getSize, a.Outlayer))
	}(window, function (a, b) {
		"use strict";

		function c(a) {
			this.isotope = a, a && (this.options = a.options[this.namespace], this.element = a.element, this.items = a.filteredItems, this.size = a.size)
		}
		return function () {
			function a(a) {
				return function () {
					return b.prototype[a].apply(this.isotope, arguments)
				}
			}
			for (var d = ["_resetLayout", "_getItemLayoutPosition", "_manageStamp", "_getContainerSize", "_getElementOffset", "needsResizeLayout"], e = 0, f = d.length; f > e; e++) {
				var g = d[e];
				c.prototype[g] = a(g)
			}
		}(), c.prototype.needsVerticalResizeLayout = function () {
			var b = a(this.isotope.element),
				c = this.isotope.size && b;
			return c && b.innerHeight != this.isotope.size.innerHeight
		}, c.prototype._getMeasurement = function () {
			this.isotope._getMeasurement.apply(this, arguments)
		}, c.prototype.getColumnWidth = function () {
			this.getSegmentSize("column", "Width")
		}, c.prototype.getRowHeight = function () {
			this.getSegmentSize("row", "Height")
		}, c.prototype.getSegmentSize = function (a, b) {
			var c = a + b,
				d = "outer" + b;
			if (this._getMeasurement(c, d), !this[c]) {
				var e = this.getFirstItemSize();
				this[c] = e && e[d] || this.isotope.size["inner" + b]
			}
		}, c.prototype.getFirstItemSize = function () {
			var b = this.isotope.filteredItems[0];
			return b && b.element && a(b.element)
		}, c.prototype.layout = function () {
			this.isotope.layout.apply(this.isotope, arguments)
		}, c.prototype.getSize = function () {
			this.isotope.getSize(), this.size = this.isotope.size
		}, c.modes = {}, c.create = function (a, b) {
			function d() {
				c.apply(this, arguments)
			}
			return d.prototype = new c, b && (d.options = b), d.prototype.namespace = a, c.modes[a] = d, d
		}, c
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("masonry/masonry", ["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], b) : "object" == typeof exports ? module.exports = b(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : a.Masonry = b(a.Outlayer, a.getSize, a.fizzyUIUtils)
	}(window, function (a, b, c) {
		var d = a.create("masonry");
		return d.prototype._resetLayout = function () {
			this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
			var a = this.cols;
			for (this.colYs = []; a--;) this.colYs.push(0);
			this.maxY = 0
		}, d.prototype.measureColumns = function () {
			if (this.getContainerWidth(), !this.columnWidth) {
				var a = this.items[0],
					c = a && a.element;
				this.columnWidth = c && b(c).outerWidth || this.containerWidth
			}
			var d = this.columnWidth += this.gutter,
				e = this.containerWidth + this.gutter,
				f = e / d,
				g = d - e % d,
				h = g && 1 > g ? "round" : "floor";
			f = Math[h](f), this.cols = Math.max(f, 1)
		}, d.prototype.getContainerWidth = function () {
			var a = this.options.isFitWidth ? this.element.parentNode : this.element,
				c = b(a);
			this.containerWidth = c && c.innerWidth
		}, d.prototype._getItemLayoutPosition = function (a) {
			a.getSize();
			var b = a.size.outerWidth % this.columnWidth,
				d = b && 1 > b ? "round" : "ceil",
				e = Math[d](a.size.outerWidth / this.columnWidth);
			e = Math.min(e, this.cols);
			for (var f = this._getColGroup(e), g = Math.min.apply(Math, f), h = c.indexOf(f, g), i = {
					x: this.columnWidth * h,
					y: g
				}, j = g + a.size.outerHeight, k = this.cols + 1 - f.length, l = 0; k > l; l++) this.colYs[h + l] = j;
			return i
		}, d.prototype._getColGroup = function (a) {
			if (2 > a) return this.colYs;
			for (var b = [], c = this.cols + 1 - a, d = 0; c > d; d++) {
				var e = this.colYs.slice(d, d + a);
				b[d] = Math.max.apply(Math, e)
			}
			return b
		}, d.prototype._manageStamp = function (a) {
			var c = b(a),
				d = this._getElementOffset(a),
				e = this.options.isOriginLeft ? d.left : d.right,
				f = e + c.outerWidth,
				g = Math.floor(e / this.columnWidth);
			g = Math.max(0, g);
			var h = Math.floor(f / this.columnWidth);
			h -= f % this.columnWidth ? 0 : 1, h = Math.min(this.cols - 1, h);
			for (var i = (this.options.isOriginTop ? d.top : d.bottom) + c.outerHeight, j = g; h >= j; j++) this.colYs[j] = Math.max(i, this.colYs[j])
		}, d.prototype._getContainerSize = function () {
			this.maxY = Math.max.apply(Math, this.colYs);
			var a = {
				height: this.maxY
			};
			return this.options.isFitWidth && (a.width = this._getContainerFitWidth()), a
		}, d.prototype._getContainerFitWidth = function () {
			for (var a = 0, b = this.cols; --b && 0 === this.colYs[b];) a++;
			return (this.cols - a) * this.columnWidth - this.gutter
		}, d.prototype.needsResizeLayout = function () {
			var a = this.containerWidth;
			return this.getContainerWidth(), a !== this.containerWidth
		}, d
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("isotope/js/layout-modes/masonry", ["../layout-mode", "masonry/masonry"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode"), require("masonry-layout")) : b(a.Isotope.LayoutMode, a.Masonry)
	}(window, function (a, b) {
		"use strict";

		function c(a, b) {
			for (var c in b) a[c] = b[c];
			return a
		}
		var d = a.create("masonry"),
			e = d.prototype._getElementOffset,
			f = d.prototype.layout,
			g = d.prototype._getMeasurement;
		c(d.prototype, b.prototype), d.prototype._getElementOffset = e, d.prototype.layout = f, d.prototype._getMeasurement = g;
		var h = d.prototype.measureColumns;
		d.prototype.measureColumns = function () {
			this.items = this.isotope.filteredItems, h.call(this)
		};
		var i = d.prototype._manageStamp;
		return d.prototype._manageStamp = function () {
			this.options.isOriginLeft = this.isotope.options.isOriginLeft, this.options.isOriginTop = this.isotope.options.isOriginTop, i.apply(this, arguments)
		}, d
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("isotope/js/layout-modes/fit-rows", ["../layout-mode"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode")) : b(a.Isotope.LayoutMode)
	}(window, function (a) {
		"use strict";
		var b = a.create("fitRows");
		return b.prototype._resetLayout = function () {
			this.x = 0, this.y = 0, this.maxY = 0, this._getMeasurement("gutter", "outerWidth")
		}, b.prototype._getItemLayoutPosition = function (a) {
			a.getSize();
			var b = a.size.outerWidth + this.gutter,
				c = this.isotope.size.innerWidth + this.gutter;
			0 !== this.x && b + this.x > c && (this.x = 0, this.y = this.maxY);
			var d = {
				x: this.x,
				y: this.y
			};
			return this.maxY = Math.max(this.maxY, this.y + a.size.outerHeight), this.x += b, d
		}, b.prototype._getContainerSize = function () {
			return {
				height: this.maxY
			}
		}, b
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define("isotope/js/layout-modes/vertical", ["../layout-mode"], b) : "object" == typeof exports ? module.exports = b(require("../layout-mode")) : b(a.Isotope.LayoutMode)
	}(window, function (a) {
		"use strict";
		var b = a.create("vertical", {
			horizontalAlignment: 0
		});
		return b.prototype._resetLayout = function () {
			this.y = 0
		}, b.prototype._getItemLayoutPosition = function (a) {
			a.getSize();
			var b = (this.isotope.size.innerWidth - a.size.outerWidth) * this.options.horizontalAlignment,
				c = this.y;
			return this.y += a.size.outerHeight, {
				x: b,
				y: c
			}
		}, b.prototype._getContainerSize = function () {
			return {
				height: this.y
			}
		}, b
	}),
	function (a, b) {
		"use strict";
		"function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "matches-selector/matches-selector", "fizzy-ui-utils/utils", "isotope/js/item", "isotope/js/layout-mode", "isotope/js/layout-modes/masonry", "isotope/js/layout-modes/fit-rows", "isotope/js/layout-modes/vertical"], function (c, d, e, f, g, h) {
			return b(a, c, d, e, f, g, h)
		}) : "object" == typeof exports ? module.exports = b(a, require("outlayer"), require("get-size"), require("desandro-matches-selector"), require("fizzy-ui-utils"), require("./item"), require("./layout-mode"), require("./layout-modes/masonry"), require("./layout-modes/fit-rows"), require("./layout-modes/vertical")) : a.Isotope = b(a, a.Outlayer, a.getSize, a.matchesSelector, a.fizzyUIUtils, a.Isotope.Item, a.Isotope.LayoutMode)
	}(window, function (a, b, c, d, e, f, g) {
		function h(a, b) {
			return function (c, d) {
				for (var e = 0, f = a.length; f > e; e++) {
					var g = a[e],
						h = c.sortData[g],
						i = d.sortData[g];
					if (h > i || i > h) {
						var j = void 0 !== b[g] ? b[g] : b,
							k = j ? 1 : -1;
						return (h > i ? 1 : -1) * k
					}
				}
				return 0
			}
		}
		var i = a.jQuery,
			j = String.prototype.trim ? function (a) {
				return a.trim()
			} : function (a) {
				return a.replace(/^\s+|\s+$/g, "")
			},
			k = document.documentElement,
			l = k.textContent ? function (a) {
				return a.textContent
			} : function (a) {
				return a.innerText
			},
			m = b.create("isotope", {
				layoutMode: "masonry",
				isJQueryFiltering: !0,
				sortAscending: !0
			});
		m.Item = f, m.LayoutMode = g, m.prototype._create = function () {
			this.itemGUID = 0, this._sorters = {}, this._getSorters(), b.prototype._create.call(this), this.modes = {}, this.filteredItems = this.items, this.sortHistory = ["original-order"];
			for (var a in g.modes) this._initLayoutMode(a)
		}, m.prototype.reloadItems = function () {
			this.itemGUID = 0, b.prototype.reloadItems.call(this)
		}, m.prototype._itemize = function () {
			for (var a = b.prototype._itemize.apply(this, arguments), c = 0, d = a.length; d > c; c++) {
				var e = a[c];
				e.id = this.itemGUID++
			}
			return this._updateItemsSortData(a), a
		}, m.prototype._initLayoutMode = function (a) {
			var b = g.modes[a],
				c = this.options[a] || {};
			this.options[a] = b.options ? e.extend(b.options, c) : c, this.modes[a] = new b(this)
		}, m.prototype.layout = function () {
			return !this._isLayoutInited && this.options.isInitLayout ? void this.arrange() : void this._layout()
		}, m.prototype._layout = function () {
			var a = this._getIsInstant();
			this._resetLayout(), this._manageStamps(), this.layoutItems(this.filteredItems, a), this._isLayoutInited = !0
		}, m.prototype.arrange = function (a) {
			function b() {
				d.reveal(c.needReveal), d.hide(c.needHide)
			}
			this.option(a), this._getIsInstant();
			var c = this._filter(this.items);
			this.filteredItems = c.matches;
			var d = this;
			this._bindArrangeComplete(), this._isInstant ? this._noTransition(b) : b(), this._sort(), this._layout()
		}, m.prototype._init = m.prototype.arrange, m.prototype._getIsInstant = function () {
			var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
			return this._isInstant = a, a
		}, m.prototype._bindArrangeComplete = function () {
			function a() {
				b && c && d && e.dispatchEvent("arrangeComplete", null, [e.filteredItems])
			}
			var b, c, d, e = this;
			this.once("layoutComplete", function () {
				b = !0, a()
			}), this.once("hideComplete", function () {
				c = !0, a()
			}), this.once("revealComplete", function () {
				d = !0, a()
			})
		}, m.prototype._filter = function (a) {
			var b = this.options.filter;
			b = b || "*";
			for (var c = [], d = [], e = [], f = this._getFilterTest(b), g = 0, h = a.length; h > g; g++) {
				var i = a[g];
				if (!i.isIgnored) {
					var j = f(i);
					j && c.push(i), j && i.isHidden ? d.push(i) : j || i.isHidden || e.push(i)
				}
			}
			return {
				matches: c,
				needReveal: d,
				needHide: e
			}
		}, m.prototype._getFilterTest = function (a) {
			return i && this.options.isJQueryFiltering ? function (b) {
				return i(b.element).is(a)
			} : "function" == typeof a ? function (b) {
				return a(b.element)
			} : function (b) {
				return d(b.element, a)
			}
		}, m.prototype.updateSortData = function (a) {
			var b;
			a ? (a = e.makeArray(a), b = this.getItems(a)) : b = this.items, this._getSorters(), this._updateItemsSortData(b)
		}, m.prototype._getSorters = function () {
			var a = this.options.getSortData;
			for (var b in a) {
				var c = a[b];
				this._sorters[b] = n(c)
			}
		}, m.prototype._updateItemsSortData = function (a) {
			for (var b = a && a.length, c = 0; b && b > c; c++) {
				var d = a[c];
				d.updateSortData()
			}
		};
		var n = function () {
			function a(a) {
				if ("string" != typeof a) return a;
				var c = j(a).split(" "),
					d = c[0],
					e = d.match(/^\[(.+)\]$/),
					f = e && e[1],
					g = b(f, d),
					h = m.sortDataParsers[c[1]];
				return a = h ? function (a) {
					return a && h(g(a))
				} : function (a) {
					return a && g(a)
				}
			}

			function b(a, b) {
				var c;
				return c = a ? function (b) {
					return b.getAttribute(a)
				} : function (a) {
					var c = a.querySelector(b);
					return c && l(c)
				}
			}
			return a
		}();
		m.sortDataParsers = {
			parseInt: function (a) {
				return parseInt(a, 10)
			},
			parseFloat: function (a) {
				return parseFloat(a)
			}
		}, m.prototype._sort = function () {
			var a = this.options.sortBy;
			if (a) {
				var b = [].concat.apply(a, this.sortHistory),
					c = h(b, this.options.sortAscending);
				this.filteredItems.sort(c), a != this.sortHistory[0] && this.sortHistory.unshift(a)
			}
		}, m.prototype._mode = function () {
			var a = this.options.layoutMode,
				b = this.modes[a];
			if (!b) throw new Error("No layout mode: " + a);
			return b.options = this.options[a], b
		}, m.prototype._resetLayout = function () {
			b.prototype._resetLayout.call(this), this._mode()._resetLayout()
		}, m.prototype._getItemLayoutPosition = function (a) {
			return this._mode()._getItemLayoutPosition(a)
		}, m.prototype._manageStamp = function (a) {
			this._mode()._manageStamp(a)
		}, m.prototype._getContainerSize = function () {
			return this._mode()._getContainerSize()
		}, m.prototype.needsResizeLayout = function () {
			return this._mode().needsResizeLayout()
		}, m.prototype.appended = function (a) {
			var b = this.addItems(a);
			if (b.length) {
				var c = this._filterRevealAdded(b);
				this.filteredItems = this.filteredItems.concat(c)
			}
		}, m.prototype.prepended = function (a) {
			var b = this._itemize(a);
			if (b.length) {
				this._resetLayout(), this._manageStamps();
				var c = this._filterRevealAdded(b);
				this.layoutItems(this.filteredItems), this.filteredItems = c.concat(this.filteredItems), this.items = b.concat(this.items)
			}
		}, m.prototype._filterRevealAdded = function (a) {
			var b = this._filter(a);
			return this.hide(b.needHide), this.reveal(b.matches), this.layoutItems(b.matches, !0), b.matches
		}, m.prototype.insert = function (a) {
			var b = this.addItems(a);
			if (b.length) {
				var c, d, e = b.length;
				for (c = 0; e > c; c++) d = b[c], this.element.appendChild(d.element);
				var f = this._filter(b).matches;
				for (c = 0; e > c; c++) b[c].isLayoutInstant = !0;
				for (this.arrange(), c = 0; e > c; c++) delete b[c].isLayoutInstant;
				this.reveal(f)
			}
		};
		var o = m.prototype.remove;
		return m.prototype.remove = function (a) {
			a = e.makeArray(a);
			var b = this.getItems(a);
			o.call(this, a);
			var c = b && b.length;
			if (c)
				for (var d = 0; c > d; d++) {
					var f = b[d];
					e.removeFrom(this.filteredItems, f)
				}
		}, m.prototype.shuffle = function () {
			for (var a = 0, b = this.items.length; b > a; a++) {
				var c = this.items[a];
				c.sortData.random = Math.random()
			}
			this.options.sortBy = "random", this._sort(), this._layout()
		}, m.prototype._noTransition = function (a) {
			var b = this.options.transitionDuration;
			this.options.transitionDuration = 0;
			var c = a.call(this);
			return this.options.transitionDuration = b, c
		}, m.prototype.getFilteredItemElements = function () {
			for (var a = [], b = 0, c = this.filteredItems.length; c > b; b++) a.push(this.filteredItems[b].element);
			return a
		}, m
	});

(function () {
	function e() {}

	function t(e, t) {
		for (var n = e.length; n--;)
			if (e[n].listener === t) return n;
		return -1
	}

	function n(e) {
		return function () {
			return this[e].apply(this, arguments)
		}
	}
	var i = e.prototype,
		r = this,
		o = r.EventEmitter;
	i.getListeners = function (e) {
		var t, n, i = this._getEvents();
		if ("object" == typeof e) {
			t = {};
			for (n in i) i.hasOwnProperty(n) && e.test(n) && (t[n] = i[n])
		} else t = i[e] || (i[e] = []);
		return t
	}, i.flattenListeners = function (e) {
		var t, n = [];
		for (t = 0; e.length > t; t += 1) n.push(e[t].listener);
		return n
	}, i.getListenersAsObject = function (e) {
		var t, n = this.getListeners(e);
		return n instanceof Array && (t = {}, t[e] = n), t || n
	}, i.addListener = function (e, n) {
		var i, r = this.getListenersAsObject(e),
			o = "object" == typeof n;
		for (i in r) r.hasOwnProperty(i) && -1 === t(r[i], n) && r[i].push(o ? n : {
			listener: n,
			once: !1
		});
		return this
	}, i.on = n("addListener"), i.addOnceListener = function (e, t) {
		return this.addListener(e, {
			listener: t,
			once: !0
		})
	}, i.once = n("addOnceListener"), i.defineEvent = function (e) {
		return this.getListeners(e), this
	}, i.defineEvents = function (e) {
		for (var t = 0; e.length > t; t += 1) this.defineEvent(e[t]);
		return this
	}, i.removeListener = function (e, n) {
		var i, r, o = this.getListenersAsObject(e);
		for (r in o) o.hasOwnProperty(r) && (i = t(o[r], n), -1 !== i && o[r].splice(i, 1));
		return this
	}, i.off = n("removeListener"), i.addListeners = function (e, t) {
		return this.manipulateListeners(!1, e, t)
	}, i.removeListeners = function (e, t) {
		return this.manipulateListeners(!0, e, t)
	}, i.manipulateListeners = function (e, t, n) {
		var i, r, o = e ? this.removeListener : this.addListener,
			s = e ? this.removeListeners : this.addListeners;
		if ("object" != typeof t || t instanceof RegExp)
			for (i = n.length; i--;) o.call(this, t, n[i]);
		else
			for (i in t) t.hasOwnProperty(i) && (r = t[i]) && ("function" == typeof r ? o.call(this, i, r) : s.call(this, i, r));
		return this
	}, i.removeEvent = function (e) {
		var t, n = typeof e,
			i = this._getEvents();
		if ("string" === n) delete i[e];
		else if ("object" === n)
			for (t in i) i.hasOwnProperty(t) && e.test(t) && delete i[t];
		else delete this._events;
		return this
	}, i.removeAllListeners = n("removeEvent"), i.emitEvent = function (e, t) {
		var n, i, r, o, s = this.getListenersAsObject(e);
		for (r in s)
			if (s.hasOwnProperty(r))
				for (i = s[r].length; i--;) n = s[r][i], n.once === !0 && this.removeListener(e, n.listener), o = n.listener.apply(this, t || []), o === this._getOnceReturnValue() && this.removeListener(e, n.listener);
		return this
	}, i.trigger = n("emitEvent"), i.emit = function (e) {
		var t = Array.prototype.slice.call(arguments, 1);
		return this.emitEvent(e, t)
	}, i.setOnceReturnValue = function (e) {
		return this._onceReturnValue = e, this
	}, i._getOnceReturnValue = function () {
		return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
	}, i._getEvents = function () {
		return this._events || (this._events = {})
	}, e.noConflict = function () {
		return r.EventEmitter = o, e
	}, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function () {
		return e
	}) : "object" == typeof module && module.exports ? module.exports = e : this.EventEmitter = e
}).call(this),
	function (e) {
		function t(t) {
			var n = e.event;
			return n.target = n.target || n.srcElement || t, n
		}
		var n = document.documentElement,
			i = function () {};
		n.addEventListener ? i = function (e, t, n) {
			e.addEventListener(t, n, !1)
		} : n.attachEvent && (i = function (e, n, i) {
			e[n + i] = i.handleEvent ? function () {
				var n = t(e);
				i.handleEvent.call(i, n)
			} : function () {
				var n = t(e);
				i.call(e, n)
			}, e.attachEvent("on" + n, e[n + i])
		});
		var r = function () {};
		n.removeEventListener ? r = function (e, t, n) {
			e.removeEventListener(t, n, !1)
		} : n.detachEvent && (r = function (e, t, n) {
			e.detachEvent("on" + t, e[t + n]);
			try {
				delete e[t + n]
			} catch (i) {
				e[t + n] = void 0
			}
		});
		var o = {
			bind: i,
			unbind: r
		};
		"function" == typeof define && define.amd ? define("eventie/eventie", o) : e.eventie = o
	}(this),
	function (e, t) {
		"function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function (n, i) {
			return t(e, n, i)
		}) : "object" == typeof exports ? module.exports = t(e, require("wolfy87-eventemitter"), require("eventie")) : e.imagesLoaded = t(e, e.EventEmitter, e.eventie)
	}(window, function (e, t, n) {
		function i(e, t) {
			for (var n in t) e[n] = t[n];
			return e
		}

		function r(e) {
			return "[object Array]" === d.call(e)
		}

		function o(e) {
			var t = [];
			if (r(e)) t = e;
			else if ("number" == typeof e.length)
				for (var n = 0, i = e.length; i > n; n++) t.push(e[n]);
			else t.push(e);
			return t
		}

		function s(e, t, n) {
			if (!(this instanceof s)) return new s(e, t);
			"string" == typeof e && (e = document.querySelectorAll(e)), this.elements = o(e), this.options = i({}, this.options), "function" == typeof t ? n = t : i(this.options, t), n && this.on("always", n), this.getImages(), a && (this.jqDeferred = new a.Deferred);
			var r = this;
			setTimeout(function () {
				r.check()
			})
		}

		function f(e) {
			this.img = e
		}

		function c(e) {
			this.src = e, v[e] = this
		}
		var a = e.jQuery,
			u = e.console,
			h = u !== void 0,
			d = Object.prototype.toString;
		s.prototype = new t, s.prototype.options = {}, s.prototype.getImages = function () {
			this.images = [];
			for (var e = 0, t = this.elements.length; t > e; e++) {
				var n = this.elements[e];
				"IMG" === n.nodeName && this.addImage(n);
				var i = n.nodeType;
				if (i && (1 === i || 9 === i || 11 === i))
					for (var r = n.querySelectorAll("img"), o = 0, s = r.length; s > o; o++) {
						var f = r[o];
						this.addImage(f)
					}
			}
		}, s.prototype.addImage = function (e) {
			var t = new f(e);
			this.images.push(t)
		}, s.prototype.check = function () {
			function e(e, r) {
				return t.options.debug && h && u.log("confirm", e, r), t.progress(e), n++, n === i && t.complete(), !0
			}
			var t = this,
				n = 0,
				i = this.images.length;
			if (this.hasAnyBroken = !1, !i) return this.complete(), void 0;
			for (var r = 0; i > r; r++) {
				var o = this.images[r];
				o.on("confirm", e), o.check()
			}
		}, s.prototype.progress = function (e) {
			this.hasAnyBroken = this.hasAnyBroken || !e.isLoaded;
			var t = this;
			setTimeout(function () {
				t.emit("progress", t, e), t.jqDeferred && t.jqDeferred.notify && t.jqDeferred.notify(t, e)
			})
		}, s.prototype.complete = function () {
			var e = this.hasAnyBroken ? "fail" : "done";
			this.isComplete = !0;
			var t = this;
			setTimeout(function () {
				if (t.emit(e, t), t.emit("always", t), t.jqDeferred) {
					var n = t.hasAnyBroken ? "reject" : "resolve";
					t.jqDeferred[n](t)
				}
			})
		}, a && (a.fn.imagesLoaded = function (e, t) {
			var n = new s(this, e, t);
			return n.jqDeferred.promise(a(this))
		}), f.prototype = new t, f.prototype.check = function () {
			var e = v[this.img.src] || new c(this.img.src);
			if (e.isConfirmed) return this.confirm(e.isLoaded, "cached was confirmed"), void 0;
			if (this.img.complete && void 0 !== this.img.naturalWidth) return this.confirm(0 !== this.img.naturalWidth, "naturalWidth"), void 0;
			var t = this;
			e.on("confirm", function (e, n) {
				return t.confirm(e.isLoaded, n), !0
			}), e.check()
		}, f.prototype.confirm = function (e, t) {
			this.isLoaded = e, this.emit("confirm", this, t)
		};
		var v = {};
		return c.prototype = new t, c.prototype.check = function () {
			if (!this.isChecked) {
				var e = new Image;
				n.bind(e, "load", this), n.bind(e, "error", this), e.src = this.src, this.isChecked = !0
			}
		}, c.prototype.handleEvent = function (e) {
			var t = "on" + e.type;
			this[t] && this[t](e)
		}, c.prototype.onload = function (e) {
			this.confirm(!0, "onload"), this.unbindProxyEvents(e)
		}, c.prototype.onerror = function (e) {
			this.confirm(!1, "onerror"), this.unbindProxyEvents(e)
		}, c.prototype.confirm = function (e, t) {
			this.isConfirmed = !0, this.isLoaded = e, this.emit("confirm", this, t)
		}, c.prototype.unbindProxyEvents = function (e) {
			n.unbind(e.target, "load", this), n.unbind(e.target, "error", this)
		}, s
	});
/*!
 * Packery layout mode PACKAGED v1.1.3
 * sub-classes Packery
 * http://packery.metafizzy.co
 */

! function (a) {
	function b(a) {
		return new RegExp("(^|\\s+)" + a + "(\\s+|$)")
	}

	function c(a, b) {
		var c = d(a, b) ? f : e;
		c(a, b)
	}
	var d, e, f;
	"classList" in document.documentElement ? (d = function (a, b) {
		return a.classList.contains(b)
	}, e = function (a, b) {
		a.classList.add(b)
	}, f = function (a, b) {
		a.classList.remove(b)
	}) : (d = function (a, c) {
		return b(c).test(a.className)
	}, e = function (a, b) {
		d(a, b) || (a.className = a.className + " " + b)
	}, f = function (a, c) {
		a.className = a.className.replace(b(c), " ")
	});
	var g = {
		hasClass: d,
		addClass: e,
		removeClass: f,
		toggleClass: c,
		has: d,
		add: e,
		remove: f,
		toggle: c
	};
	"function" == typeof define && define.amd ? define("classie/classie", g) : "object" == typeof exports ? module.exports = g : a.classie = g
}(window),
function (a, b) {
	"function" == typeof define && define.amd ? define("packery/js/rect", b) : "object" == typeof exports ? module.exports = b() : (a.Packery = a.Packery || {}, a.Packery.Rect = b())
}(window, function () {
	function a(b) {
		for (var c in a.defaults) this[c] = a.defaults[c];
		for (c in b) this[c] = b[c]
	}
	var b = window.Packery = function () {};
	return b.Rect = a, a.defaults = {
		x: 0,
		y: 0,
		width: 0,
		height: 0
	}, a.prototype.contains = function (a) {
		var b = a.width || 0,
			c = a.height || 0;
		return this.x <= a.x && this.y <= a.y && this.x + this.width >= a.x + b && this.y + this.height >= a.y + c
	}, a.prototype.overlaps = function (a) {
		var b = this.x + this.width,
			c = this.y + this.height,
			d = a.x + a.width,
			e = a.y + a.height;
		return this.x < d && b > a.x && this.y < e && c > a.y
	}, a.prototype.getMaximalFreeRects = function (b) {
		if (!this.overlaps(b)) return !1;
		var c, d = [],
			e = this.x + this.width,
			f = this.y + this.height,
			g = b.x + b.width,
			h = b.y + b.height;
		return this.y < b.y && (c = new a({
			x: this.x,
			y: this.y,
			width: this.width,
			height: b.y - this.y
		}), d.push(c)), e > g && (c = new a({
			x: g,
			y: this.y,
			width: e - g,
			height: this.height
		}), d.push(c)), f > h && (c = new a({
			x: this.x,
			y: h,
			width: this.width,
			height: f - h
		}), d.push(c)), this.x < b.x && (c = new a({
			x: this.x,
			y: this.y,
			width: b.x - this.x,
			height: this.height
		}), d.push(c)), d
	}, a.prototype.canFit = function (a) {
		return this.width >= a.width && this.height >= a.height
	}, a
}),
function (a, b) {
	if ("function" == typeof define && define.amd) define("packery/js/packer", ["./rect"], b);
	else if ("object" == typeof exports) module.exports = b(require("./rect"));
	else {
		var c = a.Packery = a.Packery || {};
		c.Packer = b(c.Rect)
	}
}(window, function (a) {
	function b(a, b, c) {
		this.width = a || 0, this.height = b || 0, this.sortDirection = c || "downwardLeftToRight", this.reset()
	}
	b.prototype.reset = function () {
		this.spaces = [], this.newSpaces = [];
		var b = new a({
			x: 0,
			y: 0,
			width: this.width,
			height: this.height
		});
		this.spaces.push(b), this.sorter = c[this.sortDirection] || c.downwardLeftToRight
	}, b.prototype.pack = function (a) {
		for (var b = 0, c = this.spaces.length; c > b; b++) {
			var d = this.spaces[b];
			if (d.canFit(a)) {
				this.placeInSpace(a, d);
				break
			}
		}
	}, b.prototype.placeInSpace = function (a, b) {
		a.x = b.x, a.y = b.y, this.placed(a)
	}, b.prototype.placed = function (a) {
		for (var b = [], c = 0, d = this.spaces.length; d > c; c++) {
			var e = this.spaces[c],
				f = e.getMaximalFreeRects(a);
			f ? b.push.apply(b, f) : b.push(e)
		}
		this.spaces = b, this.mergeSortSpaces()
	}, b.prototype.mergeSortSpaces = function () {
		b.mergeRects(this.spaces), this.spaces.sort(this.sorter)
	}, b.prototype.addSpace = function (a) {
		this.spaces.push(a), this.mergeSortSpaces()
	}, b.mergeRects = function (a) {
		for (var b = 0, c = a.length; c > b; b++) {
			var d = a[b];
			if (d) {
				var e = a.slice(0);
				e.splice(b, 1);
				for (var f = 0, g = 0, h = e.length; h > g; g++) {
					var i = e[g],
						j = b > g ? 0 : 1;
					d.contains(i) && (a.splice(g + j - f, 1), f++)
				}
			}
		}
		return a
	};
	var c = {
		downwardLeftToRight: function (a, b) {
			return a.y - b.y || a.x - b.x
		},
		rightwardTopToBottom: function (a, b) {
			return a.x - b.x || a.y - b.y
		}
	};
	return b
}),
function (a, b) {
	"function" == typeof define && define.amd ? define("packery/js/item", ["get-style-property/get-style-property", "outlayer/outlayer", "./rect"], b) : "object" == typeof exports ? module.exports = b(require("desandro-get-style-property"), require("outlayer"), require("./rect")) : a.Packery.Item = b(a.getStyleProperty, a.Outlayer, a.Packery.Rect)
}(window, function (a, b, c) {
	var d = a("transform"),
		e = function () {
			b.Item.apply(this, arguments)
		};
	e.prototype = new b.Item;
	var f = e.prototype._create;
	return e.prototype._create = function () {
		f.call(this), this.rect = new c, this.placeRect = new c
	}, e.prototype.dragStart = function () {
		this.getPosition(), this.removeTransitionStyles(), this.isTransitioning && d && (this.element.style[d] = "none"), this.getSize(), this.isPlacing = !0, this.needsPositioning = !1, this.positionPlaceRect(this.position.x, this.position.y), this.isTransitioning = !1, this.didDrag = !1
	}, e.prototype.dragMove = function (a, b) {
		this.didDrag = !0;
		var c = this.layout.size;
		a -= c.paddingLeft, b -= c.paddingTop, this.positionPlaceRect(a, b)
	}, e.prototype.dragStop = function () {
		this.getPosition();
		var a = this.position.x != this.placeRect.x,
			b = this.position.y != this.placeRect.y;
		this.needsPositioning = a || b, this.didDrag = !1
	}, e.prototype.positionPlaceRect = function (a, b, c) {
		this.placeRect.x = this.getPlaceRectCoord(a, !0), this.placeRect.y = this.getPlaceRectCoord(b, !1, c)
	}, e.prototype.getPlaceRectCoord = function (a, b, c) {
		var d = b ? "Width" : "Height",
			e = this.size["outer" + d],
			f = this.layout[b ? "columnWidth" : "rowHeight"],
			g = this.layout.size["inner" + d];
		b || (g = Math.max(g, this.layout.maxY), this.layout.rowHeight || (g -= this.layout.gutter));
		var h;
		if (f) {
			f += this.layout.gutter, g += b ? this.layout.gutter : 0, a = Math.round(a / f);
			var i;
			i = this.layout.options.isHorizontal ? b ? "ceil" : "floor" : b ? "floor" : "ceil";
			var j = Math[i](g / f);
			j -= Math.ceil(e / f), h = j
		} else h = g - e;
		return a = c ? a : Math.min(a, h), a *= f || 1, Math.max(0, a)
	}, e.prototype.copyPlaceRectPosition = function () {
		this.rect.x = this.placeRect.x, this.rect.y = this.placeRect.y
	}, e.prototype.removeElem = function () {
		this.element.parentNode.removeChild(this.element), this.layout.packer.addSpace(this.rect), this.emitEvent("remove", [this])
	}, e
}),
function (a, b) {
	"function" == typeof define && define.amd ? define("packery/js/packery", ["classie/classie", "get-size/get-size", "outlayer/outlayer", "./rect", "./packer", "./item"], b) : "object" == typeof exports ? module.exports = b(require("desandro-classie"), require("get-size"), require("outlayer"), require("./rect"), require("./packer"), require("./item")) : a.Packery = b(a.classie, a.getSize, a.Outlayer, a.Packery.Rect, a.Packery.Packer, a.Packery.Item)
}(window, function (a, b, c, d, e, f) {
	function g(a, b) {
		return a.position.y - b.position.y || a.position.x - b.position.x
	}

	function h(a, b) {
		return a.position.x - b.position.x || a.position.y - b.position.y
	}
	d.prototype.canFit = function (a) {
		return this.width >= a.width - 1 && this.height >= a.height - 1
	};
	var i = c.create("packery");
	return i.Item = f, i.prototype._create = function () {
		c.prototype._create.call(this), this.packer = new e, this.stamp(this.options.stamped);
		var a = this;
		this.handleDraggabilly = {
			dragStart: function () {
				a.itemDragStart(this.element)
			},
			dragMove: function () {
				a.itemDragMove(this.element, this.position.x, this.position.y)
			},
			dragEnd: function () {
				a.itemDragEnd(this.element)
			}
		}, this.handleUIDraggable = {
			start: function (b) {
				a.itemDragStart(b.currentTarget)
			},
			drag: function (b, c) {
				a.itemDragMove(b.currentTarget, c.position.left, c.position.top)
			},
			stop: function (b) {
				a.itemDragEnd(b.currentTarget)
			}
		}
	}, i.prototype._resetLayout = function () {
		this.getSize(), this._getMeasurements();
		var a = this.packer;
		this.options.isHorizontal ? (a.width = Number.POSITIVE_INFINITY, a.height = this.size.innerHeight + this.gutter, a.sortDirection = "rightwardTopToBottom") : (a.width = this.size.innerWidth + this.gutter, a.height = Number.POSITIVE_INFINITY, a.sortDirection = "downwardLeftToRight"), a.reset(), this.maxY = 0, this.maxX = 0
	}, i.prototype._getMeasurements = function () {
		this._getMeasurement("columnWidth", "width"), this._getMeasurement("rowHeight", "height"), this._getMeasurement("gutter", "width")
	}, i.prototype._getItemLayoutPosition = function (a) {
		return this._packItem(a), a.rect
	}, i.prototype._packItem = function (a) {
		this._setRectSize(a.element, a.rect), this.packer.pack(a.rect), this._setMaxXY(a.rect)
	}, i.prototype._setMaxXY = function (a) {
		this.maxX = Math.max(a.x + a.width, this.maxX), this.maxY = Math.max(a.y + a.height, this.maxY)
	}, i.prototype._setRectSize = function (a, c) {
		var d = b(a),
			e = d.outerWidth,
			f = d.outerHeight;
		(e || f) && (e = this._applyGridGutter(e, this.columnWidth), f = this._applyGridGutter(f, this.rowHeight)), c.width = Math.min(e, this.packer.width), c.height = Math.min(f, this.packer.height)
	}, i.prototype._applyGridGutter = function (a, b) {
		if (!b) return a + this.gutter;
		b += this.gutter;
		var c = a % b,
			d = c && 1 > c ? "round" : "ceil";
		return a = Math[d](a / b) * b
	}, i.prototype._getContainerSize = function () {
		return this.options.isHorizontal ? {
			width: this.maxX - this.gutter
		} : {
			height: this.maxY - this.gutter
		}
	}, i.prototype._manageStamp = function (a) {
		var b, c = this.getItem(a);
		if (c && c.isPlacing) b = c.placeRect;
		else {
			var e = this._getElementOffset(a);
			b = new d({
				x: this.options.isOriginLeft ? e.left : e.right,
				y: this.options.isOriginTop ? e.top : e.bottom
			})
		}
		this._setRectSize(a, b), this.packer.placed(b), this._setMaxXY(b)
	}, i.prototype.sortItemsByPosition = function () {
		var a = this.options.isHorizontal ? h : g;
		this.items.sort(a)
	}, i.prototype.fit = function (a, b, c) {
		var d = this.getItem(a);
		d && (this._getMeasurements(), this.stamp(d.element), d.getSize(), d.isPlacing = !0, b = void 0 === b ? d.rect.x : b, c = void 0 === c ? d.rect.y : c, d.positionPlaceRect(b, c, !0), this._bindFitEvents(d), d.moveTo(d.placeRect.x, d.placeRect.y), this.layout(), this.unstamp(d.element), this.sortItemsByPosition(), d.isPlacing = !1, d.copyPlaceRectPosition())
	}, i.prototype._bindFitEvents = function (a) {
		function b() {
			d++, 2 == d && c.emitEvent("fitComplete", [a])
		}
		var c = this,
			d = 0;
		a.on("layout", function () {
			return b(), !0
		}), this.on("layoutComplete", function () {
			return b(), !0
		})
	}, i.prototype.resize = function () {
		var a = b(this.element),
			c = this.size && a,
			d = this.options.isHorizontal ? "innerHeight" : "innerWidth";
		c && a[d] == this.size[d] || this.layout()
	}, i.prototype.itemDragStart = function (a) {
		this.stamp(a);
		var b = this.getItem(a);
		b && b.dragStart()
	}, i.prototype.itemDragMove = function (a, b, c) {
		function d() {
			f.layout(), delete f.dragTimeout
		}
		var e = this.getItem(a);
		e && e.dragMove(b, c);
		var f = this;
		this.clearDragTimeout(), this.dragTimeout = setTimeout(d, 40)
	}, i.prototype.clearDragTimeout = function () {
		this.dragTimeout && clearTimeout(this.dragTimeout)
	}, i.prototype.itemDragEnd = function (b) {
		var c, d = this.getItem(b);
		if (d && (c = d.didDrag, d.dragStop()), !d || !c && !d.needsPositioning) return void this.unstamp(b);
		a.add(d.element, "is-positioning-post-drag");
		var e = this._getDragEndLayoutComplete(b, d);
		d.needsPositioning ? (d.on("layout", e), d.moveTo(d.placeRect.x, d.placeRect.y)) : d && d.copyPlaceRectPosition(), this.clearDragTimeout(), this.on("layoutComplete", e), this.layout()
	}, i.prototype._getDragEndLayoutComplete = function (b, c) {
		var d = c && c.needsPositioning,
			e = 0,
			f = d ? 2 : 1,
			g = this;
		return function () {
			return e++, e != f ? !0 : (c && (a.remove(c.element, "is-positioning-post-drag"), c.isPlacing = !1, c.copyPlaceRectPosition()), g.unstamp(b), g.sortItemsByPosition(), d && g.emitEvent("dragItemPositioned", [c]), !0)
		}
	}, i.prototype.bindDraggabillyEvents = function (a) {
		a.on("dragStart", this.handleDraggabilly.dragStart), a.on("dragMove", this.handleDraggabilly.dragMove), a.on("dragEnd", this.handleDraggabilly.dragEnd)
	}, i.prototype.bindUIDraggableEvents = function (a) {
		a.on("dragstart", this.handleUIDraggable.start).on("drag", this.handleUIDraggable.drag).on("dragstop", this.handleUIDraggable.stop)
	}, i.Rect = d, i.Packer = e, i
}),
function (a, b) {
	"function" == typeof define && define.amd ? define(["isotope/js/layout-mode", "packery/js/packery", "get-size/get-size"], b) : "object" == typeof exports ? module.exports = b(require("isotope-layout/js/layout-mode"), require("packery"), require("get-size")) : b(a.Isotope.LayoutMode, a.Packery, a.getSize)
}(window, function (a, b, c) {
	function d(a, b) {
		for (var c in b) a[c] = b[c];
		return a
	}
	var e = a.create("packery"),
		f = e.prototype._getElementOffset,
		g = e.prototype._getMeasurement;
	d(e.prototype, b.prototype), e.prototype._getElementOffset = f, e.prototype._getMeasurement = g;
	var h = e.prototype._resetLayout;
	e.prototype._resetLayout = function () {
		this.packer = this.packer || new b.Packer, h.apply(this, arguments)
	};
	var i = e.prototype._getItemLayoutPosition;
	e.prototype._getItemLayoutPosition = function (a) {
		return a.rect = a.rect || new b.Rect, i.call(this, a)
	};
	var j = e.prototype._manageStamp;
	return e.prototype._manageStamp = function () {
		this.options.isOriginLeft = this.isotope.options.isOriginLeft, this.options.isOriginTop = this.isotope.options.isOriginTop, j.apply(this, arguments)
	}, e.prototype.needsResizeLayout = function () {
		var a = c(this.element),
			b = this.size && a,
			d = this.options.isHorizontal ? "innerHeight" : "innerWidth";
		return b && a[d] != this.size[d]
	}, e
});
/**
 * jQuery.share - social media sharing plugin
 * ---
 * @author Carol Skelly (http://in1.com)
 * @version 1.0
 * @license MIT license (http://opensource.org/licenses/mit-license.php)
 * ---
 */

! function (t, e) {
	var s = e.document;
	t.fn.share = function (i) {
		var r = {
				init: function (i) {
					this.share.settings = t.extend({}, this.share.defaults, i);
					var r = (this.share.settings, this.share.settings.networks),
						o = this.share.settings.theme,
						a = this.share.settings.orientation,
						u = this.share.settings.affix,
						h = this.share.settings.margin,
						l = this.share.settings.title || t(s).attr("title"),
						c = this.share.settings.urlToShare || t(location).attr("href"),
						p = "";
					return t.each(t(s).find('meta[name="description"]'), function (e, s) {
						p = t(s).attr("content")
					}), this.each(function () {
						var s, i = t(this),
							m = i.attr("id"),
							d = encodeURIComponent(c),
							f = l.replace("|", ""),
							g = p.substring(0, 250);
						r.forEach(function (e) {
							s = n.networkDefs[e].url, s = s.replace("|u|", d).replace("|t|", f).replace("|d|", g).replace("|140|", f.substring(0, 130)), t("<a href='" + s + "' title='Share this page on " + e + "' class='pop share-" + o + " share-" + o + "-" + e + "'></a>").appendTo(i)
						}), t("#" + m + ".share-" + o).css("margin", h), "horizontal" != a ? t("#" + m + " a.share-" + o).css("display", "block") : t("#" + m + " a.share-" + o).css("display", "inline-block"), "undefined" != typeof u && (i.addClass("share-affix"), -1 != u.indexOf("right") ? (i.css("left", "auto"), i.css("right", "0px"), -1 != u.indexOf("center") && i.css("top", "40%")) : -1 != u.indexOf("left center") && i.css("top", "40%"), -1 != u.indexOf("bottom") && (i.css("bottom", "0px"), i.css("top", "auto"), -1 != u.indexOf("center") && i.css("left", "40%"))), t(".pop").click(function () {
							return e.open(t(this).attr("href"), "t", "toolbar=0,resizable=1,status=0,width=640,height=528"), !1
						})
					})
				}
			},
			n = {
				networkDefs: {
					facebook: {
						url: "http://www.facebook.com/share.php?u=|u|"
					},
					twitter: {
						url: "https://twitter.com/share?via=in1.com&text=|140|"
					},
					linkedin: {
						url: "http://www.linkedin.com/shareArticle?mini=true&url=|u|&title=|t|&summary=|d|&source=in1.com"
					},
					in1: {
						url: "http://www.in1.com/cast?u=|u|",
						w: "490",
						h: "529"
					},
					tumblr: {
						url: "http://www.tumblr.com/share?v=3&u=|u|"
					},
					digg: {
						url: "http://digg.com/submit?url=|u|&title=|t|"
					},
					googleplus: {
						url: "https://plusone.google.com/_/+1/confirm?hl=en&url=|u|"
					},
					reddit: {
						url: "http://reddit.com/submit?url=|u|"
					},
					pinterest: {
						url: "http://pinterest.com/pin/create/button/?url=|u|&media=&description=|d|"
					},
					posterous: {
						url: "http://posterous.com/share?linkto=|u|&title=|t|"
					},
					stumbleupon: {
						url: "http://www.stumbleupon.com/submit?url=|u|&title=|t|"
					},
					email: {
						url: "mailto:?subject=|t|"
					}
				}
			};
		return r[i] ? r[i].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof i && i ? void t.error('Method "' + i + '" does not exist in social plugin') : r.init.apply(this, arguments)
	}, t.fn.share.defaults = {
		networks: ["in1", "facebook", "twitter", "linkedin"],
		theme: "icon",
		autoShow: !0,
		margin: "3px",
		orientation: "horizontal",
		useIn1: !0
	}, t.fn.share.settings = {}
}(jQuery, window);
/** video**/
"function" != typeof Object.create && (Object.create = function (e) {
		function t() {}
		return t.prototype = e, new t
	}),
	function (e, t, o) {
		var a = function (e) {
				var t = o.createElement("script"),
					a = o.getElementsByTagName("head")[0];
				t.src = location.protocol + "//www.youtube.com/iframe_api", a.appendChild(t), a = null, t = null, n(e)
			},
			n = function (o) {
				"undefined" == typeof YT && "undefined" == typeof t.loadingPlayer ? (t.loadingPlayer = !0, t.dfd = e.Deferred(), t.onYouTubeIframeAPIReady = function () {
					t.onYouTubeIframeAPIReady = null, t.dfd.resolve("John"), o()
				}) : t.dfd.done(function (e) {
					o()
				})
			};
		YTPlayer = {
			player: null,
			defaults: {
				ratio: 16 / 9,
				videoId: "LSmgKRx5pBo",
				mute: !0,
				repeat: !0,
				width: e(t).width(),
				playButtonClass: "YTPlayer-play",
				pauseButtonClass: "YTPlayer-pause",
				muteButtonClass: "YTPlayer-mute",
				volumeUpClass: "YTPlayer-volume-up",
				volumeDownClass: "YTPlayer-volume-down",
				start: 0,
				pauseOnScroll: !1,
				fitToBackground: !0,
				playerVars: {
					modestbranding: 1,
					autoplay: 1,
					controls: 0,
					showinfo: 0,
					wmode: "transparent",
					branding: 0,
					rel: 0,
					autohide: 0,
					origin: t.location.origin
				},
				events: null
			},
			init: function (o, n) {
				var i = this;
				return i.userOptions = n, i.$body = e("body"), i.$node = e(o), i.$window = e(t), i.defaults.events = {
					onReady: function (e) {
						i.onPlayerReady(e), i.options.pauseOnScroll && i.pauseOnScroll(), "function" == typeof i.options.callback && i.options.callback.call(this)
					},
					onStateChange: function (e) {
						1 === e.data ? i.$node.addClass("loaded") : 0 === e.data && i.options.repeat && i.player.seekTo(i.options.start)
					}
				}, i.options = e.extend(!0, {}, i.defaults, i.userOptions), i.ID = (new Date).getTime(), i.holderID = "YTPlayer-ID-" + i.ID, i.options.fitToBackground ? i.createBackgroundVideo() : i.createContainerVideo(), i.$window.on("resize.YTplayer" + i.ID, function () {
					i.resize(i)
				}), a(i.onYouTubeIframeAPIReady.bind(i)), i.resize(i), i
			},
			pauseOnScroll: function () {
				var e = this;
				e.$window.on("scroll.YTplayer" + e.ID, function () {
					var t = e.player.getPlayerState();
					1 === t && e.player.pauseVideo()
				}), e.$window.scrollStopped(function () {
					var t = e.player.getPlayerState();
					2 === t && e.player.playVideo()
				})
			},
			createContainerVideo: function () {
				var t = this,
					o = e('<div id="ytplayer-container' + t.ID + '" >                                    <div id="' + t.holderID + '" class="ytplayer-player"></div>                                     </div>                                     <div id="ytplayer-shield"></div>');
				t.$node.append(o), t.$YTPlayerString = o, o = null
			},
			createBackgroundVideo: function () {
				var t = this,
					o = e('<div id="ytplayer-container' + t.ID + '" class="ytplayer-container background">                                    <div id="' + t.holderID + '" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield"></div>');
				t.$node.append(o), t.$YTPlayerString = o, o = null
			},
			resize: function (t) {
				var o = e(".media-container");
				t.options.fitToBackground || (o = t.$node);
				var a, n, i = o.width(),
					r = o.height(),
					l = e("#" + t.holderID);
				i / t.options.ratio < r ? (a = Math.ceil(r * t.options.ratio), l.width(a).height(r).css({
					left: (i - a) / 2,
					top: 0
				})) : (n = Math.ceil(i / t.options.ratio), l.width(i).height(n).css({
					left: 0,
					top: 0
				})), l = null, o = null
			},
			onYouTubeIframeAPIReady: function () {
				var e = this;
				e.player = new t.YT.Player(e.holderID, {
					width: e.options.width,
					height: Math.ceil(e.options.width / e.options.ratio),
					videoId: e.options.videoId,
					playerVars: e.options.playerVars,
					events: e.options.events
				})
			},
			onPlayerReady: function (e) {
				this.options.mute && e.target.mute(), e.target.playVideo()
			},
			getPlayer: function () {
				return this.player
			},
			destroy: function () {
				var o = this;
				o.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"), o.$YTPlayerString.remove(), e(t).off("resize.YTplayer" + o.ID), e(t).off("scroll.YTplayer" + o.ID), o.$body = null, o.$node = null, o.$YTPlayerString = null, o.player.destroy(), o.player = null
			}
		}, e.fn.scrollStopped = function (t) {
			var o = e(this),
				a = this;
			o.scroll(function () {
				o.data("scrollTimeout") && clearTimeout(o.data("scrollTimeout")), o.data("scrollTimeout", setTimeout(t, 250, a))
			})
		}, e.fn.YTPlayer = function (t) {
			return this.each(function () {
				var o = this;
				e(o).data("yt-init", !0);
				var a = Object.create(YTPlayer);
				a.init(o, t), e.data(o, "ytPlayer", a)
			})
		}
	}(jQuery, window, document);
/**
 *  Parallax Scrolling Library
 *
 */
(function (e) {
	"function" === typeof define && define.amd ? define(["jquery"], e) : "undefined" !== typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
})(function (e) {
	function W(a) {
		if (console && console.warn) console.warn("Scrollax: " + a);
		else throw "Scrollax: " + a;
	}

	function ka(a) {
		var g = !!("pageYOffset" in a);
		return {
			width: g ? window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth : a.offsetWidth,
			height: g ? window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight : a.offsetHeight,
			left: a[g ? "pageXOffset" : "scrollLeft"],
			top: a[g ? "pageYOffset" : "scrollTop"]
		}
	}

	function X(a) {
		return (a = a.data("scrollax")) && eval("({" + a + "})") || {}
	}

	function Y(a) {
		var g, c;
		return !!(a && "object" === typeof a && "object" === typeof a.window && a.window == a && a.setTimeout && a.alert && (g = a.document) && "object" === typeof g && (c = g.defaultView || g.parentWindow) && "object" === typeof c && c == a)
	}
	var v = Array.prototype,
		C = v.push,
		Z = v.splice,
		aa = Object.prototype.hasOwnProperty,
		la = /[-+]?\d+(\.\d+)?/g,
		ma = "translateX translateY rotate rotateX rotateY rotateZ skewX skewY scaleX scaleY".split(" "),
		ba = e(window),
		ca = e(document.body),
		da, ea, L, M, N, q = function (a, g, c) {
			function k() {
				O = fa ? ca.find(ga) : P.find(ga);
				x.length = 0;
				r = !!t.horizontal;
				O.each(na);
				d();
				t.performanceTrick && (F = fa ? ca : P);
				u("load");
				return f
			}

			function l() {
				G && (G = clearTimeout(G));
				G = setTimeout(function () {
					f.reload()
				})
			}

			function d() {
				var ha = x.length;
				t.performanceTrick && F && (clearTimeout(ia), Q || (F.addClass("scrollax-performance"), Q = !0), ia = setTimeout(function () {
					F.removeClass("scrollax-performance");
					Q = !1
				}, 100));
				if (ha) {
					H = ka(a);
					for (var c = 0; c < ha; c++) I = x[c],
						y = L(I.element, a), 0 > y[r ? "right" : "bottom"] || y[r ? "left" : "top"] > H[r ? "width" : "height"] || (ja = I.options, R = ja.offset || t.offset || 0, J = y[r ? "right" : "bottom"], z = y[r ? "width" : "height"], A = (z - J + R) / z, 0 > A && (J = y[r ? "left" : "top"], z = H[r ? "width" : "height"], A = -1 + (z - J + R) / z), 1 < A || -1 > A || b(I, A, r));
					u("scroll", H)
				}
			}

			function b(a, b) {
				S = a.parallaxElements;
				var c = S.length;
				if (c)
					for (var f = 0; f < c; f++) {
						T = S[f];
						var g = oa = T.element,
							d = b;
						U = T.properties || (r ? {
							translateX: "100%"
						} : {
							translateY: "100%"
						});
						D = "";
						for (B in U) {
							n = U[B];
							if ("number" === typeof n) n *=
								d;
							else if ("string" === typeof n)
								for (K = n.match(la), m = 0, E = K.length; m < E; m++) n = n.replace(K[m], parseFloat(K[m] * d));
							if (-1 !== e.inArray(B, ma)) D += B + "(" + n + ")";
							else {
								var k = g.style,
									l = B,
									h;
								"opacity" === B ? (h = 0 > d ? 1 + n : 1 - n, h = 0 > h ? 0 : 1 < h ? 1 : h) : h = n;
								k[l] = h
							}
						}
						D && (g.style[da] = ea + D)
					}
			}

			function pa(a) {
				return "undefined" !== typeof a ? "number" !== typeof a && "string" !== typeof a || "" === a || isNaN(a) ? O.index(a) : 0 <= a && a < x.length ? a : -1 : -1
			}

			function u(a, b) {
				if (h[a]) {
					E = h[a].length;
					for (m = V.length = 0; m < E; m++) C.call(V, h[a][m]);
					for (m = 0; m < E; m++) V[m].call(f,
						a, b)
				}
			}

			function p(a, b) {
				for (var c = 0, f = h[a].length; c < f; c++)
					if (h[a][c] === b) return c;
				return -1
			}
			var f = this,
				P = a && e(a).eq(0) || ba,
				w = q.instances,
				v = null;
			a = P[0];
			e.each(w, function (b, c) {
				b && b.frame === a && (v = !0)
			});
			if (!a || v) v ? W("Scrollax: Scrollax has been initialized for this frame!") : W("Scrollax: Frame is not available!");
			else {
				var t = e.extend({}, q.defaults, g),
					x = [],
					O = null,
					ga = t.parentSelector || "[data-scrollax-parent]",
					qa = t.elementsSelector || "[data-scrollax]",
					h = {},
					V = [],
					G, fa = Y(a),
					m, E, F, ia, Q, H, r, R, y, I, ja, A, J, z, S, T, oa, U,
					B, n, D, K;
				f.frame = a;
				f.options = t;
				f.parents = x;
				f.initialized = !1;
				f.reload = k;
				var na = function (a, b) {
					var c = e(b),
						f = X(e(b)),
						d = {};
					d.element = b;
					d.options = f;
					d.parallaxElements = [];
					c.find(qa).each(function (a, b) {
						var c = X(e(b));
						c.element = b;
						C.call(d.parallaxElements, c)
					});
					C.call(x, d)
				};
				f.scroll = d;
				f.getIndex = pa;
				f.one = function (a, b) {
					function c() {
						b.apply(f, arguments);
						f.off(a, c)
					}
					f.on(a, c);
					return f
				};
				f.on = function (a, b) {
					if ("object" === typeof a)
						for (var c in a) {
							if (aa.call(a, c)) f.on(c, a[c])
						} else if ("function" === typeof b) {
							c = a.split(" ");
							for (var d = 0, g = c.length; d < g; d++) h[c[d]] = h[c[d]] || [], -1 === p(c[d], b) && C.call(h[c[d]], b)
						} else if ("array" === typeof b)
						for (c = 0, d = b.length; c < d; c++) f.on(a, b[c]);
					return f
				};
				f.off = function (a, c) {
					if (c instanceof Array)
						for (var b = 0, d = c.length; b < d; b++) f.off(a, c[b]);
					else
						for (var b = a.split(" "), d = 0, g = b.length; d < g; d++)
							if (h[b[d]] = h[b[d]] || [], "undefined" === typeof c) h[b[d]].length = 0;
							else {
								var k = p(b[d], c); - 1 !== k && Z.call(h[b[d]], k, 1)
							} return f
				};
				f.set = function (a, b) {
					e.isPlainObject(a) ? e.extend(t, a) : aa.call(t, a) && (t[a] = b);
					k();
					return f
				};
				f.destroy = function () {
					N(window, "resize", l);
					N(a, "scroll", d);
					e.each(w, function (b, c) {
						b && b.frame === a && Z.call(q.instances, c, 1)
					});
					x.length = 0;
					f.initialized = !1;
					u("destroy");
					return f
				};
				f.init = function () {
					if (!f.initialized) return f.on(c), k(), M(window, "resize", l), M(a, "scroll", d), C.call(q.instances, f), f.initialized = !0, u("initialized"), f
				}
			}
		};
	q.instances = [];
	(function () {
		var a, g, c, k, l, d, b, e;
		L = function (u, p) {
			g = u.ownerDocument || u;
			c = g.documentElement;
			k = Y(p) ? p : g.defaultView || window;
			p = p && p !== g ? p : c;
			l = (k.pageYOffset ||
				c.scrollTop) - c.clientTop;
			d = (k.pageXOffset || c.scrollLeft) - c.clientLeft;
			b = {
				top: 0,
				left: 0
			};
			if (u && u.getBoundingClientRect) {
				var f = {},
					q = u.getBoundingClientRect();
				for (a in q) f[a] = q[a];
				b = f;
				b.width = b.right - b.left;
				b.height = b.bottom - b.top
			} else return null;
			if (p === k) return b;
			b.top += l;
			b.left += d;
			b.right += d;
			b.bottom += l;
			if (p === c) return b;
			e = L(p);
			b.left -= e.left;
			b.right -= e.left;
			b.top -= e.top;
			b.bottom -= e.top;
			return b
		}
	})();
	(function () {
		function a() {
			this.returnValue = !1
		}

		function g() {
			this.cancelBubble = !0
		}
		M = window.addEventListener ?
			function (a, g, e, d) {
				a.addEventListener(g, e, d || !1);
				return e
			} : function (c, e, l) {
				var d = e + l;
				c[d] = c[d] || function () {
					var b = window.event;
					b.target = b.srcElement;
					b.preventDefault = a;
					b.stopPropagation = g;
					l.call(c, b)
				};
				c.attachEvent("on" + e, c[d]);
				return l
			};
		N = window.removeEventListener ? function (a, g, e, d) {
			a.removeEventListener(g, e, d || !1);
			return e
		} : function (a, g, e) {
			var d = g + e;
			a.detachEvent("on" + g, a[d]);
			try {
				delete a[d]
			} catch (b) {
				a[d] = void 0
			}
			return e
		}
	})();
	(function () {
		function a(a) {
			for (var e = 0, d = g.length; e < d; e++) {
				var b = g[e] ? g[e] +
					a.charAt(0).toUpperCase() + a.slice(1) : a;
				if (null != c.style[b]) return b
			}
		}
		var g = ["", "webkit", "moz", "ms", "o"],
			c = document.createElement("div");
		da = a("transform");
		ea = a("perspective") ? "translateZ(0) " : ""
	})();
	q.defaults = {
		horizontal: !1,
		offset: 0,
		parentSelector: null,
		elementsSelector: null,
		performanceTrick: !1
	};
	window.Scrollax = q;
	e.fn.Scrollax = function (a, g) {
		var c, k;
		if (!e.isPlainObject(a)) {
			if ("string" === typeof a || !1 === a) c = !1 === a ? "destroy" : a, k = slice.call(arguments, 1);
			a = {}
		}
		return this.each(function (l, d) {
			var b = e.data(d,
				"scrollax");
			b || c ? b && c && b[c] && b[c].apply(b, k) : e.data(d, "scrollax", (new q(d, a, g)).init())
		})
	};
	e.Scrollax = function (a, e) {
		ba.Scrollax(a, e)
	};
	var v = document.head || document.getElementsByTagName("head")[0],
		w = document.createElement("style");
	w.type = "text/css";
	w.styleSheet ? w.styleSheet.cssText = ".scrollax-performance, .scrollax-performance *, .scrollax-performance *:before, .scrollax-performance *:after { pointer-events: none !important; -webkit-animation-play-state: paused !important; animation-play-state: paused !important; };" :
		w.appendChild(document.createTextNode(".scrollax-performance, .scrollax-performance *, .scrollax-performance *:before, .scrollax-performance *:after { pointer-events: none !important; -webkit-animation-play-state: paused !important; animation-play-state: paused !important; };"));
	v.appendChild(w);
	return q
});
// appear
(function ($) {
	$.fn.appear = function (f, o) {
		var s = $.extend({
			one: true
		}, o);
		return this.each(function () {
			var t = $(this);
			t.appeared = false;
			if (!f) {
				t.trigger('appear', s.data);
				return;
			}
			var w = $(window);
			var c = function () {
				if (!t.is(':visible')) {
					t.appeared = false;
					return;
				}
				var a = w.scrollLeft();
				var b = w.scrollTop();
				var o = t.offset();
				var x = o.left;
				var y = o.top;
				if (y + t.height() >= b && y <= b + w.height() && x + t.width() >= a && x <= a + w.width()) {
					if (!t.appeared) t.trigger('appear', s.data);
				} else {
					t.appeared = false;
				}
			};
			var m = function () {
				t.appeared = true;
				if (s.one) {
					w.unbind('scroll', c);
					var i = $.inArray(c, $.fn.appear.checks);
					if (i >= 0) $.fn.appear.checks.splice(i, 1);
				}
				f.apply(this, arguments);
			};
			if (s.one) t.one('appear', s.data, m);
			else t.bind('appear', s.data, m);
			w.scroll(c);
			$.fn.appear.checks.push(c);
			(c)();
		});
	};
	$.extend($.fn.appear, {
		checks: [],
		timeout: null,
		checkAll: function () {
			var l = $.fn.appear.checks.length;
			if (l > 0)
				while (l--)($.fn.appear.checks[l])();
		},
		run: function () {
			if ($.fn.appear.timeout) clearTimeout($.fn.appear.timeout);
			$.fn.appear.timeout = setTimeout($.fn.appear.checkAll, 20);
		}
	});
	$.each(['append', 'prepend', 'after', 'before', 'attr', 'removeAttr', 'addClass', 'removeClass', 'toggleClass', 'remove', 'css', 'show', 'hide'], function (i, n) {
		var u = $.fn[n];
		if (u) {
			$.fn[n] = function () {
				var r = u.apply(this, arguments);
				$.fn.appear.run();
				return r;
			}
		}
	});
})(jQuery);

/**
 * Single Page Nav Plugin
 * Copyright (c) 2014 Chris Wojcik <hello@chriswojcik.net>
 * Dual licensed under MIT and GPL.
 * @author Chris Wojcik
 * @version 1.2.0
 */

// Utility
if (typeof Object.create !== 'function') {
	Object.create = function (obj) {
		function F() {}
		F.prototype = obj;
		return new F()
	}
}(function ($, window, document, undefined) {
	"use strict";
	var SinglePageNav = {
		init: function (options, container) {
			this.options = $.extend({}, $.fn.singlePageNav.defaults, options);
			this.container = container;
			this.$container = $(container);
			this.$links = this.$container.find('a');
			if (this.options.filter !== '') {
				this.$links = this.$links.filter(this.options.filter)
			}
			this.$window = $(window);
			this.$htmlbody = $('html, body');
			this.$links.on('click.singlePageNav', $.proxy(this.handleClick, this));
			this.didScroll = false;
			this.checkPosition();
			this.setTimer()
		},
		handleClick: function (e) {
			var self = this,
				link = e.currentTarget,
				$elem = $(link.hash);
			e.preventDefault();
			if ($elem.length) {
				self.clearTimer();
				if (typeof self.options.beforeStart === 'function') {
					self.options.beforeStart()
				}
				self.setActiveLink(link.hash);
				self.scrollTo($elem, function () {
					if (self.options.updateHash && history.pushState) {
						history.pushState(null, null, link.hash)
					}
					self.setTimer();
					if (typeof self.options.onComplete === 'function') {
						self.options.onComplete()
					}
				})
			}
		},
		scrollTo: function ($elem, callback) {
			var self = this;
			var target = self.getCoords($elem).top;
			var called = false;
			self.$htmlbody.stop().animate({
				scrollTop: target
			}, {
				duration: self.options.speed,
				easing: self.options.easing,
				complete: function () {
					if (typeof callback === 'function' && !called) {
						callback()
					}
					called = true
				}
			})
		},
		setTimer: function () {
			var self = this;
			self.$window.on('scroll.singlePageNav', function () {
				self.didScroll = true
			});
			self.timer = setInterval(function () {
				if (self.didScroll) {
					self.didScroll = false;
					self.checkPosition()
				}
			}, 250)
		},
		clearTimer: function () {
			clearInterval(this.timer);
			this.$window.off('scroll.singlePageNav');
			this.didScroll = false
		},
		checkPosition: function () {
			var scrollPos = this.$window.scrollTop();
			var currentSection = this.getCurrentSection(scrollPos);
			if (currentSection !== null) {
				this.setActiveLink(currentSection)
			}
		},
		getCoords: function ($elem) {
			return {
				top: Math.round($elem.offset().top) - this.options.offset
			}
		},
		setActiveLink: function (href) {
			var $activeLink = this.$container.find("a[href$='" + href + "']");
			if (!$activeLink.hasClass(this.options.currentClass)) {
				this.$links.removeClass(this.options.currentClass);
				$activeLink.addClass(this.options.currentClass);
				if ($(".scroll-nav  a").hasClass("act-link")) $(".scroll-nav  a.act-link").each(function () {
					var a = $(this).data("bgscr"),
						b = $(this).data("bgtex");
					var ua = window.navigator.userAgent;
					var msie = ua.indexOf("MSIE ");
					if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
						$(".bg-title span").html(b)
					} else {
						$(".bg-title span").html(b).shuffleLetters({})
					}
					$(".column-image").addClass("scrbg");
					setTimeout(function () {
						$(".bg-scroll").css("background-image", "url(" + a + ")");
						$(".column-image").removeClass("scrbg")
					}, 700)
				})
			}
		},
		getCurrentSection: function (scrollPos) {
			var i, hash, coords, section;
			for (i = 0; i < this.$links.length; i++) {
				hash = this.$links[i].hash;
				if ($(hash).length) {
					coords = this.getCoords($(hash));
					if (scrollPos >= coords.top - this.options.threshold) {
						section = hash
					}
				}
			}
			return section || ((this.$links.length === 0) ? (null) : (this.$links[0].hash))
		}
	};
	$.fn.singlePageNav = function (options) {
		return this.each(function () {
			var singlePageNav = Object.create(SinglePageNav);
			singlePageNav.init(options, this)
		})
	};
	$.fn.singlePageNav.defaults = {
		offset: 0,
		threshold: 120,
		speed: 400,
		currentClass: 'current',
		easing: 'swing',
		updateHash: false,
		filter: '',
		onComplete: false,
		beforeStart: false
	}
})(jQuery, window, document);
// ScrollToFixed
(function (a) {
	a.isScrollToFixed = function (b) {
		return !!a(b).data("ScrollToFixed")
	};
	a.ScrollToFixed = function (d, i) {
		var m = this;
		m.$el = a(d);
		m.el = d;
		m.$el.data("ScrollToFixed", m);
		var c = false;
		var H = m.$el;
		var I;
		var F;
		var k;
		var e;
		var z;
		var E = 0;
		var r = 0;
		var j = -1;
		var f = -1;
		var u = null;
		var A;
		var g;

		function v() {
			H.trigger("preUnfixed.ScrollToFixed");
			l();
			H.trigger("unfixed.ScrollToFixed");
			f = -1;
			E = H.offset().top;
			r = H.offset().left;
			if (m.options.offsets) {
				r += (H.offset().left - H.position().left)
			}
			if (j == -1) {
				j = r
			}
			I = H.css("position");
			c = true;
			if (m.options.bottom != -1) {
				H.trigger("preFixed.ScrollToFixed");
				x();
				H.trigger("fixed.ScrollToFixed")
			}
		}

		function o() {
			var J = m.options.limit;
			if (!J) {
				return 0
			}
			if (typeof (J) === "function") {
				return J.apply(H)
			}
			return J
		}

		function q() {
			return I === "fixed"
		}

		function y() {
			return I === "absolute"
		}

		function h() {
			return !(q() || y())
		}

		function x() {
			if (!q()) {
				var J = H[0].getBoundingClientRect();
				u.css({
					display: H.css("display"),
					width: J.width,
					height: J.height,
					"float": H.css("float")
				});
				cssOptions = {
					"z-index": m.options.zIndex,
					position: "fixed",
					top: m.options.bottom == -1 ? t() : "",
					bottom: m.options.bottom == -1 ? "" : m.options.bottom,
					"margin-left": "0px"
				};
				if (!m.options.dontSetWidth) {
					cssOptions.width = H.css("width")
				}
				H.css(cssOptions);
				H.addClass(m.options.baseClassName);
				if (m.options.className) {
					H.addClass(m.options.className)
				}
				I = "fixed"
			}
		}

		function b() {
			var K = o();
			var J = r;
			if (m.options.removeOffsets) {
				J = "";
				K = K - E
			}
			cssOptions = {
				position: "absolute",
				top: K,
				left: J,
				"margin-left": "0px",
				bottom: ""
			};
			if (!m.options.dontSetWidth) {
				cssOptions.width = H.css("width")
			}
			H.css(cssOptions);
			I = "absolute"
		}

		function l() {
			if (!h()) {
				f = -1;
				u.css("display", "none");
				H.css({
					"z-index": z,
					width: "",
					position: F,
					left: "",
					top: e,
					"margin-left": ""
				});
				H.removeClass("scroll-to-fixed-fixed");
				if (m.options.className) {
					H.removeClass(m.options.className)
				}
				I = null
			}
		}

		function w(J) {
			if (J != f) {
				H.css("left", r - J);
				f = J
			}
		}

		function t() {
			var J = m.options.marginTop;
			if (!J) {
				return 0
			}
			if (typeof (J) === "function") {
				return J.apply(H)
			}
			return J
		}

		function B() {
			if (!a.isScrollToFixed(H) || H.is(":hidden")) {
				return
			}
			var M = c;
			var L = h();
			if (!c) {
				v()
			} else {
				if (h()) {
					E = H.offset().top;
					r = H.offset().left
				}
			}
			var J = a(window).scrollLeft();
			var N = a(window).scrollTop();
			var K = o();
			if (m.options.minWidth && a(window).width() < m.options.minWidth) {
				if (!h() || !M) {
					p();
					H.trigger("preUnfixed.ScrollToFixed");
					l();
					H.trigger("unfixed.ScrollToFixed")
				}
			} else {
				if (m.options.maxWidth && a(window).width() > m.options.maxWidth) {
					if (!h() || !M) {
						p();
						H.trigger("preUnfixed.ScrollToFixed");
						l();
						H.trigger("unfixed.ScrollToFixed")
					}
				} else {
					if (m.options.bottom == -1) {
						if (K > 0 && N >= K - t()) {
							if (!L && (!y() || !M)) {
								p();
								H.trigger("preAbsolute.ScrollToFixed");
								b();
								H.trigger("unfixed.ScrollToFixed")
							}
						} else {
							if (N >= E - t()) {
								if (!q() || !M) {
									p();
									H.trigger("preFixed.ScrollToFixed");
									x();
									f = -1;
									H.trigger("fixed.ScrollToFixed")
								}
								w(J)
							} else {
								if (!h() || !M) {
									p();
									H.trigger("preUnfixed.ScrollToFixed");
									l();
									H.trigger("unfixed.ScrollToFixed")
								}
							}
						}
					} else {
						if (K > 0) {
							if (N + a(window).height() - H.outerHeight(true) >= K - (t() || -n())) {
								if (q()) {
									p();
									H.trigger("preUnfixed.ScrollToFixed");
									if (F === "absolute") {
										b()
									} else {
										l()
									}
									H.trigger("unfixed.ScrollToFixed")
								}
							} else {
								if (!q()) {
									p();
									H.trigger("preFixed.ScrollToFixed");
									x()
								}
								w(J);
								H.trigger("fixed.ScrollToFixed")
							}
						} else {
							w(J)
						}
					}
				}
			}
		}

		function n() {
			if (!m.options.bottom) {
				return 0
			}
			return m.options.bottom
		}

		function p() {
			var J = H.css("position");
			if (J == "absolute") {
				H.trigger("postAbsolute.ScrollToFixed")
			} else {
				if (J == "fixed") {
					H.trigger("postFixed.ScrollToFixed")
				} else {
					H.trigger("postUnfixed.ScrollToFixed")
				}
			}
		}
		var D = function (J) {
			if (H.is(":visible")) {
				c = false;
				B()
			} else {
				l()
			}
		};
		var G = function (J) {
			(!!window.requestAnimationFrame) ? requestAnimationFrame(B): B()
		};
		var C = function () {
			var K = document.body;
			if (document.createElement && K && K.appendChild && K.removeChild) {
				var M = document.createElement("div");
				if (!M.getBoundingClientRect) {
					return null
				}
				M.innerHTML = "x";
				M.style.cssText = "position:fixed;top:100px;";
				K.appendChild(M);
				var N = K.style.height,
					O = K.scrollTop;
				K.style.height = "3000px";
				K.scrollTop = 500;
				var J = M.getBoundingClientRect().top;
				K.style.height = N;
				var L = (J === 100);
				K.removeChild(M);
				K.scrollTop = O;
				return L
			}
			return null
		};
		var s = function (J) {
			J = J || window.event;
			if (J.preventDefault) {
				J.preventDefault()
			}
			J.returnValue = false
		};
		m.init = function () {
			m.options = a.extend({}, a.ScrollToFixed.defaultOptions, i);
			z = H.css("z-index");
			m.$el.css("z-index", m.options.zIndex);
			u = a("<div />");
			I = H.css("position");
			F = H.css("position");
			k = H.css("float");
			e = H.css("top");
			if (h()) {
				m.$el.after(u)
			}
			a(window).bind("resize.ScrollToFixed", D);
			a(window).bind("scroll.ScrollToFixed", G);
			if ("ontouchmove" in window) {
				a(window).bind("touchmove.ScrollToFixed", B)
			}
			if (m.options.preFixed) {
				H.bind("preFixed.ScrollToFixed", m.options.preFixed)
			}
			if (m.options.postFixed) {
				H.bind("postFixed.ScrollToFixed", m.options.postFixed)
			}
			if (m.options.preUnfixed) {
				H.bind("preUnfixed.ScrollToFixed", m.options.preUnfixed)
			}
			if (m.options.postUnfixed) {
				H.bind("postUnfixed.ScrollToFixed", m.options.postUnfixed)
			}
			if (m.options.preAbsolute) {
				H.bind("preAbsolute.ScrollToFixed", m.options.preAbsolute)
			}
			if (m.options.postAbsolute) {
				H.bind("postAbsolute.ScrollToFixed", m.options.postAbsolute)
			}
			if (m.options.fixed) {
				H.bind("fixed.ScrollToFixed", m.options.fixed)
			}
			if (m.options.unfixed) {
				H.bind("unfixed.ScrollToFixed", m.options.unfixed)
			}
			if (m.options.spacerClass) {
				u.addClass(m.options.spacerClass)
			}
			H.bind("resize.ScrollToFixed", function () {
				u.height(H.height())
			});
			H.bind("scroll.ScrollToFixed", function () {
				H.trigger("preUnfixed.ScrollToFixed");
				l();
				H.trigger("unfixed.ScrollToFixed");
				B()
			});
			H.bind("detach.ScrollToFixed", function (J) {
				s(J);
				H.trigger("preUnfixed.ScrollToFixed");
				l();
				H.trigger("unfixed.ScrollToFixed");
				a(window).unbind("resize.ScrollToFixed", D);
				a(window).unbind("scroll.ScrollToFixed", G);
				H.unbind(".ScrollToFixed");
				u.remove();
				m.$el.removeData("ScrollToFixed")
			});
			D()
		};
		m.init()
	};
	a.ScrollToFixed.defaultOptions = {
		marginTop: 0,
		limit: 0,
		bottom: -1,
		zIndex: 1000,
		baseClassName: "scroll-to-fixed-fixed"
	};
	a.fn.scrollToFixed = function (b) {
		return this.each(function () {
			(new a.ScrollToFixed(this, b))
		})
	}
})(jQuery);
// count
(function ($) {
	$.fn.countTo = function (options) {
		options = options || {};
		return $(this).each(function () {
			var settings = $.extend({}, $.fn.countTo.defaults, {
				from: $(this).data('from'),
				to: $(this).data('num'),
				speed: $(this).data('speed'),
				refreshInterval: $(this).data('refresh-interval'),
				decimals: $(this).data('decimals')
			}, options);
			var loops = Math.ceil(settings.speed / settings.refreshInterval),
				increment = (settings.to - settings.from) / loops;
			var self = this,
				$self = $(this),
				loopCount = 0,
				value = settings.from,
				data = $self.data('countTo') || {};
			$self.data('countTo', data);
			if (data.interval) {
				clearInterval(data.interval)
			}
			data.interval = setInterval(updateTimer, settings.refreshInterval);
			render(value);

			function updateTimer() {
				value += increment;
				loopCount++;
				render(value);
				if (typeof (settings.onUpdate) == 'function') {
					settings.onUpdate.call(self, value)
				}
				if (loopCount >= loops) {
					$self.removeData('countTo');
					clearInterval(data.interval);
					value = settings.to;
					if (typeof (settings.onComplete) == 'function') {
						settings.onComplete.call(self, value)
					}
				}
			}

			function render(value) {
				var formattedValue = settings.formatter.call(self, value, settings);
				$self.text(formattedValue)
			}
		})
	};
	$.fn.countTo.defaults = {
		from: 0,
		to: 0,
		speed: 2500,
		refreshInterval: 100,
		decimals: 0,
		formatter: formatter,
		onUpdate: null,
		onComplete: null
	};

	function formatter(value, settings) {
		return value.toFixed(settings.decimals)
	}
}(jQuery));
/*!
Mailchimp Ajax Submit
jQuery Plugin

*/
(function ($) {
	'use strict';
	$.ajaxChimp = {
		responses: {
			'We have sent you a confirmation email': 0,
			'Please enter a value': 1,
			'An email address must contain a single @': 2,
			'The domain portion of the email address is invalid (the portion after the @: )': 3,
			'The username portion of the email address is invalid (the portion before the @: )': 4,
			'This email address looks fake or invalid. Please enter a real email address': 5
		},
		translations: {
			'en': null
		},
		init: function (selector, options) {
			$(selector).ajaxChimp(options)
		}
	};
	$.fn.ajaxChimp = function (options) {
		$(this).each(function (i, elem) {
			var form = $(elem);
			var email = form.find('input[type=text]');
			var label = form.find('label[for=' + email.attr('id') + ']');
			var settings = $.extend({
				'url': form.attr('action'),
				'language': 'en'
			}, options);
			var url = settings.url.replace('/post?', '/post-json?').concat('&c=?');
			form.attr('novalidate', 'true');
			email.attr('name', 'EMAIL');
			form.submit(function () {
				var msg;

				function successCallback(resp) {
					if (resp.result === 'success') {
						msg = 'We have sent you a confirmation email';
						label.removeClass('error').addClass('valid');
						email.removeClass('error').addClass('valid')
					} else {
						email.removeClass('valid').addClass('error');
						label.removeClass('valid').addClass('error');
						var index = -1;
						try {
							var parts = resp.msg.split(' - ', 2);
							if (parts[1] === undefined) {
								msg = resp.msg
							} else {
								var i = parseInt(parts[0], 10);
								if (i.toString() === parts[0]) {
									index = parts[0];
									msg = parts[1]
								} else {
									index = -1;
									msg = resp.msg
								}
							}
						} catch (e) {
							index = -1;
							msg = resp.msg
						}
					}
					if (settings.language !== 'en' && $.ajaxChimp.responses[msg] !== undefined && $.ajaxChimp.translations && $.ajaxChimp.translations[settings.language] && $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]) {
						msg = $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]
					}
					label.html(msg);
					label.show(2000);
					if (settings.callback) {
						settings.callback(resp)
					}
				}
				var data = {};
				var dataArray = form.serializeArray();
				$.each(dataArray, function (index, item) {
					data[item.name] = item.value
				});
				$.ajax({
					url: url,
					data: data,
					success: successCallback,
					dataType: 'jsonp',
					error: function (resp, text) {
						console.log('mailchimp ajax submit error: ' + text)
					}
				});
				var submitMsg = 'Submitting...';
				if (settings.language !== 'en' && $.ajaxChimp.translations && $.ajaxChimp.translations[settings.language] && $.ajaxChimp.translations[settings.language]['submit']) {
					submitMsg = $.ajaxChimp.translations[settings.language]['submit']
				}
				label.html(submitMsg).show(2000);
				return false
			})
		});
		return this
	}
})(jQuery);


/*********************************************************************
 *  #### Twitter Post Fetcher v17.0.0 ####
 *  Coded by Jason Mayes 2015. A present to all the developers out there.
 *  www.jasonmayes.com
 *  Please keep this disclaimer with my code if you use it. Thanks. :-)
 *  Got feedback or questions, ask here:
 *  http://www.jasonmayes.com/projects/twitterApi/
 *  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher
 *  Updates will be posted to this site.
 *********************************************************************/
(function (root, factory) {
	if (typeof define === 'function' && define.amd) {
		define([], factory);
	} else if (typeof exports === 'object') {
		module.exports = factory();
	} else {
		factory();
	}
}(this, function () {
	var domNode = '';
	var maxTweets = 20;
	var parseLinks = true;
	var queue = [];
	var inProgress = false;
	var printTime = true;
	var printUser = true;
	var formatterFunction = null;
	var supportsClassName = true;
	var showRts = true;
	var customCallbackFunction = null;
	var showInteractionLinks = true;
	var showImages = false;
	var targetBlank = true;
	var lang = 'en';
	var permalinks = true;
	var dataOnly = false;
	var script = null;
	var scriptAdded = false;

	function handleTweets(tweets) {
		if (customCallbackFunction === null) {
			var x = tweets.length;
			var n = 0;
			var element = document.getElementById(domNode);
			var html = '<ul>';
			while (n < x) {
				html += '<li>' + tweets[n] + '</li>';
				n++;
			}
			html += '</ul>';
			element.innerHTML = html;
		} else {
			customCallbackFunction(tweets);
		}
	}

	function strip(data) {
		return data.replace(/<b[^>]*>(.*?)<\/b>/gi, function (a, s) {
			return s;
		}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi, '');
	}

	function targetLinksToNewWindow(el) {
		var links = el.getElementsByTagName('a');
		for (var i = links.length - 1; i >= 0; i--) {
			links[i].setAttribute('target', '_blank');
		}
	}

	function getElementsByClassName(node, classname) {
		var a = [];
		var regex = new RegExp('(^| )' + classname + '( |$)');
		var elems = node.getElementsByTagName('*');
		for (var i = 0, j = elems.length; i < j; i++) {
			if (regex.test(elems[i].className)) {
				a.push(elems[i]);
			}
		}
		return a;
	}

	function extractImageUrl(image_data) {
		if (image_data !== undefined && image_data.innerHTML.indexOf('data-srcset') >= 0) {
			var data_src = image_data.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];
			return decodeURIComponent(data_src).split('"')[1];
		}
	}
	var twitterFetcher = {
		fetch: function (config) {
			if (config.maxTweets === undefined) {
				config.maxTweets = 20;
			}
			if (config.enableLinks === undefined) {
				config.enableLinks = true;
			}
			if (config.showUser === undefined) {
				config.showUser = true;
			}
			if (config.showTime === undefined) {
				config.showTime = true;
			}
			if (config.dateFunction === undefined) {
				config.dateFunction = 'default';
			}
			if (config.showRetweet === undefined) {
				config.showRetweet = true;
			}
			if (config.customCallback === undefined) {
				config.customCallback = null;
			}
			if (config.showInteraction === undefined) {
				config.showInteraction = true;
			}
			if (config.showImages === undefined) {
				config.showImages = false;
			}
			if (config.linksInNewWindow === undefined) {
				config.linksInNewWindow = true;
			}
			if (config.showPermalinks === undefined) {
				config.showPermalinks = true;
			}
			if (config.dataOnly === undefined) {
				config.dataOnly = false;
			}
			if (inProgress) {
				queue.push(config);
			} else {
				inProgress = true;
				domNode = config.domId;
				maxTweets = config.maxTweets;
				parseLinks = config.enableLinks;
				printUser = config.showUser;
				printTime = config.showTime;
				showRts = config.showRetweet;
				formatterFunction = config.dateFunction;
				customCallbackFunction = config.customCallback;
				showInteractionLinks = config.showInteraction;
				showImages = config.showImages;
				targetBlank = config.linksInNewWindow;
				permalinks = config.showPermalinks;
				dataOnly = config.dataOnly;
				var head = document.getElementsByTagName('head')[0];
				if (script !== null) {
					head.removeChild(script);
				}
				script = document.createElement('script');
				script.type = 'text/javascript';
				if (config.list !== undefined) {
					script.src = 'https://syndication.twitter.com/timeline/list?' + 'callback=__twttrf.callback&dnt=false&list_slug=' +
						config.list.listSlug + '&screen_name=' + config.list.screenName + '&suppress_response_codes=true&lang=' + (config.lang || lang) + '&rnd=' + Math.random();
				} else if (config.profile !== undefined) {
					script.src = 'https://syndication.twitter.com/timeline/profile?' + 'callback=__twttrf.callback&dnt=false' + '&screen_name=' + config.profile.screenName + '&suppress_response_codes=true&lang=' + (config.lang || lang) + '&rnd=' + Math.random();
				} else if (config.likes !== undefined) {
					script.src = 'https://syndication.twitter.com/timeline/likes?' + 'callback=__twttrf.callback&dnt=false' + '&screen_name=' + config.likes.screenName + '&suppress_response_codes=true&lang=' + (config.lang || lang) + '&rnd=' + Math.random();
				} else {
					script.src = 'https://cdn.syndication.twimg.com/widgets/timelines/' +
						config.id + '?&lang=' + (config.lang || lang) + '&callback=__twttrf.callback&' + 'suppress_response_codes=true&rnd=' + Math.random();
				}
				head.appendChild(script);
			}
		},
		callback: function (data) {
			if (data === undefined || data.body === undefined) {
				inProgress = false;
				if (queue.length > 0) {
					twitterFetcher.fetch(queue[0]);
					queue.splice(0, 1);
				}
				return;
			}
			data.body = data.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g, '');
			if (!showImages) {
				data.body = data.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g, '');
			}
			if (!printUser) {
				data.body = data.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g, '');
			}
			var div = document.createElement('div');
			div.innerHTML = data.body;
			if (typeof (div.getElementsByClassName) === 'undefined') {
				supportsClassName = false;
			}

			function swapDataSrc(element) {
				var avatarImg = element.getElementsByTagName('img')[0];
				avatarImg.src = avatarImg.getAttribute('data-src-2x');
				return element;
			}
			var tweets = [];
			var authors = [];
			var times = [];
			var images = [];
			var rts = [];
			var tids = [];
			var permalinksURL = [];
			var x = 0;
			if (supportsClassName) {
				var tmp = div.getElementsByClassName('timeline-Tweet');
				while (x < tmp.length) {
					if (tmp[x].getElementsByClassName('timeline-Tweet-retweetCredit').length > 0) {
						rts.push(true);
					} else {
						rts.push(false);
					}
					if (!rts[x] || rts[x] && showRts) {
						tweets.push(tmp[x].getElementsByClassName('timeline-Tweet-text')[0]);
						tids.push(tmp[x].getAttribute('data-tweet-id'));
						if (printUser) {
							authors.push(swapDataSrc(tmp[x].getElementsByClassName('timeline-Tweet-author')[0]));
						}
						times.push(tmp[x].getElementsByClassName('dt-updated')[0]);
						permalinksURL.push(tmp[x].getElementsByClassName('timeline-Tweet-timestamp')[0]);
						if (tmp[x].getElementsByClassName('timeline-Tweet-media')[0] !== undefined) {
							images.push(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]);
						} else {
							images.push(undefined);
						}
					}
					x++;
				}
			} else {
				var tmp = getElementsByClassName(div, 'timeline-Tweet');
				while (x < tmp.length) {
					if (getElementsByClassName(tmp[x], 'timeline-Tweet-retweetCredit').length > 0) {
						rts.push(true);
					} else {
						rts.push(false);
					}
					if (!rts[x] || rts[x] && showRts) {
						tweets.push(getElementsByClassName(tmp[x], 'timeline-Tweet-text')[0]);
						tids.push(tmp[x].getAttribute('data-tweet-id'));
						if (printUser) {
							authors.push(swapDataSrc(getElementsByClassName(tmp[x], 'timeline-Tweet-author')[0]));
						}
						times.push(getElementsByClassName(tmp[x], 'dt-updated')[0]);
						permalinksURL.push(getElementsByClassName(tmp[x], 'timeline-Tweet-timestamp')[0]);
						if (getElementsByClassName(tmp[x], 'timeline-Tweet-media')[0] !== undefined) {
							images.push(getElementsByClassName(tmp[x], 'timeline-Tweet-media')[0]);
						} else {
							images.push(undefined);
						}
					}
					x++;
				}
			}
			if (tweets.length > maxTweets) {
				tweets.splice(maxTweets, (tweets.length - maxTweets));
				authors.splice(maxTweets, (authors.length - maxTweets));
				times.splice(maxTweets, (times.length - maxTweets));
				rts.splice(maxTweets, (rts.length - maxTweets));
				images.splice(maxTweets, (images.length - maxTweets));
				permalinksURL.splice(maxTweets, (permalinksURL.length - maxTweets));
			}
			var arrayTweets = [];
			var x = tweets.length;
			var n = 0;
			if (dataOnly) {
				while (n < x) {
					arrayTweets.push({
						tweet: tweets[n].innerHTML,
						author: authors[n] ? authors[n].innerHTML : 'Unknown Author',
						time: times[n].textContent,
						timestamp: times[n].getAttribute('datetime').replace('+0000', 'Z').replace(/([\+\-])(\d\d)(\d\d)/, '$1$2:$3'),
						image: extractImageUrl(images[n]),
						rt: rts[n],
						tid: tids[n],
						permalinkURL: (permalinksURL[n] === undefined) ? '' : permalinksURL[n].href
					});
					n++;
				}
			} else {
				while (n < x) {
					if (typeof (formatterFunction) !== 'string') {
						var datetimeText = times[n].getAttribute('datetime');
						var newDate = new Date(times[n].getAttribute('datetime').replace(/-/g, '/').replace('T', ' ').split('+')[0]);
						var dateString = formatterFunction(newDate, datetimeText);
						times[n].setAttribute('aria-label', dateString);
						if (tweets[n].textContent) {
							if (supportsClassName) {
								times[n].textContent = dateString;
							} else {
								var h = document.createElement('p');
								var t = document.createTextNode(dateString);
								h.appendChild(t);
								h.setAttribute('aria-label', dateString);
								times[n] = h;
							}
						} else {
							times[n].textContent = dateString;
						}
					}
					var op = '';
					if (parseLinks) {
						if (targetBlank) {
							targetLinksToNewWindow(tweets[n]);
							if (printUser) {
								targetLinksToNewWindow(authors[n]);
							}
						}
						if (printUser) {
							op += '<div class="user">' + strip(authors[n].innerHTML) + '</div>';
						}
						op += '<p class="tweet">' + strip(tweets[n].innerHTML) + '</p>';
						if (printTime) {
							if (permalinks) {
								op += '<p class="timePosted"><a href="' + permalinksURL[n] + '">' + times[n].getAttribute('aria-label') + '</a></p>';
							} else {
								op += '<p class="timePosted">' +
									times[n].getAttribute('aria-label') + '</p>';
							}
						}
					} else {
						if (tweets[n].textContent) {
							if (printUser) {
								op += '<p class="user">' + authors[n].textContent + '</p>';
							}
							op += '<p class="tweet">' + tweets[n].textContent + '</p>';
							if (printTime) {
								op += '<p class="timePosted">' + times[n].textContent + '</p>';
							}
						} else {
							if (printUser) {
								op += '<p class="user">' + authors[n].textContent + '</p>';
							}
							op += '<p class="tweet">' + tweets[n].textContent + '</p>';
							if (printTime) {
								op += '<p class="timePosted">' + times[n].textContent + '</p>';
							}
						}
					}
					if (showInteractionLinks) {
						op += '<p class="interact"><a href="https://twitter.com/intent/' + 'tweet?in_reply_to=' + tids[n] + '" class="twitter_reply_icon"' +
							(targetBlank ? ' target="_blank">' : '>') + 'Reply</a><a href="https://twitter.com/intent/retweet?' + 'tweet_id=' + tids[n] + '" class="twitter_retweet_icon"' +
							(targetBlank ? ' target="_blank">' : '>') + 'Retweet</a>' + '<a href="https://twitter.com/intent/favorite?tweet_id=' +
							tids[n] + '" class="twitter_fav_icon"' +
							(targetBlank ? ' target="_blank">' : '>') + 'Favorite</a></p>';
					}
					if (showImages && images[n] !== undefined && extractImageUrl(images[n]) !== undefined) {
						op += '<div class="media">' + '<img src="' + extractImageUrl(images[n]) + '" alt="Image from tweet" />' + '</div>';
					}
					if (showImages) {
						arrayTweets.push(op);
					} else if (!showImages && tweets[n].textContent.length) {
						arrayTweets.push(op);
					}
					n++;
				}
			}
			handleTweets(arrayTweets);
			inProgress = false;
			if (queue.length > 0) {
				twitterFetcher.fetch(queue[0]);
				queue.splice(0, 1);
			}
		}
	};
	window.__twttrf = twitterFetcher;
	window.twitterFetcher = twitterFetcher;
	return twitterFetcher;
}));






























/**
 * downCount: Simple Countdown clock with offset
 * Author: Sonny T. <hi@sonnyt.com>, sonnyt.com
 */

(function ($) {
	$.fn.downCount = function (options, callback) {
		var settings = $.extend({
			date: null,
			offset: null
		}, options);
		if (!settings.date) {
			$.error('Date is not defined.')
		}
		if (!Date.parse(settings.date)) {
			$.error('Incorrect date format, it should look like this, 12/24/2012 12:00:00.')
		}
		var container = this;
		var currentDate = function () {
			var date = new Date();
			var utc = date.getTime() + (date.getTimezoneOffset() * 60000);
			var new_date = new Date(utc + (3600000 * settings.offset));
			return new_date
		};

		function countdown() {
			var target_date = new Date(settings.date),
				current_date = currentDate();
			var difference = target_date - current_date;
			if (difference < 0) {
				clearInterval(interval);
				if (callback && typeof callback === 'function') callback();
				return
			}
			var _second = 1000,
				_minute = _second * 60,
				_hour = _minute * 60,
				_day = _hour * 24;
			var days = Math.floor(difference / _day),
				hours = Math.floor((difference % _day) / _hour),
				minutes = Math.floor((difference % _hour) / _minute),
				seconds = Math.floor((difference % _minute) / _second);
			days = (String(days).length >= 2) ? days : '0' + days;
			hours = (String(hours).length >= 2) ? hours : '0' + hours;
			minutes = (String(minutes).length >= 2) ? minutes : '0' + minutes;
			seconds = (String(seconds).length >= 2) ? seconds : '0' + seconds;
			var ref_days = (days === 1) ? 'day' : 'days',
				ref_hours = (hours === 1) ? 'hour' : 'hours',
				ref_minutes = (minutes === 1) ? 'minute' : 'minutes',
				ref_seconds = (seconds === 1) ? 'second' : 'seconds';
			container.find('.days').text(days);
			container.find('.hours').text(hours);
			container.find('.minutes').text(minutes);
			container.find('.seconds').text(seconds);
			container.find('.days_ref').text(ref_days);
			container.find('.hours_ref').text(ref_hours);
			container.find('.minutes_ref').text(ref_minutes);
			container.find('.seconds_ref').text(ref_seconds)
		};
		var interval = setInterval(countdown, 1000)
	}
})(jQuery);
/**
	/*
	 *
	 *	jQuery Sliding Menu Plugin
	 *	Mobile app list-style navigation in the browser
	 *
	 *	Written by Ali Zahid
	 *	http://alizahid.github.io/jquery-sliding-menu/
	 *
	 */
(function ($) {
	var usedIds = [];
	$.fn.menu = function (options) {
		var selector = this.selector;
		var settings = $.extend({
			dataJSON: false,
			backLabel: ''
		}, options);
		return this.each(function () {
			var self = this,
				menu = $(self),
				data;
			if (menu.hasClass('sliding-menu')) {
				return
			}
			var menuWidth = menu.width();
			if (settings.dataJSON) {
				data = processJSON(settings.dataJSON)
			} else {
				data = process(menu)
			}
			menu.empty().addClass('sliding-menu');
			var rootPanel;
			if (settings.dataJSON) {
				$(data).each(function (index, item) {
					var panel = $('<ul></ul>');
					if (item.root) {
						rootPanel = '#' + item.id
					}
					panel.attr('id', item.id);
					panel.addClass('menu-panel');
					panel.width(menuWidth);
					$(item.children).each(function (index, item) {
						var link = $('<a></a>');
						link.attr('class', item.styleClass);
						link.attr('href', item.href);
						link.text(item.label);
						var li = $('<li></li>');
						li.append(link);
						panel.append(li)
					});
					menu.append(panel)
				})
			} else {
				$(data).each(function (index, item) {
					var panel = $(item);
					if (panel.hasClass('menu-panel-root')) {
						rootPanel = '#' + panel.attr('id')
					}
					panel.width(menuWidth);
					menu.append(item)
				})
			}
			rootPanel = $(rootPanel);
			rootPanel.addClass('menu-panel-root');
			var currentPanel = rootPanel;
			menu.height(rootPanel.height());
			var wrapper = $('<div></div>').addClass('sliding-menu-wrapper').width(data.length * menuWidth);
			menu.wrapInner(wrapper);
			wrapper = $('.sliding-menu-wrapper', menu);
			$('a', self).on('click', function (e) {
				var href = $(this).attr('href'),
					label = $(this).text();
				if (wrapper.is(':animated')) {
					e.preventDefault();
					return
				}
				if (href == '#') {
					e.preventDefault()
				} else if (href.indexOf('#menu-panel') == 0) {
					var target = $(href),
						isBack = $(this).hasClass('back'),
						marginLeft = parseInt(wrapper.css('margin-left'));
					if (isBack) {
						if (href == '#menu-panel-back') {
							target = currentPanel.prev()
						}
						wrapper.stop(true, true).animate({
							marginLeft: marginLeft + menuWidth
						}, 'fast')
					} else {
						target.insertAfter(currentPanel);
						if (settings.backLabel === true) {
							$('.back', target).text(label)
						} else {
							$('.back', target).text(settings.backLabel)
						}
						wrapper.stop(true, true).animate({
							marginLeft: marginLeft - menuWidth
						}, 'fast')
					}
					currentPanel = target;
					menu.stop(true, true).animate({
						height: target.height()
					}, 'fast');
					e.preventDefault()
				}
			});
			return this
		});

		function process(data) {
			var ul = $('ul', data),
				panels = [];
			$(ul).each(function (index, item) {
				var panel = $(item),
					handler = panel.prev(),
					id = getNewId();
				if (handler.length == 1) {
					handler.addClass('nav').attr('href', '#menu-panel-' + id)
				}
				panel.attr('id', 'menu-panel-' + id);
				if (index == 0) {
					panel.addClass('menu-panel-root')
				} else {
					panel.addClass('menu-panel');
					var li = $('<li></li>'),
						back = $('<a></a>').addClass('back').attr('href', '#menu-panel-back');
					panel.prepend(back)
				}
				panels.push(item)
			});
			return panels
		}

		function processJSON(data, parent) {
			var root = {
					id: 'menu-panel-' + getNewId(),
					children: [],
					root: (parent ? false : true)
				},
				panels = [];
			if (parent) {
				root.children.push({
					styleClass: 'back',
					href: '#' + parent.id
				})
			}
			$(data).each(function (index, item) {
				root.children.push(item);
				if (item.children) {
					var panel = processJSON(item.children, root);
					item.href = '#' + panel[0].id;
					item.styleClass = 'nav';
					panels = panels.concat(panel)
				}
			});
			return [root].concat(panels)
		}

		function getNewId() {
			var id;
			do {
				id = Math.random().toString(36).substring(3, 8)
			} while (usedIds.indexOf(id) >= 0);
			usedIds.push(id);
			return id
		}
	}
}(jQuery));
// count
(function ($) {
	$.fn.countTo = function (options) {
		options = options || {};
		return $(this).each(function () {
			var settings = $.extend({}, $.fn.countTo.defaults, {
				from: $(this).data('from'),
				to: $(this).data('num'),
				speed: $(this).data('speed'),
				refreshInterval: $(this).data('refresh-interval'),
				decimals: $(this).data('decimals')
			}, options);
			var loops = Math.ceil(settings.speed / settings.refreshInterval),
				increment = (settings.to - settings.from) / loops;
			var self = this,
				$self = $(this),
				loopCount = 0,
				value = settings.from,
				data = $self.data('countTo') || {};
			$self.data('countTo', data);
			if (data.interval) {
				clearInterval(data.interval)
			}
			data.interval = setInterval(updateTimer, settings.refreshInterval);
			render(value);

			function updateTimer() {
				value += increment;
				loopCount++;
				render(value);
				if (typeof (settings.onUpdate) == 'function') {
					settings.onUpdate.call(self, value)
				}
				if (loopCount >= loops) {
					$self.removeData('countTo');
					clearInterval(data.interval);
					value = settings.to;
					if (typeof (settings.onComplete) == 'function') {
						settings.onComplete.call(self, value)
					}
				}
			}

			function render(value) {
				var formattedValue = settings.formatter.call(self, value, settings);
				$self.text(formattedValue)
			}
		})
	};
	$.fn.countTo.defaults = {
		from: 0,
		to: 0,
		speed: 2500,
		refreshInterval: 100,
		decimals: 0,
		formatter: formatter,
		onUpdate: null,
		onComplete: null
	};

	function formatter(value, settings) {
		return value.toFixed(settings.decimals)
	}
}(jQuery));


/*
 * jquery-match-height 0.7.2 by @liabru
 * http://brm.io/jquery-match-height/
 * License MIT
 */
! function (t) {
	"use strict";
	"function" == typeof define && define.amd ? define(["jquery"], t) : "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery)
}(function (t) {
	var e = -1,
		o = -1,
		n = function (t) {
			return parseFloat(t) || 0
		},
		a = function (e) {
			var o = 1,
				a = t(e),
				i = null,
				r = [];
			return a.each(function () {
				var e = t(this),
					a = e.offset().top - n(e.css("margin-top")),
					s = r.length > 0 ? r[r.length - 1] : null;
				null === s ? r.push(e) : Math.floor(Math.abs(i - a)) <= o ? r[r.length - 1] = s.add(e) : r.push(e), i = a
			}), r
		},
		i = function (e) {
			var o = {
				byRow: !0,
				property: "height",
				target: null,
				remove: !1
			};
			return "object" == typeof e ? t.extend(o, e) : ("boolean" == typeof e ? o.byRow = e : "remove" === e && (o.remove = !0), o)
		},
		r = t.fn.matchHeight = function (e) {
			var o = i(e);
			if (o.remove) {
				var n = this;
				return this.css(o.property, ""), t.each(r._groups, function (t, e) {
					e.elements = e.elements.not(n)
				}), this
			}
			return this.length <= 1 && !o.target ? this : (r._groups.push({
				elements: this,
				options: o
			}), r._apply(this, o), this)
		};
	r.version = "0.7.2", r._groups = [], r._throttle = 80, r._maintainScroll = !1, r._beforeUpdate = null,
		r._afterUpdate = null, r._rows = a, r._parse = n, r._parseOptions = i, r._apply = function (e, o) {
			var s = i(o),
				h = t(e),
				l = [h],
				c = t(window).scrollTop(),
				p = t("html").outerHeight(!0),
				u = h.parents().filter(":hidden");
			return u.each(function () {
					var e = t(this);
					e.data("style-cache", e.attr("style"))
				}), u.css("display", "block"), s.byRow && !s.target && (h.each(function () {
					var e = t(this),
						o = e.css("display");
					"inline-block" !== o && "flex" !== o && "inline-flex" !== o && (o = "block"), e.data("style-cache", e.attr("style")), e.css({
						display: o,
						"padding-top": "0",
						"padding-bottom": "0",
						"margin-top": "0",
						"margin-bottom": "0",
						"border-top-width": "0",
						"border-bottom-width": "0",
						height: "100px",
						overflow: "hidden"
					})
				}), l = a(h), h.each(function () {
					var e = t(this);
					e.attr("style", e.data("style-cache") || "")
				})), t.each(l, function (e, o) {
					var a = t(o),
						i = 0;
					if (s.target) i = s.target.outerHeight(!1);
					else {
						if (s.byRow && a.length <= 1) return void a.css(s.property, "");
						a.each(function () {
							var e = t(this),
								o = e.attr("style"),
								n = e.css("display");
							"inline-block" !== n && "flex" !== n && "inline-flex" !== n && (n = "block");
							var a = {
								display: n
							};
							a[s.property] = "", e.css(a), e.outerHeight(!1) > i && (i = e.outerHeight(!1)), o ? e.attr("style", o) : e.css("display", "")
						})
					}
					a.each(function () {
						var e = t(this),
							o = 0;
						s.target && e.is(s.target) || ("border-box" !== e.css("box-sizing") && (o += n(e.css("border-top-width")) + n(e.css("border-bottom-width")), o += n(e.css("padding-top")) + n(e.css("padding-bottom"))), e.css(s.property, i - o + "px"))
					})
				}), u.each(function () {
					var e = t(this);
					e.attr("style", e.data("style-cache") || null)
				}), r._maintainScroll && t(window).scrollTop(c / p * t("html").outerHeight(!0)),
				this
		}, r._applyDataApi = function () {
			var e = {};
			t("[data-match-height], [data-mh]").each(function () {
				var o = t(this),
					n = o.attr("data-mh") || o.attr("data-match-height");
				n in e ? e[n] = e[n].add(o) : e[n] = o
			}), t.each(e, function () {
				this.matchHeight(!0)
			})
		};
	var s = function (e) {
		r._beforeUpdate && r._beforeUpdate(e, r._groups), t.each(r._groups, function () {
			r._apply(this.elements, this.options)
		}), r._afterUpdate && r._afterUpdate(e, r._groups)
	};
	r._update = function (n, a) {
		if (a && "resize" === a.type) {
			var i = t(window).width();
			if (i === e) return;
			e = i;
		}
		n ? o === -1 && (o = setTimeout(function () {
			s(a), o = -1
		}, r._throttle)) : s(a)
	}, t(r._applyDataApi);
	var h = t.fn.on ? "on" : "bind";
	t(window)[h]("load", function (t) {
		r._update(!1, t)
	}), t(window)[h]("resize orientationchange", function (t) {
		r._update(!0, t)
	})
});



// count

(function (e, t) {
	'object' == typeof exports && 'undefined' != typeof module ? module.exports = t() : 'function' == typeof define && define.amd ? define(t) : e.tippy = t()
})(this, function () {
	'use strict';

	function e(e) {
		return e && '[object Function]' === {}.toString.call(e)
	}

	function t(e, t) {
		if (1 !== e.nodeType) return [];
		var r = e.ownerDocument.defaultView,
			a = r.getComputedStyle(e, null);
		return t ? a[t] : a
	}

	function r(e) {
		return 'HTML' === e.nodeName ? e : e.parentNode || e.host
	}

	function a(e) {
		if (!e) return document.body;
		switch (e.nodeName) {
			case 'HTML':
			case 'BODY':
				return e.ownerDocument.body;
			case '#document':
				return e.body;
		}
		var p = t(e),
			o = p.overflow,
			i = p.overflowX,
			n = p.overflowY;
		return /(auto|scroll|overlay)/.test(o + n + i) ? e : a(r(e))
	}

	function p(e) {
		return 11 === e ? bt : 10 === e ? yt : bt || yt
	}

	function o(e) {
		if (!e) return document.documentElement;
		for (var r = p(10) ? document.body : null, a = e.offsetParent || null; a === r && e.nextElementSibling;) a = (e = e.nextElementSibling).offsetParent;
		var i = a && a.nodeName;
		return i && 'BODY' !== i && 'HTML' !== i ? -1 !== ['TH', 'TD', 'TABLE'].indexOf(a.nodeName) && 'static' === t(a, 'position') ? o(a) : a : e ? e.ownerDocument.documentElement : document.documentElement
	}

	function n(e) {
		var t = e.nodeName;
		return 'BODY' !== t && ('HTML' === t || o(e.firstElementChild) === e)
	}

	function s(e) {
		return null === e.parentNode ? e : s(e.parentNode)
	}

	function l(e, t) {
		if (!e || !e.nodeType || !t || !t.nodeType) return document.documentElement;
		var r = e.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING,
			a = r ? e : t,
			p = r ? t : e,
			i = document.createRange();
		i.setStart(a, 0), i.setEnd(p, 0);
		var d = i.commonAncestorContainer;
		if (e !== d && t !== d || a.contains(p)) return n(d) ? d : o(d);
		var c = s(e);
		return c.host ? l(c.host, t) : l(e, s(t).host)
	}

	function d(e) {
		var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'top',
			r = 'top' === t ? 'scrollTop' : 'scrollLeft',
			a = e.nodeName;
		if ('BODY' === a || 'HTML' === a) {
			var p = e.ownerDocument.documentElement,
				o = e.ownerDocument.scrollingElement || p;
			return o[r]
		}
		return e[r]
	}

	function c(e, t) {
		var r = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2],
			a = d(t, 'top'),
			p = d(t, 'left'),
			o = r ? -1 : 1;
		return e.top += a * o, e.bottom += a * o, e.left += p * o, e.right += p * o, e
	}

	function m(e, t) {
		var r = 'x' === t ? 'Left' : 'Top',
			a = 'Left' === r ? 'Right' : 'Bottom';
		return parseFloat(e['border' + r + 'Width'], 10) + parseFloat(e['border' + a + 'Width'], 10)
	}

	function f(e, t, r, a) {
		return Ze(t['offset' + e], t['scroll' + e], r['client' + e], r['offset' + e], r['scroll' + e], p(10) ? parseInt(r['offset' + e]) + parseInt(a['margin' + ('Height' === e ? 'Top' : 'Left')]) + parseInt(a['margin' + ('Height' === e ? 'Bottom' : 'Right')]) : 0)
	}

	function h(e) {
		var t = e.body,
			r = e.documentElement,
			a = p(10) && getComputedStyle(r);
		return {
			height: f('Height', t, r, a),
			width: f('Width', t, r, a)
		}
	}

	function b(e) {
		return wt({}, e, {
			right: e.left + e.width,
			bottom: e.top + e.height
		})
	}

	function u(e) {
		var r = {};
		try {
			if (p(10)) {
				r = e.getBoundingClientRect();
				var a = d(e, 'top'),
					o = d(e, 'left');
				r.top += a, r.left += o, r.bottom += a, r.right += o
			} else r = e.getBoundingClientRect()
		} catch (t) {}
		var i = {
				left: r.left,
				top: r.top,
				width: r.right - r.left,
				height: r.bottom - r.top
			},
			n = 'HTML' === e.nodeName ? h(e.ownerDocument) : {},
			s = n.width || e.clientWidth || i.right - i.left,
			l = n.height || e.clientHeight || i.bottom - i.top,
			c = e.offsetWidth - s,
			f = e.offsetHeight - l;
		if (c || f) {
			var y = t(e);
			c -= m(y, 'x'), f -= m(y, 'y'), i.width -= c, i.height -= f
		}
		return b(i)
	}

	function y(e, r) {
		var o = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2],
			i = p(10),
			n = 'HTML' === r.nodeName,
			s = u(e),
			l = u(r),
			d = a(e),
			m = t(r),
			f = parseFloat(m.borderTopWidth, 10),
			h = parseFloat(m.borderLeftWidth, 10);
		o && n && (l.top = Ze(l.top, 0), l.left = Ze(l.left, 0));
		var y = b({
			top: s.top - l.top - f,
			left: s.left - l.left - h,
			width: s.width,
			height: s.height
		});
		if (y.marginTop = 0, y.marginLeft = 0, !i && n) {
			var g = parseFloat(m.marginTop, 10),
				x = parseFloat(m.marginLeft, 10);
			y.top -= f - g, y.bottom -= f - g, y.left -= h - x, y.right -= h - x, y.marginTop = g, y.marginLeft = x
		}
		return (i && !o ? r.contains(d) : r === d && 'BODY' !== d.nodeName) && (y = c(y, r)), y
	}

	function g(e) {
		var t = !!(1 < arguments.length && void 0 !== arguments[1]) && arguments[1],
			r = e.ownerDocument.documentElement,
			a = y(e, r),
			p = Ze(r.clientWidth, window.innerWidth || 0),
			o = Ze(r.clientHeight, window.innerHeight || 0),
			i = t ? 0 : d(r),
			n = t ? 0 : d(r, 'left'),
			s = {
				top: i - a.top + a.marginTop,
				left: n - a.left + a.marginLeft,
				width: p,
				height: o
			};
		return b(s)
	}

	function x(e) {
		var a = e.nodeName;
		return 'BODY' !== a && 'HTML' !== a && ('fixed' === t(e, 'position') || x(r(e)))
	}

	function w(e) {
		if (!e || !e.parentElement || p()) return document.documentElement;
		for (var r = e.parentElement; r && 'none' === t(r, 'transform');) r = r.parentElement;
		return r || document.documentElement
	}

	function v(e, t, p, o) {
		var i = !!(4 < arguments.length && void 0 !== arguments[4]) && arguments[4],
			n = {
				top: 0,
				left: 0
			},
			s = i ? w(e) : l(e, t);
		if ('viewport' === o) n = g(s, i);
		else {
			var d;
			'scrollParent' === o ? (d = a(r(t)), 'BODY' === d.nodeName && (d = e.ownerDocument.documentElement)) : 'window' === o ? d = e.ownerDocument.documentElement : d = o;
			var c = y(d, s, i);
			if ('HTML' === d.nodeName && !x(s)) {
				var m = h(e.ownerDocument),
					f = m.height,
					b = m.width;
				n.top += c.top - c.marginTop, n.bottom = f + c.top, n.left += c.left - c.marginLeft, n.right = b + c.left
			} else n = c
		}
		p = p || 0;
		var u = 'number' == typeof p;
		return n.left += u ? p : p.left || 0, n.top += u ? p : p.top || 0, n.right -= u ? p : p.right || 0, n.bottom -= u ? p : p.bottom || 0, n
	}

	function k(e) {
		var t = e.width,
			r = e.height;
		return t * r
	}

	function E(e, t, r, a, p) {
		var o = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0;
		if (-1 === e.indexOf('auto')) return e;
		var i = v(r, a, o, p),
			n = {
				top: {
					width: i.width,
					height: t.top - i.top
				},
				right: {
					width: i.right - t.right,
					height: i.height
				},
				bottom: {
					width: i.width,
					height: i.bottom - t.bottom
				},
				left: {
					width: t.left - i.left,
					height: i.height
				}
			},
			s = Object.keys(n).map(function (e) {
				return wt({
					key: e
				}, n[e], {
					area: k(n[e])
				})
			}).sort(function (e, t) {
				return t.area - e.area
			}),
			l = s.filter(function (e) {
				var t = e.width,
					a = e.height;
				return t >= r.clientWidth && a >= r.clientHeight
			}),
			d = 0 < l.length ? l[0].key : s[0].key,
			c = e.split('-')[1];
		return d + (c ? '-' + c : '')
	}

	function C(e, t, r) {
		var a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null,
			p = a ? w(t) : l(t, r);
		return y(r, p, a)
	}

	function L(e) {
		var t = e.ownerDocument.defaultView,
			r = t.getComputedStyle(e),
			a = parseFloat(r.marginTop || 0) + parseFloat(r.marginBottom || 0),
			p = parseFloat(r.marginLeft || 0) + parseFloat(r.marginRight || 0),
			o = {
				width: e.offsetWidth + p,
				height: e.offsetHeight + a
			};
		return o
	}

	function O(e) {
		var t = {
			left: 'right',
			right: 'left',
			bottom: 'top',
			top: 'bottom'
		};
		return e.replace(/left|right|bottom|top/g, function (e) {
			return t[e]
		})
	}

	function T(e, t, r) {
		r = r.split('-')[0];
		var a = L(e),
			p = {
				width: a.width,
				height: a.height
			},
			o = -1 !== ['right', 'left'].indexOf(r),
			i = o ? 'top' : 'left',
			n = o ? 'left' : 'top',
			s = o ? 'height' : 'width',
			l = o ? 'width' : 'height';
		return p[i] = t[i] + t[s] / 2 - a[s] / 2, p[n] = r === n ? t[n] - a[l] : t[O(n)], p
	}

	function S(e, t) {
		return Array.prototype.find ? e.find(t) : e.filter(t)[0]
	}

	function A(e, t, r) {
		if (Array.prototype.findIndex) return e.findIndex(function (e) {
			return e[t] === r
		});
		var a = S(e, function (e) {
			return e[t] === r
		});
		return e.indexOf(a)
	}

	function Y(t, r, a) {
		var p = void 0 === a ? t : t.slice(0, A(t, 'name', a));
		return p.forEach(function (t) {
			t['function'] && console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
			var a = t['function'] || t.fn;
			t.enabled && e(a) && (r.offsets.popper = b(r.offsets.popper), r.offsets.reference = b(r.offsets.reference), r = a(r, t))
		}), r
	}

	function P() {
		if (!this.state.isDestroyed) {
			var e = {
				instance: this,
				styles: {},
				arrowStyles: {},
				attributes: {},
				flipped: !1,
				offsets: {}
			};
			e.offsets.reference = C(this.state, this.popper, this.reference, this.options.positionFixed), e.placement = E(this.options.placement, e.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), e.originalPlacement = e.placement, e.positionFixed = this.options.positionFixed, e.offsets.popper = T(this.popper, e.offsets.reference, e.placement), e.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute', e = Y(this.modifiers, e), this.state.isCreated ? this.options.onUpdate(e) : (this.state.isCreated = !0, this.options.onCreate(e))
		}
	}

	function D(e, t) {
		return e.some(function (e) {
			var r = e.name,
				a = e.enabled;
			return a && r === t
		})
	}

	function X(e) {
		for (var t = [!1, 'ms', 'Webkit', 'Moz', 'O'], r = e.charAt(0).toUpperCase() + e.slice(1), a = 0; a < t.length; a++) {
			var p = t[a],
				o = p ? '' + p + r : e;
			if ('undefined' != typeof document.body.style[o]) return o
		}
		return null
	}

	function I() {
		return this.state.isDestroyed = !0, D(this.modifiers, 'applyStyle') && (this.popper.removeAttribute('x-placement'), this.popper.style.position = '', this.popper.style.top = '', this.popper.style.left = '', this.popper.style.right = '', this.popper.style.bottom = '', this.popper.style.willChange = '', this.popper.style[X('transform')] = ''), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this
	}

	function N(e) {
		var t = e.ownerDocument;
		return t ? t.defaultView : window
	}

	function H(e, t, r, p) {
		var o = 'BODY' === e.nodeName,
			i = o ? e.ownerDocument.defaultView : e;
		i.addEventListener(t, r, {
			passive: !0
		}), o || H(a(i.parentNode), t, r, p), p.push(i)
	}

	function W(e, t, r, p) {
		r.updateBound = p, N(e).addEventListener('resize', r.updateBound, {
			passive: !0
		});
		var o = a(e);
		return H(o, 'scroll', r.updateBound, r.scrollParents), r.scrollElement = o, r.eventsEnabled = !0, r
	}

	function M() {
		this.state.eventsEnabled || (this.state = W(this.reference, this.options, this.state, this.scheduleUpdate))
	}

	function B(e, t) {
		return N(e).removeEventListener('resize', t.updateBound), t.scrollParents.forEach(function (e) {
			e.removeEventListener('scroll', t.updateBound)
		}), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t
	}

	function R() {
		this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = B(this.reference, this.state))
	}

	function z(e) {
		return '' !== e && !isNaN(parseFloat(e)) && isFinite(e)
	}

	function F(e, t) {
		Object.keys(t).forEach(function (r) {
			var a = ''; - 1 !== ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(r) && z(t[r]) && (a = 'px'), e.style[r] = t[r] + a
		})
	}

	function _(e, t) {
		Object.keys(t).forEach(function (r) {
			var a = t[r];
			!1 === a ? e.removeAttribute(r) : e.setAttribute(r, t[r])
		})
	}

	function U(e, t) {
		var r = e.offsets,
			a = r.popper,
			p = r.reference,
			o = Qe,
			i = function (e) {
				return e
			},
			n = o(a.width),
			s = o(p.width),
			l = -1 !== ['left', 'right'].indexOf(e.placement),
			d = -1 !== e.placement.indexOf('-'),
			c = t ? l || d || s % 2 == n % 2 ? o : Je : i,
			m = t ? o : i;
		return {
			left: c(1 == s % 2 && 1 == n % 2 && !d && t ? a.left - 1 : a.left),
			top: m(a.top),
			bottom: m(a.bottom),
			right: c(a.right)
		}
	}

	function V(e, t, r) {
		var a = S(e, function (e) {
				var r = e.name;
				return r === t
			}),
			p = !!a && e.some(function (e) {
				return e.name === r && e.enabled && e.order < a.order
			});
		if (!p) {
			var o = '`' + t + '`';
			console.warn('`' + r + '`' + ' modifier is required by ' + o + ' modifier in order to work, be sure to include it before ' + o + '!')
		}
		return p
	}

	function q(e) {
		return 'end' === e ? 'start' : 'start' === e ? 'end' : e
	}

	function j(e) {
		var t = !!(1 < arguments.length && void 0 !== arguments[1]) && arguments[1],
			r = Et.indexOf(e),
			a = Et.slice(r + 1).concat(Et.slice(0, r));
		return t ? a.reverse() : a
	}

	function K(e, t, r, a) {
		var p = e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),
			o = +p[1],
			i = p[2];
		if (!o) return e;
		if (0 === i.indexOf('%')) {
			var n;
			switch (i) {
				case '%p':
					n = r;
					break;
				case '%':
				case '%r':
				default:
					n = a;
			}
			var s = b(n);
			return s[t] / 100 * o
		}
		if ('vh' === i || 'vw' === i) {
			var l;
			return l = 'vh' === i ? Ze(document.documentElement.clientHeight, window.innerHeight || 0) : Ze(document.documentElement.clientWidth, window.innerWidth || 0), l / 100 * o
		}
		return o
	}

	function G(e, t, r, a) {
		var p = [0, 0],
			o = -1 !== ['right', 'left'].indexOf(a),
			i = e.split(/(\+|\-)/).map(function (e) {
				return e.trim()
			}),
			n = i.indexOf(S(i, function (e) {
				return -1 !== e.search(/,|\s/)
			}));
		i[n] && -1 === i[n].indexOf(',') && console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
		var s = /\s*,\s*|\s+/,
			l = -1 === n ? [i] : [i.slice(0, n).concat([i[n].split(s)[0]]), [i[n].split(s)[1]].concat(i.slice(n + 1))];
		return l = l.map(function (e, a) {
			var p = (1 === a ? !o : o) ? 'height' : 'width',
				i = !1;
			return e.reduce(function (e, t) {
				return '' === e[e.length - 1] && -1 !== ['+', '-'].indexOf(t) ? (e[e.length - 1] = t, i = !0, e) : i ? (e[e.length - 1] += t, i = !1, e) : e.concat(t)
			}, []).map(function (e) {
				return K(e, p, t, r)
			})
		}), l.forEach(function (e, t) {
			e.forEach(function (r, a) {
				z(r) && (p[t] += r * ('-' === e[a - 1] ? -1 : 1))
			})
		}), p
	}

	function J(e, t) {
		var r = t.offset,
			a = e.placement,
			p = e.offsets,
			o = p.popper,
			i = p.reference,
			n = a.split('-')[0],
			s = void 0;
		return s = z(+r) ? [+r, 0] : G(r, o, i, n), 'left' === n ? (o.top += s[0], o.left -= s[1]) : 'right' === n ? (o.top += s[0], o.left += s[1]) : 'top' === n ? (o.left += s[0], o.top -= s[1]) : 'bottom' === n && (o.left += s[0], o.top += s[1]), e.popper = o, e
	}

	function Q(e) {
		return [].slice.call(e)
	}

	function Z(e, t) {
		return (Tt.closest || function (e) {
			for (var t = this; t;) {
				if (St.call(t, e)) return t;
				t = t.parentElement
			}
		}).call(e, t)
	}

	function $(e, t) {
		for (; e;) {
			if (t(e)) return e;
			e = e.parentElement
		}
	}

	function ee() {
		return document.createElement('div')
	}

	function te(e, t) {
		e[Yt.x && 'innerHTML'] = t instanceof Element ? t[Yt.x && 'innerHTML'] : t
	}

	function re(e, t) {
		t.content instanceof Element ? (te(e, ''), e.appendChild(t.content)) : e[t.allowHTML ? 'innerHTML' : 'textContent'] = t.content
	}

	function ae(e) {
		return {
			tooltip: e.querySelector(Ot.TOOLTIP),
			backdrop: e.querySelector(Ot.BACKDROP),
			content: e.querySelector(Ot.CONTENT),
			arrow: e.querySelector(Ot.ARROW) || e.querySelector(Ot.ROUND_ARROW)
		}
	}

	function pe(e) {
		e.setAttribute('data-inertia', '')
	}

	function oe(e) {
		e.removeAttribute('data-inertia')
	}

	function ie(e) {
		var t = ee();
		return 'round' === e ? (t.className = 'tippy-roundarrow', te(t, '<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>')) : t.className = 'tippy-arrow', t
	}

	function ne() {
		var e = ee();
		return e.className = 'tippy-backdrop', e.setAttribute('data-state', 'hidden'), e
	}

	function se(e, t) {
		e.setAttribute('tabindex', '-1'), t.setAttribute('data-interactive', '')
	}

	function le(e, t) {
		e.removeAttribute('tabindex'), t.removeAttribute('data-interactive')
	}

	function de(e, t) {
		e.forEach(function (e) {
			e && (e.style.transitionDuration = t + 'ms')
		})
	}

	function ce(e, t, r) {
		e[t + 'EventListener']('transitionend', r)
	}

	function me(e) {
		var t = e.getAttribute('x-placement');
		return t ? t.split('-')[0] : ''
	}

	function fe(e, t) {
		e.forEach(function (e) {
			e && e.setAttribute('data-state', t)
		})
	}

	function he(e) {
		void e.offsetHeight
	}

	function be(e, t) {
		var r = ee();
		r.className = 'tippy-popper', r.setAttribute('role', 'tooltip'), r.id = 'tippy-' + e, r.style.zIndex = t.zIndex;
		var a = ee();
		a.className = 'tippy-tooltip', a.style.maxWidth = t.maxWidth + ('number' == typeof t.maxWidth ? 'px' : ''), a.setAttribute('data-size', t.size), a.setAttribute('data-animation', t.animation), a.setAttribute('data-state', 'hidden'), t.theme.split(' ').forEach(function (e) {
			a.classList.add(e + '-theme')
		});
		var p = ee();
		return p.className = 'tippy-content', p.setAttribute('data-state', 'hidden'), t.interactive && se(r, a), t.arrow && a.appendChild(ie(t.arrowType)), t.animateFill && (a.appendChild(ne()), a.setAttribute('data-animatefill', '')), t.inertia && pe(a), re(p, t), a.appendChild(p), r.appendChild(a), r.addEventListener('focusout', function (t) {
			t.relatedTarget && r._tippy && !$(t.relatedTarget, function (e) {
				return e === r
			}) && t.relatedTarget !== r._tippy.reference && r._tippy.props.shouldPopperHideOnBlur(t) && r._tippy.hide()
		}), r
	}

	function ye(e, t, r) {
		var a = ae(e),
			p = a.tooltip,
			o = a.content,
			i = a.backdrop,
			n = a.arrow;
		e.style.zIndex = r.zIndex, p.setAttribute('data-size', r.size), p.setAttribute('data-animation', r.animation), p.style.maxWidth = r.maxWidth + ('number' == typeof r.maxWidth ? 'px' : ''), t.content !== r.content && re(o, r), !t.animateFill && r.animateFill ? (p.appendChild(ne()), p.setAttribute('data-animatefill', '')) : t.animateFill && !r.animateFill && (p.removeChild(i), p.removeAttribute('data-animatefill')), !t.arrow && r.arrow ? p.appendChild(ie(r.arrowType)) : t.arrow && !r.arrow && p.removeChild(n), t.arrow && r.arrow && t.arrowType !== r.arrowType && p.replaceChild(ie(r.arrowType), n), !t.interactive && r.interactive ? se(e, p) : t.interactive && !r.interactive && le(e, p), !t.inertia && r.inertia ? pe(p) : t.inertia && !r.inertia && oe(p), t.theme !== r.theme && (t.theme.split(' ').forEach(function (e) {
			p.classList.remove(e + '-theme')
		}), r.theme.split(' ').forEach(function (e) {
			p.classList.add(e + '-theme')
		}))
	}

	function ue(e, t) {
		var r = e.popper,
			a = e.options,
			p = a.onCreate,
			o = a.onUpdate;
		a.onCreate = a.onUpdate = function () {
			he(r), t(), o(), a.onCreate = p, a.onUpdate = o
		}
	}

	function ge(e) {
		Q(document.querySelectorAll(Ot.POPPER)).forEach(function (t) {
			var r = t._tippy;
			r && !0 === r.props.hideOnClick && (!e || t !== e.popper) && r.hide()
		})
	}

	function xe(e, t, r, a) {
		if (!e) return !0;
		var p = r.clientX,
			o = r.clientY,
			i = a.interactiveBorder,
			n = a.distance,
			s = t.top - o > ('top' === e ? i + n : i),
			l = o - t.bottom > ('bottom' === e ? i + n : i),
			d = t.left - p > ('left' === e ? i + n : i),
			c = p - t.right > ('right' === e ? i + n : i);
		return s || l || d || c
	}

	function we(e, t) {
		return -(e - t) + 'px'
	}

	function ve(e) {
		return '[object Object]' === {}.toString.call(e)
	}

	function ke(e, t) {
		return {}.hasOwnProperty.call(e, t)
	}

	function Ee(e) {
		return !isNaN(e) && !isNaN(parseFloat(e))
	}

	function Ce(e) {
		if (e instanceof Element || ve(e)) return [e];
		if (e instanceof NodeList) return Q(e);
		if (Array.isArray(e)) return e;
		try {
			return Q(document.querySelectorAll(e))
		} catch (t) {
			return []
		}
	}

	function Le(e, t, r) {
		if (Array.isArray(e)) {
			var a = e[t];
			return null == a ? r : a
		}
		return e
	}

	function Oe(e) {
		var t = window.scrollX || window.pageXOffset,
			r = window.scrollY || window.pageYOffset;
		e.focus(), scroll(t, r)
	}

	function Te(e) {
		setTimeout(e, 1)
	}

	function Se(e, t) {
		var r;
		return function () {
			var a = this,
				p = arguments;
			clearTimeout(r), r = setTimeout(function () {
				return e.apply(a, p)
			}, t)
		}
	}

	function Ae(e, t) {
		return e && e.modifiers && e.modifiers[t]
	}

	function Ye(e, t) {
		return -1 < e.indexOf(t)
	}

	function Pe() {
		Pt || (Pt = !0, it && document.body.classList.add('tippy-iOS'), window.performance && document.addEventListener('mousemove', De))
	}

	function De() {
		var e = performance.now();
		20 > e - Dt && (Pt = !1, document.removeEventListener('mousemove', De), !it && document.body.classList.remove('tippy-iOS')), Dt = e
	}

	function Xe(e) {
		var t = e.target;
		if (!(t instanceof Element)) return ge();
		var r = Z(t, Ot.POPPER);
		if (!(r && r._tippy && r._tippy.props.interactive)) {
			var a = $(t, function (e) {
				return e._tippy && e._tippy.reference === e
			});
			if (a) {
				var p = a._tippy,
					o = Ye(p.props.trigger, 'click');
				if (Pt || o) return ge(p);
				if (!0 !== p.props.hideOnClick || o) return;
				p.clearDelayTimeouts()
			}
			ge()
		}
	}

	function Ie() {
		var e = document,
			t = e.activeElement;
		t && t.blur && t._tippy && t.blur()
	}

	function Ne() {
		Q(document.querySelectorAll(Ot.POPPER)).forEach(function (e) {
			var t = e._tippy;
			t.props.livePlacement || t.popperInstance.scheduleUpdate()
		})
	}

	function He() {
		document.addEventListener('click', Xe, !0), document.addEventListener('touchstart', Pe, At), window.addEventListener('blur', Ie), window.addEventListener('resize', Ne), !nt && (navigator.maxTouchPoints || navigator.msMaxTouchPoints) && document.addEventListener('pointerdown', Pe)
	}

	function We(e) {
		return !(e instanceof Element) || St.call(e, 'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]') && !e.hasAttribute('disabled')
	}

	function Me(e) {
		return Xt.reduce(function (t, r) {
			var a = (e.getAttribute('data-tippy-' + r) || '').trim();
			return a ? (t[r] = 'content' === r ? a : 'true' === a || 'false' !== a && (Ee(a) ? +a : '[' === a[0] || '{' === a[0] ? JSON.parse(a) : a), t) : t
		}, {})
	}

	function Be(e) {
		var t = {
			isVirtual: !0,
			attributes: e.attributes || {},
			setAttribute: function (t, r) {
				e.attributes[t] = r
			},
			getAttribute: function (t) {
				return e.attributes[t]
			},
			removeAttribute: function (t) {
				delete e.attributes[t]
			},
			hasAttribute: function (t) {
				return t in e.attributes
			},
			addEventListener: function () {},
			removeEventListener: function () {},
			classList: {
				classNames: {},
				add: function (t) {
					e.classList.classNames[t] = !0
				},
				remove: function (t) {
					delete e.classList.classNames[t]
				},
				contains: function (t) {
					return t in e.classList.classNames
				}
			}
		};
		for (var r in t) e[r] = t[r]
	}

	function Re(e, t) {
		var r = It({}, t, t.performance ? {} : Me(e));
		return r.arrow && (r.animateFill = !1), 'function' == typeof r.appendTo && (r.appendTo = t.appendTo(e)), 'function' == typeof r.content && (r.content = t.content(e)), r
	}

	function ze() {
		var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
			t = arguments[1];
		Object.keys(e).forEach(function (e) {
			if (!ke(t, e)) throw new Error('[tippy]: `' + e + '` is not a valid option')
		})
	}

	function Fe(e, t) {
		return (t ? e : {
			X: 'Y',
			Y: 'X'
		} [e]) || ''
	}

	function _e(e, t, r, p) {
		var o = t[0],
			i = t[1];
		if (!o && !i) return '';
		var n = {
			scale: function () {
				return i ? r ? o + ', ' + i : i + ', ' + o : '' + o
			}(),
			translate: function () {
				return i ? r ? p ? o + 'px, ' + -i + 'px' : o + 'px, ' + i + 'px' : p ? -i + 'px, ' + o + 'px' : i + 'px, ' + o + 'px' : p ? -o + 'px' : o + 'px'
			}()
		};
		return n[e]
	}

	function Ue(e, t) {
		var r = e.match(new RegExp(t + '([XY])'));
		return r ? r[1] : ''
	}

	function Ve(e, t) {
		var r = e.match(t);
		return r ? r[1].split(',').map(function (e) {
			return parseFloat(e, 10)
		}) : []
	}

	function qe(e, t) {
		var r = me(Z(e, Ot.POPPER)),
			a = Ye(['top', 'bottom'], r),
			p = Ye(['right', 'bottom'], r),
			o = {
				translate: {
					axis: Ue(t, 'translate'),
					numbers: Ve(t, Nt.translate)
				},
				scale: {
					axis: Ue(t, 'scale'),
					numbers: Ve(t, Nt.scale)
				}
			},
			i = t.replace(Nt.translate, 'translate' + Fe(o.translate.axis, a) + '(' + _e('translate', o.translate.numbers, a, p) + ')').replace(Nt.scale, 'scale' + Fe(o.scale.axis, a) + '(' + _e('scale', o.scale.numbers, a, p) + ')');
		e.style['undefined' == typeof document.body.style.transform ? 'webkitTransform' : 'transform'] = i
	}

	function je(e, t) {
		function r() {
			Te(function () {
				z = !1
			})
		}

		function a() {
			X = new MutationObserver(function () {
				q.popperInstance.update()
			}), X.observe(U, {
				childList: !0,
				subtree: !0,
				characterData: !0
			})
		}

		function p(e) {
			var t = N = e,
				r = t.clientX,
				a = t.clientY;
			if (q.popperInstance) {
				var p = me(q.popper),
					o = q.popperChildren.arrow ? 20 : 5,
					i = Ye(['top', 'bottom'], p),
					n = Ye(['left', 'right'], p),
					l = i ? Ze(o, r) : r,
					d = n ? Ze(o, a) : a;
				i && l > o && (l = Ge(r, window.innerWidth - o)), n && d > o && (d = Ge(a, window.innerHeight - o));
				var c = q.reference.getBoundingClientRect(),
					m = q.props.followCursor,
					f = 'horizontal' === m,
					h = 'vertical' === m;
				q.popperInstance.reference = {
					getBoundingClientRect: function () {
						return {
							width: 0,
							height: 0,
							top: f ? c.top : d,
							bottom: f ? c.bottom : d,
							left: h ? c.left : l,
							right: h ? c.right : l
						}
					},
					clientWidth: 0,
					clientHeight: 0
				}, q.popperInstance.scheduleUpdate(), 'initial' === m && q.state.isVisible && s()
			}
		}

		function o(e) {
			var t = Z(e.target, q.props.target);
			t && !t._tippy && (je(t, It({}, q.props, {
				target: '',
				showOnInit: !0
			})), i(e))
		}

		function i(e) {
			if (T(), !q.state.isVisible) {
				if (q.props.target) return o(e);
				if (M = !0, q.props.wait) return q.props.wait(q, e);
				x() && !q.state.isMounted && document.addEventListener('mousemove', p);
				var t = Le(q.props.delay, 0, st.delay);
				t ? H = setTimeout(function () {
					A()
				}, t) : A()
			}
		}

		function n() {
			if (T(), !q.state.isVisible) return s();
			M = !1;
			var e = Le(q.props.delay, 1, st.delay);
			e ? W = setTimeout(function () {
				q.state.isVisible && Y()
			}, e) : Y()
		}

		function s() {
			document.removeEventListener('mousemove', p), N = null
		}

		function l() {
			document.body.removeEventListener('mouseleave', n), document.removeEventListener('mousemove', F)
		}

		function d(e) {
			!q.state.isEnabled || y(e) || (!q.state.isVisible && (I = e), 'click' === e.type && !1 !== q.props.hideOnClick && q.state.isVisible ? n() : i(e))
		}

		function c(e) {
			var t = $(e.target, function (e) {
					return e._tippy
				}),
				r = Z(e.target, Ot.POPPER) === q.popper,
				a = t === q.reference;
			r || a || xe(me(q.popper), q.popper.getBoundingClientRect(), e, q.props) && (l(), n())
		}

		function m(e) {
			return y(e) ? void 0 : q.props.interactive ? (document.body.addEventListener('mouseleave', n), void document.addEventListener('mousemove', F)) : void n()
		}

		function f(e) {
			if (e.target === q.reference) {
				if (q.props.interactive) {
					if (!e.relatedTarget) return;
					if (Z(e.relatedTarget, Ot.POPPER)) return
				}
				n()
			}
		}

		function h(e) {
			Z(e.target, q.props.target) && i(e)
		}

		function b(e) {
			Z(e.target, q.props.target) && n()
		}

		function y(e) {
			var t = Ye(e.type, 'touch'),
				r = nt && Pt && q.props.touchHold && !t,
				a = Pt && !q.props.touchHold && t;
			return r || a
		}

		function u() {
			var e = q.props.popperOptions,
				t = q.popperChildren,
				r = t.tooltip,
				a = t.arrow;
			return new Lt(q.reference, q.popper, It({
				placement: q.props.placement
			}, e, {
				modifiers: It({}, e ? e.modifiers : {}, {
					preventOverflow: It({
						boundariesElement: q.props.boundary
					}, Ae(e, 'preventOverflow')),
					arrow: It({
						element: a,
						enabled: !!a
					}, Ae(e, 'arrow')),
					flip: It({
						enabled: q.props.flip,
						padding: q.props.distance + 5,
						behavior: q.props.flipBehavior
					}, Ae(e, 'flip')),
					offset: It({
						offset: q.props.offset
					}, Ae(e, 'offset'))
				}),
				onCreate: function () {
					r.style[me(q.popper)] = we(q.props.distance, st.distance), a && q.props.arrowTransform && qe(a, q.props.arrowTransform)
				},
				onUpdate: function () {
					var e = r.style;
					e.top = '', e.bottom = '', e.left = '', e.right = '', e[me(q.popper)] = we(q.props.distance, st.distance), a && q.props.arrowTransform && qe(a, q.props.arrowTransform)
				}
			}))
		}

		function g(e) {
			q.popperInstance ? !x() && (q.popperInstance.scheduleUpdate(), q.props.livePlacement && q.popperInstance.enableEventListeners()) : (q.popperInstance = u(), a(), (!q.props.livePlacement || x()) && q.popperInstance.disableEventListeners()), q.popperInstance.reference = q.reference;
			var t = q.popperChildren.arrow;
			if (x()) {
				t && (t.style.margin = '0');
				var r = Le(q.props.delay, 0, st.delay);
				I.type && p(r && N ? N : I)
			} else t && (t.style.margin = '');
			ue(q.popperInstance, e), q.props.appendTo.contains(q.popper) || (q.props.appendTo.appendChild(q.popper), q.props.onMount(q), q.state.isMounted = !0)
		}

		function x() {
			return q.props.followCursor && !Pt && 'focus' !== I.type
		}

		function w() {
			de([q.popper], ot ? 0 : q.props.updateDuration);
			(function e() {
				q.popperInstance && q.popperInstance.scheduleUpdate(), q.state.isMounted ? requestAnimationFrame(e) : de([q.popper], 0)
			})()
		}

		function v(e, t) {
			E(e, function () {
				!q.state.isVisible && q.props.appendTo.contains(q.popper) && t()
			})
		}

		function k(e, t) {
			E(e, t)
		}

		function E(e, t) {
			if (0 === e) return t();
			var r = q.popperChildren.tooltip,
				a = function a(p) {
					p.target === r && (ce(r, 'remove', a), t())
				};
			ce(r, 'remove', B), ce(r, 'add', a), B = a
		}

		function C(e, t) {
			var r = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2];
			q.reference.addEventListener(e, t, r), R.push({
				eventType: e,
				handler: t,
				options: r
			})
		}

		function L() {
			q.props.touchHold && !q.props.target && (C('touchstart', d, At), C('touchend', m, At)), q.props.trigger.trim().split(' ').forEach(function (e) {
				'manual' === e || (q.props.target ? 'mouseenter' === e ? (C('mouseover', h), C('mouseout', b)) : 'focus' === e ? (C('focusin', h), C('focusout', b)) : 'click' === e ? C(e, h) : void 0 : (C(e, d), 'mouseenter' === e ? C('mouseleave', m) : 'focus' === e ? C(ot ? 'focusout' : 'blur', f) : void 0))
			})
		}

		function O() {
			R.forEach(function (e) {
				var t = e.eventType,
					r = e.handler,
					a = e.options;
				q.reference.removeEventListener(t, r, a)
			}), R = []
		}

		function T() {
			clearTimeout(H), clearTimeout(W)
		}

		function S() {
			var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
			ze(e, st);
			var t = q.props,
				r = Re(q.reference, It({}, q.props, e, {
					performance: !0
				}));
			r.performance = ke(e, 'performance') ? e.performance : t.performance, q.props = r, (ke(e, 'trigger') || ke(e, 'touchHold')) && (O(), L()), ke(e, 'interactiveDebounce') && (l(), F = Se(c, e.interactiveDebounce)), ye(q.popper, t, r), q.popperChildren = ae(q.popper), q.popperInstance && lt.some(function (t) {
				return ke(e, t)
			}) && (q.popperInstance.destroy(), q.popperInstance = u(), !q.state.isVisible && q.popperInstance.disableEventListeners(), q.props.followCursor && N && p(N))
		}

		function A() {
			var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : Le(q.props.duration, 0, st.duration[0]);
			return q.state.isDestroyed || !q.state.isEnabled || Pt && !q.props.touch ? void 0 : q.reference.isVirtual || document.documentElement.contains(q.reference) ? q.reference.hasAttribute('disabled') ? void 0 : z ? void(z = !1) : void(!1 === q.props.onShow(q) || (q.popper.style.visibility = 'visible', q.state.isVisible = !0, de([q.popper, q.popperChildren.tooltip, q.popperChildren.backdrop], 0), g(function () {
				q.state.isVisible && (!x() && q.popperInstance.update(), de([q.popperChildren.tooltip, q.popperChildren.backdrop, q.popperChildren.content], e), q.popperChildren.backdrop && (q.popperChildren.content.style.transitionDelay = Qe(e / 6) + 'ms'), q.props.interactive && q.reference.classList.add('tippy-active'), q.props.sticky && w(), fe([q.popperChildren.tooltip, q.popperChildren.backdrop, q.popperChildren.content], 'visible'), k(e, function () {
					0 === q.props.updateDuration && q.popperChildren.tooltip.classList.add('tippy-notransition'), q.props.autoFocus && q.props.interactive && Ye(['focus', 'click'], I.type) && Oe(q.popper), q.props.aria && q.reference.setAttribute('aria-' + q.props.aria, q.popper.id), q.props.onShown(q), q.state.isShown = !0
				}))
			}))) : P()
		}

		function Y() {
			var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : Le(q.props.duration, 1, st.duration[1]);
			q.state.isDestroyed || !q.state.isEnabled || !1 === q.props.onHide(q) || (0 === q.props.updateDuration && q.popperChildren.tooltip.classList.remove('tippy-notransition'), q.props.interactive && q.reference.classList.remove('tippy-active'), q.popper.style.visibility = 'hidden', q.state.isVisible = !1, q.state.isShown = !1, de([q.popperChildren.tooltip, q.popperChildren.backdrop, q.popperChildren.content], e), fe([q.popperChildren.tooltip, q.popperChildren.backdrop, q.popperChildren.content], 'hidden'), q.props.autoFocus && q.props.interactive && !z && Ye(['focus', 'click'], I.type) && ('focus' === I.type && (z = !0), Oe(q.reference)), v(e, function () {
				M || s(), q.props.aria && q.reference.removeAttribute('aria-' + q.props.aria), q.popperInstance.disableEventListeners(), q.props.appendTo.removeChild(q.popper), q.state.isMounted = !1, q.props.onHidden(q)
			}))
		}

		function P(e) {
			q.state.isDestroyed || (q.state.isMounted && Y(0), O(), q.reference.removeEventListener('click', r), delete q.reference._tippy, q.props.target && e && Q(q.reference.querySelectorAll(q.props.target)).forEach(function (e) {
				return e._tippy && e._tippy.destroy()
			}), q.popperInstance && q.popperInstance.destroy(), X && X.disconnect(), q.state.isDestroyed = !0)
		}
		var D = Re(e, t);
		if (!D.multiple && e._tippy) return null;
		var X = null,
			I = {},
			N = null,
			H = 0,
			W = 0,
			M = !1,
			B = function () {},
			R = [],
			z = !1,
			F = 0 < D.interactiveDebounce ? Se(c, D.interactiveDebounce) : c,
			_ = Ht++,
			U = be(_, D);
		U.addEventListener('mouseenter', function (e) {
			q.props.interactive && q.state.isVisible && 'mouseenter' === I.type && i(e)
		}), U.addEventListener('mouseleave', function (e) {
			q.props.interactive && 'mouseenter' === I.type && 0 === q.props.interactiveDebounce && xe(me(U), U.getBoundingClientRect(), e, q.props) && n()
		});
		var V = ae(U),
			q = {
				id: _,
				reference: e,
				popper: U,
				popperChildren: V,
				popperInstance: null,
				props: D,
				state: {
					isEnabled: !0,
					isVisible: !1,
					isDestroyed: !1,
					isMounted: !1,
					isShown: !1
				},
				clearDelayTimeouts: T,
				set: S,
				setContent: function (e) {
					S({
						content: e
					})
				},
				show: A,
				hide: Y,
				enable: function () {
					q.state.isEnabled = !0
				},
				disable: function () {
					q.state.isEnabled = !1
				},
				destroy: P
			};
		return L(), e.addEventListener('click', r), D.lazy || (q.popperInstance = u(), q.popperInstance.disableEventListeners()), D.showOnInit && i(), !D.a11y || D.target || We(e) || e.setAttribute('tabindex', '0'), e._tippy = q, U._tippy = q, q
	}

	function Ke(e, t, r) {
		ze(t, st), Wt || (He(), Wt = !0);
		var a = It({}, st, t);
		ve(e) && Be(e);
		var p = Ce(e),
			o = p[0],
			i = (r && o ? [o] : p).reduce(function (e, t) {
				var r = t && je(t, a);
				return r && e.push(r), e
			}, []),
			n = {
				targets: e,
				props: a,
				instances: i,
				destroyAll: function () {
					n.instances.forEach(function (e) {
						e.destroy()
					}), n.instances = []
				}
			};
		return n
	}
	for (var Ge = Math.min, Je = Math.floor, Qe = Math.round, Ze = Math.max, $e = '.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4;max-width:calc(100% - 10px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(60deg);transform:translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-60deg);transform:translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-60deg);transform:translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translateX(0) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(60deg);transform:translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translateX(0) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;max-width:350px;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}', et = '3.4.1', tt = 'undefined' != typeof window, rt = tt ? navigator : {}, at = tt ? window : {}, pt = ('MutationObserver' in at), ot = /MSIE |Trident\//.test(rt.userAgent), it = /iPhone|iPad|iPod/.test(rt.platform) && !at.MSStream, nt = ('ontouchstart' in at), st = {
			a11y: !0,
			allowHTML: !0,
			animateFill: !0,
			animation: 'shift-away',
			appendTo: function () {
				return document.body
			},
			aria: 'describedby',
			arrow: !1,
			arrowTransform: '',
			arrowType: 'sharp',
			autoFocus: !0,
			boundary: 'scrollParent',
			content: '',
			delay: [0, 20],
			distance: 10,
			duration: [325, 275],
			flip: !0,
			flipBehavior: 'flip',
			followCursor: !1,
			hideOnClick: !0,
			inertia: !1,
			interactive: !1,
			interactiveBorder: 2,
			interactiveDebounce: 0,
			lazy: !0,
			livePlacement: !0,
			maxWidth: '',
			multiple: !1,
			offset: 0,
			onHidden: function () {},
			onHide: function () {},
			onMount: function () {},
			onShow: function () {},
			onShown: function () {},
			performance: !1,
			placement: 'top',
			popperOptions: {},
			shouldPopperHideOnBlur: function () {
				return !0
			},
			showOnInit: !1,
			size: 'regular',
			sticky: !1,
			target: '',
			theme: 'dark',
			touch: !0,
			touchHold: !1,
			trigger: 'mouseenter focus',
			updateDuration: 200,
			wait: null,
			zIndex: 9999
		}, lt = ['arrow', 'arrowType', 'distance', 'flip', 'flipBehavior', 'offset', 'placement', 'popperOptions'], dt = 'undefined' != typeof window && 'undefined' != typeof document, ct = ['Edge', 'Trident', 'Firefox'], mt = 0, ft = 0; ft < ct.length; ft += 1)
		if (dt && 0 <= navigator.userAgent.indexOf(ct[ft])) {
			mt = 1;
			break
		} var i = dt && window.Promise,
		ht = i ? function (e) {
			var t = !1;
			return function () {
				t || (t = !0, window.Promise.resolve().then(function () {
					t = !1, e()
				}))
			}
		} : function (e) {
			var t = !1;
			return function () {
				t || (t = !0, setTimeout(function () {
					t = !1, e()
				}, mt))
			}
		},
		bt = dt && !!(window.MSInputMethodContext && document.documentMode),
		yt = dt && /MSIE 10/.test(navigator.userAgent),
		ut = function (e, t) {
			if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function')
		},
		gt = function () {
			function e(e, t) {
				for (var r, a = 0; a < t.length; a++) r = t[a], r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
			}
			return function (t, r, a) {
				return r && e(t.prototype, r), a && e(t, a), t
			}
		}(),
		xt = function (e, t, r) {
			return t in e ? Object.defineProperty(e, t, {
				value: r,
				enumerable: !0,
				configurable: !0,
				writable: !0
			}) : e[t] = r, e
		},
		wt = Object.assign || function (e) {
			for (var t, r = 1; r < arguments.length; r++)
				for (var a in t = arguments[r], t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
			return e
		},
		vt = dt && /Firefox/i.test(navigator.userAgent),
		kt = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'],
		Et = kt.slice(3),
		Ct = {
			FLIP: 'flip',
			CLOCKWISE: 'clockwise',
			COUNTERCLOCKWISE: 'counterclockwise'
		},
		Lt = function () {
			function t(r, a) {
				var p = this,
					o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
				ut(this, t), this.scheduleUpdate = function () {
					return requestAnimationFrame(p.update)
				}, this.update = ht(this.update.bind(this)), this.options = wt({}, t.Defaults, o), this.state = {
					isDestroyed: !1,
					isCreated: !1,
					scrollParents: []
				}, this.reference = r && r.jquery ? r[0] : r, this.popper = a && a.jquery ? a[0] : a, this.options.modifiers = {}, Object.keys(wt({}, t.Defaults.modifiers, o.modifiers)).forEach(function (e) {
					p.options.modifiers[e] = wt({}, t.Defaults.modifiers[e] || {}, o.modifiers ? o.modifiers[e] : {})
				}), this.modifiers = Object.keys(this.options.modifiers).map(function (e) {
					return wt({
						name: e
					}, p.options.modifiers[e])
				}).sort(function (e, t) {
					return e.order - t.order
				}), this.modifiers.forEach(function (t) {
					t.enabled && e(t.onLoad) && t.onLoad(p.reference, p.popper, p.options, t, p.state)
				}), this.update();
				var i = this.options.eventsEnabled;
				i && this.enableEventListeners(), this.state.eventsEnabled = i
			}
			return gt(t, [{
				key: 'update',
				value: function () {
					return P.call(this)
				}
			}, {
				key: 'destroy',
				value: function () {
					return I.call(this)
				}
			}, {
				key: 'enableEventListeners',
				value: function () {
					return M.call(this)
				}
			}, {
				key: 'disableEventListeners',
				value: function () {
					return R.call(this)
				}
			}]), t
		}();
	Lt.Utils = ('undefined' == typeof window ? global : window).PopperUtils, Lt.placements = kt, Lt.Defaults = {
		placement: 'bottom',
		positionFixed: !1,
		eventsEnabled: !0,
		removeOnDestroy: !1,
		onCreate: function () {},
		onUpdate: function () {},
		modifiers: {
			shift: {
				order: 100,
				enabled: !0,
				fn: function (e) {
					var t = e.placement,
						r = t.split('-')[0],
						a = t.split('-')[1];
					if (a) {
						var p = e.offsets,
							o = p.reference,
							i = p.popper,
							n = -1 !== ['bottom', 'top'].indexOf(r),
							s = n ? 'left' : 'top',
							l = n ? 'width' : 'height',
							d = {
								start: xt({}, s, o[s]),
								end: xt({}, s, o[s] + o[l] - i[l])
							};
						e.offsets.popper = wt({}, i, d[a])
					}
					return e
				}
			},
			offset: {
				order: 200,
				enabled: !0,
				fn: J,
				offset: 0
			},
			preventOverflow: {
				order: 300,
				enabled: !0,
				fn: function (e, t) {
					var r = t.boundariesElement || o(e.instance.popper);
					e.instance.reference === r && (r = o(r));
					var a = X('transform'),
						p = e.instance.popper.style,
						i = p.top,
						n = p.left,
						s = p[a];
					p.top = '', p.left = '', p[a] = '';
					var l = v(e.instance.popper, e.instance.reference, t.padding, r, e.positionFixed);
					p.top = i, p.left = n, p[a] = s, t.boundaries = l;
					var d = t.priority,
						c = e.offsets.popper,
						m = {
							primary: function (e) {
								var r = c[e];
								return c[e] < l[e] && !t.escapeWithReference && (r = Ze(c[e], l[e])), xt({}, e, r)
							},
							secondary: function (e) {
								var r = 'right' === e ? 'left' : 'top',
									a = c[r];
								return c[e] > l[e] && !t.escapeWithReference && (a = Ge(c[r], l[e] - ('right' === e ? c.width : c.height))), xt({}, r, a)
							}
						};
					return d.forEach(function (e) {
						var t = -1 === ['left', 'top'].indexOf(e) ? 'secondary' : 'primary';
						c = wt({}, c, m[t](e))
					}), e.offsets.popper = c, e
				},
				priority: ['left', 'right', 'top', 'bottom'],
				padding: 5,
				boundariesElement: 'scrollParent'
			},
			keepTogether: {
				order: 400,
				enabled: !0,
				fn: function (e) {
					var t = e.offsets,
						r = t.popper,
						a = t.reference,
						p = e.placement.split('-')[0],
						o = Je,
						i = -1 !== ['top', 'bottom'].indexOf(p),
						n = i ? 'right' : 'bottom',
						s = i ? 'left' : 'top',
						l = i ? 'width' : 'height';
					return r[n] < o(a[s]) && (e.offsets.popper[s] = o(a[s]) - r[l]), r[s] > o(a[n]) && (e.offsets.popper[s] = o(a[n])), e
				}
			},
			arrow: {
				order: 500,
				enabled: !0,
				fn: function (e, r) {
					var a;
					if (!V(e.instance.modifiers, 'arrow', 'keepTogether')) return e;
					var p = r.element;
					if ('string' == typeof p) {
						if (p = e.instance.popper.querySelector(p), !p) return e;
					} else if (!e.instance.popper.contains(p)) return console.warn('WARNING: `arrow.element` must be child of its popper element!'), e;
					var o = e.placement.split('-')[0],
						i = e.offsets,
						n = i.popper,
						s = i.reference,
						l = -1 !== ['left', 'right'].indexOf(o),
						d = l ? 'height' : 'width',
						c = l ? 'Top' : 'Left',
						m = c.toLowerCase(),
						f = l ? 'left' : 'top',
						h = l ? 'bottom' : 'right',
						y = L(p)[d];
					s[h] - y < n[m] && (e.offsets.popper[m] -= n[m] - (s[h] - y)), s[m] + y > n[h] && (e.offsets.popper[m] += s[m] + y - n[h]), e.offsets.popper = b(e.offsets.popper);
					var u = s[m] + s[d] / 2 - y / 2,
						g = t(e.instance.popper),
						x = parseFloat(g['margin' + c], 10),
						w = parseFloat(g['border' + c + 'Width'], 10),
						v = u - e.offsets.popper[m] - x - w;
					return v = Ze(Ge(n[d] - y, v), 0), e.arrowElement = p, e.offsets.arrow = (a = {}, xt(a, m, Qe(v)), xt(a, f, ''), a), e
				},
				element: '[x-arrow]'
			},
			flip: {
				order: 600,
				enabled: !0,
				fn: function (e, t) {
					if (D(e.instance.modifiers, 'inner')) return e;
					if (e.flipped && e.placement === e.originalPlacement) return e;
					var r = v(e.instance.popper, e.instance.reference, t.padding, t.boundariesElement, e.positionFixed),
						a = e.placement.split('-')[0],
						p = O(a),
						o = e.placement.split('-')[1] || '',
						i = [];
					switch (t.behavior) {
						case Ct.FLIP:
							i = [a, p];
							break;
						case Ct.CLOCKWISE:
							i = j(a);
							break;
						case Ct.COUNTERCLOCKWISE:
							i = j(a, !0);
							break;
						default:
							i = t.behavior;
					}
					return i.forEach(function (n, s) {
						if (a !== n || i.length === s + 1) return e;
						a = e.placement.split('-')[0], p = O(a);
						var l = e.offsets.popper,
							d = e.offsets.reference,
							c = Je,
							m = 'left' === a && c(l.right) > c(d.left) || 'right' === a && c(l.left) < c(d.right) || 'top' === a && c(l.bottom) > c(d.top) || 'bottom' === a && c(l.top) < c(d.bottom),
							f = c(l.left) < c(r.left),
							h = c(l.right) > c(r.right),
							b = c(l.top) < c(r.top),
							y = c(l.bottom) > c(r.bottom),
							u = 'left' === a && f || 'right' === a && h || 'top' === a && b || 'bottom' === a && y,
							g = -1 !== ['top', 'bottom'].indexOf(a),
							x = !!t.flipVariations && (g && 'start' === o && f || g && 'end' === o && h || !g && 'start' === o && b || !g && 'end' === o && y);
						(m || u || x) && (e.flipped = !0, (m || u) && (a = i[s + 1]), x && (o = q(o)), e.placement = a + (o ? '-' + o : ''), e.offsets.popper = wt({}, e.offsets.popper, T(e.instance.popper, e.offsets.reference, e.placement)), e = Y(e.instance.modifiers, e, 'flip'))
					}), e
				},
				behavior: 'flip',
				padding: 5,
				boundariesElement: 'viewport'
			},
			inner: {
				order: 700,
				enabled: !1,
				fn: function (e) {
					var t = e.placement,
						r = t.split('-')[0],
						a = e.offsets,
						p = a.popper,
						o = a.reference,
						i = -1 !== ['left', 'right'].indexOf(r),
						n = -1 === ['top', 'left'].indexOf(r);
					return p[i ? 'left' : 'top'] = o[r] - (n ? p[i ? 'width' : 'height'] : 0), e.placement = O(t), e.offsets.popper = b(p), e
				}
			},
			hide: {
				order: 800,
				enabled: !0,
				fn: function (e) {
					if (!V(e.instance.modifiers, 'hide', 'preventOverflow')) return e;
					var t = e.offsets.reference,
						r = S(e.instance.modifiers, function (e) {
							return 'preventOverflow' === e.name
						}).boundaries;
					if (t.bottom < r.top || t.left > r.right || t.top > r.bottom || t.right < r.left) {
						if (!0 === e.hide) return e;
						e.hide = !0, e.attributes['x-out-of-boundaries'] = ''
					} else {
						if (!1 === e.hide) return e;
						e.hide = !1, e.attributes['x-out-of-boundaries'] = !1
					}
					return e
				}
			},
			computeStyle: {
				order: 850,
				enabled: !0,
				fn: function (e, t) {
					var r = t.x,
						a = t.y,
						p = e.offsets.popper,
						i = S(e.instance.modifiers, function (e) {
							return 'applyStyle' === e.name
						}).gpuAcceleration;
					void 0 !== i && console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
					var n = void 0 === i ? t.gpuAcceleration : i,
						s = o(e.instance.popper),
						l = u(s),
						d = {
							position: p.position
						},
						c = U(e, 2 > window.devicePixelRatio || !vt),
						m = 'bottom' === r ? 'top' : 'bottom',
						f = 'right' === a ? 'left' : 'right',
						h = X('transform'),
						b = void 0,
						y = void 0;
					if (y = 'bottom' == m ? 'HTML' === s.nodeName ? -s.clientHeight + c.bottom : -l.height + c.bottom : c.top, b = 'right' == f ? 'HTML' === s.nodeName ? -s.clientWidth + c.right : -l.width + c.right : c.left, n && h) d[h] = 'translate3d(' + b + 'px, ' + y + 'px, 0)', d[m] = 0, d[f] = 0, d.willChange = 'transform';
					else {
						var g = 'bottom' == m ? -1 : 1,
							x = 'right' == f ? -1 : 1;
						d[m] = y * g, d[f] = b * x, d.willChange = m + ', ' + f
					}
					var w = {
						"x-placement": e.placement
					};
					return e.attributes = wt({}, w, e.attributes), e.styles = wt({}, d, e.styles), e.arrowStyles = wt({}, e.offsets.arrow, e.arrowStyles), e
				},
				gpuAcceleration: !0,
				x: 'bottom',
				y: 'right'
			},
			applyStyle: {
				order: 900,
				enabled: !0,
				fn: function (e) {
					return F(e.instance.popper, e.styles), _(e.instance.popper, e.attributes), e.arrowElement && Object.keys(e.arrowStyles).length && F(e.arrowElement, e.arrowStyles), e
				},
				onLoad: function (e, t, r, a, p) {
					var o = C(p, t, e, r.positionFixed),
						i = E(r.placement, o, t, e, r.modifiers.flip.boundariesElement, r.modifiers.flip.padding);
					return t.setAttribute('x-placement', i), F(t, {
						position: r.positionFixed ? 'fixed' : 'absolute'
					}), r
				},
				gpuAcceleration: void 0
			}
		}
	};
	var Ot = {
			POPPER: '.tippy-popper',
			TOOLTIP: '.tippy-tooltip',
			CONTENT: '.tippy-content',
			BACKDROP: '.tippy-backdrop',
			ARROW: '.tippy-arrow',
			ROUND_ARROW: '.tippy-roundarrow'
		},
		Tt = tt ? Element.prototype : {},
		St = Tt.matches || Tt.matchesSelector || Tt.webkitMatchesSelector || Tt.mozMatchesSelector || Tt.msMatchesSelector,
		At = {
			passive: !0
		},
		Yt = {
			x: !0
		},
		Pt = !1,
		Dt = 0,
		Xt = Object.keys(st),
		It = Object.assign || function (e) {
			for (var t, r = 1; r < arguments.length; r++)
				for (var a in t = arguments[r], t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
			return e
		},
		Nt = {
			translate: /translateX?Y?\(([^)]+)\)/,
			scale: /scaleX?Y?\(([^)]+)\)/
		},
		Ht = 1,
		Wt = !1;
	Ke.version = et, Ke.defaults = st, Ke.one = function (e, t) {
		return Ke(e, t, !0).instances[0]
	}, Ke.setDefaults = function (e) {
		Object.keys(e).forEach(function (t) {
			st[t] = e[t]
		})
	}, Ke.disableAnimations = function () {
		Ke.setDefaults({
			duration: 0,
			updateDuration: 0,
			animateFill: !1
		})
	}, Ke.hideAllPoppers = ge, Ke.useCapture = function () {};
	return tt && setTimeout(function () {
			Q(document.querySelectorAll('[data-tippy]')).forEach(function (e) {
				var t = e.getAttribute('data-tippy');
				t && Ke(e, {
					content: t
				})
			})
		}),
		function (e) {
			if (pt) {
				var t = document.createElement('style');
				t.type = 'text/css', t.textContent = e, document.head.insertBefore(t, document.head.firstChild)
			}
		}($e), Ke
});
//# sourceMappingURL=tippy.all.min.js.map
// niceSelect 
! function (e) {
	e.fn.niceSelect = function (t) {
		if ("string" == typeof t) return "update" == t ? this.each(function () {
			var t = e(this),
				l = e(this).next(".nice-select"),
				c = l.hasClass("open");
			l.length && (l.remove(), s(t), c && t.next().trigger("click"))
		}) : "destroy" == t ? (this.each(function () {
			var t = e(this),
				s = e(this).next(".nice-select");
			s.length && (s.remove(), t.css("display", ""))
		}), 0 == e(".nice-select").length && e(document).off(".nice_select")) : console.log('Method "' + t + '" does not exist.'), this;

		function s(t) {
			t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class") || "").addClass(t.attr("disabled") ? "disabled" : "").addClass(t.attr("multiple") ? "has-multiple" : "").attr("tabindex", t.attr("disabled") ? null : "0").html(t.attr("multiple") ? '<span class="multiple-options"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Hızlı Arama"/></div><ul class="list"></ul>' : '<span class="current"></span><div class="nice-select-search-box"><input type="text" class="nice-select-search" placeholder="Hızlı Arama"/></div><ul class="list"></ul>'));
			var s = t.next(),
				l = t.find("option");
			if (t.attr("multiple")) {
				var c = "";
				(a = t.find("option:selected")).each(function () {
					$selected_option = e(this), $selected_text = $selected_option.data("display") || $selected_option.text(), c += '<span class="current">' + $selected_text + "</span>"
				}), $select_placeholder = t.data("placeholder") || t.attr("placeholder"), $select_placeholder = "" == $select_placeholder ? "Select" : $select_placeholder, c = "" == c ? $select_placeholder : c, s.find(".multiple-options").html(c)
			} else {
				var a = t.find("option:selected");
				s.find(".current").html(a.data("display") || a.text())
			}
			l.each(function (t) {
				var l = e(this),
					c = l.data("display");
				s.find("ul").append(e("<li></li>").attr("data-value", l.val()).attr("data-display", c || null).addClass("option" + (l.is(":selected") ? " selected" : "") + (l.is(":disabled") ? " disabled" : "")).html(l.text()))
			})
		}
		this.hide(), this.each(function () {
			var t = e(this);
			t.next().hasClass("nice-select") || s(t)
		}), e(document).off(".nice_select"), e(document).on("click.nice_select", ".nice-select", function (t) {
			var s = e(this);
			e(".nice-select").not(s).removeClass("open"), s.toggleClass("open"), s.hasClass("open") ? (s.find(".option"), s.find(".nice-select-search").val(""), s.find(".nice-select-search").focus(), s.find(".focus").removeClass("focus"), s.find(".selected").addClass("focus"), s.find("ul li").show()) : s.focus()
		}), e(document).on("click", ".nice-select-search-box", function (e) {
			return e.stopPropagation(), !1
		}), e(document).on("click.nice_select", function (t) {
			0 === e(t.target).closest(".nice-select").length && e(".nice-select").removeClass("open").find(".option")
		}), e(document).on("click.nice_select", ".nice-select .option:not(.disabled)", function (t) {
			var s = e(this),
				l = s.closest(".nice-select");
			if (l.hasClass("has-multiple")) s.hasClass("selected") ? s.removeClass("selected") : s.addClass("selected"), $selected_html = "", $selected_values = [], l.find(".selected").each(function () {
				$selected_option = e(this);
				var t = $selected_option.data("display") || $selected_option.text();
				$selected_html += '<span class="current">' + t + "</span>", $selected_values.push($selected_option.data("value"))
			}), $select_placeholder = l.prev("select").data("placeholder") || l.prev("select").attr("placeholder"), $select_placeholder = "" == $select_placeholder ? "Select" : $select_placeholder, $selected_html = "" == $selected_html ? $select_placeholder : $selected_html, l.find(".multiple-options").html($selected_html), l.prev("select").val($selected_values).trigger("change");
			else {
				l.find(".selected").removeClass("selected"), s.addClass("selected");
				var c = s.data("display") || s.text();
				l.find(".current").text(c), l.prev("select").val(s.data("value")).trigger("change")
			}
		}), e(document).on("keydown.nice_select", ".nice-select", function (t) {
			var s = e(this),
				l = e(s.find(".focus") || s.find(".list .option.selected"));
			if (32 == t.keyCode || 13 == t.keyCode) return s.hasClass("open") ? l.trigger("click") : s.trigger("click"), !1;
			if (40 == t.keyCode) {
				if (s.hasClass("open")) {
					var c = l.nextAll(".option:not(.disabled)").first();
					c.length > 0 && (s.find(".focus").removeClass("focus"), c.addClass("focus"))
				} else s.trigger("click");
				return !1
			}
			if (38 == t.keyCode) {
				if (s.hasClass("open")) {
					var a = l.prevAll(".option:not(.disabled)").first();
					a.length > 0 && (s.find(".focus").removeClass("focus"), a.addClass("focus"))
				} else s.trigger("click");
				return !1
			}
			if (27 == t.keyCode) s.hasClass("open") && s.trigger("click");
			else if (9 == t.keyCode && s.hasClass("open")) return !1
		}), e(document).on("keydown.nice-select-search", ".nice-select", function () {
			var t = e(this),
				s = t.find(".nice-select-search").val(),
				l = t.find("ul li");
			if ("" == s) l.show();
			else if (t.hasClass("open")) {
				s = s.toLowerCase();
				var c = new RegExp(s);
				0 < l.length ? l.each(function () {
					var t = e(this),
						s = t.text().toLowerCase();
					c.test(s) ? t.show() : t.hide()
				}) : l.show()
			}
		});
		var l = document.createElement("a").style;
		return l.cssText = "pointer-events:auto", "auto" !== l.pointerEvents && e("html").addClass("no-csspointerevents"), this
	}
}(jQuery);

// calendar
! function (e, t) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t()
}(this, function () {
	"use strict";
	var e, i;

	function c() {
		return e.apply(null, arguments)
	}

	function o(e) {
		return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e)
	}

	function u(e) {
		return null != e && "[object Object]" === Object.prototype.toString.call(e)
	}

	function l(e) {
		return void 0 === e
	}

	function d(e) {
		return "number" == typeof e || "[object Number]" === Object.prototype.toString.call(e)
	}

	function h(e) {
		return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
	}

	function f(e, t) {
		var n, s = [];
		for (n = 0; n < e.length; ++n) s.push(t(e[n], n));
		return s
	}

	function m(e, t) {
		return Object.prototype.hasOwnProperty.call(e, t)
	}

	function _(e, t) {
		for (var n in t) m(t, n) && (e[n] = t[n]);
		return m(t, "toString") && (e.toString = t.toString), m(t, "valueOf") && (e.valueOf = t.valueOf), e
	}

	function y(e, t, n, s) {
		return Ot(e, t, n, s, !0).utc()
	}

	function g(e) {
		return null == e._pf && (e._pf = {
			empty: !1,
			unusedTokens: [],
			unusedInput: [],
			overflow: -2,
			charsLeftOver: 0,
			nullInput: !1,
			invalidMonth: null,
			invalidFormat: !1,
			userInvalidated: !1,
			iso: !1,
			parsedDateParts: [],
			meridiem: null,
			rfc2822: !1,
			weekdayMismatch: !1
		}), e._pf
	}

	function p(e) {
		if (null == e._isValid) {
			var t = g(e),
				n = i.call(t.parsedDateParts, function (e) {
					return null != e
				}),
				s = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n);
			if (e._strict && (s = s && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour), null != Object.isFrozen && Object.isFrozen(e)) return s;
			e._isValid = s
		}
		return e._isValid
	}

	function v(e) {
		var t = y(NaN);
		return null != e ? _(g(t), e) : g(t).userInvalidated = !0, t
	}
	i = Array.prototype.some ? Array.prototype.some : function (e) {
		for (var t = Object(this), n = t.length >>> 0, s = 0; s < n; s++)
			if (s in t && e.call(this, t[s], s, t)) return !0;
		return !1
	};
	var r = c.momentProperties = [];

	function w(e, t) {
		var n, s, i;
		if (l(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), l(t._i) || (e._i = t._i), l(t._f) || (e._f = t._f), l(t._l) || (e._l = t._l), l(t._strict) || (e._strict = t._strict), l(t._tzm) || (e._tzm = t._tzm), l(t._isUTC) || (e._isUTC = t._isUTC), l(t._offset) || (e._offset = t._offset), l(t._pf) || (e._pf = g(t)), l(t._locale) || (e._locale = t._locale), 0 < r.length)
			for (n = 0; n < r.length; n++) l(i = t[s = r[n]]) || (e[s] = i);
		return e
	}
	var t = !1;

	function M(e) {
		w(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === t && (t = !0, c.updateOffset(this), t = !1)
	}

	function S(e) {
		return e instanceof M || null != e && null != e._isAMomentObject
	}

	function D(e) {
		return e < 0 ? Math.ceil(e) || 0 : Math.floor(e)
	}

	function k(e) {
		var t = +e,
			n = 0;
		return 0 !== t && isFinite(t) && (n = D(t)), n
	}

	function a(e, t, n) {
		var s, i = Math.min(e.length, t.length),
			r = Math.abs(e.length - t.length),
			a = 0;
		for (s = 0; s < i; s++)(n && e[s] !== t[s] || !n && k(e[s]) !== k(t[s])) && a++;
		return a + r
	}

	function Y(e) {
		!1 === c.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
	}

	function n(i, r) {
		var a = !0;
		return _(function () {
			if (null != c.deprecationHandler && c.deprecationHandler(null, i), a) {
				for (var e, t = [], n = 0; n < arguments.length; n++) {
					if (e = "", "object" == typeof arguments[n]) {
						for (var s in e += "\n[" + n + "] ", arguments[0]) e += s + ": " + arguments[0][s] + ", ";
						e = e.slice(0, -2)
					} else e = arguments[n];
					t.push(e)
				}
				Y(i + "\nArguments: " + Array.prototype.slice.call(t).join("") + "\n" + (new Error).stack), a = !1
			}
			return r.apply(this, arguments)
		}, r)
	}
	var s, O = {};

	function T(e, t) {
		null != c.deprecationHandler && c.deprecationHandler(e, t), O[e] || (Y(t), O[e] = !0)
	}

	function x(e) {
		return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e)
	}

	function b(e, t) {
		var n, s = _({}, e);
		for (n in t) m(t, n) && (u(e[n]) && u(t[n]) ? (s[n] = {}, _(s[n], e[n]), _(s[n], t[n])) : null != t[n] ? s[n] = t[n] : delete s[n]);
		for (n in e) m(e, n) && !m(t, n) && u(e[n]) && (s[n] = _({}, s[n]));
		return s
	}

	function P(e) {
		null != e && this.set(e)
	}
	c.suppressDeprecationWarnings = !1, c.deprecationHandler = null, s = Object.keys ? Object.keys : function (e) {
		var t, n = [];
		for (t in e) m(e, t) && n.push(t);
		return n
	};
	var W = {};

	function H(e, t) {
		var n = e.toLowerCase();
		W[n] = W[n + "s"] = W[t] = e
	}

	function R(e) {
		return "string" == typeof e ? W[e] || W[e.toLowerCase()] : void 0
	}

	function C(e) {
		var t, n, s = {};
		for (n in e) m(e, n) && (t = R(n)) && (s[t] = e[n]);
		return s
	}
	var F = {};

	function L(e, t) {
		F[e] = t
	}

	function U(e, t, n) {
		var s = "" + Math.abs(e),
			i = t - s.length;
		return (0 <= e ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, i)).toString().substr(1) + s
	}
	var N = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
		G = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
		V = {},
		E = {};

	function I(e, t, n, s) {
		var i = s;
		"string" == typeof s && (i = function () {
			return this[s]()
		}), e && (E[e] = i), t && (E[t[0]] = function () {
			return U(i.apply(this, arguments), t[1], t[2])
		}), n && (E[n] = function () {
			return this.localeData().ordinal(i.apply(this, arguments), e)
		})
	}

	function A(e, t) {
		return e.isValid() ? (t = j(t, e.localeData()), V[t] = V[t] || function (s) {
			var e, i, t, r = s.match(N);
			for (e = 0, i = r.length; e < i; e++) E[r[e]] ? r[e] = E[r[e]] : r[e] = (t = r[e]).match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "");
			return function (e) {
				var t, n = "";
				for (t = 0; t < i; t++) n += x(r[t]) ? r[t].call(e, s) : r[t];
				return n
			}
		}(t), V[t](e)) : e.localeData().invalidDate()
	}

	function j(e, t) {
		var n = 5;

		function s(e) {
			return t.longDateFormat(e) || e
		}
		for (G.lastIndex = 0; 0 <= n && G.test(e);) e = e.replace(G, s), G.lastIndex = 0, n -= 1;
		return e
	}
	var Z = /\d/,
		z = /\d\d/,
		$ = /\d{3}/,
		q = /\d{4}/,
		J = /[+-]?\d{6}/,
		B = /\d\d?/,
		Q = /\d\d\d\d?/,
		X = /\d\d\d\d\d\d?/,
		K = /\d{1,3}/,
		ee = /\d{1,4}/,
		te = /[+-]?\d{1,6}/,
		ne = /\d+/,
		se = /[+-]?\d+/,
		ie = /Z|[+-]\d\d:?\d\d/gi,
		re = /Z|[+-]\d\d(?::?\d\d)?/gi,
		ae = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
		oe = {};

	function ue(e, n, s) {
		oe[e] = x(n) ? n : function (e, t) {
			return e && s ? s : n
		}
	}

	function le(e, t) {
		return m(oe, e) ? oe[e](t._strict, t._locale) : new RegExp(de(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (e, t, n, s, i) {
			return t || n || s || i
		})))
	}

	function de(e) {
		return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
	}
	var he = {};

	function ce(e, n) {
		var t, s = n;
		for ("string" == typeof e && (e = [e]), d(n) && (s = function (e, t) {
				t[n] = k(e)
			}), t = 0; t < e.length; t++) he[e[t]] = s
	}

	function fe(e, i) {
		ce(e, function (e, t, n, s) {
			n._w = n._w || {}, i(e, n._w, n, s)
		})
	}
	var me = 0,
		_e = 1,
		ye = 2,
		ge = 3,
		pe = 4,
		ve = 5,
		we = 6,
		Me = 7,
		Se = 8;

	function De(e) {
		return ke(e) ? 366 : 365
	}

	function ke(e) {
		return e % 4 == 0 && e % 100 != 0 || e % 400 == 0
	}
	I("Y", 0, 0, function () {
		var e = this.year();
		return e <= 9999 ? "" + e : "+" + e
	}), I(0, ["YY", 2], 0, function () {
		return this.year() % 100
	}), I(0, ["YYYY", 4], 0, "year"), I(0, ["YYYYY", 5], 0, "year"), I(0, ["YYYYYY", 6, !0], 0, "year"), H("year", "y"), L("year", 1), ue("Y", se), ue("YY", B, z), ue("YYYY", ee, q), ue("YYYYY", te, J), ue("YYYYYY", te, J), ce(["YYYYY", "YYYYYY"], me), ce("YYYY", function (e, t) {
		t[me] = 2 === e.length ? c.parseTwoDigitYear(e) : k(e)
	}), ce("YY", function (e, t) {
		t[me] = c.parseTwoDigitYear(e)
	}), ce("Y", function (e, t) {
		t[me] = parseInt(e, 10)
	}), c.parseTwoDigitYear = function (e) {
		return k(e) + (68 < k(e) ? 1900 : 2e3)
	};
	var Ye, Oe = Te("FullYear", !0);

	function Te(t, n) {
		return function (e) {
			return null != e ? (be(this, t, e), c.updateOffset(this, n), this) : xe(this, t)
		}
	}

	function xe(e, t) {
		return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN
	}

	function be(e, t, n) {
		e.isValid() && !isNaN(n) && ("FullYear" === t && ke(e.year()) && 1 === e.month() && 29 === e.date() ? e._d["set" + (e._isUTC ? "UTC" : "") + t](n, e.month(), Pe(n, e.month())) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n))
	}

	function Pe(e, t) {
		if (isNaN(e) || isNaN(t)) return NaN;
		var n, s = (t % (n = 12) + n) % n;
		return e += (t - s) / 12, 1 === s ? ke(e) ? 29 : 28 : 31 - s % 7 % 2
	}
	Ye = Array.prototype.indexOf ? Array.prototype.indexOf : function (e) {
		var t;
		for (t = 0; t < this.length; ++t)
			if (this[t] === e) return t;
		return -1
	}, I("M", ["MM", 2], "Mo", function () {
		return this.month() + 1
	}), I("MMM", 0, 0, function (e) {
		return this.localeData().monthsShort(this, e)
	}), I("MMMM", 0, 0, function (e) {
		return this.localeData().months(this, e)
	}), H("month", "M"), L("month", 8), ue("M", B), ue("MM", B, z), ue("MMM", function (e, t) {
		return t.monthsShortRegex(e)
	}), ue("MMMM", function (e, t) {
		return t.monthsRegex(e)
	}), ce(["M", "MM"], function (e, t) {
		t[_e] = k(e) - 1
	}), ce(["MMM", "MMMM"], function (e, t, n, s) {
		var i = n._locale.monthsParse(e, s, n._strict);
		null != i ? t[_e] = i : g(n).invalidMonth = e
	});
	var We = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
		He = "January_February_March_April_May_June_July_August_September_October_November_December".split("_");
	var Re = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");

	function Ce(e, t) {
		var n;
		if (!e.isValid()) return e;
		if ("string" == typeof t)
			if (/^\d+$/.test(t)) t = k(t);
			else if (!d(t = e.localeData().monthsParse(t))) return e;
		return n = Math.min(e.date(), Pe(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e
	}

	function Fe(e) {
		return null != e ? (Ce(this, e), c.updateOffset(this, !0), this) : xe(this, "Month")
	}
	var Le = ae;
	var Ue = ae;

	function Ne() {
		function e(e, t) {
			return t.length - e.length
		}
		var t, n, s = [],
			i = [],
			r = [];
		for (t = 0; t < 12; t++) n = y([2e3, t]), s.push(this.monthsShort(n, "")), i.push(this.months(n, "")), r.push(this.months(n, "")), r.push(this.monthsShort(n, ""));
		for (s.sort(e), i.sort(e), r.sort(e), t = 0; t < 12; t++) s[t] = de(s[t]), i[t] = de(i[t]);
		for (t = 0; t < 24; t++) r[t] = de(r[t]);
		this._monthsRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i")
	}

	function Ge(e) {
		var t = new Date(Date.UTC.apply(null, arguments));
		return e < 100 && 0 <= e && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e), t
	}

	function Ve(e, t, n) {
		var s = 7 + t - n;
		return -((7 + Ge(e, 0, s).getUTCDay() - t) % 7) + s - 1
	}

	function Ee(e, t, n, s, i) {
		var r, a, o = 1 + 7 * (t - 1) + (7 + n - s) % 7 + Ve(e, s, i);
		return o <= 0 ? a = De(r = e - 1) + o : o > De(e) ? (r = e + 1, a = o - De(e)) : (r = e, a = o), {
			year: r,
			dayOfYear: a
		}
	}

	function Ie(e, t, n) {
		var s, i, r = Ve(e.year(), t, n),
			a = Math.floor((e.dayOfYear() - r - 1) / 7) + 1;
		return a < 1 ? s = a + Ae(i = e.year() - 1, t, n) : a > Ae(e.year(), t, n) ? (s = a - Ae(e.year(), t, n), i = e.year() + 1) : (i = e.year(), s = a), {
			week: s,
			year: i
		}
	}

	function Ae(e, t, n) {
		var s = Ve(e, t, n),
			i = Ve(e + 1, t, n);
		return (De(e) - s + i) / 7
	}
	I("w", ["ww", 2], "wo", "week"), I("W", ["WW", 2], "Wo", "isoWeek"), H("week", "w"), H("isoWeek", "W"), L("week", 5), L("isoWeek", 5), ue("w", B), ue("ww", B, z), ue("W", B), ue("WW", B, z), fe(["w", "ww", "W", "WW"], function (e, t, n, s) {
		t[s.substr(0, 1)] = k(e)
	});
	I("d", 0, "do", "day"), I("dd", 0, 0, function (e) {
		return this.localeData().weekdaysMin(this, e)
	}), I("ddd", 0, 0, function (e) {
		return this.localeData().weekdaysShort(this, e)
	}), I("dddd", 0, 0, function (e) {
		return this.localeData().weekdays(this, e)
	}), I("e", 0, 0, "weekday"), I("E", 0, 0, "isoWeekday"), H("day", "d"), H("weekday", "e"), H("isoWeekday", "E"), L("day", 11), L("weekday", 11), L("isoWeekday", 11), ue("d", B), ue("e", B), ue("E", B), ue("dd", function (e, t) {
		return t.weekdaysMinRegex(e)
	}), ue("ddd", function (e, t) {
		return t.weekdaysShortRegex(e)
	}), ue("dddd", function (e, t) {
		return t.weekdaysRegex(e)
	}), fe(["dd", "ddd", "dddd"], function (e, t, n, s) {
		var i = n._locale.weekdaysParse(e, s, n._strict);
		null != i ? t.d = i : g(n).invalidWeekday = e
	}), fe(["d", "e", "E"], function (e, t, n, s) {
		t[s] = k(e)
	});
	var je = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");
	var Ze = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");
	var ze = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
	var $e = ae;
	var qe = ae;
	var Je = ae;

	function Be() {
		function e(e, t) {
			return t.length - e.length
		}
		var t, n, s, i, r, a = [],
			o = [],
			u = [],
			l = [];
		for (t = 0; t < 7; t++) n = y([2e3, 1]).day(t), s = this.weekdaysMin(n, ""), i = this.weekdaysShort(n, ""), r = this.weekdays(n, ""), a.push(s), o.push(i), u.push(r), l.push(s), l.push(i), l.push(r);
		for (a.sort(e), o.sort(e), u.sort(e), l.sort(e), t = 0; t < 7; t++) o[t] = de(o[t]), u[t] = de(u[t]), l[t] = de(l[t]);
		this._weekdaysRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + u.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a.join("|") + ")", "i")
	}

	function Qe() {
		return this.hours() % 12 || 12
	}

	function Xe(e, t) {
		I(e, 0, 0, function () {
			return this.localeData().meridiem(this.hours(), this.minutes(), t)
		})
	}

	function Ke(e, t) {
		return t._meridiemParse
	}
	I("H", ["HH", 2], 0, "hour"), I("h", ["hh", 2], 0, Qe), I("k", ["kk", 2], 0, function () {
		return this.hours() || 24
	}), I("hmm", 0, 0, function () {
		return "" + Qe.apply(this) + U(this.minutes(), 2)
	}), I("hmmss", 0, 0, function () {
		return "" + Qe.apply(this) + U(this.minutes(), 2) + U(this.seconds(), 2)
	}), I("Hmm", 0, 0, function () {
		return "" + this.hours() + U(this.minutes(), 2)
	}), I("Hmmss", 0, 0, function () {
		return "" + this.hours() + U(this.minutes(), 2) + U(this.seconds(), 2)
	}), Xe("a", !0), Xe("A", !1), H("hour", "h"), L("hour", 13), ue("a", Ke), ue("A", Ke), ue("H", B), ue("h", B), ue("k", B), ue("HH", B, z), ue("hh", B, z), ue("kk", B, z), ue("hmm", Q), ue("hmmss", X), ue("Hmm", Q), ue("Hmmss", X), ce(["H", "HH"], ge), ce(["k", "kk"], function (e, t, n) {
		var s = k(e);
		t[ge] = 24 === s ? 0 : s
	}), ce(["a", "A"], function (e, t, n) {
		n._isPm = n._locale.isPM(e), n._meridiem = e
	}), ce(["h", "hh"], function (e, t, n) {
		t[ge] = k(e), g(n).bigHour = !0
	}), ce("hmm", function (e, t, n) {
		var s = e.length - 2;
		t[ge] = k(e.substr(0, s)), t[pe] = k(e.substr(s)), g(n).bigHour = !0
	}), ce("hmmss", function (e, t, n) {
		var s = e.length - 4,
			i = e.length - 2;
		t[ge] = k(e.substr(0, s)), t[pe] = k(e.substr(s, 2)), t[ve] = k(e.substr(i)), g(n).bigHour = !0
	}), ce("Hmm", function (e, t, n) {
		var s = e.length - 2;
		t[ge] = k(e.substr(0, s)), t[pe] = k(e.substr(s))
	}), ce("Hmmss", function (e, t, n) {
		var s = e.length - 4,
			i = e.length - 2;
		t[ge] = k(e.substr(0, s)), t[pe] = k(e.substr(s, 2)), t[ve] = k(e.substr(i))
	});
	var et, tt = Te("Hours", !0),
		nt = {
			calendar: {
				sameDay: "[Today at] LT",
				nextDay: "[Tomorrow at] LT",
				nextWeek: "dddd [at] LT",
				lastDay: "[Yesterday at] LT",
				lastWeek: "[Last] dddd [at] LT",
				sameElse: "L"
			},
			longDateFormat: {
				LTS: "h:mm:ss A",
				LT: "h:mm A",
				L: "MM/DD/YYYY",
				LL: "MMMM D, YYYY",
				LLL: "MMMM D, YYYY h:mm A",
				LLLL: "dddd, MMMM D, YYYY h:mm A"
			},
			invalidDate: "Invalid date",
			ordinal: "%d",
			dayOfMonthOrdinalParse: /\d{1,2}/,
			relativeTime: {
				future: "in %s",
				past: "%s ago",
				s: "a few seconds",
				ss: "%d seconds",
				m: "a minute",
				mm: "%d minutes",
				h: "an hour",
				hh: "%d hours",
				d: "a day",
				dd: "%d days",
				M: "a month",
				MM: "%d months",
				y: "a year",
				yy: "%d years"
			},
			months: He,
			monthsShort: Re,
			week: {
				dow: 0,
				doy: 6
			},
			weekdays: je,
			weekdaysMin: ze,
			weekdaysShort: Ze,
			meridiemParse: /[ap]\.?m?\.?/i
		},
		st = {},
		it = {};

	function rt(e) {
		return e ? e.toLowerCase().replace("_", "-") : e
	}

	function at(e) {
		var t = null;
		if (!st[e] && "undefined" != typeof module && module && module.exports) try {
			t = et._abbr, require("./locale/" + e), ot(t)
		} catch (e) {}
		return st[e]
	}

	function ot(e, t) {
		var n;
		return e && ((n = l(t) ? lt(e) : ut(e, t)) ? et = n : "undefined" != typeof console && console.warn && console.warn("Locale " + e + " not found. Did you forget to load it?")), et._abbr
	}

	function ut(e, t) {
		if (null !== t) {
			var n, s = nt;
			if (t.abbr = e, null != st[e]) T("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), s = st[e]._config;
			else if (null != t.parentLocale)
				if (null != st[t.parentLocale]) s = st[t.parentLocale]._config;
				else {
					if (null == (n = at(t.parentLocale))) return it[t.parentLocale] || (it[t.parentLocale] = []), it[t.parentLocale].push({
						name: e,
						config: t
					}), null;
					s = n._config
				} return st[e] = new P(b(s, t)), it[e] && it[e].forEach(function (e) {
				ut(e.name, e.config)
			}), ot(e), st[e]
		}
		return delete st[e], null
	}

	function lt(e) {
		var t;
		if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return et;
		if (!o(e)) {
			if (t = at(e)) return t;
			e = [e]
		}
		return function (e) {
			for (var t, n, s, i, r = 0; r < e.length;) {
				for (t = (i = rt(e[r]).split("-")).length, n = (n = rt(e[r + 1])) ? n.split("-") : null; 0 < t;) {
					if (s = at(i.slice(0, t).join("-"))) return s;
					if (n && n.length >= t && a(i, n, !0) >= t - 1) break;
					t--
				}
				r++
			}
			return et
		}(e)
	}

	function dt(e) {
		var t, n = e._a;
		return n && -2 === g(e).overflow && (t = n[_e] < 0 || 11 < n[_e] ? _e : n[ye] < 1 || n[ye] > Pe(n[me], n[_e]) ? ye : n[ge] < 0 || 24 < n[ge] || 24 === n[ge] && (0 !== n[pe] || 0 !== n[ve] || 0 !== n[we]) ? ge : n[pe] < 0 || 59 < n[pe] ? pe : n[ve] < 0 || 59 < n[ve] ? ve : n[we] < 0 || 999 < n[we] ? we : -1, g(e)._overflowDayOfYear && (t < me || ye < t) && (t = ye), g(e)._overflowWeeks && -1 === t && (t = Me), g(e)._overflowWeekday && -1 === t && (t = Se), g(e).overflow = t), e
	}

	function ht(e, t, n) {
		return null != e ? e : null != t ? t : n
	}

	function ct(e) {
		var t, n, s, i, r, a = [];
		if (!e._d) {
			var o, u;
			for (o = e, u = new Date(c.now()), s = o._useUTC ? [u.getUTCFullYear(), u.getUTCMonth(), u.getUTCDate()] : [u.getFullYear(), u.getMonth(), u.getDate()], e._w && null == e._a[ye] && null == e._a[_e] && function (e) {
					var t, n, s, i, r, a, o, u;
					if (null != (t = e._w).GG || null != t.W || null != t.E) r = 1, a = 4, n = ht(t.GG, e._a[me], Ie(Tt(), 1, 4).year), s = ht(t.W, 1), ((i = ht(t.E, 1)) < 1 || 7 < i) && (u = !0);
					else {
						r = e._locale._week.dow, a = e._locale._week.doy;
						var l = Ie(Tt(), r, a);
						n = ht(t.gg, e._a[me], l.year), s = ht(t.w, l.week), null != t.d ? ((i = t.d) < 0 || 6 < i) && (u = !0) : null != t.e ? (i = t.e + r, (t.e < 0 || 6 < t.e) && (u = !0)) : i = r
					}
					s < 1 || s > Ae(n, r, a) ? g(e)._overflowWeeks = !0 : null != u ? g(e)._overflowWeekday = !0 : (o = Ee(n, s, i, r, a), e._a[me] = o.year, e._dayOfYear = o.dayOfYear)
				}(e), null != e._dayOfYear && (r = ht(e._a[me], s[me]), (e._dayOfYear > De(r) || 0 === e._dayOfYear) && (g(e)._overflowDayOfYear = !0), n = Ge(r, 0, e._dayOfYear), e._a[_e] = n.getUTCMonth(), e._a[ye] = n.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) e._a[t] = a[t] = s[t];
			for (; t < 7; t++) e._a[t] = a[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
			24 === e._a[ge] && 0 === e._a[pe] && 0 === e._a[ve] && 0 === e._a[we] && (e._nextDay = !0, e._a[ge] = 0), e._d = (e._useUTC ? Ge : function (e, t, n, s, i, r, a) {
				var o = new Date(e, t, n, s, i, r, a);
				return e < 100 && 0 <= e && isFinite(o.getFullYear()) && o.setFullYear(e), o
			}).apply(null, a), i = e._useUTC ? e._d.getUTCDay() : e._d.getDay(), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[ge] = 24), e._w && void 0 !== e._w.d && e._w.d !== i && (g(e).weekdayMismatch = !0)
		}
	}
	var ft = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
		mt = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
		_t = /Z|[+-]\d\d(?::?\d\d)?/,
		yt = [
			["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
			["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
			["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
			["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
			["YYYY-DDD", /\d{4}-\d{3}/],
			["YYYY-MM", /\d{4}-\d\d/, !1],
			["YYYYYYMMDD", /[+-]\d{10}/],
			["YYYYMMDD", /\d{8}/],
			["GGGG[W]WWE", /\d{4}W\d{3}/],
			["GGGG[W]WW", /\d{4}W\d{2}/, !1],
			["YYYYDDD", /\d{7}/]
		],
		gt = [
			["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
			["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
			["HH:mm:ss", /\d\d:\d\d:\d\d/],
			["HH:mm", /\d\d:\d\d/],
			["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
			["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
			["HHmmss", /\d\d\d\d\d\d/],
			["HHmm", /\d\d\d\d/],
			["HH", /\d\d/]
		],
		pt = /^\/?Date\((\-?\d+)/i;

	function vt(e) {
		var t, n, s, i, r, a, o = e._i,
			u = ft.exec(o) || mt.exec(o);
		if (u) {
			for (g(e).iso = !0, t = 0, n = yt.length; t < n; t++)
				if (yt[t][1].exec(u[1])) {
					i = yt[t][0], s = !1 !== yt[t][2];
					break
				} if (null == i) return void(e._isValid = !1);
			if (u[3]) {
				for (t = 0, n = gt.length; t < n; t++)
					if (gt[t][1].exec(u[3])) {
						r = (u[2] || " ") + gt[t][0];
						break
					} if (null == r) return void(e._isValid = !1)
			}
			if (!s && null != r) return void(e._isValid = !1);
			if (u[4]) {
				if (!_t.exec(u[4])) return void(e._isValid = !1);
				a = "Z"
			}
			e._f = i + (r || "") + (a || ""), kt(e)
		} else e._isValid = !1
	}
	var wt = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

	function Mt(e, t, n, s, i, r) {
		var a = [function (e) {
			var t = parseInt(e, 10); {
				if (t <= 49) return 2e3 + t;
				if (t <= 999) return 1900 + t
			}
			return t
		}(e), Re.indexOf(t), parseInt(n, 10), parseInt(s, 10), parseInt(i, 10)];
		return r && a.push(parseInt(r, 10)), a
	}
	var St = {
		UT: 0,
		GMT: 0,
		EDT: -240,
		EST: -300,
		CDT: -300,
		CST: -360,
		MDT: -360,
		MST: -420,
		PDT: -420,
		PST: -480
	};

	function Dt(e) {
		var t, n, s, i = wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").trim());
		if (i) {
			var r = Mt(i[4], i[3], i[2], i[5], i[6], i[7]);
			if (t = i[1], n = r, s = e, t && Ze.indexOf(t) !== new Date(n[0], n[1], n[2]).getDay() && (g(s).weekdayMismatch = !0, !(s._isValid = !1))) return;
			e._a = r, e._tzm = function (e, t, n) {
				if (e) return St[e];
				if (t) return 0;
				var s = parseInt(n, 10),
					i = s % 100;
				return (s - i) / 100 * 60 + i
			}(i[8], i[9], i[10]), e._d = Ge.apply(null, e._a), e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), g(e).rfc2822 = !0
		} else e._isValid = !1
	}

	function kt(e) {
		if (e._f !== c.ISO_8601)
			if (e._f !== c.RFC_2822) {
				e._a = [], g(e).empty = !0;
				var t, n, s, i, r, a, o, u, l = "" + e._i,
					d = l.length,
					h = 0;
				for (s = j(e._f, e._locale).match(N) || [], t = 0; t < s.length; t++) i = s[t], (n = (l.match(le(i, e)) || [])[0]) && (0 < (r = l.substr(0, l.indexOf(n))).length && g(e).unusedInput.push(r), l = l.slice(l.indexOf(n) + n.length), h += n.length), E[i] ? (n ? g(e).empty = !1 : g(e).unusedTokens.push(i), a = i, u = e, null != (o = n) && m(he, a) && he[a](o, u._a, u, a)) : e._strict && !n && g(e).unusedTokens.push(i);
				g(e).charsLeftOver = d - h, 0 < l.length && g(e).unusedInput.push(l), e._a[ge] <= 12 && !0 === g(e).bigHour && 0 < e._a[ge] && (g(e).bigHour = void 0), g(e).parsedDateParts = e._a.slice(0), g(e).meridiem = e._meridiem, e._a[ge] = function (e, t, n) {
					var s;
					if (null == n) return t;
					return null != e.meridiemHour ? e.meridiemHour(t, n) : (null != e.isPM && ((s = e.isPM(n)) && t < 12 && (t += 12), s || 12 !== t || (t = 0)), t)
				}(e._locale, e._a[ge], e._meridiem), ct(e), dt(e)
			} else Dt(e);
		else vt(e)
	}

	function Yt(e) {
		var t, n, s, i, r = e._i,
			a = e._f;
		return e._locale = e._locale || lt(e._l), null === r || void 0 === a && "" === r ? v({
			nullInput: !0
		}) : ("string" == typeof r && (e._i = r = e._locale.preparse(r)), S(r) ? new M(dt(r)) : (h(r) ? e._d = r : o(a) ? function (e) {
			var t, n, s, i, r;
			if (0 === e._f.length) return g(e).invalidFormat = !0, e._d = new Date(NaN);
			for (i = 0; i < e._f.length; i++) r = 0, t = w({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[i], kt(t), p(t) && (r += g(t).charsLeftOver, r += 10 * g(t).unusedTokens.length, g(t).score = r, (null == s || r < s) && (s = r, n = t));
			_(e, n || t)
		}(e) : a ? kt(e) : l(n = (t = e)._i) ? t._d = new Date(c.now()) : h(n) ? t._d = new Date(n.valueOf()) : "string" == typeof n ? (s = t, null === (i = pt.exec(s._i)) ? (vt(s), !1 === s._isValid && (delete s._isValid, Dt(s), !1 === s._isValid && (delete s._isValid, c.createFromInputFallback(s)))) : s._d = new Date(+i[1])) : o(n) ? (t._a = f(n.slice(0), function (e) {
			return parseInt(e, 10)
		}), ct(t)) : u(n) ? function (e) {
			if (!e._d) {
				var t = C(e._i);
				e._a = f([t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], function (e) {
					return e && parseInt(e, 10)
				}), ct(e)
			}
		}(t) : d(n) ? t._d = new Date(n) : c.createFromInputFallback(t), p(e) || (e._d = null), e))
	}

	function Ot(e, t, n, s, i) {
		var r, a = {};
		return !0 !== n && !1 !== n || (s = n, n = void 0), (u(e) && function (e) {
			if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(e).length;
			var t;
			for (t in e)
				if (e.hasOwnProperty(t)) return !1;
			return !0
		}(e) || o(e) && 0 === e.length) && (e = void 0), a._isAMomentObject = !0, a._useUTC = a._isUTC = i, a._l = n, a._i = e, a._f = t, a._strict = s, (r = new M(dt(Yt(a))))._nextDay && (r.add(1, "d"), r._nextDay = void 0), r
	}

	function Tt(e, t, n, s) {
		return Ot(e, t, n, s, !1)
	}
	c.createFromInputFallback = n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (e) {
		e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
	}), c.ISO_8601 = function () {}, c.RFC_2822 = function () {};
	var xt = n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () {
			var e = Tt.apply(null, arguments);
			return this.isValid() && e.isValid() ? e < this ? this : e : v()
		}),
		bt = n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () {
			var e = Tt.apply(null, arguments);
			return this.isValid() && e.isValid() ? this < e ? this : e : v()
		});

	function Pt(e, t) {
		var n, s;
		if (1 === t.length && o(t[0]) && (t = t[0]), !t.length) return Tt();
		for (n = t[0], s = 1; s < t.length; ++s) t[s].isValid() && !t[s][e](n) || (n = t[s]);
		return n
	}
	var Wt = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];

	function Ht(e) {
		var t = C(e),
			n = t.year || 0,
			s = t.quarter || 0,
			i = t.month || 0,
			r = t.week || 0,
			a = t.day || 0,
			o = t.hour || 0,
			u = t.minute || 0,
			l = t.second || 0,
			d = t.millisecond || 0;
		this._isValid = function (e) {
			for (var t in e)
				if (-1 === Ye.call(Wt, t) || null != e[t] && isNaN(e[t])) return !1;
			for (var n = !1, s = 0; s < Wt.length; ++s)
				if (e[Wt[s]]) {
					if (n) return !1;
					parseFloat(e[Wt[s]]) !== k(e[Wt[s]]) && (n = !0)
				} return !0
		}(t), this._milliseconds = +d + 1e3 * l + 6e4 * u + 1e3 * o * 60 * 60, this._days = +a + 7 * r, this._months = +i + 3 * s + 12 * n, this._data = {}, this._locale = lt(), this._bubble()
	}

	function Rt(e) {
		return e instanceof Ht
	}

	function Ct(e) {
		return e < 0 ? -1 * Math.round(-1 * e) : Math.round(e)
	}

	function Ft(e, n) {
		I(e, 0, 0, function () {
			var e = this.utcOffset(),
				t = "+";
			return e < 0 && (e = -e, t = "-"), t + U(~~(e / 60), 2) + n + U(~~e % 60, 2)
		})
	}
	Ft("Z", ":"), Ft("ZZ", ""), ue("Z", re), ue("ZZ", re), ce(["Z", "ZZ"], function (e, t, n) {
		n._useUTC = !0, n._tzm = Ut(re, e)
	});
	var Lt = /([\+\-]|\d\d)/gi;

	function Ut(e, t) {
		var n = (t || "").match(e);
		if (null === n) return null;
		var s = ((n[n.length - 1] || []) + "").match(Lt) || ["-", 0, 0],
			i = 60 * s[1] + k(s[2]);
		return 0 === i ? 0 : "+" === s[0] ? i : -i
	}

	function Nt(e, t) {
		var n, s;
		return t._isUTC ? (n = t.clone(), s = (S(e) || h(e) ? e.valueOf() : Tt(e).valueOf()) - n.valueOf(), n._d.setTime(n._d.valueOf() + s), c.updateOffset(n, !1), n) : Tt(e).local()
	}

	function Gt(e) {
		return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
	}

	function Vt() {
		return !!this.isValid() && (this._isUTC && 0 === this._offset)
	}
	c.updateOffset = function () {};
	var Et = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
		It = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

	function At(e, t) {
		var n, s, i, r = e,
			a = null;
		return Rt(e) ? r = {
			ms: e._milliseconds,
			d: e._days,
			M: e._months
		} : d(e) ? (r = {}, t ? r[t] = e : r.milliseconds = e) : (a = Et.exec(e)) ? (n = "-" === a[1] ? -1 : 1, r = {
			y: 0,
			d: k(a[ye]) * n,
			h: k(a[ge]) * n,
			m: k(a[pe]) * n,
			s: k(a[ve]) * n,
			ms: k(Ct(1e3 * a[we])) * n
		}) : (a = It.exec(e)) ? (n = "-" === a[1] ? -1 : (a[1], 1), r = {
			y: jt(a[2], n),
			M: jt(a[3], n),
			w: jt(a[4], n),
			d: jt(a[5], n),
			h: jt(a[6], n),
			m: jt(a[7], n),
			s: jt(a[8], n)
		}) : null == r ? r = {} : "object" == typeof r && ("from" in r || "to" in r) && (i = function (e, t) {
			var n;
			if (!e.isValid() || !t.isValid()) return {
				milliseconds: 0,
				months: 0
			};
			t = Nt(t, e), e.isBefore(t) ? n = Zt(e, t) : ((n = Zt(t, e)).milliseconds = -n.milliseconds, n.months = -n.months);
			return n
		}(Tt(r.from), Tt(r.to)), (r = {}).ms = i.milliseconds, r.M = i.months), s = new Ht(r), Rt(e) && m(e, "_locale") && (s._locale = e._locale), s
	}

	function jt(e, t) {
		var n = e && parseFloat(e.replace(",", "."));
		return (isNaN(n) ? 0 : n) * t
	}

	function Zt(e, t) {
		var n = {
			milliseconds: 0,
			months: 0
		};
		return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n
	}

	function zt(s, i) {
		return function (e, t) {
			var n;
			return null === t || isNaN(+t) || (T(i, "moment()." + i + "(period, number) is deprecated. Please use moment()." + i + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n = e, e = t, t = n), $t(this, At(e = "string" == typeof e ? +e : e, t), s), this
		}
	}

	function $t(e, t, n, s) {
		var i = t._milliseconds,
			r = Ct(t._days),
			a = Ct(t._months);
		e.isValid() && (s = null == s || s, a && Ce(e, xe(e, "Month") + a * n), r && be(e, "Date", xe(e, "Date") + r * n), i && e._d.setTime(e._d.valueOf() + i * n), s && c.updateOffset(e, r || a))
	}
	At.fn = Ht.prototype, At.invalid = function () {
		return At(NaN)
	};
	var qt = zt(1, "add"),
		Jt = zt(-1, "subtract");

	function Bt(e, t) {
		var n = 12 * (t.year() - e.year()) + (t.month() - e.month()),
			s = e.clone().add(n, "months");
		return -(n + (t - s < 0 ? (t - s) / (s - e.clone().add(n - 1, "months")) : (t - s) / (e.clone().add(n + 1, "months") - s))) || 0
	}

	function Qt(e) {
		var t;
		return void 0 === e ? this._locale._abbr : (null != (t = lt(e)) && (this._locale = t), this)
	}
	c.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", c.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
	var Xt = n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (e) {
		return void 0 === e ? this.localeData() : this.locale(e)
	});

	function Kt() {
		return this._locale
	}

	function en(e, t) {
		I(0, [e, e.length], 0, t)
	}

	function tn(e, t, n, s, i) {
		var r;
		return null == e ? Ie(this, s, i).year : ((r = Ae(e, s, i)) < t && (t = r), function (e, t, n, s, i) {
			var r = Ee(e, t, n, s, i),
				a = Ge(r.year, 0, r.dayOfYear);
			return this.year(a.getUTCFullYear()), this.month(a.getUTCMonth()), this.date(a.getUTCDate()), this
		}.call(this, e, t, n, s, i))
	}
	I(0, ["gg", 2], 0, function () {
		return this.weekYear() % 100
	}), I(0, ["GG", 2], 0, function () {
		return this.isoWeekYear() % 100
	}), en("gggg", "weekYear"), en("ggggg", "weekYear"), en("GGGG", "isoWeekYear"), en("GGGGG", "isoWeekYear"), H("weekYear", "gg"), H("isoWeekYear", "GG"), L("weekYear", 1), L("isoWeekYear", 1), ue("G", se), ue("g", se), ue("GG", B, z), ue("gg", B, z), ue("GGGG", ee, q), ue("gggg", ee, q), ue("GGGGG", te, J), ue("ggggg", te, J), fe(["gggg", "ggggg", "GGGG", "GGGGG"], function (e, t, n, s) {
		t[s.substr(0, 2)] = k(e)
	}), fe(["gg", "GG"], function (e, t, n, s) {
		t[s] = c.parseTwoDigitYear(e)
	}), I("Q", 0, "Qo", "quarter"), H("quarter", "Q"), L("quarter", 7), ue("Q", Z), ce("Q", function (e, t) {
		t[_e] = 3 * (k(e) - 1)
	}), I("D", ["DD", 2], "Do", "date"), H("date", "D"), L("date", 9), ue("D", B), ue("DD", B, z), ue("Do", function (e, t) {
		return e ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient
	}), ce(["D", "DD"], ye), ce("Do", function (e, t) {
		t[ye] = k(e.match(B)[0])
	});
	var nn = Te("Date", !0);
	I("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), H("dayOfYear", "DDD"), L("dayOfYear", 4), ue("DDD", K), ue("DDDD", $), ce(["DDD", "DDDD"], function (e, t, n) {
		n._dayOfYear = k(e)
	}), I("m", ["mm", 2], 0, "minute"), H("minute", "m"), L("minute", 14), ue("m", B), ue("mm", B, z), ce(["m", "mm"], pe);
	var sn = Te("Minutes", !1);
	I("s", ["ss", 2], 0, "second"), H("second", "s"), L("second", 15), ue("s", B), ue("ss", B, z), ce(["s", "ss"], ve);
	var rn, an = Te("Seconds", !1);
	for (I("S", 0, 0, function () {
			return ~~(this.millisecond() / 100)
		}), I(0, ["SS", 2], 0, function () {
			return ~~(this.millisecond() / 10)
		}), I(0, ["SSS", 3], 0, "millisecond"), I(0, ["SSSS", 4], 0, function () {
			return 10 * this.millisecond()
		}), I(0, ["SSSSS", 5], 0, function () {
			return 100 * this.millisecond()
		}), I(0, ["SSSSSS", 6], 0, function () {
			return 1e3 * this.millisecond()
		}), I(0, ["SSSSSSS", 7], 0, function () {
			return 1e4 * this.millisecond()
		}), I(0, ["SSSSSSSS", 8], 0, function () {
			return 1e5 * this.millisecond()
		}), I(0, ["SSSSSSSSS", 9], 0, function () {
			return 1e6 * this.millisecond()
		}), H("millisecond", "ms"), L("millisecond", 16), ue("S", K, Z), ue("SS", K, z), ue("SSS", K, $), rn = "SSSS"; rn.length <= 9; rn += "S") ue(rn, ne);

	function on(e, t) {
		t[we] = k(1e3 * ("0." + e))
	}
	for (rn = "S"; rn.length <= 9; rn += "S") ce(rn, on);
	var un = Te("Milliseconds", !1);
	I("z", 0, 0, "zoneAbbr"), I("zz", 0, 0, "zoneName");
	var ln = M.prototype;

	function dn(e) {
		return e
	}
	ln.add = qt, ln.calendar = function (e, t) {
		var n = e || Tt(),
			s = Nt(n, this).startOf("day"),
			i = c.calendarFormat(this, s) || "sameElse",
			r = t && (x(t[i]) ? t[i].call(this, n) : t[i]);
		return this.format(r || this.localeData().calendar(i, this, Tt(n)))
	}, ln.clone = function () {
		return new M(this)
	}, ln.diff = function (e, t, n) {
		var s, i, r;
		if (!this.isValid()) return NaN;
		if (!(s = Nt(e, this)).isValid()) return NaN;
		switch (i = 6e4 * (s.utcOffset() - this.utcOffset()), t = R(t)) {
			case "year":
				r = Bt(this, s) / 12;
				break;
			case "month":
				r = Bt(this, s);
				break;
			case "quarter":
				r = Bt(this, s) / 3;
				break;
			case "second":
				r = (this - s) / 1e3;
				break;
			case "minute":
				r = (this - s) / 6e4;
				break;
			case "hour":
				r = (this - s) / 36e5;
				break;
			case "day":
				r = (this - s - i) / 864e5;
				break;
			case "week":
				r = (this - s - i) / 6048e5;
				break;
			default:
				r = this - s
		}
		return n ? r : D(r)
	}, ln.endOf = function (e) {
		return void 0 === (e = R(e)) || "millisecond" === e ? this : ("date" === e && (e = "day"), this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"))
	}, ln.format = function (e) {
		e || (e = this.isUtc() ? c.defaultFormatUtc : c.defaultFormat);
		var t = A(this, e);
		return this.localeData().postformat(t)
	}, ln.from = function (e, t) {
		return this.isValid() && (S(e) && e.isValid() || Tt(e).isValid()) ? At({
			to: this,
			from: e
		}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
	}, ln.fromNow = function (e) {
		return this.from(Tt(), e)
	}, ln.to = function (e, t) {
		return this.isValid() && (S(e) && e.isValid() || Tt(e).isValid()) ? At({
			from: this,
			to: e
		}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
	}, ln.toNow = function (e) {
		return this.to(Tt(), e)
	}, ln.get = function (e) {
		return x(this[e = R(e)]) ? this[e]() : this
	}, ln.invalidAt = function () {
		return g(this).overflow
	}, ln.isAfter = function (e, t) {
		var n = S(e) ? e : Tt(e);
		return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = R(l(t) ? "millisecond" : t)) ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(t).valueOf())
	}, ln.isBefore = function (e, t) {
		var n = S(e) ? e : Tt(e);
		return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = R(l(t) ? "millisecond" : t)) ? this.valueOf() < n.valueOf() : this.clone().endOf(t).valueOf() < n.valueOf())
	}, ln.isBetween = function (e, t, n, s) {
		return ("(" === (s = s || "()")[0] ? this.isAfter(e, n) : !this.isBefore(e, n)) && (")" === s[1] ? this.isBefore(t, n) : !this.isAfter(t, n))
	}, ln.isSame = function (e, t) {
		var n, s = S(e) ? e : Tt(e);
		return !(!this.isValid() || !s.isValid()) && ("millisecond" === (t = R(t || "millisecond")) ? this.valueOf() === s.valueOf() : (n = s.valueOf(), this.clone().startOf(t).valueOf() <= n && n <= this.clone().endOf(t).valueOf()))
	}, ln.isSameOrAfter = function (e, t) {
		return this.isSame(e, t) || this.isAfter(e, t)
	}, ln.isSameOrBefore = function (e, t) {
		return this.isSame(e, t) || this.isBefore(e, t)
	}, ln.isValid = function () {
		return p(this)
	}, ln.lang = Xt, ln.locale = Qt, ln.localeData = Kt, ln.max = bt, ln.min = xt, ln.parsingFlags = function () {
		return _({}, g(this))
	}, ln.set = function (e, t) {
		if ("object" == typeof e)
			for (var n = function (e) {
					var t = [];
					for (var n in e) t.push({
						unit: n,
						priority: F[n]
					});
					return t.sort(function (e, t) {
						return e.priority - t.priority
					}), t
				}(e = C(e)), s = 0; s < n.length; s++) this[n[s].unit](e[n[s].unit]);
		else if (x(this[e = R(e)])) return this[e](t);
		return this
	}, ln.startOf = function (e) {
		switch (e = R(e)) {
			case "year":
				this.month(0);
			case "quarter":
			case "month":
				this.date(1);
			case "week":
			case "isoWeek":
			case "day":
			case "date":
				this.hours(0);
			case "hour":
				this.minutes(0);
			case "minute":
				this.seconds(0);
			case "second":
				this.milliseconds(0)
		}
		return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
	}, ln.subtract = Jt, ln.toArray = function () {
		var e = this;
		return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
	}, ln.toObject = function () {
		var e = this;
		return {
			years: e.year(),
			months: e.month(),
			date: e.date(),
			hours: e.hours(),
			minutes: e.minutes(),
			seconds: e.seconds(),
			milliseconds: e.milliseconds()
		}
	}, ln.toDate = function () {
		return new Date(this.valueOf())
	}, ln.toISOString = function (e) {
		if (!this.isValid()) return null;
		var t = !0 !== e,
			n = t ? this.clone().utc() : this;
		return n.year() < 0 || 9999 < n.year() ? A(n, t ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : x(Date.prototype.toISOString) ? t ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", A(n, "Z")) : A(n, t ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ")
	}, ln.inspect = function () {
		if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";
		var e = "moment",
			t = "";
		this.isLocal() || (e = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", t = "Z");
		var n = "[" + e + '("]',
			s = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY",
			i = t + '[")]';
		return this.format(n + s + "-MM-DD[T]HH:mm:ss.SSS" + i)
	}, ln.toJSON = function () {
		return this.isValid() ? this.toISOString() : null
	}, ln.toString = function () {
		return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
	}, ln.unix = function () {
		return Math.floor(this.valueOf() / 1e3)
	}, ln.valueOf = function () {
		return this._d.valueOf() - 6e4 * (this._offset || 0)
	}, ln.creationData = function () {
		return {
			input: this._i,
			format: this._f,
			locale: this._locale,
			isUTC: this._isUTC,
			strict: this._strict
		}
	}, ln.year = Oe, ln.isLeapYear = function () {
		return ke(this.year())
	}, ln.weekYear = function (e) {
		return tn.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
	}, ln.isoWeekYear = function (e) {
		return tn.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4)
	}, ln.quarter = ln.quarters = function (e) {
		return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
	}, ln.month = Fe, ln.daysInMonth = function () {
		return Pe(this.year(), this.month())
	}, ln.week = ln.weeks = function (e) {
		var t = this.localeData().week(this);
		return null == e ? t : this.add(7 * (e - t), "d")
	}, ln.isoWeek = ln.isoWeeks = function (e) {
		var t = Ie(this, 1, 4).week;
		return null == e ? t : this.add(7 * (e - t), "d")
	}, ln.weeksInYear = function () {
		var e = this.localeData()._week;
		return Ae(this.year(), e.dow, e.doy)
	}, ln.isoWeeksInYear = function () {
		return Ae(this.year(), 1, 4)
	}, ln.date = nn, ln.day = ln.days = function (e) {
		if (!this.isValid()) return null != e ? this : NaN;
		var t, n, s = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
		return null != e ? (t = e, n = this.localeData(), e = "string" != typeof t ? t : isNaN(t) ? "number" == typeof (t = n.weekdaysParse(t)) ? t : null : parseInt(t, 10), this.add(e - s, "d")) : s
	}, ln.weekday = function (e) {
		if (!this.isValid()) return null != e ? this : NaN;
		var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
		return null == e ? t : this.add(e - t, "d")
	}, ln.isoWeekday = function (e) {
		if (!this.isValid()) return null != e ? this : NaN;
		if (null != e) {
			var t = (n = e, s = this.localeData(), "string" == typeof n ? s.weekdaysParse(n) % 7 || 7 : isNaN(n) ? null : n);
			return this.day(this.day() % 7 ? t : t - 7)
		}
		return this.day() || 7;
		var n, s
	}, ln.dayOfYear = function (e) {
		var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
		return null == e ? t : this.add(e - t, "d")
	}, ln.hour = ln.hours = tt, ln.minute = ln.minutes = sn, ln.second = ln.seconds = an, ln.millisecond = ln.milliseconds = un, ln.utcOffset = function (e, t, n) {
		var s, i = this._offset || 0;
		if (!this.isValid()) return null != e ? this : NaN;
		if (null != e) {
			if ("string" == typeof e) {
				if (null === (e = Ut(re, e))) return this
			} else Math.abs(e) < 16 && !n && (e *= 60);
			return !this._isUTC && t && (s = Gt(this)), this._offset = e, this._isUTC = !0, null != s && this.add(s, "m"), i !== e && (!t || this._changeInProgress ? $t(this, At(e - i, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, c.updateOffset(this, !0), this._changeInProgress = null)), this
		}
		return this._isUTC ? i : Gt(this)
	}, ln.utc = function (e) {
		return this.utcOffset(0, e)
	}, ln.local = function (e) {
		return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Gt(this), "m")), this
	}, ln.parseZone = function () {
		if (null != this._tzm) this.utcOffset(this._tzm, !1, !0);
		else if ("string" == typeof this._i) {
			var e = Ut(ie, this._i);
			null != e ? this.utcOffset(e) : this.utcOffset(0, !0)
		}
		return this
	}, ln.hasAlignedHourOffset = function (e) {
		return !!this.isValid() && (e = e ? Tt(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0)
	}, ln.isDST = function () {
		return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
	}, ln.isLocal = function () {
		return !!this.isValid() && !this._isUTC
	}, ln.isUtcOffset = function () {
		return !!this.isValid() && this._isUTC
	}, ln.isUtc = Vt, ln.isUTC = Vt, ln.zoneAbbr = function () {
		return this._isUTC ? "UTC" : ""
	}, ln.zoneName = function () {
		return this._isUTC ? "Coordinated Universal Time" : ""
	}, ln.dates = n("dates accessor is deprecated. Use date instead.", nn), ln.months = n("months accessor is deprecated. Use month instead", Fe), ln.years = n("years accessor is deprecated. Use year instead", Oe), ln.zone = n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function (e, t) {
		return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset()
	}), ln.isDSTShifted = n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () {
		if (!l(this._isDSTShifted)) return this._isDSTShifted;
		var e = {};
		if (w(e, this), (e = Yt(e))._a) {
			var t = e._isUTC ? y(e._a) : Tt(e._a);
			this._isDSTShifted = this.isValid() && 0 < a(e._a, t.toArray())
		} else this._isDSTShifted = !1;
		return this._isDSTShifted
	});
	var hn = P.prototype;

	function cn(e, t, n, s) {
		var i = lt(),
			r = y().set(s, t);
		return i[n](r, e)
	}

	function fn(e, t, n) {
		if (d(e) && (t = e, e = void 0), e = e || "", null != t) return cn(e, t, n, "month");
		var s, i = [];
		for (s = 0; s < 12; s++) i[s] = cn(e, s, n, "month");
		return i
	}

	function mn(e, t, n, s) {
		"boolean" == typeof e ? d(t) && (n = t, t = void 0) : (t = e, e = !1, d(n = t) && (n = t, t = void 0)), t = t || "";
		var i, r = lt(),
			a = e ? r._week.dow : 0;
		if (null != n) return cn(t, (n + a) % 7, s, "day");
		var o = [];
		for (i = 0; i < 7; i++) o[i] = cn(t, (i + a) % 7, s, "day");
		return o
	}
	hn.calendar = function (e, t, n) {
		var s = this._calendar[e] || this._calendar.sameElse;
		return x(s) ? s.call(t, n) : s
	}, hn.longDateFormat = function (e) {
		var t = this._longDateFormat[e],
			n = this._longDateFormat[e.toUpperCase()];
		return t || !n ? t : (this._longDateFormat[e] = n.replace(/MMMM|MM|DD|dddd/g, function (e) {
			return e.slice(1)
		}), this._longDateFormat[e])
	}, hn.invalidDate = function () {
		return this._invalidDate
	}, hn.ordinal = function (e) {
		return this._ordinal.replace("%d", e)
	}, hn.preparse = dn, hn.postformat = dn, hn.relativeTime = function (e, t, n, s) {
		var i = this._relativeTime[n];
		return x(i) ? i(e, t, n, s) : i.replace(/%d/i, e)
	}, hn.pastFuture = function (e, t) {
		var n = this._relativeTime[0 < e ? "future" : "past"];
		return x(n) ? n(t) : n.replace(/%s/i, t)
	}, hn.set = function (e) {
		var t, n;
		for (n in e) x(t = e[n]) ? this[n] = t : this["_" + n] = t;
		this._config = e, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source)
	}, hn.months = function (e, t) {
		return e ? o(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || We).test(t) ? "format" : "standalone"][e.month()] : o(this._months) ? this._months : this._months.standalone
	}, hn.monthsShort = function (e, t) {
		return e ? o(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[We.test(t) ? "format" : "standalone"][e.month()] : o(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone
	}, hn.monthsParse = function (e, t, n) {
		var s, i, r;
		if (this._monthsParseExact) return function (e, t, n) {
			var s, i, r, a = e.toLocaleLowerCase();
			if (!this._monthsParse)
				for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], s = 0; s < 12; ++s) r = y([2e3, s]), this._shortMonthsParse[s] = this.monthsShort(r, "").toLocaleLowerCase(), this._longMonthsParse[s] = this.months(r, "").toLocaleLowerCase();
			return n ? "MMM" === t ? -1 !== (i = Ye.call(this._shortMonthsParse, a)) ? i : null : -1 !== (i = Ye.call(this._longMonthsParse, a)) ? i : null : "MMM" === t ? -1 !== (i = Ye.call(this._shortMonthsParse, a)) ? i : -1 !== (i = Ye.call(this._longMonthsParse, a)) ? i : null : -1 !== (i = Ye.call(this._longMonthsParse, a)) ? i : -1 !== (i = Ye.call(this._shortMonthsParse, a)) ? i : null
		}.call(this, e, t, n);
		for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s = 0; s < 12; s++) {
			if (i = y([2e3, s]), n && !this._longMonthsParse[s] && (this._longMonthsParse[s] = new RegExp("^" + this.months(i, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s] = new RegExp("^" + this.monthsShort(i, "").replace(".", "") + "$", "i")), n || this._monthsParse[s] || (r = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""), this._monthsParse[s] = new RegExp(r.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[s].test(e)) return s;
			if (n && "MMM" === t && this._shortMonthsParse[s].test(e)) return s;
			if (!n && this._monthsParse[s].test(e)) return s
		}
	}, hn.monthsRegex = function (e) {
		return this._monthsParseExact ? (m(this, "_monthsRegex") || Ne.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (m(this, "_monthsRegex") || (this._monthsRegex = Ue), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex)
	}, hn.monthsShortRegex = function (e) {
		return this._monthsParseExact ? (m(this, "_monthsRegex") || Ne.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (m(this, "_monthsShortRegex") || (this._monthsShortRegex = Le), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex)
	}, hn.week = function (e) {
		return Ie(e, this._week.dow, this._week.doy).week
	}, hn.firstDayOfYear = function () {
		return this._week.doy
	}, hn.firstDayOfWeek = function () {
		return this._week.dow
	}, hn.weekdays = function (e, t) {
		return e ? o(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(t) ? "format" : "standalone"][e.day()] : o(this._weekdays) ? this._weekdays : this._weekdays.standalone
	}, hn.weekdaysMin = function (e) {
		return e ? this._weekdaysMin[e.day()] : this._weekdaysMin
	}, hn.weekdaysShort = function (e) {
		return e ? this._weekdaysShort[e.day()] : this._weekdaysShort
	}, hn.weekdaysParse = function (e, t, n) {
		var s, i, r;
		if (this._weekdaysParseExact) return function (e, t, n) {
			var s, i, r, a = e.toLocaleLowerCase();
			if (!this._weekdaysParse)
				for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], s = 0; s < 7; ++s) r = y([2e3, 1]).day(s), this._minWeekdaysParse[s] = this.weekdaysMin(r, "").toLocaleLowerCase(), this._shortWeekdaysParse[s] = this.weekdaysShort(r, "").toLocaleLowerCase(), this._weekdaysParse[s] = this.weekdays(r, "").toLocaleLowerCase();
			return n ? "dddd" === t ? -1 !== (i = Ye.call(this._weekdaysParse, a)) ? i : null : "ddd" === t ? -1 !== (i = Ye.call(this._shortWeekdaysParse, a)) ? i : null : -1 !== (i = Ye.call(this._minWeekdaysParse, a)) ? i : null : "dddd" === t ? -1 !== (i = Ye.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._shortWeekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._minWeekdaysParse, a)) ? i : null : "ddd" === t ? -1 !== (i = Ye.call(this._shortWeekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._minWeekdaysParse, a)) ? i : null : -1 !== (i = Ye.call(this._minWeekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ye.call(this._shortWeekdaysParse, a)) ? i : null
		}.call(this, e, t, n);
		for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), s = 0; s < 7; s++) {
			if (i = y([2e3, 1]).day(s), n && !this._fullWeekdaysParse[s] && (this._fullWeekdaysParse[s] = new RegExp("^" + this.weekdays(i, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[s] = new RegExp("^" + this.weekdaysShort(i, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[s] = new RegExp("^" + this.weekdaysMin(i, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[s] || (r = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[s] = new RegExp(r.replace(".", ""), "i")), n && "dddd" === t && this._fullWeekdaysParse[s].test(e)) return s;
			if (n && "ddd" === t && this._shortWeekdaysParse[s].test(e)) return s;
			if (n && "dd" === t && this._minWeekdaysParse[s].test(e)) return s;
			if (!n && this._weekdaysParse[s].test(e)) return s
		}
	}, hn.weekdaysRegex = function (e) {
		return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Be.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (m(this, "_weekdaysRegex") || (this._weekdaysRegex = $e), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex)
	}, hn.weekdaysShortRegex = function (e) {
		return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Be.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (m(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = qe), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
	}, hn.weekdaysMinRegex = function (e) {
		return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Be.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (m(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Je), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
	}, hn.isPM = function (e) {
		return "p" === (e + "").toLowerCase().charAt(0)
	}, hn.meridiem = function (e, t, n) {
		return 11 < e ? n ? "pm" : "PM" : n ? "am" : "AM"
	}, ot("en", {
		dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
		ordinal: function (e) {
			var t = e % 10;
			return e + (1 === k(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
		}
	}), c.lang = n("moment.lang is deprecated. Use moment.locale instead.", ot), c.langData = n("moment.langData is deprecated. Use moment.localeData instead.", lt);
	var _n = Math.abs;

	function yn(e, t, n, s) {
		var i = At(t, n);
		return e._milliseconds += s * i._milliseconds, e._days += s * i._days, e._months += s * i._months, e._bubble()
	}

	function gn(e) {
		return e < 0 ? Math.floor(e) : Math.ceil(e)
	}

	function pn(e) {
		return 4800 * e / 146097
	}

	function vn(e) {
		return 146097 * e / 4800
	}

	function wn(e) {
		return function () {
			return this.as(e)
		}
	}
	var Mn = wn("ms"),
		Sn = wn("s"),
		Dn = wn("m"),
		kn = wn("h"),
		Yn = wn("d"),
		On = wn("w"),
		Tn = wn("M"),
		xn = wn("y");

	function bn(e) {
		return function () {
			return this.isValid() ? this._data[e] : NaN
		}
	}
	var Pn = bn("milliseconds"),
		Wn = bn("seconds"),
		Hn = bn("minutes"),
		Rn = bn("hours"),
		Cn = bn("days"),
		Fn = bn("months"),
		Ln = bn("years");
	var Un = Math.round,
		Nn = {
			ss: 44,
			s: 45,
			m: 45,
			h: 22,
			d: 26,
			M: 11
		};
	var Gn = Math.abs;

	function Vn(e) {
		return (0 < e) - (e < 0) || +e
	}

	function En() {
		if (!this.isValid()) return this.localeData().invalidDate();
		var e, t, n = Gn(this._milliseconds) / 1e3,
			s = Gn(this._days),
			i = Gn(this._months);
		t = D((e = D(n / 60)) / 60), n %= 60, e %= 60;
		var r = D(i / 12),
			a = i %= 12,
			o = s,
			u = t,
			l = e,
			d = n ? n.toFixed(3).replace(/\.?0+$/, "") : "",
			h = this.asSeconds();
		if (!h) return "P0D";
		var c = h < 0 ? "-" : "",
			f = Vn(this._months) !== Vn(h) ? "-" : "",
			m = Vn(this._days) !== Vn(h) ? "-" : "",
			_ = Vn(this._milliseconds) !== Vn(h) ? "-" : "";
		return c + "P" + (r ? f + r + "Y" : "") + (a ? f + a + "M" : "") + (o ? m + o + "D" : "") + (u || l || d ? "T" : "") + (u ? _ + u + "H" : "") + (l ? _ + l + "M" : "") + (d ? _ + d + "S" : "")
	}
	var In = Ht.prototype;
	return In.isValid = function () {
		return this._isValid
	}, In.abs = function () {
		var e = this._data;
		return this._milliseconds = _n(this._milliseconds), this._days = _n(this._days), this._months = _n(this._months), e.milliseconds = _n(e.milliseconds), e.seconds = _n(e.seconds), e.minutes = _n(e.minutes), e.hours = _n(e.hours), e.months = _n(e.months), e.years = _n(e.years), this
	}, In.add = function (e, t) {
		return yn(this, e, t, 1)
	}, In.subtract = function (e, t) {
		return yn(this, e, t, -1)
	}, In.as = function (e) {
		if (!this.isValid()) return NaN;
		var t, n, s = this._milliseconds;
		if ("month" === (e = R(e)) || "year" === e) return t = this._days + s / 864e5, n = this._months + pn(t), "month" === e ? n : n / 12;
		switch (t = this._days + Math.round(vn(this._months)), e) {
			case "week":
				return t / 7 + s / 6048e5;
			case "day":
				return t + s / 864e5;
			case "hour":
				return 24 * t + s / 36e5;
			case "minute":
				return 1440 * t + s / 6e4;
			case "second":
				return 86400 * t + s / 1e3;
			case "millisecond":
				return Math.floor(864e5 * t) + s;
			default:
				throw new Error("Unknown unit " + e)
		}
	}, In.asMilliseconds = Mn, In.asSeconds = Sn, In.asMinutes = Dn, In.asHours = kn, In.asDays = Yn, In.asWeeks = On, In.asMonths = Tn, In.asYears = xn, In.valueOf = function () {
		return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * k(this._months / 12) : NaN
	}, In._bubble = function () {
		var e, t, n, s, i, r = this._milliseconds,
			a = this._days,
			o = this._months,
			u = this._data;
		return 0 <= r && 0 <= a && 0 <= o || r <= 0 && a <= 0 && o <= 0 || (r += 864e5 * gn(vn(o) + a), o = a = 0), u.milliseconds = r % 1e3, e = D(r / 1e3), u.seconds = e % 60, t = D(e / 60), u.minutes = t % 60, n = D(t / 60), u.hours = n % 24, o += i = D(pn(a += D(n / 24))), a -= gn(vn(i)), s = D(o / 12), o %= 12, u.days = a, u.months = o, u.years = s, this
	}, In.clone = function () {
		return At(this)
	}, In.get = function (e) {
		return e = R(e), this.isValid() ? this[e + "s"]() : NaN
	}, In.milliseconds = Pn, In.seconds = Wn, In.minutes = Hn, In.hours = Rn, In.days = Cn, In.weeks = function () {
		return D(this.days() / 7)
	}, In.months = Fn, In.years = Ln, In.humanize = function (e) {
		if (!this.isValid()) return this.localeData().invalidDate();
		var t, n, s, i, r, a, o, u, l, d, h, c = this.localeData(),
			f = (n = !e, s = c, i = At(t = this).abs(), r = Un(i.as("s")), a = Un(i.as("m")), o = Un(i.as("h")), u = Un(i.as("d")), l = Un(i.as("M")), d = Un(i.as("y")), (h = r <= Nn.ss && ["s", r] || r < Nn.s && ["ss", r] || a <= 1 && ["m"] || a < Nn.m && ["mm", a] || o <= 1 && ["h"] || o < Nn.h && ["hh", o] || u <= 1 && ["d"] || u < Nn.d && ["dd", u] || l <= 1 && ["M"] || l < Nn.M && ["MM", l] || d <= 1 && ["y"] || ["yy", d])[2] = n, h[3] = 0 < +t, h[4] = s, function (e, t, n, s, i) {
				return i.relativeTime(t || 1, !!n, e, s)
			}.apply(null, h));
		return e && (f = c.pastFuture(+this, f)), c.postformat(f)
	}, In.toISOString = En, In.toString = En, In.toJSON = En, In.locale = Qt, In.localeData = Kt, In.toIsoString = n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", En), In.lang = Xt, I("X", 0, 0, "unix"), I("x", 0, 0, "valueOf"), ue("x", se), ue("X", /[+-]?\d+(\.\d{1,3})?/), ce("X", function (e, t, n) {
		n._d = new Date(1e3 * parseFloat(e, 10))
	}), ce("x", function (e, t, n) {
		n._d = new Date(k(e))
	}), c.version = "2.22.1", e = Tt, c.fn = ln, c.min = function () {
		return Pt("isBefore", [].slice.call(arguments, 0))
	}, c.max = function () {
		return Pt("isAfter", [].slice.call(arguments, 0))
	}, c.now = function () {
		return Date.now ? Date.now() : +new Date
	}, c.utc = y, c.unix = function (e) {
		return Tt(1e3 * e)
	}, c.months = function (e, t) {
		return fn(e, t, "months")
	}, c.isDate = h, c.locale = ot, c.invalid = v, c.duration = At, c.isMoment = S, c.weekdays = function (e, t, n) {
		return mn(e, t, n, "weekdays")
	}, c.parseZone = function () {
		return Tt.apply(null, arguments).parseZone()
	}, c.localeData = lt, c.isDuration = Rt, c.monthsShort = function (e, t) {
		return fn(e, t, "monthsShort")
	}, c.weekdaysMin = function (e, t, n) {
		return mn(e, t, n, "weekdaysMin")
	}, c.defineLocale = ut, c.updateLocale = function (e, t) {
		if (null != t) {
			var n, s, i = nt;
			null != (s = at(e)) && (i = s._config), (n = new P(t = b(i, t))).parentLocale = st[e], st[e] = n, ot(e)
		} else null != st[e] && (null != st[e].parentLocale ? st[e] = st[e].parentLocale : null != st[e] && delete st[e]);
		return st[e]
	}, c.locales = function () {
		return s(st)
	}, c.weekdaysShort = function (e, t, n) {
		return mn(e, t, n, "weekdaysShort")
	}, c.normalizeUnits = R, c.relativeTimeRounding = function (e) {
		return void 0 === e ? Un : "function" == typeof e && (Un = e, !0)
	}, c.relativeTimeThreshold = function (e, t) {
		return void 0 !== Nn[e] && (void 0 === t ? Nn[e] : (Nn[e] = t, "s" === e && (Nn.ss = t - 1), !0))
	}, c.calendarFormat = function (e, t) {
		var n = e.diff(t, "days", !0);
		return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse"
	}, c.prototype = ln, c.HTML5_FMT = {
		DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
		DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
		DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
		DATE: "YYYY-MM-DD",
		TIME: "HH:mm",
		TIME_SECONDS: "HH:mm:ss",
		TIME_MS: "HH:mm:ss.SSS",
		WEEK: "YYYY-[W]WW",
		MONTH: "YYYY-MM"
	}, c
});

// datepicker
! function (t, a) {
	if ("function" == typeof define && define.amd) define(["moment", "jquery"], function (t, e) {
		return e.fn || (e.fn = {}), a(t, e)
	});
	else if ("object" == typeof module && module.exports) {
		var e = "undefined" != typeof window ? window.jQuery : void 0;
		e || (e = require("jquery")).fn || (e.fn = {});
		var i = "undefined" != typeof window && void 0 !== window.moment ? window.moment : require("moment");
		module.exports = a(i, e)
	} else t.daterangepicker = a(t.moment, t.jQuery)
}(this, function (H, R) {
	var i = function (t, e, a) {
		if (this.parentEl = "body", this.element = R(t), this.startDate = H().startOf("day"), this.endDate = H().endOf("day"), this.minDate = !1, this.maxDate = !1, this.maxSpan = !1, this.autoApply = !1, this.singleDatePicker = !1, this.showDropdowns = !1, this.minYear = H().subtract(100, "year").format("YYYY"), this.maxYear = H().add(100, "year").format("YYYY"), this.showWeekNumbers = !1, this.showISOWeekNumbers = !1, this.showCustomRangeLabel = !0, this.timePicker = !1, this.timePicker24Hour = !1, this.timePickerIncrement = 1, this.timePickerSeconds = !1, this.linkedCalendars = !0, this.autoUpdateInput = !0, this.alwaysShowCalendars = !1, this.ranges = {}, this.opens = "right", this.element.hasClass("pull-right") && (this.opens = "left"), this.drops = "down", this.element.hasClass("dropup") && (this.drops = "up"), this.buttonClasses = "btn btn-sm", this.applyButtonClasses = "btn-primary", this.cancelButtonClasses = "btn-default", this.locale = {
				direction: "ltr",
				format: H.localeData().longDateFormat("L"),
				separator: " - ",
				applyLabel: "Apply",
				cancelLabel: "Cancel",
				weekLabel: "W",
				customRangeLabel: "Custom Range",
				daysOfWeek: H.weekdaysMin(),
				monthNames: H.monthsShort(),
				firstDay: H.localeData().firstDayOfWeek()
			}, this.callback = function () {}, this.isShowing = !1, this.leftCalendar = {}, this.rightCalendar = {}, "object" == typeof e && null !== e || (e = {}), "string" == typeof (e = R.extend(this.element.data(), e)).template || e.template instanceof R || (e.template = '<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'), this.parentEl = e.parentEl && R(e.parentEl).length ? R(e.parentEl) : R(this.parentEl), this.container = R(e.template).appendTo(this.parentEl), "object" == typeof e.locale && ("string" == typeof e.locale.direction && (this.locale.direction = e.locale.direction), "string" == typeof e.locale.format && (this.locale.format = e.locale.format), "string" == typeof e.locale.separator && (this.locale.separator = e.locale.separator), "object" == typeof e.locale.daysOfWeek && (this.locale.daysOfWeek = e.locale.daysOfWeek.slice()), "object" == typeof e.locale.monthNames && (this.locale.monthNames = e.locale.monthNames.slice()), "number" == typeof e.locale.firstDay && (this.locale.firstDay = e.locale.firstDay), "string" == typeof e.locale.applyLabel && (this.locale.applyLabel = e.locale.applyLabel), "string" == typeof e.locale.cancelLabel && (this.locale.cancelLabel = e.locale.cancelLabel), "string" == typeof e.locale.weekLabel && (this.locale.weekLabel = e.locale.weekLabel), "string" == typeof e.locale.customRangeLabel)) {
			(d = document.createElement("textarea")).innerHTML = e.locale.customRangeLabel;
			var i = d.value;
			this.locale.customRangeLabel = i
		}
		if (this.container.addClass(this.locale.direction), "string" == typeof e.startDate && (this.startDate = H(e.startDate, this.locale.format)), "string" == typeof e.endDate && (this.endDate = H(e.endDate, this.locale.format)), "string" == typeof e.minDate && (this.minDate = H(e.minDate, this.locale.format)), "string" == typeof e.maxDate && (this.maxDate = H(e.maxDate, this.locale.format)), "object" == typeof e.startDate && (this.startDate = H(e.startDate)), "object" == typeof e.endDate && (this.endDate = H(e.endDate)), "object" == typeof e.minDate && (this.minDate = H(e.minDate)), "object" == typeof e.maxDate && (this.maxDate = H(e.maxDate)), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), "string" == typeof e.applyButtonClasses && (this.applyButtonClasses = e.applyButtonClasses), "string" == typeof e.applyClass && (this.applyButtonClasses = e.applyClass), "string" == typeof e.cancelButtonClasses && (this.cancelButtonClasses = e.cancelButtonClasses), "string" == typeof e.cancelClass && (this.cancelButtonClasses = e.cancelClass), "object" == typeof e.maxSpan && (this.maxSpan = e.maxSpan), "object" == typeof e.dateLimit && (this.maxSpan = e.dateLimit), "string" == typeof e.opens && (this.opens = e.opens), "string" == typeof e.drops && (this.drops = e.drops), "boolean" == typeof e.showWeekNumbers && (this.showWeekNumbers = e.showWeekNumbers), "boolean" == typeof e.showISOWeekNumbers && (this.showISOWeekNumbers = e.showISOWeekNumbers), "string" == typeof e.buttonClasses && (this.buttonClasses = e.buttonClasses), "object" == typeof e.buttonClasses && (this.buttonClasses = e.buttonClasses.join(" ")), "boolean" == typeof e.showDropdowns && (this.showDropdowns = e.showDropdowns), "number" == typeof e.minYear && (this.minYear = e.minYear), "number" == typeof e.maxYear && (this.maxYear = e.maxYear), "boolean" == typeof e.showCustomRangeLabel && (this.showCustomRangeLabel = e.showCustomRangeLabel), "boolean" == typeof e.singleDatePicker && (this.singleDatePicker = e.singleDatePicker, this.singleDatePicker && (this.endDate = this.startDate.clone())), "boolean" == typeof e.timePicker && (this.timePicker = e.timePicker), "boolean" == typeof e.timePickerSeconds && (this.timePickerSeconds = e.timePickerSeconds), "number" == typeof e.timePickerIncrement && (this.timePickerIncrement = e.timePickerIncrement), "boolean" == typeof e.timePicker24Hour && (this.timePicker24Hour = e.timePicker24Hour), "boolean" == typeof e.autoApply && (this.autoApply = e.autoApply), "boolean" == typeof e.autoUpdateInput && (this.autoUpdateInput = e.autoUpdateInput), "boolean" == typeof e.linkedCalendars && (this.linkedCalendars = e.linkedCalendars), "function" == typeof e.isInvalidDate && (this.isInvalidDate = e.isInvalidDate), "function" == typeof e.isCustomDate && (this.isCustomDate = e.isCustomDate), "boolean" == typeof e.alwaysShowCalendars && (this.alwaysShowCalendars = e.alwaysShowCalendars), 0 != this.locale.firstDay)
			for (var s = this.locale.firstDay; 0 < s;) this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()), s--;
		var n, r, o;
		if (void 0 === e.startDate && void 0 === e.endDate && R(this.element).is(":text")) {
			var h = R(this.element).val(),
				l = h.split(this.locale.separator);
			n = r = null, 2 == l.length ? (n = H(l[0], this.locale.format), r = H(l[1], this.locale.format)) : this.singleDatePicker && "" !== h && (n = H(h, this.locale.format), r = H(h, this.locale.format)), null !== n && null !== r && (this.setStartDate(n), this.setEndDate(r))
		}
		if ("object" == typeof e.ranges) {
			for (o in e.ranges) {
				n = "string" == typeof e.ranges[o][0] ? H(e.ranges[o][0], this.locale.format) : H(e.ranges[o][0]), r = "string" == typeof e.ranges[o][1] ? H(e.ranges[o][1], this.locale.format) : H(e.ranges[o][1]), this.minDate && n.isBefore(this.minDate) && (n = this.minDate.clone());
				var c = this.maxDate;
				if (this.maxSpan && c && n.clone().add(this.maxSpan).isAfter(c) && (c = n.clone().add(this.maxSpan)), c && r.isAfter(c) && (r = c.clone()), !(this.minDate && r.isBefore(this.minDate, this.timepicker ? "minute" : "day") || c && n.isAfter(c, this.timepicker ? "minute" : "day"))) {
					var d;
					(d = document.createElement("textarea")).innerHTML = o;
					i = d.value;
					this.ranges[i] = [n, r]
				}
			}
			var m = "<ul>";
			for (o in this.ranges) m += '<li data-range-key="' + o + '">' + o + "</li>";
			this.showCustomRangeLabel && (m += '<li data-range-key="' + this.locale.customRangeLabel + '">' + this.locale.customRangeLabel + "</li>"), m += "</ul>", this.container.find(".ranges").prepend(m)
		}
		"function" == typeof a && (this.callback = a), this.timePicker || (this.startDate = this.startDate.startOf("day"), this.endDate = this.endDate.endOf("day"), this.container.find(".calendar-time").hide()), this.timePicker && this.autoApply && (this.autoApply = !1), this.autoApply && this.container.addClass("auto-apply"), "object" == typeof e.ranges && this.container.addClass("show-ranges"), this.singleDatePicker && (this.container.addClass("single"), this.container.find(".drp-calendar.left").addClass("single"), this.container.find(".drp-calendar.left").show(), this.container.find(".drp-calendar.right").hide(), this.timePicker || this.container.addClass("auto-apply")), (void 0 === e.ranges && !this.singleDatePicker || this.alwaysShowCalendars) && this.container.addClass("show-calendar"), this.container.addClass("opens" + this.opens), this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses), this.applyButtonClasses.length && this.container.find(".applyBtn").addClass(this.applyButtonClasses), this.cancelButtonClasses.length && this.container.find(".cancelBtn").addClass(this.cancelButtonClasses), this.container.find(".applyBtn").html(this.locale.applyLabel), this.container.find(".cancelBtn").html(this.locale.cancelLabel), this.container.find(".drp-calendar").on("click.daterangepicker", ".prev", R.proxy(this.clickPrev, this)).on("click.daterangepicker", ".next", R.proxy(this.clickNext, this)).on("mousedown.daterangepicker", "td.available", R.proxy(this.clickDate, this)).on("mouseenter.daterangepicker", "td.available", R.proxy(this.hoverDate, this)).on("change.daterangepicker", "select.yearselect", R.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.monthselect", R.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.hourselect,select.minuteselect,select.secondselect,select.ampmselect", R.proxy(this.timeChanged, this)), this.container.find(".ranges").on("click.daterangepicker", "li", R.proxy(this.clickRange, this)), this.container.find(".drp-buttons").on("click.daterangepicker", "button.applyBtn", R.proxy(this.clickApply, this)).on("click.daterangepicker", "button.cancelBtn", R.proxy(this.clickCancel, this)), this.element.is("input") || this.element.is("button") ? this.element.on({
			"click.daterangepicker": R.proxy(this.show, this),
			"focus.daterangepicker": R.proxy(this.show, this),
			"keyup.daterangepicker": R.proxy(this.elementChanged, this),
			"keydown.daterangepicker": R.proxy(this.keydown, this)
		}) : (this.element.on("click.daterangepicker", R.proxy(this.toggle, this)), this.element.on("keydown.daterangepicker", R.proxy(this.toggle, this))), this.updateElement()
	};
	return i.prototype = {
		constructor: i,
		setStartDate: function (t) {
			"string" == typeof t && (this.startDate = H(t, this.locale.format)), "object" == typeof t && (this.startDate = H(t)), this.timePicker || (this.startDate = this.startDate.startOf("day")), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.maxDate && this.startDate.isAfter(this.maxDate) && (this.startDate = this.maxDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.isShowing || this.updateElement(), this.updateMonthsInView()
		},
		setEndDate: function (t) {
			"string" == typeof t && (this.endDate = H(t, this.locale.format)), "object" == typeof t && (this.endDate = H(t)), this.timePicker || (this.endDate = this.endDate.add(1, "d").startOf("day").subtract(1, "second")), this.timePicker && this.timePickerIncrement && this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.endDate.isBefore(this.startDate) && (this.endDate = this.startDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate) && (this.endDate = this.startDate.clone().add(this.maxSpan)), this.previousRightTime = this.endDate.clone(), this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.isShowing || this.updateElement(), this.updateMonthsInView()
		},
		isInvalidDate: function () {
			return !1
		},
		isCustomDate: function () {
			return !1
		},
		updateView: function () {
			this.timePicker && (this.renderTimePicker("left"), this.renderTimePicker("right"), this.endDate ? this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled") : this.container.find(".right .calendar-time select").attr("disabled", "disabled").addClass("disabled")), this.endDate && this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.updateMonthsInView(), this.updateCalendars(), this.updateFormInputs()
		},
		updateMonthsInView: function () {
			if (this.endDate) {
				if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month && (this.startDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.startDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM")) && (this.endDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.endDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM"))) return;
				this.leftCalendar.month = this.startDate.clone().date(2), this.linkedCalendars || this.endDate.month() == this.startDate.month() && this.endDate.year() == this.startDate.year() ? this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month") : this.rightCalendar.month = this.endDate.clone().date(2)
			} else this.leftCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && this.rightCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && (this.leftCalendar.month = this.startDate.clone().date(2), this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month"));
			this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate && (this.rightCalendar.month = this.maxDate.clone().date(2), this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, "month"))
		},
		updateCalendars: function () {
			if (this.timePicker) {
				var t, e, a, i;
				if (this.endDate) {
					if (t = parseInt(this.container.find(".left .hourselect").val(), 10), e = parseInt(this.container.find(".left .minuteselect").val(), 10), a = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0, !this.timePicker24Hour) "PM" === (i = this.container.find(".left .ampmselect").val()) && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0)
				} else if (t = parseInt(this.container.find(".right .hourselect").val(), 10), e = parseInt(this.container.find(".right .minuteselect").val(), 10), a = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, !this.timePicker24Hour) "PM" === (i = this.container.find(".right .ampmselect").val()) && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0);
				this.leftCalendar.month.hour(t).minute(e).second(a), this.rightCalendar.month.hour(t).minute(e).second(a)
			}
			this.renderCalendar("left"), this.renderCalendar("right"), this.container.find(".ranges li").removeClass("active"), null != this.endDate && this.calculateChosenLabel()
		},
		renderCalendar: function (t) {
			var e, a = (e = "left" == t ? this.leftCalendar : this.rightCalendar).month.month(),
				i = e.month.year(),
				s = e.month.hour(),
				n = e.month.minute(),
				r = e.month.second(),
				o = H([i, a]).daysInMonth(),
				h = H([i, a, 1]),
				l = H([i, a, o]),
				c = H(h).subtract(1, "month").month(),
				d = H(h).subtract(1, "month").year(),
				m = H([d, c]).daysInMonth(),
				f = h.day();
			(e = []).firstDay = h, e.lastDay = l;
			for (var p = 0; p < 6; p++) e[p] = [];
			var u = m - f + this.locale.firstDay + 1;
			m < u && (u -= 7), f == this.locale.firstDay && (u = m - 6);
			for (var D = H([d, c, u, 12, n, r]), g = (p = 0, 0), y = 0; p < 42; p++, g++, D = H(D).add(24, "hour")) 0 < p && g % 7 == 0 && (g = 0, y++), e[y][g] = D.clone().hour(s).minute(n).second(r), D.hour(12), this.minDate && e[y][g].format("YYYY-MM-DD") == this.minDate.format("YYYY-MM-DD") && e[y][g].isBefore(this.minDate) && "left" == t && (e[y][g] = this.minDate.clone()), this.maxDate && e[y][g].format("YYYY-MM-DD") == this.maxDate.format("YYYY-MM-DD") && e[y][g].isAfter(this.maxDate) && "right" == t && (e[y][g] = this.maxDate.clone());
			"left" == t ? this.leftCalendar.calendar = e : this.rightCalendar.calendar = e;
			var k = "left" == t ? this.minDate : this.startDate,
				b = this.maxDate,
				C = ("left" == t ? this.startDate : this.endDate, this.locale.direction, '<table class="table-condensed">');
			C += "<thead>", C += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (C += "<th></th>"), k && !k.isBefore(e.firstDay) || this.linkedCalendars && "left" != t ? C += "<th></th>" : C += '<th class="prev available"><span></span></th>';
			var v = this.locale.monthNames[e[1][1].month()] + e[1][1].format(" YYYY");
			if (this.showDropdowns) {
				for (var Y = e[1][1].month(), w = e[1][1].year(), P = b && b.year() || this.maxYear, x = k && k.year() || this.minYear, M = w == x, S = w == P, I = '<select class="monthselect">', B = 0; B < 12; B++)(!M || B >= k.month()) && (!S || B <= b.month()) ? I += "<option value='" + B + "'" + (B === Y ? " selected='selected'" : "") + ">" + this.locale.monthNames[B] + "</option>" : I += "<option value='" + B + "'" + (B === Y ? " selected='selected'" : "") + " disabled='disabled'>" + this.locale.monthNames[B] + "</option>";
				I += "</select>";
				for (var A = '<select class="yearselect">', L = x; L <= P; L++) A += '<option value="' + L + '"' + (L === w ? ' selected="selected"' : "") + ">" + L + "</option>";
				v = I + (A += "</select>")
			}
			if (C += '<th colspan="5" class="month">' + v + "</th>", b && !b.isAfter(e.lastDay) || this.linkedCalendars && "right" != t && !this.singleDatePicker ? C += "<th></th>" : C += '<th class="next available"><span></span></th>', C += "</tr>", C += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (C += '<th class="week">' + this.locale.weekLabel + "</th>"), R.each(this.locale.daysOfWeek, function (t, e) {
					C += "<th>" + e + "</th>"
				}), C += "</tr>", C += "</thead>", C += "<tbody>", null == this.endDate && this.maxSpan) {
				var E = this.startDate.clone().add(this.maxSpan).endOf("day");
				b && !E.isBefore(b) || (b = E)
			}
			for (y = 0; y < 6; y++) {
				C += "<tr>", this.showWeekNumbers ? C += '<td class="week">' + e[y][0].week() + "</td>" : this.showISOWeekNumbers && (C += '<td class="week">' + e[y][0].isoWeek() + "</td>");
				for (g = 0; g < 7; g++) {
					var W = [];
					e[y][g].isSame(new Date, "day") && W.push("today"), 5 < e[y][g].isoWeekday() && W.push("weekend"), e[y][g].month() != e[1][1].month() && W.push("off"), this.minDate && e[y][g].isBefore(this.minDate, "day") && W.push("off", "disabled"), b && e[y][g].isAfter(b, "day") && W.push("off", "disabled"), this.isInvalidDate(e[y][g]) && W.push("off", "disabled"), e[y][g].format("YYYY-MM-DD") == this.startDate.format("YYYY-MM-DD") && W.push("active", "start-date"), null != this.endDate && e[y][g].format("YYYY-MM-DD") == this.endDate.format("YYYY-MM-DD") && W.push("active", "end-date"), null != this.endDate && e[y][g] > this.startDate && e[y][g] < this.endDate && W.push("in-range");
					var O = this.isCustomDate(e[y][g]);
					!1 !== O && ("string" == typeof O ? W.push(O) : Array.prototype.push.apply(W, O));
					var N = "",
						j = !1;
					for (p = 0; p < W.length; p++) N += W[p] + " ", "disabled" == W[p] && (j = !0);
					j || (N += "available"), C += '<td class="' + N.replace(/^\s+|\s+$/g, "") + '" data-title="r' + y + "c" + g + '">' + e[y][g].date() + "</td>"
				}
				C += "</tr>"
			}
			C += "</tbody>", C += "</table>", this.container.find(".drp-calendar." + t + " .calendar-table").html(C)
		},
		renderTimePicker: function (t) {
			if ("right" != t || this.endDate) {
				var e, a, i, s = this.maxDate;
				if (!this.maxSpan || this.maxDate && !this.startDate.clone().add(this.maxSpan).isAfter(this.maxDate) || (s = this.startDate.clone().add(this.maxSpan)), "left" == t) a = this.startDate.clone(), i = this.minDate;
				else if ("right" == t) {
					a = this.endDate.clone(), i = this.startDate;
					var n = this.container.find(".drp-calendar.right .calendar-time");
					if ("" != n.html() && (a.hour(a.hour() || n.find(".hourselect option:selected").val()), a.minute(a.minute() || n.find(".minuteselect option:selected").val()), a.second(a.second() || n.find(".secondselect option:selected").val()), !this.timePicker24Hour)) {
						var r = n.find(".ampmselect option:selected").val();
						"PM" === r && a.hour() < 12 && a.hour(a.hour() + 12), "AM" === r && 12 === a.hour() && a.hour(0)
					}
					a.isBefore(this.startDate) && (a = this.startDate.clone()), s && a.isAfter(s) && (a = s.clone())
				}
				e = '<select class="hourselect">';
				for (var o = this.timePicker24Hour ? 0 : 1, h = this.timePicker24Hour ? 23 : 12, l = o; l <= h; l++) {
					var c = l;
					this.timePicker24Hour || (c = 12 <= a.hour() ? 12 == l ? 12 : l + 12 : 12 == l ? 0 : l);
					var d = a.clone().hour(c),
						m = !1;
					i && d.minute(59).isBefore(i) && (m = !0), s && d.minute(0).isAfter(s) && (m = !0), c != a.hour() || m ? e += m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + l + "</option>" : '<option value="' + l + '">' + l + "</option>" : e += '<option value="' + l + '" selected="selected">' + l + "</option>"
				}
				e += "</select> ", e += ': <select class="minuteselect">';
				for (l = 0; l < 60; l += this.timePickerIncrement) {
					var f = l < 10 ? "0" + l : l;
					d = a.clone().minute(l), m = !1;
					i && d.second(59).isBefore(i) && (m = !0), s && d.second(0).isAfter(s) && (m = !0), a.minute() != l || m ? e += m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + f + "</option>" : '<option value="' + l + '">' + f + "</option>" : e += '<option value="' + l + '" selected="selected">' + f + "</option>"
				}
				if (e += "</select> ", this.timePickerSeconds) {
					e += ': <select class="secondselect">';
					for (l = 0; l < 60; l++) {
						f = l < 10 ? "0" + l : l, d = a.clone().second(l), m = !1;
						i && d.isBefore(i) && (m = !0), s && d.isAfter(s) && (m = !0), a.second() != l || m ? e += m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + f + "</option>" : '<option value="' + l + '">' + f + "</option>" : e += '<option value="' + l + '" selected="selected">' + f + "</option>"
					}
					e += "</select> "
				}
				if (!this.timePicker24Hour) {
					e += '<select class="ampmselect">';
					var p = "",
						u = "";
					i && a.clone().hour(12).minute(0).second(0).isBefore(i) && (p = ' disabled="disabled" class="disabled"'), s && a.clone().hour(0).minute(0).second(0).isAfter(s) && (u = ' disabled="disabled" class="disabled"'), 12 <= a.hour() ? e += '<option value="AM"' + p + '>AM</option><option value="PM" selected="selected"' + u + ">PM</option>" : e += '<option value="AM" selected="selected"' + p + '>AM</option><option value="PM"' + u + ">PM</option>", e += "</select>"
				}
				this.container.find(".drp-calendar." + t + " .calendar-time").html(e)
			}
		},
		updateFormInputs: function () {
			this.singleDatePicker || this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)) ? this.container.find("button.applyBtn").removeAttr("disabled") : this.container.find("button.applyBtn").attr("disabled", "disabled")
		},
		move: function () {
			var t, e = {
					top: 0,
					left: 0
				},
				a = R(window).width();
			this.parentEl.is("body") || (e = {
				top: this.parentEl.offset().top - this.parentEl.scrollTop(),
				left: this.parentEl.offset().left - this.parentEl.scrollLeft()
			}, a = this.parentEl[0].clientWidth + this.parentEl.offset().left), t = "up" == this.drops ? this.element.offset().top - this.container.outerHeight() - e.top : this.element.offset().top + this.element.outerHeight() - e.top, this.container["up" == this.drops ? "addClass" : "removeClass"]("drop-up"), "left" == this.opens ? (this.container.css({
				top: t,
				right: a - this.element.offset().left - this.element.outerWidth(),
				left: "auto"
			}), this.container.offset().left < 0 && this.container.css({
				right: "auto",
				left: 9
			})) : "center" == this.opens ? (this.container.css({
				top: t,
				left: this.element.offset().left - e.left + this.element.outerWidth() / 2 - this.container.outerWidth() / 2,
				right: "auto"
			}), this.container.offset().left < 0 && this.container.css({
				right: "auto",
				left: 9
			})) : (this.container.css({
				top: t,
				left: this.element.offset().left - e.left,
				right: "auto"
			}), this.container.offset().left + this.container.outerWidth() > R(window).width() && this.container.css({
				left: "auto",
				right: 0
			}))
		},
		show: function (t) {
			this.isShowing || (this._outsideClickProxy = R.proxy(function (t) {
				this.outsideClick(t)
			}, this), R(document).on("mousedown.daterangepicker", this._outsideClickProxy).on("touchend.daterangepicker", this._outsideClickProxy).on("click.daterangepicker", "[data-toggle=dropdown]", this._outsideClickProxy).on("focusin.daterangepicker", this._outsideClickProxy), R(window).on("resize.daterangepicker", R.proxy(function (t) {
				this.move(t)
			}, this)), this.oldStartDate = this.startDate.clone(), this.oldEndDate = this.endDate.clone(), this.previousRightTime = this.endDate.clone(), this.updateView(), this.container.show(), this.move(), this.element.trigger("show.daterangepicker", this), this.isShowing = !0)
		},
		hide: function (t) {
			this.isShowing && (this.endDate || (this.startDate = this.oldStartDate.clone(), this.endDate = this.oldEndDate.clone()), this.startDate.isSame(this.oldStartDate) && this.endDate.isSame(this.oldEndDate) || this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel), this.updateElement(), R(document).off(".daterangepicker"), R(window).off(".daterangepicker"), this.container.hide(), this.element.trigger("hide.daterangepicker", this), this.isShowing = !1)
		},
		toggle: function (t) {
			this.isShowing ? this.hide() : this.show()
		},
		outsideClick: function (t) {
			var e = R(t.target);
			"focusin" == t.type || e.closest(this.element).length || e.closest(this.container).length || e.closest(".calendar-table").length || (this.hide(), this.element.trigger("outsideClick.daterangepicker", this))
		},
		showCalendars: function () {
			this.container.addClass("show-calendar"), this.move(), this.element.trigger("showCalendar.daterangepicker", this)
		},
		hideCalendars: function () {
			this.container.removeClass("show-calendar"), this.element.trigger("hideCalendar.daterangepicker", this)
		},
		clickRange: function (t) {
			var e = t.target.getAttribute("data-range-key");
			if ((this.chosenLabel = e) == this.locale.customRangeLabel) this.showCalendars();
			else {
				var a = this.ranges[e];
				this.startDate = a[0], this.endDate = a[1], this.timePicker || (this.startDate.startOf("day"), this.endDate.endOf("day")), this.alwaysShowCalendars || this.hideCalendars(), this.clickApply()
			}
		},
		clickPrev: function (t) {
			R(t.target).parents(".drp-calendar").hasClass("left") ? (this.leftCalendar.month.subtract(1, "month"), this.linkedCalendars && this.rightCalendar.month.subtract(1, "month")) : this.rightCalendar.month.subtract(1, "month"), this.updateCalendars()
		},
		clickNext: function (t) {
			R(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.month.add(1, "month") : (this.rightCalendar.month.add(1, "month"), this.linkedCalendars && this.leftCalendar.month.add(1, "month")), this.updateCalendars()
		},
		hoverDate: function (t) {
			if (R(t.target).hasClass("available")) {
				var e = R(t.target).attr("data-title"),
					a = e.substr(1, 1),
					i = e.substr(3, 1),
					r = R(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[a][i] : this.rightCalendar.calendar[a][i],
					o = this.leftCalendar,
					h = this.rightCalendar,
					l = this.startDate;
				this.endDate || this.container.find(".drp-calendar tbody td").each(function (t, e) {
					if (!R(e).hasClass("week")) {
						var a = R(e).attr("data-title"),
							i = a.substr(1, 1),
							s = a.substr(3, 1),
							n = R(e).parents(".drp-calendar").hasClass("left") ? o.calendar[i][s] : h.calendar[i][s];
						n.isAfter(l) && n.isBefore(r) || n.isSame(r, "day") ? R(e).addClass("in-range") : R(e).removeClass("in-range")
					}
				})
			}
		},
		clickDate: function (t) {
			if (R(t.target).hasClass("available")) {
				var e = R(t.target).attr("data-title"),
					a = e.substr(1, 1),
					i = e.substr(3, 1),
					s = R(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[a][i] : this.rightCalendar.calendar[a][i];
				if (this.endDate || s.isBefore(this.startDate, "day")) {
					if (this.timePicker) {
						var n = parseInt(this.container.find(".left .hourselect").val(), 10);
						if (!this.timePicker24Hour) "PM" === (h = this.container.find(".left .ampmselect").val()) && n < 12 && (n += 12), "AM" === h && 12 === n && (n = 0);
						var r = parseInt(this.container.find(".left .minuteselect").val(), 10),
							o = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0;
						s = s.clone().hour(n).minute(r).second(o)
					}
					this.endDate = null, this.setStartDate(s.clone())
				} else if (!this.endDate && s.isBefore(this.startDate)) this.setEndDate(this.startDate.clone());
				else {
					if (this.timePicker) {
						var h;
						n = parseInt(this.container.find(".right .hourselect").val(), 10);
						if (!this.timePicker24Hour) "PM" === (h = this.container.find(".right .ampmselect").val()) && n < 12 && (n += 12), "AM" === h && 12 === n && (n = 0);
						r = parseInt(this.container.find(".right .minuteselect").val(), 10), o = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0;
						s = s.clone().hour(n).minute(r).second(o)
					}
					this.setEndDate(s.clone()), this.autoApply && (this.calculateChosenLabel(), this.clickApply())
				}
				this.singleDatePicker && (this.setEndDate(this.startDate), this.timePicker || this.clickApply()), this.updateView(), t.stopPropagation()
			}
		},
		calculateChosenLabel: function () {
			var t = !0,
				e = 0;
			for (var a in this.ranges) {
				if (this.timePicker) {
					var i = this.timePickerSeconds ? "YYYY-MM-DD hh:mm:ss" : "YYYY-MM-DD hh:mm";
					if (this.startDate.format(i) == this.ranges[a][0].format(i) && this.endDate.format(i) == this.ranges[a][1].format(i)) {
						t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key");
						break
					}
				} else if (this.startDate.format("YYYY-MM-DD") == this.ranges[a][0].format("YYYY-MM-DD") && this.endDate.format("YYYY-MM-DD") == this.ranges[a][1].format("YYYY-MM-DD")) {
					t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key");
					break
				}
				e++
			}
			t && (this.showCustomRangeLabel ? this.chosenLabel = this.container.find(".ranges li:last").addClass("active").attr("data-range-key") : this.chosenLabel = null, this.showCalendars())
		},
		clickApply: function (t) {
			this.hide(), this.element.trigger("apply.daterangepicker", this)
		},
		clickCancel: function (t) {
			this.startDate = this.oldStartDate, this.endDate = this.oldEndDate, this.hide(), this.element.trigger("cancel.daterangepicker", this)
		},
		monthOrYearChanged: function (t) {
			var e = R(t.target).closest(".drp-calendar").hasClass("left"),
				a = e ? "left" : "right",
				i = this.container.find(".drp-calendar." + a),
				s = parseInt(i.find(".monthselect").val(), 10),
				n = i.find(".yearselect").val();
			e || (n < this.startDate.year() || n == this.startDate.year() && s < this.startDate.month()) && (s = this.startDate.month(), n = this.startDate.year()), this.minDate && (n < this.minDate.year() || n == this.minDate.year() && s < this.minDate.month()) && (s = this.minDate.month(), n = this.minDate.year()), this.maxDate && (n > this.maxDate.year() || n == this.maxDate.year() && s > this.maxDate.month()) && (s = this.maxDate.month(), n = this.maxDate.year()), e ? (this.leftCalendar.month.month(s).year(n), this.linkedCalendars && (this.rightCalendar.month = this.leftCalendar.month.clone().add(1, "month"))) : (this.rightCalendar.month.month(s).year(n), this.linkedCalendars && (this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, "month"))), this.updateCalendars()
		},
		timeChanged: function (t) {
			var e = R(t.target).closest(".drp-calendar"),
				a = e.hasClass("left"),
				i = parseInt(e.find(".hourselect").val(), 10),
				s = parseInt(e.find(".minuteselect").val(), 10),
				n = this.timePickerSeconds ? parseInt(e.find(".secondselect").val(), 10) : 0;
			if (!this.timePicker24Hour) {
				var r = e.find(".ampmselect").val();
				"PM" === r && i < 12 && (i += 12), "AM" === r && 12 === i && (i = 0)
			}
			if (a) {
				var o = this.startDate.clone();
				o.hour(i), o.minute(s), o.second(n), this.setStartDate(o), this.singleDatePicker ? this.endDate = this.startDate.clone() : this.endDate && this.endDate.format("YYYY-MM-DD") == o.format("YYYY-MM-DD") && this.endDate.isBefore(o) && this.setEndDate(o.clone())
			} else if (this.endDate) {
				var h = this.endDate.clone();
				h.hour(i), h.minute(s), h.second(n), this.setEndDate(h)
			}
			this.updateCalendars(), this.updateFormInputs(), this.renderTimePicker("left"), this.renderTimePicker("right")
		},
		elementChanged: function () {
			if (this.element.is("input") && this.element.val().length) {
				var t = this.element.val().split(this.locale.separator),
					e = null,
					a = null;
				2 === t.length && (e = H(t[0], this.locale.format), a = H(t[1], this.locale.format)), (this.singleDatePicker || null === e || null === a) && (a = e = H(this.element.val(), this.locale.format)), e.isValid() && a.isValid() && (this.setStartDate(e), this.setEndDate(a), this.updateView())
			}
		},
		keydown: function (t) {
			9 !== t.keyCode && 13 !== t.keyCode || this.hide(), 27 === t.keyCode && (t.preventDefault(), t.stopPropagation(), this.hide())
		},
		updateElement: function () {
			if (this.element.is("input") && this.autoUpdateInput) {
				var t = this.startDate.format(this.locale.format);
				this.singleDatePicker || (t += this.locale.separator + this.endDate.format(this.locale.format)), t !== this.element.val() && this.element.val(t).trigger("change")
			}
		},
		remove: function () {
			this.container.remove(), this.element.off(".daterangepicker"), this.element.removeData()
		}
	}, R.fn.daterangepicker = function (t, e) {
		var a = R.extend(!0, {}, R.fn.daterangepicker.defaultOptions, t);
		return this.each(function () {
			var t = R(this);
			t.data("daterangepicker") && t.data("daterangepicker").remove(), t.data("daterangepicker", new i(t, a, e))
		}), this
	}, i
});





// Ion.RangeSlider | version 2.2.0 | https://github.com/IonDen/ion.rangeSlider


;
(function (f) {
	"function" === typeof define && define.amd ? define(["jquery"], function (n) {
		return f(n, document, window, navigator)
	}) : "object" === typeof exports ? f(require("jquery"), document, window, navigator) : f(jQuery, document, window, navigator)
})(function (f, n, k, r, p) {
	var t = 0,
		m = function () {
			var a = r.userAgent,
				b = /msie\s\d+/i;
			return 0 < a.search(b) && (a = b.exec(a).toString(), a = a.split(" ")[1], 9 > a) ? (f("html").addClass("lt-ie9"), !0) : !1
		}();
	Function.prototype.bind || (Function.prototype.bind = function (a) {
		var b = this,
			d = [].slice;
		if ("function" !=
			typeof b) throw new TypeError;
		var c = d.call(arguments, 1),
			e = function () {
				if (this instanceof e) {
					var g = function () {};
					g.prototype = b.prototype;
					var g = new g,
						l = b.apply(g, c.concat(d.call(arguments)));
					return Object(l) === l ? l : g
				}
				return b.apply(a, c.concat(d.call(arguments)))
			};
		return e
	});
	Array.prototype.indexOf || (Array.prototype.indexOf = function (a, b) {
		if (null == this) throw new TypeError('"this" is null or not defined');
		var d = Object(this),
			c = d.length >>> 0;
		if (0 === c) return -1;
		var e = +b || 0;
		Infinity === Math.abs(e) && (e = 0);
		if (e >= c) return -1;
		for (e = Math.max(0 <= e ? e : c - Math.abs(e), 0); e < c;) {
			if (e in d && d[e] === a) return e;
			e++
		}
		return -1
	});
	var q = function (a, b, d) {
		this.VERSION = "2.2.0";
		this.input = a;
		this.plugin_count = d;
		this.old_to = this.old_from = this.update_tm = this.calc_count = this.current_plugin = 0;
		this.raf_id = this.old_min_interval = null;
		this.no_diapason = this.force_redraw = this.dragging = !1;
		this.has_tab_index = !0;
		this.is_update = this.is_key = !1;
		this.is_start = !0;
		this.is_click = this.is_resize = this.is_active = this.is_finish = !1;
		b = b || {};
		this.$cache = {
			win: f(k),
			body: f(n.body),
			input: f(a),
			cont: null,
			rs: null,
			min: null,
			max: null,
			from: null,
			to: null,
			single: null,
			bar: null,
			line: null,
			s_single: null,
			s_from: null,
			s_to: null,
			shad_single: null,
			shad_from: null,
			shad_to: null,
			edge: null,
			grid: null,
			grid_labels: []
		};
		this.coords = {
			x_gap: 0,
			x_pointer: 0,
			w_rs: 0,
			w_rs_old: 0,
			w_handle: 0,
			p_gap: 0,
			p_gap_left: 0,
			p_gap_right: 0,
			p_step: 0,
			p_pointer: 0,
			p_handle: 0,
			p_single_fake: 0,
			p_single_real: 0,
			p_from_fake: 0,
			p_from_real: 0,
			p_to_fake: 0,
			p_to_real: 0,
			p_bar_x: 0,
			p_bar_w: 0,
			grid_gap: 0,
			big_num: 0,
			big: [],
			big_w: [],
			big_p: [],
			big_x: []
		};
		this.labels = {
			w_min: 0,
			w_max: 0,
			w_from: 0,
			w_to: 0,
			w_single: 0,
			p_min: 0,
			p_max: 0,
			p_from_fake: 0,
			p_from_left: 0,
			p_to_fake: 0,
			p_to_left: 0,
			p_single_fake: 0,
			p_single_left: 0
		};
		var c = this.$cache.input;
		a = c.prop("value");
		var e;
		d = {
			type: "single",
			min: 10,
			max: 100,
			from: null,
			to: null,
			step: 1,
			min_interval: 0,
			max_interval: 0,
			drag_interval: !1,
			values: [],
			p_values: [],
			from_fixed: !1,
			from_min: null,
			from_max: null,
			from_shadow: !1,
			to_fixed: !1,
			to_min: null,
			to_max: null,
			to_shadow: !1,
			prettify_enabled: !0,
			prettify_separator: " ",
			prettify: null,
			force_edges: !1,
			keyboard: !0,
			grid: !1,
			grid_margin: !0,
			grid_num: 4,
			grid_snap: !1,
			hide_min_max: !1,
			hide_from_to: !1,
			prefix: "",
			postfix: "",
			max_postfix: "",
			decorate_both: !0,
			values_separator: " \u2014 ",
			input_values_separator: ";",
			disable: !1,
			block: !1,
			extra_classes: "",
			scope: null,
			onStart: null,
			onChange: null,
			onFinish: null,
			onUpdate: null
		};
		"INPUT" !== c[0].nodeName && console && console.warn && console.warn("Base element should be <input>!", c[0]);
		c = {
			type: c.data("type"),
			min: c.data("min"),
			max: c.data("max"),
			from: c.data("from"),
			to: c.data("to"),
			step: c.data("step"),
			min_interval: c.data("minInterval"),
			max_interval: c.data("maxInterval"),
			drag_interval: c.data("dragInterval"),
			values: c.data("values"),
			from_fixed: c.data("fromFixed"),
			from_min: c.data("fromMin"),
			from_max: c.data("fromMax"),
			from_shadow: c.data("fromShadow"),
			to_fixed: c.data("toFixed"),
			to_min: c.data("toMin"),
			to_max: c.data("toMax"),
			to_shadow: c.data("toShadow"),
			prettify_enabled: c.data("prettifyEnabled"),
			prettify_separator: c.data("prettifySeparator"),
			force_edges: c.data("forceEdges"),
			keyboard: c.data("keyboard"),
			grid: c.data("grid"),
			grid_margin: c.data("gridMargin"),
			grid_num: c.data("gridNum"),
			grid_snap: c.data("gridSnap"),
			hide_min_max: c.data("hideMinMax"),
			hide_from_to: c.data("hideFromTo"),
			prefix: c.data("prefix"),
			postfix: c.data("postfix"),
			max_postfix: c.data("maxPostfix"),
			decorate_both: c.data("decorateBoth"),
			values_separator: c.data("valuesSeparator"),
			input_values_separator: c.data("inputValuesSeparator"),
			disable: c.data("disable"),
			block: c.data("block"),
			extra_classes: c.data("extraClasses")
		};
		c.values = c.values && c.values.split(",");
		for (e in c) c.hasOwnProperty(e) && (c[e] !== p && "" !== c[e] || delete c[e]);
		a !== p && "" !== a && (a = a.split(c.input_values_separator || b.input_values_separator || ";"), a[0] && a[0] == +a[0] && (a[0] = +a[0]), a[1] && a[1] == +a[1] && (a[1] = +a[1]), b && b.values && b.values.length ? (d.from = a[0] && b.values.indexOf(a[0]), d.to = a[1] && b.values.indexOf(a[1])) : (d.from = a[0] && +a[0], d.to = a[1] && +a[1]));
		f.extend(d, b);
		f.extend(d, c);
		this.options = d;
		this.update_check = {};
		this.validate();
		this.result = {
			input: this.$cache.input,
			slider: null,
			min: this.options.min,
			max: this.options.max,
			from: this.options.from,
			from_percent: 0,
			from_value: null,
			to: this.options.to,
			to_percent: 0,
			to_value: null
		};
		this.init()
	};
	q.prototype = {
		init: function (a) {
			this.no_diapason = !1;
			this.coords.p_step = this.convertToPercent(this.options.step, !0);
			this.target = "base";
			this.toggleInput();
			this.append();
			this.setMinMax();
			a ? (this.force_redraw = !0, this.calc(!0), this.callOnUpdate()) : (this.force_redraw = !0, this.calc(!0), this.callOnStart());
			this.updateScene()
		},
		append: function () {
			this.$cache.input.before('<span class="irs js-irs-' +
				this.plugin_count + " " + this.options.extra_classes + '"></span>');
			this.$cache.input.prop("readonly", !0);
			this.$cache.cont = this.$cache.input.prev();
			this.result.slider = this.$cache.cont;
			this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>');
			this.$cache.rs = this.$cache.cont.find(".irs");
			this.$cache.min = this.$cache.cont.find(".irs-min");
			this.$cache.max = this.$cache.cont.find(".irs-max");
			this.$cache.from = this.$cache.cont.find(".irs-from");
			this.$cache.to = this.$cache.cont.find(".irs-to");
			this.$cache.single = this.$cache.cont.find(".irs-single");
			this.$cache.bar = this.$cache.cont.find(".irs-bar");
			this.$cache.line = this.$cache.cont.find(".irs-line");
			this.$cache.grid = this.$cache.cont.find(".irs-grid");
			"single" === this.options.type ? (this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),
				this.$cache.edge = this.$cache.cont.find(".irs-bar-edge"), this.$cache.s_single = this.$cache.cont.find(".single"), this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.shad_single = this.$cache.cont.find(".shadow-single")) : (this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'), this.$cache.s_from = this.$cache.cont.find(".from"),
				this.$cache.s_to = this.$cache.cont.find(".to"), this.$cache.shad_from = this.$cache.cont.find(".shadow-from"), this.$cache.shad_to = this.$cache.cont.find(".shadow-to"), this.setTopHandler());
			this.options.hide_from_to && (this.$cache.from[0].style.display = "none", this.$cache.to[0].style.display = "none", this.$cache.single[0].style.display = "none");
			this.appendGrid();
			this.options.disable ? (this.appendDisableMask(), this.$cache.input[0].disabled = !0) : (this.$cache.input[0].disabled = !1, this.removeDisableMask(), this.bindEvents());
			this.options.disable || (this.options.block ? this.appendDisableMask() : this.removeDisableMask());
			this.options.drag_interval && (this.$cache.bar[0].style.cursor = "ew-resize")
		},
		setTopHandler: function () {
			var a = this.options.max,
				b = this.options.to;
			this.options.from > this.options.min && b === a ? this.$cache.s_from.addClass("type_last") : b < a && this.$cache.s_to.addClass("type_last")
		},
		changeLevel: function (a) {
			switch (a) {
				case "single":
					this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_single_fake);
					this.$cache.s_single.addClass("state_hover");
					break;
				case "from":
					this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake);
					this.$cache.s_from.addClass("state_hover");
					this.$cache.s_from.addClass("type_last");
					this.$cache.s_to.removeClass("type_last");
					break;
				case "to":
					this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_to_fake);
					this.$cache.s_to.addClass("state_hover");
					this.$cache.s_to.addClass("type_last");
					this.$cache.s_from.removeClass("type_last");
					break;
				case "both":
					this.coords.p_gap_left = this.toFixed(this.coords.p_pointer -
						this.coords.p_from_fake), this.coords.p_gap_right = this.toFixed(this.coords.p_to_fake - this.coords.p_pointer), this.$cache.s_to.removeClass("type_last"), this.$cache.s_from.removeClass("type_last")
			}
		},
		appendDisableMask: function () {
			this.$cache.cont.append('<span class="irs-disable-mask"></span>');
			this.$cache.cont.addClass("irs-disabled")
		},
		removeDisableMask: function () {
			this.$cache.cont.remove(".irs-disable-mask");
			this.$cache.cont.removeClass("irs-disabled")
		},
		remove: function () {
			this.$cache.cont.remove();
			this.$cache.cont =
				null;
			this.$cache.line.off("keydown.irs_" + this.plugin_count);
			this.$cache.body.off("touchmove.irs_" + this.plugin_count);
			this.$cache.body.off("mousemove.irs_" + this.plugin_count);
			this.$cache.win.off("touchend.irs_" + this.plugin_count);
			this.$cache.win.off("mouseup.irs_" + this.plugin_count);
			m && (this.$cache.body.off("mouseup.irs_" + this.plugin_count), this.$cache.body.off("mouseleave.irs_" + this.plugin_count));
			this.$cache.grid_labels = [];
			this.coords.big = [];
			this.coords.big_w = [];
			this.coords.big_p = [];
			this.coords.big_x = [];
			cancelAnimationFrame(this.raf_id)
		},
		bindEvents: function () {
			if (!this.no_diapason) {
				this.$cache.body.on("touchmove.irs_" + this.plugin_count, this.pointerMove.bind(this));
				this.$cache.body.on("mousemove.irs_" + this.plugin_count, this.pointerMove.bind(this));
				this.$cache.win.on("touchend.irs_" + this.plugin_count, this.pointerUp.bind(this));
				this.$cache.win.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this));
				this.$cache.line.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"));
				this.$cache.line.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"));
				this.$cache.line.on("focus.irs_" + this.plugin_count, this.pointerFocus.bind(this));
				this.options.drag_interval && "double" === this.options.type ? (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "both")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "both"))) : (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")),
					this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")));
				"single" === this.options.type ? (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.shad_single.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this,
					"single")), this.$cache.s_single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.edge.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_single.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))) : (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.from.on("touchstart.irs_" +
					this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this,
					"click")), this.$cache.from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("mousedown.irs_" +
					this.plugin_count, this.pointerClick.bind(this, "click")));
				if (this.options.keyboard) this.$cache.line.on("keydown.irs_" + this.plugin_count, this.key.bind(this, "keyboard"));
				m && (this.$cache.body.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.body.on("mouseleave.irs_" + this.plugin_count, this.pointerUp.bind(this)))
			}
		},
		pointerFocus: function (a) {
			if (!this.target) {
				var b = "single" === this.options.type ? this.$cache.single : this.$cache.from;
				a = b.offset().left;
				a += b.width() / 2 - 1;
				this.pointerClick("single", {
					preventDefault: function () {},
					pageX: a
				})
			}
		},
		pointerMove: function (a) {
			this.dragging && (this.coords.x_pointer = (a.pageX || a.originalEvent.touches && a.originalEvent.touches[0].pageX) - this.coords.x_gap, this.calc())
		},
		pointerUp: function (a) {
			this.current_plugin === this.plugin_count && this.is_active && (this.is_active = !1, this.$cache.cont.find(".state_hover").removeClass("state_hover"), this.force_redraw = !0, m && f("*").prop("unselectable", !1), this.updateScene(), this.restoreOriginalMinInterval(), (f.contains(this.$cache.cont[0],
				a.target) || this.dragging) && this.callOnFinish(), this.dragging = !1)
		},
		pointerDown: function (a, b) {
			b.preventDefault();
			var d = b.pageX || b.originalEvent.touches && b.originalEvent.touches[0].pageX;
			2 !== b.button && ("both" === a && this.setTempMinInterval(), a || (a = this.target || "from"), this.current_plugin = this.plugin_count, this.target = a, this.dragging = this.is_active = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = d - this.coords.x_gap, this.calcPointerPercent(), this.changeLevel(a), m && f("*").prop("unselectable",
				!0), this.$cache.line.trigger("focus"), this.updateScene())
		},
		pointerClick: function (a, b) {
			b.preventDefault();
			var d = b.pageX || b.originalEvent.touches && b.originalEvent.touches[0].pageX;
			2 !== b.button && (this.current_plugin = this.plugin_count, this.target = a, this.is_click = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = +(d - this.coords.x_gap).toFixed(), this.force_redraw = !0, this.calc(), this.$cache.line.trigger("focus"))
		},
		key: function (a, b) {
			if (!(this.current_plugin !== this.plugin_count || b.altKey ||
					b.ctrlKey || b.shiftKey || b.metaKey)) {
				switch (b.which) {
					case 83:
					case 65:
					case 40:
					case 37:
						b.preventDefault();
						this.moveByKey(!1);
						break;
					case 87:
					case 68:
					case 38:
					case 39:
						b.preventDefault(), this.moveByKey(!0)
				}
				return !0
			}
		},
		moveByKey: function (a) {
			var b = this.coords.p_pointer,
				d = (this.options.max - this.options.min) / 100,
				d = this.options.step / d;
			this.coords.x_pointer = this.toFixed(this.coords.w_rs / 100 * (a ? b + d : b - d));
			this.is_key = !0;
			this.calc()
		},
		setMinMax: function () {
			if (this.options)
				if (this.options.hide_min_max) this.$cache.min[0].style.display =
					"none", this.$cache.max[0].style.display = "none";
				else {
					if (this.options.values.length) this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])), this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));
					else {
						var a = this._prettify(this.options.min),
							b = this._prettify(this.options.max);
						this.result.min_pretty = a;
						this.result.max_pretty = b;
						this.$cache.min.html(this.decorate(a, this.options.min));
						this.$cache.max.html(this.decorate(b, this.options.max))
					}
					this.labels.w_min = this.$cache.min.outerWidth(!1);
					this.labels.w_max = this.$cache.max.outerWidth(!1)
				}
		},
		setTempMinInterval: function () {
			var a = this.result.to - this.result.from;
			null === this.old_min_interval && (this.old_min_interval = this.options.min_interval);
			this.options.min_interval = a
		},
		restoreOriginalMinInterval: function () {
			null !== this.old_min_interval && (this.options.min_interval = this.old_min_interval, this.old_min_interval = null)
		},
		calc: function (a) {
			if (this.options) {
				this.calc_count++;
				if (10 === this.calc_count || a) this.calc_count = 0, this.coords.w_rs = this.$cache.rs.outerWidth(!1),
					this.calcHandlePercent();
				if (this.coords.w_rs) {
					this.calcPointerPercent();
					a = this.getHandleX();
					"both" === this.target && (this.coords.p_gap = 0, a = this.getHandleX());
					"click" === this.target && (this.coords.p_gap = this.coords.p_handle / 2, a = this.getHandleX(), this.target = this.options.drag_interval ? "both_one" : this.chooseHandle(a));
					switch (this.target) {
						case "base":
							var b = (this.options.max - this.options.min) / 100;
							a = (this.result.from - this.options.min) / b;
							b = (this.result.to - this.options.min) / b;
							this.coords.p_single_real = this.toFixed(a);
							this.coords.p_from_real = this.toFixed(a);
							this.coords.p_to_real = this.toFixed(b);
							this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);
							this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
							this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
							this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);
							this.coords.p_from_fake =
								this.convertToFakePercent(this.coords.p_from_real);
							this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
							this.target = null;
							break;
						case "single":
							if (this.options.from_fixed) break;
							this.coords.p_single_real = this.convertToRealPercent(a);
							this.coords.p_single_real = this.calcWithStep(this.coords.p_single_real);
							this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);
							this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);
							break;
						case "from":
							if (this.options.from_fixed) break;
							this.coords.p_from_real = this.convertToRealPercent(a);
							this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);
							this.coords.p_from_real > this.coords.p_to_real && (this.coords.p_from_real = this.coords.p_to_real);
							this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
							this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
							this.coords.p_from_real =
								this.checkMaxInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
							this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
							break;
						case "to":
							if (this.options.to_fixed) break;
							this.coords.p_to_real = this.convertToRealPercent(a);
							this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);
							this.coords.p_to_real < this.coords.p_from_real && (this.coords.p_to_real = this.coords.p_from_real);
							this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
							this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
							this.coords.p_to_real = this.checkMaxInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
							this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
							break;
						case "both":
							if (this.options.from_fixed || this.options.to_fixed) break;
							a = this.toFixed(a + .001 * this.coords.p_handle);
							this.coords.p_from_real = this.convertToRealPercent(a) - this.coords.p_gap_left;
							this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);
							this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
							this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
							this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
							this.coords.p_to_real = this.convertToRealPercent(a) + this.coords.p_gap_right;
							this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);
							this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min,
								this.options.to_max);
							this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
							this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
							break;
						case "both_one":
							if (!this.options.from_fixed && !this.options.to_fixed) {
								var d = this.convertToRealPercent(a);
								a = this.result.to_percent - this.result.from_percent;
								var c = a / 2,
									b = d - c,
									d = d + c;
								0 > b && (b = 0, d = b + a);
								100 < d && (d = 100, b = d - a);
								this.coords.p_from_real = this.calcWithStep(b);
								this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real,
									this.options.from_min, this.options.from_max);
								this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
								this.coords.p_to_real = this.calcWithStep(d);
								this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
								this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real)
							}
					}
					"single" === this.options.type ? (this.coords.p_bar_x = this.coords.p_handle / 2, this.coords.p_bar_w = this.coords.p_single_fake, this.result.from_percent = this.coords.p_single_real,
						this.result.from = this.convertToValue(this.coords.p_single_real), this.result.from_pretty = this._prettify(this.result.from), this.options.values.length && (this.result.from_value = this.options.values[this.result.from])) : (this.coords.p_bar_x = this.toFixed(this.coords.p_from_fake + this.coords.p_handle / 2), this.coords.p_bar_w = this.toFixed(this.coords.p_to_fake - this.coords.p_from_fake), this.result.from_percent = this.coords.p_from_real, this.result.from = this.convertToValue(this.coords.p_from_real), this.result.from_pretty =
						this._prettify(this.result.from), this.result.to_percent = this.coords.p_to_real, this.result.to = this.convertToValue(this.coords.p_to_real), this.result.to_pretty = this._prettify(this.result.to), this.options.values.length && (this.result.from_value = this.options.values[this.result.from], this.result.to_value = this.options.values[this.result.to]));
					this.calcMinMax();
					this.calcLabels()
				}
			}
		},
		calcPointerPercent: function () {
			this.coords.w_rs ? (0 > this.coords.x_pointer || isNaN(this.coords.x_pointer) ? this.coords.x_pointer =
				0 : this.coords.x_pointer > this.coords.w_rs && (this.coords.x_pointer = this.coords.w_rs), this.coords.p_pointer = this.toFixed(this.coords.x_pointer / this.coords.w_rs * 100)) : this.coords.p_pointer = 0
		},
		convertToRealPercent: function (a) {
			return a / (100 - this.coords.p_handle) * 100
		},
		convertToFakePercent: function (a) {
			return a / 100 * (100 - this.coords.p_handle)
		},
		getHandleX: function () {
			var a = 100 - this.coords.p_handle,
				b = this.toFixed(this.coords.p_pointer - this.coords.p_gap);
			0 > b ? b = 0 : b > a && (b = a);
			return b
		},
		calcHandlePercent: function () {
			this.coords.w_handle =
				"single" === this.options.type ? this.$cache.s_single.outerWidth(!1) : this.$cache.s_from.outerWidth(!1);
			this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100)
		},
		chooseHandle: function (a) {
			return "single" === this.options.type ? "single" : a >= this.coords.p_from_real + (this.coords.p_to_real - this.coords.p_from_real) / 2 ? this.options.to_fixed ? "from" : "to" : this.options.from_fixed ? "to" : "from"
		},
		calcMinMax: function () {
			this.coords.w_rs && (this.labels.p_min = this.labels.w_min / this.coords.w_rs * 100, this.labels.p_max =
				this.labels.w_max / this.coords.w_rs * 100)
		},
		calcLabels: function () {
			this.coords.w_rs && !this.options.hide_from_to && ("single" === this.options.type ? (this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = this.coords.p_single_fake + this.coords.p_handle / 2 - this.labels.p_single_fake / 2) : (this.labels.w_from = this.$cache.from.outerWidth(!1), this.labels.p_from_fake = this.labels.w_from / this.coords.w_rs * 100, this.labels.p_from_left =
				this.coords.p_from_fake + this.coords.p_handle / 2 - this.labels.p_from_fake / 2, this.labels.p_from_left = this.toFixed(this.labels.p_from_left), this.labels.p_from_left = this.checkEdges(this.labels.p_from_left, this.labels.p_from_fake), this.labels.w_to = this.$cache.to.outerWidth(!1), this.labels.p_to_fake = this.labels.w_to / this.coords.w_rs * 100, this.labels.p_to_left = this.coords.p_to_fake + this.coords.p_handle / 2 - this.labels.p_to_fake / 2, this.labels.p_to_left = this.toFixed(this.labels.p_to_left), this.labels.p_to_left =
				this.checkEdges(this.labels.p_to_left, this.labels.p_to_fake), this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = (this.labels.p_from_left + this.labels.p_to_left + this.labels.p_to_fake) / 2 - this.labels.p_single_fake / 2, this.labels.p_single_left = this.toFixed(this.labels.p_single_left)), this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake))
		},
		updateScene: function () {
			this.raf_id &&
				(cancelAnimationFrame(this.raf_id), this.raf_id = null);
			clearTimeout(this.update_tm);
			this.update_tm = null;
			this.options && (this.drawHandles(), this.is_active ? this.raf_id = requestAnimationFrame(this.updateScene.bind(this)) : this.update_tm = setTimeout(this.updateScene.bind(this), 300))
		},
		drawHandles: function () {
			this.coords.w_rs = this.$cache.rs.outerWidth(!1);
			if (this.coords.w_rs) {
				this.coords.w_rs !== this.coords.w_rs_old && (this.target = "base", this.is_resize = !0);
				if (this.coords.w_rs !== this.coords.w_rs_old || this.force_redraw) this.setMinMax(),
					this.calc(!0), this.drawLabels(), this.options.grid && (this.calcGridMargin(), this.calcGridLabels()), this.force_redraw = !0, this.coords.w_rs_old = this.coords.w_rs, this.drawShadow();
				if (this.coords.w_rs && (this.dragging || this.force_redraw || this.is_key)) {
					if (this.old_from !== this.result.from || this.old_to !== this.result.to || this.force_redraw || this.is_key) {
						this.drawLabels();
						this.$cache.bar[0].style.left = this.coords.p_bar_x + "%";
						this.$cache.bar[0].style.width = this.coords.p_bar_w + "%";
						if ("single" === this.options.type) this.$cache.s_single[0].style.left =
							this.coords.p_single_fake + "%";
						else {
							this.$cache.s_from[0].style.left = this.coords.p_from_fake + "%";
							this.$cache.s_to[0].style.left = this.coords.p_to_fake + "%";
							if (this.old_from !== this.result.from || this.force_redraw) this.$cache.from[0].style.left = this.labels.p_from_left + "%";
							if (this.old_to !== this.result.to || this.force_redraw) this.$cache.to[0].style.left = this.labels.p_to_left + "%"
						}
						this.$cache.single[0].style.left = this.labels.p_single_left + "%";
						this.writeToInput();
						this.old_from === this.result.from && this.old_to ===
							this.result.to || this.is_start || (this.$cache.input.trigger("change"), this.$cache.input.trigger("input"));
						this.old_from = this.result.from;
						this.old_to = this.result.to;
						this.is_resize || this.is_update || this.is_start || this.is_finish || this.callOnChange();
						if (this.is_key || this.is_click) this.is_click = this.is_key = !1, this.callOnFinish();
						this.is_finish = this.is_resize = this.is_update = !1
					}
					this.force_redraw = this.is_click = this.is_key = this.is_start = !1
				}
			}
		},
		drawLabels: function () {
			if (this.options) {
				var a = this.options.values.length,
					b = this.options.p_values;
				if (!this.options.hide_from_to)
					if ("single" === this.options.type) {
						if (a) a = this.decorate(b[this.result.from]);
						else {
							var d = this._prettify(this.result.from);
							a = this.decorate(d, this.result.from)
						}
						this.$cache.single.html(a);
						this.calcLabels();
						this.$cache.min[0].style.visibility = this.labels.p_single_left < this.labels.p_min + 1 ? "hidden" : "visible";
						this.$cache.max[0].style.visibility = this.labels.p_single_left + this.labels.p_single_fake > 100 - this.labels.p_max - 1 ? "hidden" : "visible"
					} else {
						a ? (this.options.decorate_both ?
							(a = this.decorate(b[this.result.from]), a += this.options.values_separator, a += this.decorate(b[this.result.to])) : a = this.decorate(b[this.result.from] + this.options.values_separator + b[this.result.to]), d = this.decorate(b[this.result.from]), b = this.decorate(b[this.result.to])) : (d = this._prettify(this.result.from), b = this._prettify(this.result.to), this.options.decorate_both ? (a = this.decorate(d, this.result.from), a += this.options.values_separator, a += this.decorate(b, this.result.to)) : a = this.decorate(d + this.options.values_separator +
							b, this.result.to), d = this.decorate(d, this.result.from), b = this.decorate(b, this.result.to));
						this.$cache.single.html(a);
						this.$cache.from.html(d);
						this.$cache.to.html(b);
						this.calcLabels();
						a = Math.min(this.labels.p_single_left, this.labels.p_from_left);
						d = this.labels.p_single_left + this.labels.p_single_fake;
						var b = this.labels.p_to_left + this.labels.p_to_fake,
							c = Math.max(d, b);
						this.labels.p_from_left + this.labels.p_from_fake >= this.labels.p_to_left ? (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility =
							"hidden", this.$cache.single[0].style.visibility = "visible", this.result.from === this.result.to ? ("from" === this.target ? this.$cache.from[0].style.visibility = "visible" : "to" === this.target ? this.$cache.to[0].style.visibility = "visible" : this.target || (this.$cache.from[0].style.visibility = "visible"), this.$cache.single[0].style.visibility = "hidden", c = b) : (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", c = Math.max(d, b))) : (this.$cache.from[0].style.visibility =
							"visible", this.$cache.to[0].style.visibility = "visible", this.$cache.single[0].style.visibility = "hidden");
						this.$cache.min[0].style.visibility = a < this.labels.p_min + 1 ? "hidden" : "visible";
						this.$cache.max[0].style.visibility = c > 100 - this.labels.p_max - 1 ? "hidden" : "visible"
					}
			}
		},
		drawShadow: function () {
			var a = this.options,
				b = this.$cache,
				d = "number" === typeof a.from_min && !isNaN(a.from_min),
				c = "number" === typeof a.from_max && !isNaN(a.from_max),
				e = "number" === typeof a.to_min && !isNaN(a.to_min),
				g = "number" === typeof a.to_max && !isNaN(a.to_max);
			"single" === a.type ? a.from_shadow && (d || c) ? (d = this.convertToPercent(d ? a.from_min : a.min), c = this.convertToPercent(c ? a.from_max : a.max) - d, d = this.toFixed(d - this.coords.p_handle / 100 * d), c = this.toFixed(c - this.coords.p_handle / 100 * c), d += this.coords.p_handle / 2, b.shad_single[0].style.display = "block", b.shad_single[0].style.left = d + "%", b.shad_single[0].style.width = c + "%") : b.shad_single[0].style.display = "none" : (a.from_shadow && (d || c) ? (d = this.convertToPercent(d ? a.from_min : a.min), c = this.convertToPercent(c ? a.from_max : a.max) -
				d, d = this.toFixed(d - this.coords.p_handle / 100 * d), c = this.toFixed(c - this.coords.p_handle / 100 * c), d += this.coords.p_handle / 2, b.shad_from[0].style.display = "block", b.shad_from[0].style.left = d + "%", b.shad_from[0].style.width = c + "%") : b.shad_from[0].style.display = "none", a.to_shadow && (e || g) ? (e = this.convertToPercent(e ? a.to_min : a.min), a = this.convertToPercent(g ? a.to_max : a.max) - e, e = this.toFixed(e - this.coords.p_handle / 100 * e), a = this.toFixed(a - this.coords.p_handle / 100 * a), e += this.coords.p_handle / 2, b.shad_to[0].style.display =
				"block", b.shad_to[0].style.left = e + "%", b.shad_to[0].style.width = a + "%") : b.shad_to[0].style.display = "none")
		},
		writeToInput: function () {
			"single" === this.options.type ? (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value) : this.$cache.input.prop("value", this.result.from), this.$cache.input.data("from", this.result.from)) : (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value + this.options.input_values_separator + this.result.to_value) : this.$cache.input.prop("value",
				this.result.from + this.options.input_values_separator + this.result.to), this.$cache.input.data("from", this.result.from), this.$cache.input.data("to", this.result.to))
		},
		callOnStart: function () {
			this.writeToInput();
			if (this.options.onStart && "function" === typeof this.options.onStart)
				if (this.options.scope) this.options.onStart.call(this.options.scope, this.result);
				else this.options.onStart(this.result)
		},
		callOnChange: function () {
			this.writeToInput();
			if (this.options.onChange && "function" === typeof this.options.onChange)
				if (this.options.scope) this.options.onChange.call(this.options.scope,
					this.result);
				else this.options.onChange(this.result)
		},
		callOnFinish: function () {
			this.writeToInput();
			if (this.options.onFinish && "function" === typeof this.options.onFinish)
				if (this.options.scope) this.options.onFinish.call(this.options.scope, this.result);
				else this.options.onFinish(this.result)
		},
		callOnUpdate: function () {
			this.writeToInput();
			if (this.options.onUpdate && "function" === typeof this.options.onUpdate)
				if (this.options.scope) this.options.onUpdate.call(this.options.scope, this.result);
				else this.options.onUpdate(this.result)
		},
		toggleInput: function () {
			this.$cache.input.toggleClass("irs-hidden-input");
			this.has_tab_index ? this.$cache.input.prop("tabindex", -1) : this.$cache.input.removeProp("tabindex");
			this.has_tab_index = !this.has_tab_index
		},
		convertToPercent: function (a, b) {
			var d = this.options.max - this.options.min;
			return d ? this.toFixed((b ? a : a - this.options.min) / (d / 100)) : (this.no_diapason = !0, 0)
		},
		convertToValue: function (a) {
			var b = this.options.min,
				d = this.options.max,
				c = b.toString().split(".")[1],
				e = d.toString().split(".")[1],
				g, l, f = 0,
				h = 0;
			if (0 === a) return this.options.min;
			if (100 === a) return this.options.max;
			c && (f = g = c.length);
			e && (f = l = e.length);
			g && l && (f = g >= l ? g : l);
			0 > b && (h = Math.abs(b), b = +(b + h).toFixed(f), d = +(d + h).toFixed(f));
			a = (d - b) / 100 * a + b;
			(b = this.options.step.toString().split(".")[1]) ? a = +a.toFixed(b.length): (a /= this.options.step, a *= this.options.step, a = +a.toFixed(0));
			h && (a -= h);
			h = b ? +a.toFixed(b.length) : this.toFixed(a);
			h < this.options.min ? h = this.options.min : h > this.options.max && (h = this.options.max);
			return h
		},
		calcWithStep: function (a) {
			var b =
				Math.round(a / this.coords.p_step) * this.coords.p_step;
			100 < b && (b = 100);
			100 === a && (b = 100);
			return this.toFixed(b)
		},
		checkMinInterval: function (a, b, d) {
			var c = this.options;
			if (!c.min_interval) return a;
			a = this.convertToValue(a);
			b = this.convertToValue(b);
			"from" === d ? b - a < c.min_interval && (a = b - c.min_interval) : a - b < c.min_interval && (a = b + c.min_interval);
			return this.convertToPercent(a)
		},
		checkMaxInterval: function (a, b, d) {
			var c = this.options;
			if (!c.max_interval) return a;
			a = this.convertToValue(a);
			b = this.convertToValue(b);
			"from" ===
			d ? b - a > c.max_interval && (a = b - c.max_interval) : a - b > c.max_interval && (a = b + c.max_interval);
			return this.convertToPercent(a)
		},
		checkDiapason: function (a, b, d) {
			a = this.convertToValue(a);
			var c = this.options;
			"number" !== typeof b && (b = c.min);
			"number" !== typeof d && (d = c.max);
			a < b && (a = b);
			a > d && (a = d);
			return this.convertToPercent(a)
		},
		toFixed: function (a) {
			a = a.toFixed(20);
			return +a
		},
		_prettify: function (a) {
			return this.options.prettify_enabled ? this.options.prettify && "function" === typeof this.options.prettify ? this.options.prettify(a) :
				this.prettify(a) : a
		},
		prettify: function (a) {
			return a.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + this.options.prettify_separator)
		},
		checkEdges: function (a, b) {
			if (!this.options.force_edges) return this.toFixed(a);
			0 > a ? a = 0 : a > 100 - b && (a = 100 - b);
			return this.toFixed(a)
		},
		validate: function () {
			var a = this.options,
				b = this.result,
				d = a.values,
				c = d.length,
				e;
			"string" === typeof a.min && (a.min = +a.min);
			"string" === typeof a.max && (a.max = +a.max);
			"string" === typeof a.from && (a.from = +a.from);
			"string" === typeof a.to && (a.to = +a.to);
			"string" === typeof a.step && (a.step = +a.step);
			"string" === typeof a.from_min && (a.from_min = +a.from_min);
			"string" === typeof a.from_max && (a.from_max = +a.from_max);
			"string" === typeof a.to_min && (a.to_min = +a.to_min);
			"string" === typeof a.to_max && (a.to_max = +a.to_max);
			"string" === typeof a.grid_num && (a.grid_num = +a.grid_num);
			a.max < a.min && (a.max = a.min);
			if (c)
				for (a.p_values = [], a.min = 0, a.max = c - 1, a.step = 1, a.grid_num = a.max, a.grid_snap = !0, e = 0; e < c; e++) {
					var g = +d[e];
					isNaN(g) ? g = d[e] : (d[e] = g, g = this._prettify(g));
					a.p_values.push(g)
				}
			if ("number" !==
				typeof a.from || isNaN(a.from)) a.from = a.min;
			if ("number" !== typeof a.to || isNaN(a.to)) a.to = a.max;
			"single" === a.type ? (a.from < a.min && (a.from = a.min), a.from > a.max && (a.from = a.max)) : (a.from < a.min && (a.from = a.min), a.from > a.max && (a.from = a.max), a.to < a.min && (a.to = a.min), a.to > a.max && (a.to = a.max), this.update_check.from && (this.update_check.from !== a.from && a.from > a.to && (a.from = a.to), this.update_check.to !== a.to && a.to < a.from && (a.to = a.from)), a.from > a.to && (a.from = a.to), a.to < a.from && (a.to = a.from));
			if ("number" !== typeof a.step ||
				isNaN(a.step) || !a.step || 0 > a.step) a.step = 1;
			"number" === typeof a.from_min && a.from < a.from_min && (a.from = a.from_min);
			"number" === typeof a.from_max && a.from > a.from_max && (a.from = a.from_max);
			"number" === typeof a.to_min && a.to < a.to_min && (a.to = a.to_min);
			"number" === typeof a.to_max && a.from > a.to_max && (a.to = a.to_max);
			if (b) {
				b.min !== a.min && (b.min = a.min);
				b.max !== a.max && (b.max = a.max);
				if (b.from < b.min || b.from > b.max) b.from = a.from;
				if (b.to < b.min || b.to > b.max) b.to = a.to
			}
			if ("number" !== typeof a.min_interval || isNaN(a.min_interval) ||
				!a.min_interval || 0 > a.min_interval) a.min_interval = 0;
			if ("number" !== typeof a.max_interval || isNaN(a.max_interval) || !a.max_interval || 0 > a.max_interval) a.max_interval = 0;
			a.min_interval && a.min_interval > a.max - a.min && (a.min_interval = a.max - a.min);
			a.max_interval && a.max_interval > a.max - a.min && (a.max_interval = a.max - a.min)
		},
		decorate: function (a, b) {
			var d = "",
				c = this.options;
			c.prefix && (d += c.prefix);
			d += a;
			c.max_postfix && (c.values.length && a === c.p_values[c.max] ? (d += c.max_postfix, c.postfix && (d += " ")) : b === c.max && (d += c.max_postfix,
				c.postfix && (d += " ")));
			c.postfix && (d += c.postfix);
			return d
		},
		updateFrom: function () {
			this.result.from = this.options.from;
			this.result.from_percent = this.convertToPercent(this.result.from);
			this.result.from_pretty = this._prettify(this.result.from);
			this.options.values && (this.result.from_value = this.options.values[this.result.from])
		},
		updateTo: function () {
			this.result.to = this.options.to;
			this.result.to_percent = this.convertToPercent(this.result.to);
			this.result.to_pretty = this._prettify(this.result.to);
			this.options.values &&
				(this.result.to_value = this.options.values[this.result.to])
		},
		updateResult: function () {
			this.result.min = this.options.min;
			this.result.max = this.options.max;
			this.updateFrom();
			this.updateTo()
		},
		appendGrid: function () {
			if (this.options.grid) {
				var a = this.options,
					b;
				var d = a.max - a.min;
				var c = a.grid_num,
					e = 4,
					g = "";
				this.calcGridMargin();
				if (a.grid_snap)
					if (50 < d) {
						c = 50 / a.step;
						var f = this.toFixed(a.step / .5)
					} else c = d / a.step, f = this.toFixed(a.step / (d / 100));
				else f = this.toFixed(100 / c);
				4 < c && (e = 3);
				7 < c && (e = 2);
				14 < c && (e = 1);
				28 < c && (e = 0);
				for (d = 0; d < c + 1; d++) {
					var k = e;
					var h = this.toFixed(f * d);
					100 < h && (h = 100);
					this.coords.big[d] = h;
					var m = (h - f * (d - 1)) / (k + 1);
					for (b = 1; b <= k && 0 !== h; b++) {
						var n = this.toFixed(h - m * b);
						g += '<span class="irs-grid-pol small" style="left: ' + n + '%"></span>'
					}
					g += '<span class="irs-grid-pol" style="left: ' + h + '%"></span>';
					b = this.convertToValue(h);
					b = a.values.length ? a.p_values[b] : this._prettify(b);
					g += '<span class="irs-grid-text js-grid-text-' + d + '" style="left: ' + h + '%">' + b + "</span>"
				}
				this.coords.big_num = Math.ceil(c + 1);
				this.$cache.cont.addClass("irs-with-grid");
				this.$cache.grid.html(g);
				this.cacheGridLabels()
			}
		},
		cacheGridLabels: function () {
			var a, b = this.coords.big_num;
			for (a = 0; a < b; a++) {
				var d = this.$cache.grid.find(".js-grid-text-" + a);
				this.$cache.grid_labels.push(d)
			}
			this.calcGridLabels()
		},
		calcGridLabels: function () {
			var a;
			var b = [];
			var d = [],
				c = this.coords.big_num;
			for (a = 0; a < c; a++) this.coords.big_w[a] = this.$cache.grid_labels[a].outerWidth(!1), this.coords.big_p[a] = this.toFixed(this.coords.big_w[a] / this.coords.w_rs * 100), this.coords.big_x[a] = this.toFixed(this.coords.big_p[a] /
				2), b[a] = this.toFixed(this.coords.big[a] - this.coords.big_x[a]), d[a] = this.toFixed(b[a] + this.coords.big_p[a]);
			this.options.force_edges && (b[0] < -this.coords.grid_gap && (b[0] = -this.coords.grid_gap, d[0] = this.toFixed(b[0] + this.coords.big_p[0]), this.coords.big_x[0] = this.coords.grid_gap), d[c - 1] > 100 + this.coords.grid_gap && (d[c - 1] = 100 + this.coords.grid_gap, b[c - 1] = this.toFixed(d[c - 1] - this.coords.big_p[c - 1]), this.coords.big_x[c - 1] = this.toFixed(this.coords.big_p[c - 1] - this.coords.grid_gap)));
			this.calcGridCollision(2,
				b, d);
			this.calcGridCollision(4, b, d);
			for (a = 0; a < c; a++) b = this.$cache.grid_labels[a][0], this.coords.big_x[a] !== Number.POSITIVE_INFINITY && (b.style.marginLeft = -this.coords.big_x[a] + "%")
		},
		calcGridCollision: function (a, b, d) {
			var c, e = this.coords.big_num;
			for (c = 0; c < e; c += a) {
				var g = c + a / 2;
				if (g >= e) break;
				var f = this.$cache.grid_labels[g][0];
				f.style.visibility = d[c] <= b[g] ? "visible" : "hidden"
			}
		},
		calcGridMargin: function () {
			this.options.grid_margin && (this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && (this.coords.w_handle =
				"single" === this.options.type ? this.$cache.s_single.outerWidth(!1) : this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100), this.coords.grid_gap = this.toFixed(this.coords.p_handle / 2 - .1), this.$cache.grid[0].style.width = this.toFixed(100 - this.coords.p_handle) + "%", this.$cache.grid[0].style.left = this.coords.grid_gap + "%"))
		},
		update: function (a) {
			this.input && (this.is_update = !0, this.options.from = this.result.from, this.options.to = this.result.to, this.update_check.from =
				this.result.from, this.update_check.to = this.result.to, this.options = f.extend(this.options, a), this.validate(), this.updateResult(a), this.toggleInput(), this.remove(), this.init(!0))
		},
		reset: function () {
			this.input && (this.updateResult(), this.update())
		},
		destroy: function () {
			this.input && (this.toggleInput(), this.$cache.input.prop("readonly", !1), f.data(this.input, "ionRangeSlider", null), this.remove(), this.options = this.input = null)
		}
	};
	f.fn.ionRangeSlider = function (a) {
		return this.each(function () {
			f.data(this, "ionRangeSlider") ||
				f.data(this, "ionRangeSlider", new q(this, a, t++))
		})
	};
	(function () {
		for (var a = 0, b = ["ms", "moz", "webkit", "o"], d = 0; d < b.length && !k.requestAnimationFrame; ++d) k.requestAnimationFrame = k[b[d] + "RequestAnimationFrame"], k.cancelAnimationFrame = k[b[d] + "CancelAnimationFrame"] || k[b[d] + "CancelRequestAnimationFrame"];
		k.requestAnimationFrame || (k.requestAnimationFrame = function (b, d) {
			var c = (new Date).getTime(),
				e = Math.max(0, 16 - (c - a)),
				f = k.setTimeout(function () {
					b(c + e)
				}, e);
			a = c + e;
			return f
		});
		k.cancelAnimationFrame || (k.cancelAnimationFrame =
			function (a) {
				clearTimeout(a)
			})
	})()
});

! function (t, e) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).SimpleBar = e()
}(this, function () {
	"use strict";
	var t = function (t) {
			return "object" == typeof t ? null !== t : "function" == typeof t
		},
		e = function (e) {
			if (!t(e)) throw TypeError(e + " is not an object!");
			return e
		},
		i = function (t) {
			if (null == t) throw TypeError("Can't call method on  " + t);
			return t
		},
		r = function (t) {
			return Object(i(t))
		},
		n = Math.ceil,
		o = Math.floor,
		s = function (t) {
			return isNaN(t = +t) ? 0 : (t > 0 ? o : n)(t)
		},
		a = Math.min,
		l = function (t) {
			return t > 0 ? a(s(t), 9007199254740991) : 0
		},
		c = function (t) {
			return function (e, r) {
				var n, o, a = String(i(e)),
					l = s(r),
					c = a.length;
				return l < 0 || l >= c ? t ? "" : void 0 : (n = a.charCodeAt(l)) < 55296 || n > 56319 || l + 1 === c || (o = a.charCodeAt(l + 1)) < 56320 || o > 57343 ? t ? a.charAt(l) : n : t ? a.slice(l, l + 2) : o - 56320 + (n - 55296 << 10) + 65536
			}
		},
		u = c(!0),
		h = function (t, e, i) {
			return e + (i ? u(t, e).length : 1)
		},
		f = {}.toString,
		d = function (t) {
			return f.call(t).slice(8, -1)
		},
		p = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

	function v(t, e) {
		return t(e = {
			exports: {}
		}, e.exports), e.exports
	}
	var y, b, g = v(function (t) {
			var e = t.exports = {
				version: "2.6.2"
			};
			"number" == typeof __e && (__e = e)
		}),
		m = (g.version, v(function (t) {
			var e = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
			"number" == typeof __g && (__g = e)
		})),
		x = v(function (t) {
			var e = m["__core-js_shared__"] || (m["__core-js_shared__"] = {});
			(t.exports = function (t, i) {
				return e[t] || (e[t] = void 0 !== i ? i : {})
			})("versions", []).push({
				version: g.version,
				mode: "global",
				copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
			})
		}),
		E = 0,
		w = Math.random(),
		_ = function (t) {
			return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++E + w).toString(36))
		},
		O = v(function (t) {
			var e = x("wks"),
				i = m.Symbol,
				r = "function" == typeof i;
			(t.exports = function (t) {
				return e[t] || (e[t] = r && i[t] || (r ? i : _)("Symbol." + t))
			}).store = e
		}),
		S = O("toStringTag"),
		k = "Arguments" == d(function () {
			return arguments
		}()),
		A = function (t) {
			var e, i, r;
			return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (i = function (t, e) {
				try {
					return t[e]
				} catch (t) {}
			}(e = Object(t), S)) ? i : k ? d(e) : "Object" == (r = d(e)) && "function" == typeof e.callee ? "Arguments" : r
		},
		M = RegExp.prototype.exec,
		L = function (t, e) {
			var i = t.exec;
			if ("function" == typeof i) {
				var r = i.call(t, e);
				if ("object" != typeof r) throw new TypeError("RegExp exec method returned something other than an Object or null");
				return r
			}
			if ("RegExp" !== A(t)) throw new TypeError("RegExp#exec called on incompatible receiver");
			return M.call(t, e)
		},
		T = RegExp.prototype.exec,
		j = String.prototype.replace,
		R = T,
		N = (y = /a/, b = /b*/g, T.call(y, "a"), T.call(b, "a"), 0 !== y.lastIndex || 0 !== b.lastIndex),
		W = void 0 !== /()??/.exec("")[1];
	(N || W) && (R = function (t) {
		var i, r, n, o, s = this;
		return W && (r = new RegExp("^" + s.source + "$(?!\\s)", function () {
			var t = e(this),
				i = "";
			return t.global && (i += "g"), t.ignoreCase && (i += "i"), t.multiline && (i += "m"), t.unicode && (i += "u"), t.sticky && (i += "y"), i
		}.call(s))), N && (i = s.lastIndex), n = T.call(s, t), N && n && (s.lastIndex = s.global ? n.index + n[0].length : i), W && n && n.length > 1 && j.call(n[0], r, function () {
			for (o = 1; o < arguments.length - 2; o++) void 0 === arguments[o] && (n[o] = void 0)
		}), n
	});
	var C = R,
		z = function (t) {
			try {
				return !!t()
			} catch (t) {
				return !0
			}
		},
		D = !z(function () {
			return 7 != Object.defineProperty({}, "a", {
				get: function () {
					return 7
				}
			}).a
		}),
		V = m.document,
		B = t(V) && t(V.createElement),
		P = function (t) {
			return B ? V.createElement(t) : {}
		},
		F = !D && !z(function () {
			return 7 != Object.defineProperty(P("div"), "a", {
				get: function () {
					return 7
				}
			}).a
		}),
		I = Object.defineProperty,
		H = {
			f: D ? Object.defineProperty : function (i, r, n) {
				if (e(i), r = function (e, i) {
						if (!t(e)) return e;
						var r, n;
						if (i && "function" == typeof (r = e.toString) && !t(n = r.call(e))) return n;
						if ("function" == typeof (r = e.valueOf) && !t(n = r.call(e))) return n;
						if (!i && "function" == typeof (r = e.toString) && !t(n = r.call(e))) return n;
						throw TypeError("Can't convert object to primitive value")
					}(r, !0), e(n), F) try {
					return I(i, r, n)
				} catch (t) {}
				if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
				return "value" in n && (i[r] = n.value), i
			}
		},
		q = function (t, e) {
			return {
				enumerable: !(1 & t),
				configurable: !(2 & t),
				writable: !(4 & t),
				value: e
			}
		},
		$ = D ? function (t, e, i) {
			return H.f(t, e, q(1, i))
		} : function (t, e, i) {
			return t[e] = i, t
		},
		X = {}.hasOwnProperty,
		Y = function (t, e) {
			return X.call(t, e)
		},
		G = v(function (t) {
			var e = _("src"),
				i = Function.toString,
				r = ("" + i).split("toString");
			g.inspectSource = function (t) {
				return i.call(t)
			}, (t.exports = function (t, i, n, o) {
				var s = "function" == typeof n;
				s && (Y(n, "name") || $(n, "name", i)), t[i] !== n && (s && (Y(n, e) || $(n, e, t[i] ? "" + t[i] : r.join(String(i)))), t === m ? t[i] = n : o ? t[i] ? t[i] = n : $(t, i, n) : (delete t[i], $(t, i, n)))
			})(Function.prototype, "toString", function () {
				return "function" == typeof this && this[e] || i.call(this)
			})
		}),
		U = function (t, e, i) {
			if (function (t) {
					if ("function" != typeof t) throw TypeError(t + " is not a function!")
				}(t), void 0 === e) return t;
			switch (i) {
				case 1:
					return function (i) {
						return t.call(e, i)
					};
				case 2:
					return function (i, r) {
						return t.call(e, i, r)
					};
				case 3:
					return function (i, r, n) {
						return t.call(e, i, r, n)
					}
			}
			return function () {
				return t.apply(e, arguments)
			}
		},
		J = function (t, e, i) {
			var r, n, o, s, a = t & J.F,
				l = t & J.G,
				c = t & J.S,
				u = t & J.P,
				h = t & J.B,
				f = l ? m : c ? m[e] || (m[e] = {}) : (m[e] || {}).prototype,
				d = l ? g : g[e] || (g[e] = {}),
				p = d.prototype || (d.prototype = {});
			for (r in l && (i = e), i) o = ((n = !a && f && void 0 !== f[r]) ? f : i)[r], s = h && n ? U(o, m) : u && "function" == typeof o ? U(Function.call, o) : o, f && G(f, r, o, t & J.U), d[r] != o && $(d, r, s), u && p[r] != o && (p[r] = o)
		};
	m.core = g, J.F = 1, J.G = 2, J.S = 4, J.P = 8, J.B = 16, J.W = 32, J.U = 64, J.R = 128;
	var K = J;
	K({
		target: "RegExp",
		proto: !0,
		forced: C !== /./.exec
	}, {
		exec: C
	});
	var Q = O("species"),
		Z = !z(function () {
			var t = /./;
			return t.exec = function () {
				var t = [];
				return t.groups = {
					a: "7"
				}, t
			}, "7" !== "".replace(t, "$<a>")
		}),
		tt = function () {
			var t = /(?:)/,
				e = t.exec;
			t.exec = function () {
				return e.apply(this, arguments)
			};
			var i = "ab".split(t);
			return 2 === i.length && "a" === i[0] && "b" === i[1]
		}(),
		et = function (t, e, r) {
			var n = O(t),
				o = !z(function () {
					var e = {};
					return e[n] = function () {
						return 7
					}, 7 != "" [t](e)
				}),
				s = o ? !z(function () {
					var e = !1,
						i = /a/;
					return i.exec = function () {
						return e = !0, null
					}, "split" === t && (i.constructor = {}, i.constructor[Q] = function () {
						return i
					}), i[n](""), !e
				}) : void 0;
			if (!o || !s || "replace" === t && !Z || "split" === t && !tt) {
				var a = /./ [n],
					l = r(i, n, "" [t], function (t, e, i, r, n) {
						return e.exec === C ? o && !n ? {
							done: !0,
							value: a.call(e, i, r)
						} : {
							done: !0,
							value: t.call(i, e, r)
						} : {
							done: !1
						}
					}),
					c = l[0],
					u = l[1];
				G(String.prototype, t, c), $(RegExp.prototype, n, 2 == e ? function (t, e) {
					return u.call(t, this, e)
				} : function (t) {
					return u.call(t, this)
				})
			}
		},
		it = Math.max,
		rt = Math.min,
		nt = Math.floor,
		ot = /\$([$&`']|\d\d?|<[^>]*>)/g,
		st = /\$([$&`']|\d\d?)/g;
	et("replace", 2, function (t, i, n, o) {
		return [function (e, r) {
			var o = t(this),
				s = null == e ? void 0 : e[i];
			return void 0 !== s ? s.call(e, o, r) : n.call(String(o), e, r)
		}, function (t, i) {
			var r = o(n, t, this, i);
			if (r.done) return r.value;
			var c = e(t),
				u = String(this),
				f = "function" == typeof i;
			f || (i = String(i));
			var d = c.global;
			if (d) {
				var p = c.unicode;
				c.lastIndex = 0
			}
			for (var v = [];;) {
				var y = L(c, u);
				if (null === y) break;
				if (v.push(y), !d) break;
				"" === String(y[0]) && (c.lastIndex = h(u, l(c.lastIndex), p))
			}
			for (var b, g = "", m = 0, x = 0; x < v.length; x++) {
				y = v[x];
				for (var E = String(y[0]), w = it(rt(s(y.index), u.length), 0), _ = [], O = 1; O < y.length; O++) _.push(void 0 === (b = y[O]) ? b : String(b));
				var S = y.groups;
				if (f) {
					var k = [E].concat(_, w, u);
					void 0 !== S && k.push(S);
					var A = String(i.apply(void 0, k))
				} else A = a(E, u, w, _, S, i);
				w >= m && (g += u.slice(m, w) + A, m = w + E.length)
			}
			return g + u.slice(m)
		}];

		function a(t, e, i, o, s, a) {
			var l = i + t.length,
				c = o.length,
				u = st;
			return void 0 !== s && (s = r(s), u = ot), n.call(a, u, function (r, n) {
				var a;
				switch (n.charAt(0)) {
					case "$":
						return "$";
					case "&":
						return t;
					case "`":
						return e.slice(0, i);
					case "'":
						return e.slice(l);
					case "<":
						a = s[n.slice(1, -1)];
						break;
					default:
						var u = +n;
						if (0 === u) return r;
						if (u > c) {
							var h = nt(u / 10);
							return 0 === h ? r : h <= c ? void 0 === o[h - 1] ? n.charAt(1) : o[h - 1] + n.charAt(1) : r
						}
						a = o[u - 1]
				}
				return void 0 === a ? "" : a
			})
		}
	});
	var at = H.f,
		lt = Function.prototype,
		ct = /^\s*function ([^ (]*)/;
	"name" in lt || D && at(lt, "name", {
		configurable: !0,
		get: function () {
			try {
				return ("" + this).match(ct)[1]
			} catch (t) {
				return ""
			}
		}
	}), et("match", 1, function (t, i, r, n) {
		return [function (e) {
			var r = t(this),
				n = null == e ? void 0 : e[i];
			return void 0 !== n ? n.call(e, r) : new RegExp(e)[i](String(r))
		}, function (t) {
			var i = n(r, t, this);
			if (i.done) return i.value;
			var o = e(t),
				s = String(this);
			if (!o.global) return L(o, s);
			var a = o.unicode;
			o.lastIndex = 0;
			for (var c, u = [], f = 0; null !== (c = L(o, s));) {
				var d = String(c[0]);
				u[f] = d, "" === d && (o.lastIndex = h(s, l(o.lastIndex), a)), f++
			}
			return 0 === f ? null : u
		}]
	});
	var ut = O("unscopables"),
		ht = Array.prototype;
	null == ht[ut] && $(ht, ut, {});
	var ft, dt = function (t) {
			ht[ut][t] = !0
		},
		pt = function (t, e) {
			return {
				value: e,
				done: !!t
			}
		},
		vt = {},
		yt = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
			return "String" == d(t) ? t.split("") : Object(t)
		},
		bt = function (t) {
			return yt(i(t))
		},
		gt = Math.max,
		mt = Math.min,
		xt = x("keys"),
		Et = function (t) {
			return xt[t] || (xt[t] = _(t))
		},
		wt = (ft = !1, function (t, e, i) {
			var r, n = bt(t),
				o = l(n.length),
				a = function (t, e) {
					return (t = s(t)) < 0 ? gt(t + e, 0) : mt(t, e)
				}(i, o);
			if (ft && e != e) {
				for (; o > a;)
					if ((r = n[a++]) != r) return !0
			} else
				for (; o > a; a++)
					if ((ft || a in n) && n[a] === e) return ft || a || 0;
			return !ft && -1
		}),
		_t = Et("IE_PROTO"),
		Ot = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),
		St = Object.keys || function (t) {
			return function (t, e) {
				var i, r = bt(t),
					n = 0,
					o = [];
				for (i in r) i != _t && Y(r, i) && o.push(i);
				for (; e.length > n;) Y(r, i = e[n++]) && (~wt(o, i) || o.push(i));
				return o
			}(t, Ot)
		},
		kt = D ? Object.defineProperties : function (t, i) {
			e(t);
			for (var r, n = St(i), o = n.length, s = 0; o > s;) H.f(t, r = n[s++], i[r]);
			return t
		},
		At = m.document,
		Mt = At && At.documentElement,
		Lt = Et("IE_PROTO"),
		Tt = function () {},
		jt = function () {
			var t, e = P("iframe"),
				i = Ot.length;
			for (e.style.display = "none", Mt.appendChild(e), e.src = "javascript:", (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), jt = t.F; i--;) delete jt.prototype[Ot[i]];
			return jt()
		},
		Rt = Object.create || function (t, i) {
			var r;
			return null !== t ? (Tt.prototype = e(t), r = new Tt, Tt.prototype = null, r[Lt] = t) : r = jt(), void 0 === i ? r : kt(r, i)
		},
		Nt = H.f,
		Wt = O("toStringTag"),
		Ct = function (t, e, i) {
			t && !Y(t = i ? t : t.prototype, Wt) && Nt(t, Wt, {
				configurable: !0,
				value: e
			})
		},
		zt = {};
	$(zt, O("iterator"), function () {
		return this
	});
	var Dt = function (t, e, i) {
			t.prototype = Rt(zt, {
				next: q(1, i)
			}), Ct(t, e + " Iterator")
		},
		Vt = Et("IE_PROTO"),
		Bt = Object.prototype,
		Pt = Object.getPrototypeOf || function (t) {
			return t = r(t), Y(t, Vt) ? t[Vt] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? Bt : null
		},
		Ft = O("iterator"),
		It = !([].keys && "next" in [].keys()),
		Ht = function () {
			return this
		},
		qt = function (t, e, i, r, n, o, s) {
			Dt(i, e, r);
			var a, l, c, u = function (t) {
					if (!It && t in p) return p[t];
					switch (t) {
						case "keys":
						case "values":
							return function () {
								return new i(this, t)
							}
					}
					return function () {
						return new i(this, t)
					}
				},
				h = e + " Iterator",
				f = "values" == n,
				d = !1,
				p = t.prototype,
				v = p[Ft] || p["@@iterator"] || n && p[n],
				y = v || u(n),
				b = n ? f ? u("entries") : y : void 0,
				g = "Array" == e && p.entries || v;
			if (g && (c = Pt(g.call(new t))) !== Object.prototype && c.next && (Ct(c, h, !0), "function" != typeof c[Ft] && $(c, Ft, Ht)), f && v && "values" !== v.name && (d = !0, y = function () {
					return v.call(this)
				}), (It || d || !p[Ft]) && $(p, Ft, y), vt[e] = y, vt[h] = Ht, n)
				if (a = {
						values: f ? y : u("values"),
						keys: o ? y : u("keys"),
						entries: b
					}, s)
					for (l in a) l in p || G(p, l, a[l]);
				else K(K.P + K.F * (It || d), e, a);
			return a
		},
		$t = qt(Array, "Array", function (t, e) {
			this._t = bt(t), this._i = 0, this._k = e
		}, function () {
			var t = this._t,
				e = this._k,
				i = this._i++;
			return !t || i >= t.length ? (this._t = void 0, pt(1)) : pt(0, "keys" == e ? i : "values" == e ? t[i] : [i, t[i]])
		}, "values");
	vt.Arguments = vt.Array, dt("keys"), dt("values"), dt("entries");
	for (var Xt = O("iterator"), Yt = O("toStringTag"), Gt = vt.Array, Ut = {
			CSSRuleList: !0,
			CSSStyleDeclaration: !1,
			CSSValueList: !1,
			ClientRectList: !1,
			DOMRectList: !1,
			DOMStringList: !1,
			DOMTokenList: !0,
			DataTransferItemList: !1,
			FileList: !1,
			HTMLAllCollection: !1,
			HTMLCollection: !1,
			HTMLFormElement: !1,
			HTMLSelectElement: !1,
			MediaList: !0,
			MimeTypeArray: !1,
			NamedNodeMap: !1,
			NodeList: !0,
			PaintRequestList: !1,
			Plugin: !1,
			PluginArray: !1,
			SVGLengthList: !1,
			SVGNumberList: !1,
			SVGPathSegList: !1,
			SVGPointList: !1,
			SVGStringList: !1,
			SVGTransformList: !1,
			SourceBufferList: !1,
			StyleSheetList: !0,
			TextTrackCueList: !1,
			TextTrackList: !1,
			TouchList: !1
		}, Jt = St(Ut), Kt = 0; Kt < Jt.length; Kt++) {
		var Qt, Zt = Jt[Kt],
			te = Ut[Zt],
			ee = m[Zt],
			ie = ee && ee.prototype;
		if (ie && (ie[Xt] || $(ie, Xt, Gt), ie[Yt] || $(ie, Yt, Zt), vt[Zt] = Gt, te))
			for (Qt in $t) ie[Qt] || G(ie, Qt, $t[Qt], !0)
	}
	var re = c(!0);
	qt(String, "String", function (t) {
		this._t = String(t), this._i = 0
	}, function () {
		var t, e = this._t,
			i = this._i;
		return i >= e.length ? {
			value: void 0,
			done: !0
		} : (t = re(e, i), this._i += t.length, {
			value: t,
			done: !1
		})
	});
	var ne = function (t, i, r, n) {
			try {
				return n ? i(e(r)[0], r[1]) : i(r)
			} catch (i) {
				var o = t.return;
				throw void 0 !== o && e(o.call(t)), i
			}
		},
		oe = O("iterator"),
		se = Array.prototype,
		ae = function (t, e, i) {
			e in t ? H.f(t, e, q(0, i)) : t[e] = i
		},
		le = O("iterator"),
		ce = g.getIteratorMethod = function (t) {
			if (null != t) return t[le] || t["@@iterator"] || vt[A(t)]
		},
		ue = O("iterator"),
		he = !1;
	try {
		[7][ue]().return = function () {
			he = !0
		}
	} catch (t) {}

	function fe(t, e) {
		for (var i = 0; i < e.length; i++) {
			var r = e[i];
			r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
		}
	}

	function de(t, e, i) {
		return e in t ? Object.defineProperty(t, e, {
			value: i,
			enumerable: !0,
			configurable: !0,
			writable: !0
		}) : t[e] = i, t
	}

	function pe(t) {
		for (var e = 1; e < arguments.length; e++) {
			var i = null != arguments[e] ? arguments[e] : {},
				r = Object.keys(i);
			"function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(i).filter(function (t) {
				return Object.getOwnPropertyDescriptor(i, t).enumerable
			}))), r.forEach(function (e) {
				de(t, e, i[e])
			})
		}
		return t
	}
	K(K.S + K.F * ! function (t, e) {
		if (!e && !he) return !1;
		var i = !1;
		try {
			var r = [7],
				n = r[ue]();
			n.next = function () {
				return {
					done: i = !0
				}
			}, r[ue] = function () {
				return n
			}, t(r)
		} catch (t) {}
		return i
	}(function (t) {}), "Array", {
		from: function (t) {
			var e, i, n, o, s, a = r(t),
				c = "function" == typeof this ? this : Array,
				u = arguments.length,
				h = u > 1 ? arguments[1] : void 0,
				f = void 0 !== h,
				d = 0,
				p = ce(a);
			if (f && (h = U(h, u > 2 ? arguments[2] : void 0, 2)), null != p && (c != Array || (void 0 === (s = p) || vt.Array !== s && se[oe] !== s)))
				for (o = p.call(a), i = new c; !(n = o.next()).done; d++) ae(i, d, f ? ne(o, h, [n.value, d], !0) : n.value);
			else
				for (i = new c(e = l(a.length)); e > d; d++) ae(i, d, f ? h(a[d], d) : a[d]);
			return i.length = d, i
		}
	});
	var ve = v(function (t, e) {
			t.exports = function () {
				if ("undefined" == typeof document) return 0;
				var t, e = document.body,
					i = document.createElement("div"),
					r = i.style;
				return r.position = "absolute", r.top = r.left = "-9999px", r.width = r.height = "100px", r.overflow = "scroll", e.appendChild(i), t = i.offsetWidth - i.clientWidth, e.removeChild(i), t
			}
		}),
		ye = "Expected a function",
		be = NaN,
		ge = "[object Symbol]",
		me = /^\s+|\s+$/g,
		xe = /^[-+]0x[0-9a-f]+$/i,
		Ee = /^0b[01]+$/i,
		we = /^0o[0-7]+$/i,
		_e = parseInt,
		Oe = "object" == typeof p && p && p.Object === Object && p,
		Se = "object" == typeof self && self && self.Object === Object && self,
		ke = Oe || Se || Function("return this")(),
		Ae = Object.prototype.toString,
		Me = Math.max,
		Le = Math.min,
		Te = function () {
			return ke.Date.now()
		};

	function je(t, e, i) {
		var r, n, o, s, a, l, c = 0,
			u = !1,
			h = !1,
			f = !0;
		if ("function" != typeof t) throw new TypeError(ye);

		function d(e) {
			var i = r,
				o = n;
			return r = n = void 0, c = e, s = t.apply(o, i)
		}

		function p(t) {
			var i = t - l;
			return void 0 === l || i >= e || i < 0 || h && t - c >= o
		}

		function v() {
			var t = Te();
			if (p(t)) return y(t);
			a = setTimeout(v, function (t) {
				var i = e - (t - l);
				return h ? Le(i, o - (t - c)) : i
			}(t))
		}

		function y(t) {
			return a = void 0, f && r ? d(t) : (r = n = void 0, s)
		}

		function b() {
			var t = Te(),
				i = p(t);
			if (r = arguments, n = this, l = t, i) {
				if (void 0 === a) return function (t) {
					return c = t, a = setTimeout(v, e), u ? d(t) : s
				}(l);
				if (h) return a = setTimeout(v, e), d(l)
			}
			return void 0 === a && (a = setTimeout(v, e)), s
		}
		return e = Ne(e) || 0, Re(i) && (u = !!i.leading, o = (h = "maxWait" in i) ? Me(Ne(i.maxWait) || 0, e) : o, f = "trailing" in i ? !!i.trailing : f), b.cancel = function () {
			void 0 !== a && clearTimeout(a), c = 0, r = l = n = a = void 0
		}, b.flush = function () {
			return void 0 === a ? s : y(Te())
		}, b
	}

	function Re(t) {
		var e = typeof t;
		return !!t && ("object" == e || "function" == e)
	}

	function Ne(t) {
		if ("number" == typeof t) return t;
		if (function (t) {
				return "symbol" == typeof t || function (t) {
					return !!t && "object" == typeof t
				}(t) && Ae.call(t) == ge
			}(t)) return be;
		if (Re(t)) {
			var e = "function" == typeof t.valueOf ? t.valueOf() : t;
			t = Re(e) ? e + "" : e
		}
		if ("string" != typeof t) return 0 === t ? t : +t;
		t = t.replace(me, "");
		var i = Ee.test(t);
		return i || we.test(t) ? _e(t.slice(2), i ? 2 : 8) : xe.test(t) ? be : +t
	}
	var We = function (t, e, i) {
			var r = !0,
				n = !0;
			if ("function" != typeof t) throw new TypeError(ye);
			return Re(i) && (r = "leading" in i ? !!i.leading : r, n = "trailing" in i ? !!i.trailing : n), je(t, e, {
				leading: r,
				maxWait: e,
				trailing: n
			})
		},
		Ce = "Expected a function",
		ze = NaN,
		De = "[object Symbol]",
		Ve = /^\s+|\s+$/g,
		Be = /^[-+]0x[0-9a-f]+$/i,
		Pe = /^0b[01]+$/i,
		Fe = /^0o[0-7]+$/i,
		Ie = parseInt,
		He = "object" == typeof p && p && p.Object === Object && p,
		qe = "object" == typeof self && self && self.Object === Object && self,
		$e = He || qe || Function("return this")(),
		Xe = Object.prototype.toString,
		Ye = Math.max,
		Ge = Math.min,
		Ue = function () {
			return $e.Date.now()
		};

	function Je(t) {
		var e = typeof t;
		return !!t && ("object" == e || "function" == e)
	}

	function Ke(t) {
		if ("number" == typeof t) return t;
		if (function (t) {
				return "symbol" == typeof t || function (t) {
					return !!t && "object" == typeof t
				}(t) && Xe.call(t) == De
			}(t)) return ze;
		if (Je(t)) {
			var e = "function" == typeof t.valueOf ? t.valueOf() : t;
			t = Je(e) ? e + "" : e
		}
		if ("string" != typeof t) return 0 === t ? t : +t;
		t = t.replace(Ve, "");
		var i = Pe.test(t);
		return i || Fe.test(t) ? Ie(t.slice(2), i ? 2 : 8) : Be.test(t) ? ze : +t
	}
	var Qe = function (t, e, i) {
			var r, n, o, s, a, l, c = 0,
				u = !1,
				h = !1,
				f = !0;
			if ("function" != typeof t) throw new TypeError(Ce);

			function d(e) {
				var i = r,
					o = n;
				return r = n = void 0, c = e, s = t.apply(o, i)
			}

			function p(t) {
				var i = t - l;
				return void 0 === l || i >= e || i < 0 || h && t - c >= o
			}

			function v() {
				var t = Ue();
				if (p(t)) return y(t);
				a = setTimeout(v, function (t) {
					var i = e - (t - l);
					return h ? Ge(i, o - (t - c)) : i
				}(t))
			}

			function y(t) {
				return a = void 0, f && r ? d(t) : (r = n = void 0, s)
			}

			function b() {
				var t = Ue(),
					i = p(t);
				if (r = arguments, n = this, l = t, i) {
					if (void 0 === a) return function (t) {
						return c = t, a = setTimeout(v, e), u ? d(t) : s
					}(l);
					if (h) return a = setTimeout(v, e), d(l)
				}
				return void 0 === a && (a = setTimeout(v, e)), s
			}
			return e = Ke(e) || 0, Je(i) && (u = !!i.leading, o = (h = "maxWait" in i) ? Ye(Ke(i.maxWait) || 0, e) : o, f = "trailing" in i ? !!i.trailing : f), b.cancel = function () {
				void 0 !== a && clearTimeout(a), c = 0, r = l = n = a = void 0
			}, b.flush = function () {
				return void 0 === a ? s : y(Ue())
			}, b
		},
		Ze = "Expected a function",
		ti = "__lodash_hash_undefined__",
		ei = "[object Function]",
		ii = "[object GeneratorFunction]",
		ri = /^\[object .+?Constructor\]$/,
		ni = "object" == typeof p && p && p.Object === Object && p,
		oi = "object" == typeof self && self && self.Object === Object && self,
		si = ni || oi || Function("return this")();
	var ai, li = Array.prototype,
		ci = Function.prototype,
		ui = Object.prototype,
		hi = si["__core-js_shared__"],
		fi = (ai = /[^.]+$/.exec(hi && hi.keys && hi.keys.IE_PROTO || "")) ? "Symbol(src)_1." + ai : "",
		di = ci.toString,
		pi = ui.hasOwnProperty,
		vi = ui.toString,
		yi = RegExp("^" + di.call(pi).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
		bi = li.splice,
		gi = ki(si, "Map"),
		mi = ki(Object, "create");

	function xi(t) {
		var e = -1,
			i = t ? t.length : 0;
		for (this.clear(); ++e < i;) {
			var r = t[e];
			this.set(r[0], r[1])
		}
	}

	function Ei(t) {
		var e = -1,
			i = t ? t.length : 0;
		for (this.clear(); ++e < i;) {
			var r = t[e];
			this.set(r[0], r[1])
		}
	}

	function wi(t) {
		var e = -1,
			i = t ? t.length : 0;
		for (this.clear(); ++e < i;) {
			var r = t[e];
			this.set(r[0], r[1])
		}
	}

	function _i(t, e) {
		for (var i, r, n = t.length; n--;)
			if ((i = t[n][0]) === (r = e) || i != i && r != r) return n;
		return -1
	}

	function Oi(t) {
		return !(!Mi(t) || (e = t, fi && fi in e)) && (function (t) {
			var e = Mi(t) ? vi.call(t) : "";
			return e == ei || e == ii
		}(t) || function (t) {
			var e = !1;
			if (null != t && "function" != typeof t.toString) try {
				e = !!(t + "")
			} catch (t) {}
			return e
		}(t) ? yi : ri).test(function (t) {
			if (null != t) {
				try {
					return di.call(t)
				} catch (t) {}
				try {
					return t + ""
				} catch (t) {}
			}
			return ""
		}(t));
		var e
	}

	function Si(t, e) {
		var i, r, n = t.__data__;
		return ("string" == (r = typeof (i = e)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== i : null === i) ? n["string" == typeof e ? "string" : "hash"] : n.map
	}

	function ki(t, e) {
		var i = function (t, e) {
			return null == t ? void 0 : t[e]
		}(t, e);
		return Oi(i) ? i : void 0
	}

	function Ai(t, e) {
		if ("function" != typeof t || e && "function" != typeof e) throw new TypeError(Ze);
		var i = function () {
			var r = arguments,
				n = e ? e.apply(this, r) : r[0],
				o = i.cache;
			if (o.has(n)) return o.get(n);
			var s = t.apply(this, r);
			return i.cache = o.set(n, s), s
		};
		return i.cache = new(Ai.Cache || wi), i
	}

	function Mi(t) {
		var e = typeof t;
		return !!t && ("object" == e || "function" == e)
	}
	xi.prototype.clear = function () {
		this.__data__ = mi ? mi(null) : {}
	}, xi.prototype.delete = function (t) {
		return this.has(t) && delete this.__data__[t]
	}, xi.prototype.get = function (t) {
		var e = this.__data__;
		if (mi) {
			var i = e[t];
			return i === ti ? void 0 : i
		}
		return pi.call(e, t) ? e[t] : void 0
	}, xi.prototype.has = function (t) {
		var e = this.__data__;
		return mi ? void 0 !== e[t] : pi.call(e, t)
	}, xi.prototype.set = function (t, e) {
		return this.__data__[t] = mi && void 0 === e ? ti : e, this
	}, Ei.prototype.clear = function () {
		this.__data__ = []
	}, Ei.prototype.delete = function (t) {
		var e = this.__data__,
			i = _i(e, t);
		return !(i < 0 || (i == e.length - 1 ? e.pop() : bi.call(e, i, 1), 0))
	}, Ei.prototype.get = function (t) {
		var e = this.__data__,
			i = _i(e, t);
		return i < 0 ? void 0 : e[i][1]
	}, Ei.prototype.has = function (t) {
		return _i(this.__data__, t) > -1
	}, Ei.prototype.set = function (t, e) {
		var i = this.__data__,
			r = _i(i, t);
		return r < 0 ? i.push([t, e]) : i[r][1] = e, this
	}, wi.prototype.clear = function () {
		this.__data__ = {
			hash: new xi,
			map: new(gi || Ei),
			string: new xi
		}
	}, wi.prototype.delete = function (t) {
		return Si(this, t).delete(t)
	}, wi.prototype.get = function (t) {
		return Si(this, t).get(t)
	}, wi.prototype.has = function (t) {
		return Si(this, t).has(t)
	}, wi.prototype.set = function (t, e) {
		return Si(this, t).set(t, e), this
	}, Ai.Cache = wi;
	var Li = Ai,
		Ti = function () {
			if ("undefined" != typeof Map) return Map;

			function t(t, e) {
				var i = -1;
				return t.some(function (t, r) {
					return t[0] === e && (i = r, !0)
				}), i
			}
			return function () {
				function e() {
					this.__entries__ = []
				}
				return Object.defineProperty(e.prototype, "size", {
					get: function () {
						return this.__entries__.length
					},
					enumerable: !0,
					configurable: !0
				}), e.prototype.get = function (e) {
					var i = t(this.__entries__, e),
						r = this.__entries__[i];
					return r && r[1]
				}, e.prototype.set = function (e, i) {
					var r = t(this.__entries__, e);
					~r ? this.__entries__[r][1] = i : this.__entries__.push([e, i])
				}, e.prototype.delete = function (e) {
					var i = this.__entries__,
						r = t(i, e);
					~r && i.splice(r, 1)
				}, e.prototype.has = function (e) {
					return !!~t(this.__entries__, e)
				}, e.prototype.clear = function () {
					this.__entries__.splice(0)
				}, e.prototype.forEach = function (t, e) {
					void 0 === e && (e = null);
					for (var i = 0, r = this.__entries__; i < r.length; i++) {
						var n = r[i];
						t.call(e, n[1], n[0])
					}
				}, e
			}()
		}(),
		ji = "undefined" != typeof window && "undefined" != typeof document && window.document === document,
		Ri = "undefined" != typeof global && global.Math === Math ? global : "undefined" != typeof self && self.Math === Math ? self : "undefined" != typeof window && window.Math === Math ? window : Function("return this")(),
		Ni = "function" == typeof requestAnimationFrame ? requestAnimationFrame.bind(Ri) : function (t) {
			return setTimeout(function () {
				return t(Date.now())
			}, 1e3 / 60)
		},
		Wi = 2;
	var Ci = 20,
		zi = ["top", "right", "bottom", "left", "width", "height", "size", "weight"],
		Di = "undefined" != typeof MutationObserver,
		Vi = function () {
			function t() {
				this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = function (t, e) {
					var i = !1,
						r = !1,
						n = 0;

					function o() {
						i && (i = !1, t()), r && a()
					}

					function s() {
						Ni(o)
					}

					function a() {
						var t = Date.now();
						if (i) {
							if (t - n < Wi) return;
							r = !0
						} else i = !0, r = !1, setTimeout(s, e);
						n = t
					}
					return a
				}(this.refresh.bind(this), Ci)
			}
			return t.prototype.addObserver = function (t) {
				~this.observers_.indexOf(t) || this.observers_.push(t), this.connected_ || this.connect_()
			}, t.prototype.removeObserver = function (t) {
				var e = this.observers_,
					i = e.indexOf(t);
				~i && e.splice(i, 1), !e.length && this.connected_ && this.disconnect_()
			}, t.prototype.refresh = function () {
				this.updateObservers_() && this.refresh()
			}, t.prototype.updateObservers_ = function () {
				var t = this.observers_.filter(function (t) {
					return t.gatherActive(), t.hasActive()
				});
				return t.forEach(function (t) {
					return t.broadcastActive()
				}), t.length > 0
			}, t.prototype.connect_ = function () {
				ji && !this.connected_ && (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), Di ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
					attributes: !0,
					childList: !0,
					characterData: !0,
					subtree: !0
				})) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0)
			}, t.prototype.disconnect_ = function () {
				ji && this.connected_ && (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1)
			}, t.prototype.onTransitionEnd_ = function (t) {
				var e = t.propertyName,
					i = void 0 === e ? "" : e;
				zi.some(function (t) {
					return !!~i.indexOf(t)
				}) && this.refresh()
			}, t.getInstance = function () {
				return this.instance_ || (this.instance_ = new t), this.instance_
			}, t.instance_ = null, t
		}(),
		Bi = function (t, e) {
			for (var i = 0, r = Object.keys(e); i < r.length; i++) {
				var n = r[i];
				Object.defineProperty(t, n, {
					value: e[n],
					enumerable: !1,
					writable: !1,
					configurable: !0
				})
			}
			return t
		},
		Pi = function (t) {
			return t && t.ownerDocument && t.ownerDocument.defaultView || Ri
		},
		Fi = Yi(0, 0, 0, 0);

	function Ii(t) {
		return parseFloat(t) || 0
	}

	function Hi(t) {
		for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		return e.reduce(function (e, i) {
			return e + Ii(t["border-" + i + "-width"])
		}, 0)
	}

	function qi(t) {
		var e = t.clientWidth,
			i = t.clientHeight;
		if (!e && !i) return Fi;
		var r = Pi(t).getComputedStyle(t),
			n = function (t) {
				for (var e = {}, i = 0, r = ["top", "right", "bottom", "left"]; i < r.length; i++) {
					var n = r[i],
						o = t["padding-" + n];
					e[n] = Ii(o)
				}
				return e
			}(r),
			o = n.left + n.right,
			s = n.top + n.bottom,
			a = Ii(r.width),
			l = Ii(r.height);
		if ("border-box" === r.boxSizing && (Math.round(a + o) !== e && (a -= Hi(r, "left", "right") + o), Math.round(l + s) !== i && (l -= Hi(r, "top", "bottom") + s)), ! function (t) {
				return t === Pi(t).document.documentElement
			}(t)) {
			var c = Math.round(a + o) - e,
				u = Math.round(l + s) - i;
			1 !== Math.abs(c) && (a -= c), 1 !== Math.abs(u) && (l -= u)
		}
		return Yi(n.left, n.top, a, l)
	}
	var $i = "undefined" != typeof SVGGraphicsElement ? function (t) {
		return t instanceof Pi(t).SVGGraphicsElement
	} : function (t) {
		return t instanceof Pi(t).SVGElement && "function" == typeof t.getBBox
	};

	function Xi(t) {
		return ji ? $i(t) ? function (t) {
			var e = t.getBBox();
			return Yi(0, 0, e.width, e.height)
		}(t) : qi(t) : Fi
	}

	function Yi(t, e, i, r) {
		return {
			x: t,
			y: e,
			width: i,
			height: r
		}
	}
	var Gi = function () {
			function t(t) {
				this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = Yi(0, 0, 0, 0), this.target = t
			}
			return t.prototype.isActive = function () {
				var t = Xi(this.target);
				return this.contentRect_ = t, t.width !== this.broadcastWidth || t.height !== this.broadcastHeight
			}, t.prototype.broadcastRect = function () {
				var t = this.contentRect_;
				return this.broadcastWidth = t.width, this.broadcastHeight = t.height, t
			}, t
		}(),
		Ui = function () {
			return function (t, e) {
				var i, r, n, o, s, a, l, c = (r = (i = e).x, n = i.y, o = i.width, s = i.height, a = "undefined" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object, l = Object.create(a.prototype), Bi(l, {
					x: r,
					y: n,
					width: o,
					height: s,
					top: n,
					right: r + o,
					bottom: s + n,
					left: r
				}), l);
				Bi(this, {
					target: t,
					contentRect: c
				})
			}
		}(),
		Ji = function () {
			function t(t, e, i) {
				if (this.activeObservations_ = [], this.observations_ = new Ti, "function" != typeof t) throw new TypeError("The callback provided as parameter 1 is not a function.");
				this.callback_ = t, this.controller_ = e, this.callbackCtx_ = i
			}
			return t.prototype.observe = function (t) {
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				if ("undefined" != typeof Element && Element instanceof Object) {
					if (!(t instanceof Pi(t).Element)) throw new TypeError('parameter 1 is not of type "Element".');
					var e = this.observations_;
					e.has(t) || (e.set(t, new Gi(t)), this.controller_.addObserver(this), this.controller_.refresh())
				}
			}, t.prototype.unobserve = function (t) {
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				if ("undefined" != typeof Element && Element instanceof Object) {
					if (!(t instanceof Pi(t).Element)) throw new TypeError('parameter 1 is not of type "Element".');
					var e = this.observations_;
					e.has(t) && (e.delete(t), e.size || this.controller_.removeObserver(this))
				}
			}, t.prototype.disconnect = function () {
				this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this)
			}, t.prototype.gatherActive = function () {
				var t = this;
				this.clearActive(), this.observations_.forEach(function (e) {
					e.isActive() && t.activeObservations_.push(e)
				})
			}, t.prototype.broadcastActive = function () {
				if (this.hasActive()) {
					var t = this.callbackCtx_,
						e = this.activeObservations_.map(function (t) {
							return new Ui(t.target, t.broadcastRect())
						});
					this.callback_.call(t, e, t), this.clearActive()
				}
			}, t.prototype.clearActive = function () {
				this.activeObservations_.splice(0)
			}, t.prototype.hasActive = function () {
				return this.activeObservations_.length > 0
			}, t
		}(),
		Ki = "undefined" != typeof WeakMap ? new WeakMap : new Ti,
		Qi = function () {
			return function t(e) {
				if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function.");
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				var i = Vi.getInstance(),
					r = new Ji(e, i, this);
				Ki.set(this, r)
			}
		}();
	["observe", "unobserve", "disconnect"].forEach(function (t) {
		Qi.prototype[t] = function () {
			var e;
			return (e = Ki.get(this))[t].apply(e, arguments)
		}
	});
	var Zi = void 0 !== Ri.ResizeObserver ? Ri.ResizeObserver : Qi,
		tr = !("undefined" == typeof window || !window.document || !window.document.createElement),
		er = function () {
			function t(e, i) {
				var r = this;
				! function (t, e) {
					if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
				}(this, t), this.onScroll = function () {
					r.scrollXTicking || (window.requestAnimationFrame(r.scrollX), r.scrollXTicking = !0), r.scrollYTicking || (window.requestAnimationFrame(r.scrollY), r.scrollYTicking = !0)
				}, this.scrollX = function () {
					r.axis.x.isOverflowing && (r.showScrollbar("x"), r.positionScrollbar("x")), r.scrollXTicking = !1
				}, this.scrollY = function () {
					r.axis.y.isOverflowing && (r.showScrollbar("y"), r.positionScrollbar("y")), r.scrollYTicking = !1
				}, this.onMouseEnter = function () {
					r.showScrollbar("x"), r.showScrollbar("y")
				}, this.onMouseMove = function (t) {
					r.mouseX = t.clientX, r.mouseY = t.clientY, (r.axis.x.isOverflowing || r.axis.x.forceVisible) && r.onMouseMoveForAxis("x"), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && r.onMouseMoveForAxis("y")
				}, this.onMouseLeave = function () {
					r.onMouseMove.cancel(), (r.axis.x.isOverflowing || r.axis.x.forceVisible) && r.onMouseLeaveForAxis("x"), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && r.onMouseLeaveForAxis("y"), r.mouseX = -1, r.mouseY = -1
				}, this.onWindowResize = function () {
					r.scrollbarWidth = ve(), r.hideNativeScrollbar()
				}, this.hideScrollbars = function () {
					r.axis.x.track.rect = r.axis.x.track.el.getBoundingClientRect(), r.axis.y.track.rect = r.axis.y.track.el.getBoundingClientRect(), r.isWithinBounds(r.axis.y.track.rect) || (r.axis.y.scrollbar.el.classList.remove(r.classNames.visible), r.axis.y.isVisible = !1), r.isWithinBounds(r.axis.x.track.rect) || (r.axis.x.scrollbar.el.classList.remove(r.classNames.visible), r.axis.x.isVisible = !1)
				}, this.onPointerEvent = function (t) {
					var e, i;
					r.axis.x.scrollbar.rect = r.axis.x.scrollbar.el.getBoundingClientRect(), r.axis.y.scrollbar.rect = r.axis.y.scrollbar.el.getBoundingClientRect(), (r.axis.x.isOverflowing || r.axis.x.forceVisible) && (i = r.isWithinBounds(r.axis.x.scrollbar.rect)), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && (e = r.isWithinBounds(r.axis.y.scrollbar.rect)), (e || i) && (t.preventDefault(), t.stopPropagation(), "mousedown" === t.type && (e && r.onDragStart(t, "y"), i && r.onDragStart(t, "x")))
				}, this.drag = function (e) {
					var i = r.axis[r.draggedAxis].track,
						n = i.rect[r.axis[r.draggedAxis].sizeAttr],
						o = r.axis[r.draggedAxis].scrollbar;
					e.preventDefault(), e.stopPropagation();
					var s = (("y" === r.draggedAxis ? e.pageY : e.pageX) - i.rect[r.axis[r.draggedAxis].offsetAttr] - r.axis[r.draggedAxis].dragOffset) / i.rect[r.axis[r.draggedAxis].sizeAttr] * r.contentEl[r.axis[r.draggedAxis].scrollSizeAttr];
					"x" === r.draggedAxis && (s = r.isRtl && t.getRtlHelpers().isRtlScrollbarInverted ? s - (n + o.size) : s, s = r.isRtl && t.getRtlHelpers().isRtlScrollingInverted ? -s : s), r.contentEl[r.axis[r.draggedAxis].scrollOffsetAttr] = s
				}, this.onEndDrag = function (t) {
					t.preventDefault(), t.stopPropagation(), document.removeEventListener("mousemove", r.drag), document.removeEventListener("mouseup", r.onEndDrag)
				}, this.el = e, this.flashTimeout, this.contentEl, this.offsetEl, this.maskEl, this.globalObserver, this.mutationObserver, this.resizeObserver, this.scrollbarWidth, this.minScrollbarWidth = 20, this.options = pe({}, t.defaultOptions, i), this.classNames = pe({}, t.defaultOptions.classNames, this.options.classNames), this.isRtl, this.axis = {
					x: {
						scrollOffsetAttr: "scrollLeft",
						sizeAttr: "width",
						scrollSizeAttr: "scrollWidth",
						offsetAttr: "left",
						overflowAttr: "overflowX",
						dragOffset: 0,
						isOverflowing: !0,
						isVisible: !1,
						forceVisible: !1,
						track: {},
						scrollbar: {}
					},
					y: {
						scrollOffsetAttr: "scrollTop",
						sizeAttr: "height",
						scrollSizeAttr: "scrollHeight",
						offsetAttr: "top",
						overflowAttr: "overflowY",
						dragOffset: 0,
						isOverflowing: !0,
						isVisible: !1,
						forceVisible: !1,
						track: {},
						scrollbar: {}
					}
				}, this.recalculate = We(this.recalculate.bind(this), 64), this.onMouseMove = We(this.onMouseMove.bind(this), 64), this.hideScrollbars = Qe(this.hideScrollbars.bind(this), this.options.timeout), this.onWindowResize = Qe(this.onWindowResize.bind(this), 64, {
					leading: !0
				}), t.getRtlHelpers = Li(t.getRtlHelpers), this.getContentElement = this.getScrollElement, this.init()
			}
			var e, i, r;
			return e = t, r = [{
				key: "getRtlHelpers",
				value: function () {
					var e = document.createElement("div");
					e.innerHTML = '<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';
					var i = e.firstElementChild;
					document.body.appendChild(i);
					var r = i.firstElementChild;
					i.scrollLeft = 0;
					var n = t.getOffset(i),
						o = t.getOffset(r);
					i.scrollLeft = 999;
					var s = t.getOffset(r);
					return {
						isRtlScrollingInverted: n.left !== o.left && o.left - s.left != 0,
						isRtlScrollbarInverted: n.left !== o.left
					}
				}
			}, {
				key: "initHtmlApi",
				value: function () {
					this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this), "undefined" != typeof MutationObserver && (this.globalObserver = new MutationObserver(function (e) {
						e.forEach(function (e) {
							Array.from(e.addedNodes).forEach(function (e) {
								1 === e.nodeType && (e.hasAttribute("data-simplebar") ? !e.SimpleBar && new t(e, t.getElOptions(e)) : Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function (e) {
									!e.SimpleBar && new t(e, t.getElOptions(e))
								}))
							}), Array.from(e.removedNodes).forEach(function (t) {
								1 === t.nodeType && (t.hasAttribute("data-simplebar") ? t.SimpleBar && t.SimpleBar.unMount() : Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function (t) {
									t.SimpleBar && t.SimpleBar.unMount()
								}))
							})
						})
					}), this.globalObserver.observe(document, {
						childList: !0,
						subtree: !0
					})), "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll ? window.setTimeout(this.initDOMLoadedElements) : (document.addEventListener("DOMContentLoaded", this.initDOMLoadedElements), window.addEventListener("load", this.initDOMLoadedElements))
				}
			}, {
				key: "getElOptions",
				value: function (t) {
					return Array.from(t.attributes).reduce(function (t, e) {
						var i = e.name.match(/data-simplebar-(.+)/);
						if (i) {
							var r = i[1].replace(/\W+(.)/g, function (t, e) {
								return e.toUpperCase()
							});
							switch (e.value) {
								case "true":
									t[r] = !0;
									break;
								case "false":
									t[r] = !1;
									break;
								case void 0:
									t[r] = !0;
									break;
								default:
									t[r] = e.value
							}
						}
						return t
					}, {})
				}
			}, {
				key: "removeObserver",
				value: function () {
					this.globalObserver.disconnect()
				}
			}, {
				key: "initDOMLoadedElements",
				value: function () {
					document.removeEventListener("DOMContentLoaded", this.initDOMLoadedElements), window.removeEventListener("load", this.initDOMLoadedElements), Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function (e) {
						e.SimpleBar || new t(e, t.getElOptions(e))
					})
				}
			}, {
				key: "getOffset",
				value: function (t) {
					var e = t.getBoundingClientRect();
					return {
						top: e.top + (window.pageYOffset || document.documentElement.scrollTop),
						left: e.left + (window.pageXOffset || document.documentElement.scrollLeft)
					}
				}
			}], (i = [{
				key: "init",
				value: function () {
					this.el.SimpleBar = this, tr && (this.initDOM(), this.scrollbarWidth = ve(), this.recalculate(), this.initListeners())
				}
			}, {
				key: "initDOM",
				value: function () {
					var t = this;
					if (Array.from(this.el.children).filter(function (e) {
							return e.classList.contains(t.classNames.wrapper)
						}).length) this.wrapperEl = this.el.querySelector(".".concat(this.classNames.wrapper)), this.contentEl = this.el.querySelector(".".concat(this.classNames.content)), this.offsetEl = this.el.querySelector(".".concat(this.classNames.offset)), this.maskEl = this.el.querySelector(".".concat(this.classNames.mask)), this.placeholderEl = this.el.querySelector(".".concat(this.classNames.placeholder)), this.heightAutoObserverWrapperEl = this.el.querySelector(".".concat(this.classNames.heightAutoObserverWrapperEl)), this.heightAutoObserverEl = this.el.querySelector(".".concat(this.classNames.heightAutoObserverEl)), this.axis.x.track.el = this.el.querySelector(".".concat(this.classNames.track, ".").concat(this.classNames.horizontal)), this.axis.y.track.el = this.el.querySelector(".".concat(this.classNames.track, ".").concat(this.classNames.vertical));
					else {
						for (this.wrapperEl = document.createElement("div"), this.contentEl = document.createElement("div"), this.offsetEl = document.createElement("div"), this.maskEl = document.createElement("div"), this.placeholderEl = document.createElement("div"), this.heightAutoObserverWrapperEl = document.createElement("div"), this.heightAutoObserverEl = document.createElement("div"), this.wrapperEl.classList.add(this.classNames.wrapper), this.contentEl.classList.add(this.classNames.content), this.offsetEl.classList.add(this.classNames.offset), this.maskEl.classList.add(this.classNames.mask), this.placeholderEl.classList.add(this.classNames.placeholder), this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl), this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl); this.el.firstChild;) this.contentEl.appendChild(this.el.firstChild);
						this.offsetEl.appendChild(this.contentEl), this.maskEl.appendChild(this.offsetEl), this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl), this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl), this.wrapperEl.appendChild(this.maskEl), this.wrapperEl.appendChild(this.placeholderEl), this.el.appendChild(this.wrapperEl)
					}
					if (!this.axis.x.track.el || !this.axis.y.track.el) {
						var e = document.createElement("div"),
							i = document.createElement("div");
						e.classList.add(this.classNames.track), i.classList.add(this.classNames.scrollbar), this.options.autoHide || i.classList.add(this.classNames.visible), e.appendChild(i), this.axis.x.track.el = e.cloneNode(!0), this.axis.x.track.el.classList.add(this.classNames.horizontal), this.axis.y.track.el = e.cloneNode(!0), this.axis.y.track.el.classList.add(this.classNames.vertical), this.el.appendChild(this.axis.x.track.el), this.el.appendChild(this.axis.y.track.el)
					}
					this.axis.x.scrollbar.el = this.axis.x.track.el.querySelector(".".concat(this.classNames.scrollbar)), this.axis.y.scrollbar.el = this.axis.y.track.el.querySelector(".".concat(this.classNames.scrollbar)), this.el.setAttribute("data-simplebar", "init")
				}
			}, {
				key: "initListeners",
				value: function () {
					var t = this;
					this.options.autoHide && this.el.addEventListener("mouseenter", this.onMouseEnter), ["mousedown", "click", "dblclick", "touchstart", "touchend", "touchmove"].forEach(function (e) {
						t.el.addEventListener(e, t.onPointerEvent, !0)
					}), this.el.addEventListener("mousemove", this.onMouseMove), this.el.addEventListener("mouseleave", this.onMouseLeave), this.contentEl.addEventListener("scroll", this.onScroll), window.addEventListener("resize", this.onWindowResize), "undefined" != typeof MutationObserver && (this.mutationObserver = new MutationObserver(function (e) {
						e.forEach(function (e) {
							(e.target === t.el || !t.isChildNode(e.target) || e.addedNodes.length || e.removedNodes.length) && t.recalculate()
						})
					}), this.mutationObserver.observe(this.el, {
						attributes: !0,
						childList: !0,
						characterData: !0,
						subtree: !0
					})), this.resizeObserver = new Zi(this.recalculate), this.resizeObserver.observe(this.el)
				}
			}, {
				key: "recalculate",
				value: function () {
					var t = this.heightAutoObserverEl.offsetHeight <= 1;
					this.elStyles = window.getComputedStyle(this.el), this.isRtl = "rtl" === this.elStyles.direction, this.contentEl.style.padding = "".concat(this.elStyles.paddingTop, " ").concat(this.elStyles.paddingRight, " ").concat(this.elStyles.paddingBottom, " ").concat(this.elStyles.paddingLeft), this.contentEl.style.height = t ? "auto" : "100%", this.placeholderEl.style.width = "".concat(this.contentEl.scrollWidth, "px"), this.placeholderEl.style.height = "".concat(this.contentEl.scrollHeight, "px"), this.wrapperEl.style.margin = "-".concat(this.elStyles.paddingTop, " -").concat(this.elStyles.paddingRight, " -").concat(this.elStyles.paddingBottom, " -").concat(this.elStyles.paddingLeft), this.axis.x.track.rect = this.axis.x.track.el.getBoundingClientRect(), this.axis.y.track.rect = this.axis.y.track.el.getBoundingClientRect(), this.axis.x.isOverflowing = (this.scrollbarWidth ? this.contentEl.scrollWidth : this.contentEl.scrollWidth - this.minScrollbarWidth) > Math.ceil(this.axis.x.track.rect.width), this.axis.y.isOverflowing = (this.scrollbarWidth ? this.contentEl.scrollHeight : this.contentEl.scrollHeight - this.minScrollbarWidth) > Math.ceil(this.axis.y.track.rect.height), this.axis.x.isOverflowing = "hidden" !== this.elStyles.overflowX && this.axis.x.isOverflowing, this.axis.y.isOverflowing = "hidden" !== this.elStyles.overflowY && this.axis.y.isOverflowing, this.axis.x.forceVisible = "x" === this.options.forceVisible || !0 === this.options.forceVisible, this.axis.y.forceVisible = "y" === this.options.forceVisible || !0 === this.options.forceVisible, this.axis.x.scrollbar.size = this.getScrollbarSize("x"), this.axis.y.scrollbar.size = this.getScrollbarSize("y"), this.axis.x.scrollbar.el.style.width = "".concat(this.axis.x.scrollbar.size, "px"), this.axis.y.scrollbar.el.style.height = "".concat(this.axis.y.scrollbar.size, "px"), this.positionScrollbar("x"), this.positionScrollbar("y"), this.toggleTrackVisibility("x"), this.toggleTrackVisibility("y"), this.hideNativeScrollbar()
				}
			}, {
				key: "getScrollbarSize",
				value: function () {
					var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y",
						i = this.scrollbarWidth ? this.contentEl[this.axis[e].scrollSizeAttr] : this.contentEl[this.axis[e].scrollSizeAttr] - this.minScrollbarWidth,
						r = this.axis[e].track.rect[this.axis[e].sizeAttr];
					if (this.axis[e].isOverflowing) {
						var n = r / i;
						return t = Math.max(~~(n * r), this.options.scrollbarMinSize), this.options.scrollbarMaxSize && (t = Math.min(t, this.options.scrollbarMaxSize)), t
					}
				}
			}, {
				key: "positionScrollbar",
				value: function () {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y",
						i = this.contentEl[this.axis[e].scrollSizeAttr],
						r = this.axis[e].track.rect[this.axis[e].sizeAttr],
						n = parseInt(this.elStyles[this.axis[e].sizeAttr], 10),
						o = this.axis[e].scrollbar,
						s = this.contentEl[this.axis[e].scrollOffsetAttr],
						a = (s = "x" === e && this.isRtl && t.getRtlHelpers().isRtlScrollingInverted ? -s : s) / (i - n),
						l = ~~((r - o.size) * a);
					l = "x" === e && this.isRtl && t.getRtlHelpers().isRtlScrollbarInverted ? l + (r - o.size) : l, o.el.style.transform = "x" === e ? "translate3d(".concat(l, "px, 0, 0)") : "translate3d(0, ".concat(l, "px, 0)")
				}
			}, {
				key: "toggleTrackVisibility",
				value: function () {
					var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y",
						e = this.axis[t].track.el,
						i = this.axis[t].scrollbar.el;
					this.axis[t].isOverflowing || this.axis[t].forceVisible ? (e.style.visibility = "visible", this.contentEl.style[this.axis[t].overflowAttr] = "scroll") : (e.style.visibility = "hidden", this.contentEl.style[this.axis[t].overflowAttr] = "hidden"), this.axis[t].isOverflowing ? i.style.visibility = "visible" : i.style.visibility = "hidden"
				}
			}, {
				key: "hideNativeScrollbar",
				value: function () {
					if (this.offsetEl.style[this.isRtl ? "left" : "right"] = this.axis.y.isOverflowing || this.axis.y.forceVisible ? "-".concat(this.scrollbarWidth || this.minScrollbarWidth, "px") : 0, this.offsetEl.style.bottom = this.axis.x.isOverflowing || this.axis.x.forceVisible ? "-".concat(this.scrollbarWidth || this.minScrollbarWidth, "px") : 0, !this.scrollbarWidth) {
						var t = [this.isRtl ? "paddingLeft" : "paddingRight"];
						this.contentEl.style[t] = this.axis.y.isOverflowing || this.axis.y.forceVisible ? "calc(".concat(this.elStyles[t], " + ").concat(this.minScrollbarWidth, "px)") : this.elStyles[t], this.contentEl.style.paddingBottom = this.axis.x.isOverflowing || this.axis.x.forceVisible ? "calc(".concat(this.elStyles.paddingBottom, " + ").concat(this.minScrollbarWidth, "px)") : this.elStyles.paddingBottom
					}
				}
			}, {
				key: "onMouseMoveForAxis",
				value: function () {
					var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y";
					this.axis[t].track.rect = this.axis[t].track.el.getBoundingClientRect(), this.axis[t].scrollbar.rect = this.axis[t].scrollbar.el.getBoundingClientRect(), this.isWithinBounds(this.axis[t].scrollbar.rect) ? this.axis[t].scrollbar.el.classList.add(this.classNames.hover) : this.axis[t].scrollbar.el.classList.remove(this.classNames.hover), this.isWithinBounds(this.axis[t].track.rect) ? (this.showScrollbar(t), this.axis[t].track.el.classList.add(this.classNames.hover)) : this.axis[t].track.el.classList.remove(this.classNames.hover)
				}
			}, {
				key: "onMouseLeaveForAxis",
				value: function () {
					var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y";
					this.axis[t].track.el.classList.remove(this.classNames.hover), this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)
				}
			}, {
				key: "showScrollbar",
				value: function () {
					var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y",
						e = this.axis[t].scrollbar.el;
					this.axis[t].isVisible || (e.classList.add(this.classNames.visible), this.axis[t].isVisible = !0), this.options.autoHide && this.hideScrollbars()
				}
			}, {
				key: "onDragStart",
				value: function (t) {
					var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "y",
						i = this.axis[e].scrollbar.el,
						r = "y" === e ? t.pageY : t.pageX;
					this.axis[e].dragOffset = r - i.getBoundingClientRect()[this.axis[e].offsetAttr], this.draggedAxis = e, document.addEventListener("mousemove", this.drag), document.addEventListener("mouseup", this.onEndDrag)
				}
			}, {
				key: "getScrollElement",
				value: function () {
					return this.contentEl
				}
			}, {
				key: "removeListeners",
				value: function () {
					var t = this;
					this.options.autoHide && this.el.removeEventListener("mouseenter", this.onMouseEnter), ["mousedown", "click", "dblclick", "touchstart", "touchend", "touchmove"].forEach(function (e) {
						t.el.removeEventListener(e, t.onPointerEvent)
					}), this.el.removeEventListener("mousemove", this.onMouseMove), this.el.removeEventListener("mouseleave", this.onMouseLeave), this.contentEl.removeEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onWindowResize), this.mutationObserver && this.mutationObserver.disconnect(), this.resizeObserver.disconnect(), this.recalculate.cancel(), this.onMouseMove.cancel(), this.hideScrollbars.cancel(), this.onWindowResize.cancel()
				}
			}, {
				key: "unMount",
				value: function () {
					this.removeListeners(), this.el.SimpleBar = null
				}
			}, {
				key: "isChildNode",
				value: function (t) {
					return null !== t && (t === this.el || this.isChildNode(t.parentNode))
				}
			}, {
				key: "isWithinBounds",
				value: function (t) {
					return this.mouseX >= t.left && this.mouseX <= t.left + t.width && this.mouseY >= t.top && this.mouseY <= t.top + t.height
				}
			}]) && fe(e.prototype, i), r && fe(e, r), t
		}();
	return er.defaultOptions = {
		autoHide: !0,
		forceVisible: !1,
		classNames: {
			content: "simplebar-content",
			offset: "simplebar-offset",
			mask: "simplebar-mask",
			wrapper: "simplebar-wrapper",
			placeholder: "simplebar-placeholder",
			scrollbar: "simplebar-scrollbar",
			track: "simplebar-track",
			heightAutoObserverWrapperEl: "simplebar-height-auto-observer-wrapper",
			heightAutoObserverEl: "simplebar-height-auto-observer",
			visible: "simplebar-visible",
			horizontal: "simplebar-horizontal",
			vertical: "simplebar-vertical",
			hover: "simplebar-hover"
		},
		scrollbarMinSize: 25,
		scrollbarMaxSize: 0,
		timeout: 1e3
	}, tr && er.initHtmlApi(), er
});
/*
	jAutoCalc.js
	Copyright (c) 2010 3StorySoftware, LLC
	see LICENSE for details
*/
! function (e) {
	e.fn.jAutoCalc = function (t) {
		var s = {},
			u = {
				sum: {
					rgx: "sum\\({([^}]+)}\\)",
					exec: function (t, r, s) {
						return m = 0, e(l(t), r).each(function () {
							n = 1 * o(e(this).val(), s), m += n
						}), m
					}
				},
				avg: {
					rgx: "avg\\({([^}]+)}\\)",
					exec: function (t, r, s) {
						return m = 0, c = e(l(t), r).each(function () {
							n = 1 * o(e(this).val(), s), m += n
						}).length, m / c
					}
				},
				min: {
					rgx: "min\\({([^}]+)}\\)",
					exec: function (t, r, n) {
						return Math.min.apply(this, e(l(t), r).map(function (t, r) {
							return o(e(r).val(), n)
						}).get())
					}
				},
				max: {
					rgx: "max\\({([^}]+)}\\)",
					exec: function (t, r, n) {
						return Math.max.apply(this, e(l(t), r).map(function (t, r) {
							return o(e(r).val(), n)
						}).get())
					}
				},
				count: {
					rgx: "count\\({([^}]+)}\\)",
					exec: function (t, r) {
						return e(l(t), r).length
					}
				},
				countNotEmpty: {
					rgx: "countNotEmpty\\({([^}]+)}\\)",
					exec: function (t, r) {
						return e.grep(e(l(t), r), function (t) {
							return e(t).val()
						}).length
					}
				}
			},
			a = function (e) {
				for (fields = new Array, r = /{([^}]+)}/gi; null != (m = r.exec(e));) fields[fields.length] = m[1];
				return fields
			},
			l = function (e) {
				return /^[a-zA-Z].*/.test(e) ? ':input[name="' + e + '"]' : e
			},
			o = function (t, r) {
				for (numValue = "", numOpts = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "-"], ch = "", dec = "", decLoc = -1, thou = "", sym = "", symLoc = -1, decPlaces = 0, sepOpts = s.decimalOpts.concat(s.thousandOpts), z = t.length - 1; z >= 0; z--) ch = t.charAt(z), -1 != e.inArray(ch, numOpts) ? numValue = ch + numValue : "" == dec && -1 != e.inArray(ch, s.decimalOpts) ? (decLoc = z, dec = ch, numValue = "." + numValue) : "" == thou && -1 != e.inArray(ch, s.thousandOpts) ? thou = ch : "" != sym || -1 != e.inArray(ch, sepOpts) || 0 != z && z != t.length - 1 || (sym = ch, symLoc = z);
				return "" != dec && (decPlaces = t.length - decLoc - 1, symLoc > decLoc && decPlaces--), -1 != s.decimalPlaces && (decPlaces = s.decimalPlaces), 2 == arguments.length && ("" == r.dec && "" != dec && (r.dec = dec), (-1 == r.decPlaces && -1 != decPlaces || -1 != r.decPlaces && -1 != decPlaces && decPlaces < r.decPlaces) && (r.decPlaces = decPlaces), "" == r.thou && "" != thou && (r.thou = thou), "" == r.sym && "" != sym && (r.sym = sym, r.symLoc = symLoc)), s.emptyAsZero && "" == numValue && (numValue = "0"), numValue
			},
			d = function (t, n, c, a) {
				field = "", fieldValue = "", numValue = "", resultvalue = "";
				var d = {
					dec: "",
					decPlaces: -1,
					thou: "",
					sym: "",
					symLoc: -1
				};
				for (func in u)
					for (f = u[func], r = new RegExp(f.rgx, "gi"); null != (m = r.exec(t));) v = f.exec(m[1], a, d), t = t.replace(new RegExp(f.rgx, "gi"), v);
				for (i = 0; i < n.length; i++) {
					if (field = n[i], fieldValue = e(l(field), a).val(), numValue = o(fieldValue, d), 0 == numValue.length) return void c.val("").change();
					t = t.replace(new RegExp("{" + field + "}", "g"), numValue)
				}
				t = t.replace(/ /g, ""), "" == d.dec && (d.dec = s.decimalOpts[0]), -1 == d.decPlaces && (d.decPlaces = 0), "" == d.thou && (d.thou = s.thousandOpts[0]), resultValue = $(t), null == resultValue ? resultValue = "" : resultValue = h(resultValue, d.decPlaces), resultValue = resultValue.replace(/\./g, "<c>"), resultValue = resultValue.replace(/\,/g, "<t>"), resultValue = resultValue.replace(/\<c\>/g, d.dec), resultValue = resultValue.replace(/\<t\>/g, d.thou), d.symLoc > -1 && (0 == d.symLoc ? resultValue = d.sym + resultValue : resultValue += d.sym), s.smartIntegers && (resultValue = resultValue.replace(/[\,\.]0+$/, "")), e.isFunction(s.onShowResult) && (resultValue = s.onShowResult.call(this, c, resultValue)), c.val(resultValue), s.chainFire && c.change()
			},
			h = function (e, t) {
				for (n = e.toFixed(t) + "", x = n.split("."), x1 = x[0], x2 = x.length > 1 ? "." + x[1] : "", rgx = /(\d+)(\d{3})/; rgx.test(x1);) x1 = x1.replace(rgx, "$1,$2");
				return x1 + x2
			},
			g = {
				"+": {
					op: "+",
					precedence: 10,
					assoc: "L",
					exec: function (e, t) {
						return e + t
					}
				},
				"-": {
					op: "-",
					precedence: 10,
					assoc: "L",
					exec: function (e, t) {
						return e - t
					}
				},
				"*": {
					op: "*",
					precedence: 20,
					assoc: "L",
					exec: function (e, t) {
						return e * t
					}
				},
				"/": {
					op: "/",
					precedence: 20,
					assoc: "L",
					exec: function (e, t) {
						return e / t
					}
				},
				"**": {
					op: "**",
					precedence: 30,
					assoc: "R",
					exec: function (e, t) {
						return Math.pow(e, t)
					}
				}
			},
			p = {
				e: Math.exp(1),
				pi: 4 * Math.atan2(1, 1)
			},
			y = function (e) {
				var t, r, n = e.offset;
				for (t = 0;
					"0123456789".indexOf(e.string.substr(e.offset, 1)) >= 0 && e.offset < e.string.length;) e.offset++;
				if ("." == e.string.substr(e.offset, 1))
					for (e.offset++;
						"0123456789".indexOf(e.string.substr(e.offset, 1)) >= 0 && e.offset < e.string.length;) e.offset++;
				if (e.offset > n) return parseFloat(e.string.substr(n, e.offset - n));
				if ("+" == e.string.substr(e.offset, 1)) return e.offset++, y(e);
				if ("-" == e.string.substr(e.offset, 1)) return e.offset++, V(y(e));
				if ("(" == e.string.substr(e.offset, 1)) {
					if (e.offset++, t = b(e), ")" == e.string.substr(e.offset, 1)) return e.offset++, t;
					throw e.error = "Parsing error: ')' expected", "parseError"
				}
				if (r = /^[a-z_][a-z0-9_]*/i.exec(e.string.substr(e.offset))) {
					var s = r[0];
					if (e.offset += s.length, s in p) return p[s];
					throw e.error = "Semantic error: unknown variable '" + s + "'", "unknownVar"
				}
				throw e.string.length == e.offset ? (e.error = "Parsing error at end of string: value expected", "valueMissing") : (e.error = "Parsing error: unrecognized value", "valueNotParsed")
			},
			V = function (e) {
				return -e
			},
			P = function (e) {
				return "**" == e.string.substr(e.offset, 2) ? (e.offset += 2, g["**"]) : "+-*/".indexOf(e.string.substr(e.offset, 1)) >= 0 ? g[e.string.substr(e.offset++, 1)] : null
			},
			b = function (e) {
				for (var t, r = [{
						precedence: 0,
						assoc: "L"
					}], n = y(e);;) {
					for (t = P(e) || {
							precedence: 0,
							assoc: "L"
						}; t.precedence < r[r.length - 1].precedence || t.precedence == r[r.length - 1].precedence && "L" == t.assoc;) {
						var s = r.pop();
						if (!s.exec) return n;
						n = s.exec(s.value, n)
					}
					r.push({
						op: t.op,
						precedence: t.precedence,
						assoc: t.assoc,
						exec: t.exec,
						value: n
					}), n = y(e)
				}
			},
			$ = function (e) {
				var t = {
					string: e,
					offset: 0
				};
				try {
					var r = b(t);
					if (t.offset < t.string.length) throw t.error = "Syntax error: junk found at offset " + t.offset, "trailingJunk";
					return r
				} catch (n) {
					return void(s.showParseError && alert(t.error + " (" + n + "):\n" + t.string.substr(0, t.offset) + "<*>" + t.string.substr(t.offset)))
				}
			},
			L = function (t) {
				for (s = e.extend({}, e.fn.jAutoCalc.defaults), i = 0; i < t.length; i++) "object" == typeof t[i] && (s = e.extend(s, t[i]));
				u = e.extend(u, s.funcs), p = e.extend(p, s.vars)
			},
			j = {
				init: function () {
					return this.each(function () {
						$ctx = e(this), e("[" + s.attribute + "]:not([_jac])", $ctx).each(function () {
							if ($this = e(this), eq = $this.attr(s.attribute), fields = a(eq), 0 != fields.length) {
								for (i = 0; i < fields.length; i++)
									if (0 == e(l(fields[i]), $ctx).length) return;
								for (field = "", name = $this.attr("name"), fireEvents = "focus.jautocalc change.jautocalc blur.jautocalc", s.keyEventsFire && (fireEvents += " keyup.jautocalc keydown.jautocalc keypress.jautocalc"), i = 0; i < fields.length; i++) field = fields[i], e(l(field), $ctx).bind(fireEvents, {
									equation: eq,
									equationFields: fields,
									result: $this,
									context: $ctx
								}, function (e) {
									d(e.data.equation, e.data.equationFields, e.data.result, e.data.context)
								});
								s.readOnlyResults && $this.attr("readonly", !0), $this.attr("_jac", "_jac"), s.initFire && e(l(fields[0]), $ctx).change()
							}
						})
					})
				},
				destroy: function () {
					return this.each(function () {
						$ctx = e(this), e("[" + s.attribute + "][_jac]", $ctx).each(function () {
							if ($this = e(this), eq = $this.attr(s.attribute), fields = a(eq), 0 != fields.length) {
								for (field = "", i = 0; i < fields.length; i++) field = fields[i], e(l(field), $ctx).unbind(".jautocalc");
								s.readOnlyResults && $this.removeAttr("readonly"), $this.removeAttr("_jac")
							}
						})
					})
				}
			};
		return L(arguments), j[t] ? j[t].apply(this) : j.init.apply(this)
	}, e.fn.jAutoCalc.defaults = {
		attribute: "data-form",
		thousandOpts: [",", ".", " "],
		decimalOpts: [".", ","],
		decimalPlaces: -1,
		initFire: !0,
		chainFire: !0,
		keyEventsFire: !1,
		readOnlyResults: !0,
		showParseError: !0,
		emptyAsZero: !1,
		smartIntegers: !1,
		onShowResult: null,
		funcs: {},
		vars: {}
	}
}(jQuery);
/**
 * Swiper 4.4.1
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * http://www.idangero.us/swiper/
 *
 * Copyright 2014-2018 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: September 14, 2018
 */
! function (e, t) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Swiper = t()
}(this, function () {
	"use strict";
	var f = "undefined" == typeof document ? {
			body: {},
			addEventListener: function () {},
			removeEventListener: function () {},
			activeElement: {
				blur: function () {},
				nodeName: ""
			},
			querySelector: function () {
				return null
			},
			querySelectorAll: function () {
				return []
			},
			getElementById: function () {
				return null
			},
			createEvent: function () {
				return {
					initEvent: function () {}
				}
			},
			createElement: function () {
				return {
					children: [],
					childNodes: [],
					style: {},
					setAttribute: function () {},
					getElementsByTagName: function () {
						return []
					}
				}
			},
			location: {
				hash: ""
			}
		} : document,
		Y = "undefined" == typeof window ? {
			document: f,
			navigator: {
				userAgent: ""
			},
			location: {},
			history: {},
			CustomEvent: function () {
				return this
			},
			addEventListener: function () {},
			removeEventListener: function () {},
			getComputedStyle: function () {
				return {
					getPropertyValue: function () {
						return ""
					}
				}
			},
			Image: function () {},
			Date: function () {},
			screen: {},
			setTimeout: function () {},
			clearTimeout: function () {}
		} : window,
		l = function (e) {
			for (var t = 0; t < e.length; t += 1) this[t] = e[t];
			return this.length = e.length, this
		};

	function L(e, t) {
		var a = [],
			i = 0;
		if (e && !t && e instanceof l) return e;
		if (e)
			if ("string" == typeof e) {
				var s, r, n = e.trim();
				if (0 <= n.indexOf("<") && 0 <= n.indexOf(">")) {
					var o = "div";
					for (0 === n.indexOf("<li") && (o = "ul"), 0 === n.indexOf("<tr") && (o = "tbody"), 0 !== n.indexOf("<td") && 0 !== n.indexOf("<th") || (o = "tr"), 0 === n.indexOf("<tbody") && (o = "table"), 0 === n.indexOf("<option") && (o = "select"), (r = f.createElement(o)).innerHTML = n, i = 0; i < r.childNodes.length; i += 1) a.push(r.childNodes[i])
				} else
					for (s = t || "#" !== e[0] || e.match(/[ .<>:~]/) ? (t || f).querySelectorAll(e.trim()) : [f.getElementById(e.trim().split("#")[1])], i = 0; i < s.length; i += 1) s[i] && a.push(s[i])
			} else if (e.nodeType || e === Y || e === f) a.push(e);
		else if (0 < e.length && e[0].nodeType)
			for (i = 0; i < e.length; i += 1) a.push(e[i]);
		return new l(a)
	}

	function r(e) {
		for (var t = [], a = 0; a < e.length; a += 1) - 1 === t.indexOf(e[a]) && t.push(e[a]);
		return t
	}
	L.fn = l.prototype, L.Class = l, L.Dom7 = l;
	var t = {
		addClass: function (e) {
			if (void 0 === e) return this;
			for (var t = e.split(" "), a = 0; a < t.length; a += 1)
				for (var i = 0; i < this.length; i += 1) void 0 !== this[i] && void 0 !== this[i].classList && this[i].classList.add(t[a]);
			return this
		},
		removeClass: function (e) {
			for (var t = e.split(" "), a = 0; a < t.length; a += 1)
				for (var i = 0; i < this.length; i += 1) void 0 !== this[i] && void 0 !== this[i].classList && this[i].classList.remove(t[a]);
			return this
		},
		hasClass: function (e) {
			return !!this[0] && this[0].classList.contains(e)
		},
		toggleClass: function (e) {
			for (var t = e.split(" "), a = 0; a < t.length; a += 1)
				for (var i = 0; i < this.length; i += 1) void 0 !== this[i] && void 0 !== this[i].classList && this[i].classList.toggle(t[a]);
			return this
		},
		attr: function (e, t) {
			var a = arguments;
			if (1 === arguments.length && "string" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;
			for (var i = 0; i < this.length; i += 1)
				if (2 === a.length) this[i].setAttribute(e, t);
				else
					for (var s in e) this[i][s] = e[s], this[i].setAttribute(s, e[s]);
			return this
		},
		removeAttr: function (e) {
			for (var t = 0; t < this.length; t += 1) this[t].removeAttribute(e);
			return this
		},
		data: function (e, t) {
			var a;
			if (void 0 !== t) {
				for (var i = 0; i < this.length; i += 1)(a = this[i]).dom7ElementDataStorage || (a.dom7ElementDataStorage = {}), a.dom7ElementDataStorage[e] = t;
				return this
			}
			if (a = this[0]) {
				if (a.dom7ElementDataStorage && e in a.dom7ElementDataStorage) return a.dom7ElementDataStorage[e];
				var s = a.getAttribute("data-" + e);
				return s || void 0
			}
		},
		transform: function (e) {
			for (var t = 0; t < this.length; t += 1) {
				var a = this[t].style;
				a.webkitTransform = e, a.transform = e
			}
			return this
		},
		transition: function (e) {
			"string" != typeof e && (e += "ms");
			for (var t = 0; t < this.length; t += 1) {
				var a = this[t].style;
				a.webkitTransitionDuration = e, a.transitionDuration = e
			}
			return this
		},
		on: function () {
			for (var e, t = [], a = arguments.length; a--;) t[a] = arguments[a];
			var i = t[0],
				r = t[1],
				n = t[2],
				s = t[3];

			function o(e) {
				var t = e.target;
				if (t) {
					var a = e.target.dom7EventData || [];
					if (a.indexOf(e) < 0 && a.unshift(e), L(t).is(r)) n.apply(t, a);
					else
						for (var i = L(t).parents(), s = 0; s < i.length; s += 1) L(i[s]).is(r) && n.apply(i[s], a)
				}
			}

			function l(e) {
				var t = e && e.target && e.target.dom7EventData || [];
				t.indexOf(e) < 0 && t.unshift(e), n.apply(this, t)
			}
			"function" == typeof t[1] && (i = (e = t)[0], n = e[1], s = e[2], r = void 0), s || (s = !1);
			for (var d, p = i.split(" "), c = 0; c < this.length; c += 1) {
				var u = this[c];
				if (r)
					for (d = 0; d < p.length; d += 1) {
						var h = p[d];
						u.dom7LiveListeners || (u.dom7LiveListeners = {}), u.dom7LiveListeners[h] || (u.dom7LiveListeners[h] = []), u.dom7LiveListeners[h].push({
							listener: n,
							proxyListener: o
						}), u.addEventListener(h, o, s)
					} else
						for (d = 0; d < p.length; d += 1) {
							var v = p[d];
							u.dom7Listeners || (u.dom7Listeners = {}), u.dom7Listeners[v] || (u.dom7Listeners[v] = []), u.dom7Listeners[v].push({
								listener: n,
								proxyListener: l
							}), u.addEventListener(v, l, s)
						}
			}
			return this
		},
		off: function () {
			for (var e, t = [], a = arguments.length; a--;) t[a] = arguments[a];
			var i = t[0],
				s = t[1],
				r = t[2],
				n = t[3];
			"function" == typeof t[1] && (i = (e = t)[0], r = e[1], n = e[2], s = void 0), n || (n = !1);
			for (var o = i.split(" "), l = 0; l < o.length; l += 1)
				for (var d = o[l], p = 0; p < this.length; p += 1) {
					var c = this[p],
						u = void 0;
					if (!s && c.dom7Listeners ? u = c.dom7Listeners[d] : s && c.dom7LiveListeners && (u = c.dom7LiveListeners[d]), u && u.length)
						for (var h = u.length - 1; 0 <= h; h -= 1) {
							var v = u[h];
							r && v.listener === r ? (c.removeEventListener(d, v.proxyListener, n), u.splice(h, 1)) : r || (c.removeEventListener(d, v.proxyListener, n), u.splice(h, 1))
						}
				}
			return this
		},
		trigger: function () {
			for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];
			for (var a = e[0].split(" "), i = e[1], s = 0; s < a.length; s += 1)
				for (var r = a[s], n = 0; n < this.length; n += 1) {
					var o = this[n],
						l = void 0;
					try {
						l = new Y.CustomEvent(r, {
							detail: i,
							bubbles: !0,
							cancelable: !0
						})
					} catch (e) {
						(l = f.createEvent("Event")).initEvent(r, !0, !0), l.detail = i
					}
					o.dom7EventData = e.filter(function (e, t) {
						return 0 < t
					}), o.dispatchEvent(l), o.dom7EventData = [], delete o.dom7EventData
				}
			return this
		},
		transitionEnd: function (t) {
			var a, i = ["webkitTransitionEnd", "transitionend"],
				s = this;

			function r(e) {
				if (e.target === this)
					for (t.call(this, e), a = 0; a < i.length; a += 1) s.off(i[a], r)
			}
			if (t)
				for (a = 0; a < i.length; a += 1) s.on(i[a], r);
			return this
		},
		outerWidth: function (e) {
			if (0 < this.length) {
				if (e) {
					var t = this.styles();
					return this[0].offsetWidth + parseFloat(t.getPropertyValue("margin-right")) + parseFloat(t.getPropertyValue("margin-left"))
				}
				return this[0].offsetWidth
			}
			return null
		},
		outerHeight: function (e) {
			if (0 < this.length) {
				if (e) {
					var t = this.styles();
					return this[0].offsetHeight + parseFloat(t.getPropertyValue("margin-top")) + parseFloat(t.getPropertyValue("margin-bottom"))
				}
				return this[0].offsetHeight
			}
			return null
		},
		offset: function () {
			if (0 < this.length) {
				var e = this[0],
					t = e.getBoundingClientRect(),
					a = f.body,
					i = e.clientTop || a.clientTop || 0,
					s = e.clientLeft || a.clientLeft || 0,
					r = e === Y ? Y.scrollY : e.scrollTop,
					n = e === Y ? Y.scrollX : e.scrollLeft;
				return {
					top: t.top + r - i,
					left: t.left + n - s
				}
			}
			return null
		},
		css: function (e, t) {
			var a;
			if (1 === arguments.length) {
				if ("string" != typeof e) {
					for (a = 0; a < this.length; a += 1)
						for (var i in e) this[a].style[i] = e[i];
					return this
				}
				if (this[0]) return Y.getComputedStyle(this[0], null).getPropertyValue(e)
			}
			if (2 === arguments.length && "string" == typeof e) {
				for (a = 0; a < this.length; a += 1) this[a].style[e] = t;
				return this
			}
			return this
		},
		each: function (e) {
			if (!e) return this;
			for (var t = 0; t < this.length; t += 1)
				if (!1 === e.call(this[t], t, this[t])) return this;
			return this
		},
		html: function (e) {
			if (void 0 === e) return this[0] ? this[0].innerHTML : void 0;
			for (var t = 0; t < this.length; t += 1) this[t].innerHTML = e;
			return this
		},
		text: function (e) {
			if (void 0 === e) return this[0] ? this[0].textContent.trim() : null;
			for (var t = 0; t < this.length; t += 1) this[t].textContent = e;
			return this
		},
		is: function (e) {
			var t, a, i = this[0];
			if (!i || void 0 === e) return !1;
			if ("string" == typeof e) {
				if (i.matches) return i.matches(e);
				if (i.webkitMatchesSelector) return i.webkitMatchesSelector(e);
				if (i.msMatchesSelector) return i.msMatchesSelector(e);
				for (t = L(e), a = 0; a < t.length; a += 1)
					if (t[a] === i) return !0;
				return !1
			}
			if (e === f) return i === f;
			if (e === Y) return i === Y;
			if (e.nodeType || e instanceof l) {
				for (t = e.nodeType ? [e] : e, a = 0; a < t.length; a += 1)
					if (t[a] === i) return !0;
				return !1
			}
			return !1
		},
		index: function () {
			var e, t = this[0];
			if (t) {
				for (e = 0; null !== (t = t.previousSibling);) 1 === t.nodeType && (e += 1);
				return e
			}
		},
		eq: function (e) {
			if (void 0 === e) return this;
			var t, a = this.length;
			return new l(a - 1 < e ? [] : e < 0 ? (t = a + e) < 0 ? [] : [this[t]] : [this[e]])
		},
		append: function () {
			for (var e, t = [], a = arguments.length; a--;) t[a] = arguments[a];
			for (var i = 0; i < t.length; i += 1) {
				e = t[i];
				for (var s = 0; s < this.length; s += 1)
					if ("string" == typeof e) {
						var r = f.createElement("div");
						for (r.innerHTML = e; r.firstChild;) this[s].appendChild(r.firstChild)
					} else if (e instanceof l)
					for (var n = 0; n < e.length; n += 1) this[s].appendChild(e[n]);
				else this[s].appendChild(e)
			}
			return this
		},
		prepend: function (e) {
			var t, a, i = this;
			for (t = 0; t < this.length; t += 1)
				if ("string" == typeof e) {
					var s = f.createElement("div");
					for (s.innerHTML = e, a = s.childNodes.length - 1; 0 <= a; a -= 1) i[t].insertBefore(s.childNodes[a], i[t].childNodes[0])
				} else if (e instanceof l)
				for (a = 0; a < e.length; a += 1) i[t].insertBefore(e[a], i[t].childNodes[0]);
			else i[t].insertBefore(e, i[t].childNodes[0]);
			return this
		},
		next: function (e) {
			return 0 < this.length ? e ? this[0].nextElementSibling && L(this[0].nextElementSibling).is(e) ? new l([this[0].nextElementSibling]) : new l([]) : this[0].nextElementSibling ? new l([this[0].nextElementSibling]) : new l([]) : new l([])
		},
		nextAll: function (e) {
			var t = [],
				a = this[0];
			if (!a) return new l([]);
			for (; a.nextElementSibling;) {
				var i = a.nextElementSibling;
				e ? L(i).is(e) && t.push(i) : t.push(i), a = i
			}
			return new l(t)
		},
		prev: function (e) {
			if (0 < this.length) {
				var t = this[0];
				return e ? t.previousElementSibling && L(t.previousElementSibling).is(e) ? new l([t.previousElementSibling]) : new l([]) : t.previousElementSibling ? new l([t.previousElementSibling]) : new l([])
			}
			return new l([])
		},
		prevAll: function (e) {
			var t = [],
				a = this[0];
			if (!a) return new l([]);
			for (; a.previousElementSibling;) {
				var i = a.previousElementSibling;
				e ? L(i).is(e) && t.push(i) : t.push(i), a = i
			}
			return new l(t)
		},
		parent: function (e) {
			for (var t = [], a = 0; a < this.length; a += 1) null !== this[a].parentNode && (e ? L(this[a].parentNode).is(e) && t.push(this[a].parentNode) : t.push(this[a].parentNode));
			return L(r(t))
		},
		parents: function (e) {
			for (var t = [], a = 0; a < this.length; a += 1)
				for (var i = this[a].parentNode; i;) e ? L(i).is(e) && t.push(i) : t.push(i), i = i.parentNode;
			return L(r(t))
		},
		closest: function (e) {
			var t = this;
			return void 0 === e ? new l([]) : (t.is(e) || (t = t.parents(e).eq(0)), t)
		},
		find: function (e) {
			for (var t = [], a = 0; a < this.length; a += 1)
				for (var i = this[a].querySelectorAll(e), s = 0; s < i.length; s += 1) t.push(i[s]);
			return new l(t)
		},
		children: function (e) {
			for (var t = [], a = 0; a < this.length; a += 1)
				for (var i = this[a].childNodes, s = 0; s < i.length; s += 1) e ? 1 === i[s].nodeType && L(i[s]).is(e) && t.push(i[s]) : 1 === i[s].nodeType && t.push(i[s]);
			return new l(r(t))
		},
		remove: function () {
			for (var e = 0; e < this.length; e += 1) this[e].parentNode && this[e].parentNode.removeChild(this[e]);
			return this
		},
		add: function () {
			for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];
			var a, i;
			for (a = 0; a < e.length; a += 1) {
				var s = L(e[a]);
				for (i = 0; i < s.length; i += 1) this[this.length] = s[i], this.length += 1
			}
			return this
		},
		styles: function () {
			return this[0] ? Y.getComputedStyle(this[0], null) : {}
		}
	};
	Object.keys(t).forEach(function (e) {
		L.fn[e] = t[e]
	});
	var e, a, i, V = {
			deleteProps: function (e) {
				var t = e;
				Object.keys(t).forEach(function (e) {
					try {
						t[e] = null
					} catch (e) {}
					try {
						delete t[e]
					} catch (e) {}
				})
			},
			nextTick: function (e, t) {
				return void 0 === t && (t = 0), setTimeout(e, t)
			},
			now: function () {
				return Date.now()
			},
			getTranslate: function (e, t) {
				var a, i, s;
				void 0 === t && (t = "x");
				var r = Y.getComputedStyle(e, null);
				return Y.WebKitCSSMatrix ? (6 < (i = r.transform || r.webkitTransform).split(",").length && (i = i.split(", ").map(function (e) {
					return e.replace(",", ".")
				}).join(", ")), s = new Y.WebKitCSSMatrix("none" === i ? "" : i)) : a = (s = r.MozTransform || r.OTransform || r.MsTransform || r.msTransform || r.transform || r.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","), "x" === t && (i = Y.WebKitCSSMatrix ? s.m41 : 16 === a.length ? parseFloat(a[12]) : parseFloat(a[4])), "y" === t && (i = Y.WebKitCSSMatrix ? s.m42 : 16 === a.length ? parseFloat(a[13]) : parseFloat(a[5])), i || 0
			},
			parseUrlQuery: function (e) {
				var t, a, i, s, r = {},
					n = e || Y.location.href;
				if ("string" == typeof n && n.length)
					for (s = (a = (n = -1 < n.indexOf("?") ? n.replace(/\S*\?/, "") : "").split("&").filter(function (e) {
							return "" !== e
						})).length, t = 0; t < s; t += 1) i = a[t].replace(/#\S+/g, "").split("="), r[decodeURIComponent(i[0])] = void 0 === i[1] ? void 0 : decodeURIComponent(i[1]) || "";
				return r
			},
			isObject: function (e) {
				return "object" == typeof e && null !== e && e.constructor && e.constructor === Object
			},
			extend: function () {
				for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];
				for (var a = Object(e[0]), i = 1; i < e.length; i += 1) {
					var s = e[i];
					if (null != s)
						for (var r = Object.keys(Object(s)), n = 0, o = r.length; n < o; n += 1) {
							var l = r[n],
								d = Object.getOwnPropertyDescriptor(s, l);
							void 0 !== d && d.enumerable && (V.isObject(a[l]) && V.isObject(s[l]) ? V.extend(a[l], s[l]) : !V.isObject(a[l]) && V.isObject(s[l]) ? (a[l] = {}, V.extend(a[l], s[l])) : a[l] = s[l])
						}
				}
				return a
			}
		},
		R = (i = f.createElement("div"), {
			touch: Y.Modernizr && !0 === Y.Modernizr.touch || !!("ontouchstart" in Y || Y.DocumentTouch && f instanceof Y.DocumentTouch),
			pointerEvents: !(!Y.navigator.pointerEnabled && !Y.PointerEvent),
			prefixedPointerEvents: !!Y.navigator.msPointerEnabled,
			transition: (a = i.style, "transition" in a || "webkitTransition" in a || "MozTransition" in a),
			transforms3d: Y.Modernizr && !0 === Y.Modernizr.csstransforms3d || (e = i.style, "webkitPerspective" in e || "MozPerspective" in e || "OPerspective" in e || "MsPerspective" in e || "perspective" in e),
			flexbox: function () {
				for (var e = i.style, t = "alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "), a = 0; a < t.length; a += 1)
					if (t[a] in e) return !0;
				return !1
			}(),
			observer: "MutationObserver" in Y || "WebkitMutationObserver" in Y,
			passiveListener: function () {
				var e = !1;
				try {
					var t = Object.defineProperty({}, "passive", {
						get: function () {
							e = !0
						}
					});
					Y.addEventListener("testPassiveListener", null, t)
				} catch (e) {}
				return e
			}(),
			gestures: "ongesturestart" in Y
		}),
		s = function (e) {
			void 0 === e && (e = {});
			var t = this;
			t.params = e, t.eventsListeners = {}, t.params && t.params.on && Object.keys(t.params.on).forEach(function (e) {
				t.on(e, t.params.on[e])
			})
		},
		n = {
			components: {
				configurable: !0
			}
		};
	s.prototype.on = function (e, t, a) {
		var i = this;
		if ("function" != typeof t) return i;
		var s = a ? "unshift" : "push";
		return e.split(" ").forEach(function (e) {
			i.eventsListeners[e] || (i.eventsListeners[e] = []), i.eventsListeners[e][s](t)
		}), i
	}, s.prototype.once = function (i, s, e) {
		var r = this;
		if ("function" != typeof s) return r;
		return r.on(i, function e() {
			for (var t = [], a = arguments.length; a--;) t[a] = arguments[a];
			s.apply(r, t), r.off(i, e)
		}, e)
	}, s.prototype.off = function (e, i) {
		var s = this;
		return s.eventsListeners && e.split(" ").forEach(function (a) {
			void 0 === i ? s.eventsListeners[a] = [] : s.eventsListeners[a] && s.eventsListeners[a].length && s.eventsListeners[a].forEach(function (e, t) {
				e === i && s.eventsListeners[a].splice(t, 1)
			})
		}), s
	}, s.prototype.emit = function () {
		for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];
		var a, i, s, r = this;
		return r.eventsListeners && ("string" == typeof e[0] || Array.isArray(e[0]) ? (a = e[0], i = e.slice(1, e.length), s = r) : (a = e[0].events, i = e[0].data, s = e[0].context || r), (Array.isArray(a) ? a : a.split(" ")).forEach(function (e) {
			if (r.eventsListeners && r.eventsListeners[e]) {
				var t = [];
				r.eventsListeners[e].forEach(function (e) {
					t.push(e)
				}), t.forEach(function (e) {
					e.apply(s, i)
				})
			}
		})), r
	}, s.prototype.useModulesParams = function (a) {
		var i = this;
		i.modules && Object.keys(i.modules).forEach(function (e) {
			var t = i.modules[e];
			t.params && V.extend(a, t.params)
		})
	}, s.prototype.useModules = function (i) {
		void 0 === i && (i = {});
		var s = this;
		s.modules && Object.keys(s.modules).forEach(function (e) {
			var a = s.modules[e],
				t = i[e] || {};
			a.instance && Object.keys(a.instance).forEach(function (e) {
				var t = a.instance[e];
				s[e] = "function" == typeof t ? t.bind(s) : t
			}), a.on && s.on && Object.keys(a.on).forEach(function (e) {
				s.on(e, a.on[e])
			}), a.create && a.create.bind(s)(t)
		})
	}, n.components.set = function (e) {
		this.use && this.use(e)
	}, s.installModule = function (t) {
		for (var e = [], a = arguments.length - 1; 0 < a--;) e[a] = arguments[a + 1];
		var i = this;
		i.prototype.modules || (i.prototype.modules = {});
		var s = t.name || Object.keys(i.prototype.modules).length + "_" + V.now();
		return (i.prototype.modules[s] = t).proto && Object.keys(t.proto).forEach(function (e) {
			i.prototype[e] = t.proto[e]
		}), t.static && Object.keys(t.static).forEach(function (e) {
			i[e] = t.static[e]
		}), t.install && t.install.apply(i, e), i
	}, s.use = function (e) {
		for (var t = [], a = arguments.length - 1; 0 < a--;) t[a] = arguments[a + 1];
		var i = this;
		return Array.isArray(e) ? (e.forEach(function (e) {
			return i.installModule(e)
		}), i) : i.installModule.apply(i, [e].concat(t))
	}, Object.defineProperties(s, n);
	var o = {
		updateSize: function () {
			var e, t, a = this,
				i = a.$el;
			e = void 0 !== a.params.width ? a.params.width : i[0].clientWidth, t = void 0 !== a.params.height ? a.params.height : i[0].clientHeight, 0 === e && a.isHorizontal() || 0 === t && a.isVertical() || (e = e - parseInt(i.css("padding-left"), 10) - parseInt(i.css("padding-right"), 10), t = t - parseInt(i.css("padding-top"), 10) - parseInt(i.css("padding-bottom"), 10), V.extend(a, {
				width: e,
				height: t,
				size: a.isHorizontal() ? e : t
			}))
		},
		updateSlides: function () {
			var e = this,
				t = e.params,
				a = e.$wrapperEl,
				i = e.size,
				s = e.rtlTranslate,
				r = e.wrongRTL,
				n = e.virtual && t.virtual.enabled,
				o = n ? e.virtual.slides.length : e.slides.length,
				l = a.children("." + e.params.slideClass),
				d = n ? e.virtual.slides.length : l.length,
				p = [],
				c = [],
				u = [],
				h = t.slidesOffsetBefore;
			"function" == typeof h && (h = t.slidesOffsetBefore.call(e));
			var v = t.slidesOffsetAfter;
			"function" == typeof v && (v = t.slidesOffsetAfter.call(e));
			var f = e.snapGrid.length,
				m = e.snapGrid.length,
				g = t.spaceBetween,
				b = -h,
				w = 0,
				y = 0;
			if (void 0 !== i) {
				var x, T;
				"string" == typeof g && 0 <= g.indexOf("%") && (g = parseFloat(g.replace("%", "")) / 100 * i), e.virtualSize = -g, s ? l.css({
					marginLeft: "",
					marginTop: ""
				}) : l.css({
					marginRight: "",
					marginBottom: ""
				}), 1 < t.slidesPerColumn && (x = Math.floor(d / t.slidesPerColumn) === d / e.params.slidesPerColumn ? d : Math.ceil(d / t.slidesPerColumn) * t.slidesPerColumn, "auto" !== t.slidesPerView && "row" === t.slidesPerColumnFill && (x = Math.max(x, t.slidesPerView * t.slidesPerColumn)));
				for (var E, S = t.slidesPerColumn, C = x / S, M = C - (t.slidesPerColumn * C - d), k = 0; k < d; k += 1) {
					T = 0;
					var z = l.eq(k);
					if (1 < t.slidesPerColumn) {
						var P = void 0,
							$ = void 0,
							L = void 0;
						"column" === t.slidesPerColumnFill ? (L = k - ($ = Math.floor(k / S)) * S, (M < $ || $ === M && L === S - 1) && S <= (L += 1) && (L = 0, $ += 1), P = $ + L * x / S, z.css({
							"-webkit-box-ordinal-group": P,
							"-moz-box-ordinal-group": P,
							"-ms-flex-order": P,
							"-webkit-order": P,
							order: P
						})) : $ = k - (L = Math.floor(k / C)) * C, z.css("margin-" + (e.isHorizontal() ? "top" : "left"), 0 !== L && t.spaceBetween && t.spaceBetween + "px").attr("data-swiper-column", $).attr("data-swiper-row", L)
					}
					if ("none" !== z.css("display")) {
						if ("auto" === t.slidesPerView) {
							var I = Y.getComputedStyle(z[0], null),
								D = z[0].style.transform,
								O = z[0].style.webkitTransform;
							D && (z[0].style.transform = "none"), O && (z[0].style.webkitTransform = "none"), T = t.roundLengths ? e.isHorizontal() ? z.outerWidth(!0) : z.outerHeight(!0) : e.isHorizontal() ? z[0].getBoundingClientRect().width + parseFloat(I.getPropertyValue("margin-left")) + parseFloat(I.getPropertyValue("margin-right")) : z[0].getBoundingClientRect().height + parseFloat(I.getPropertyValue("margin-top")) + parseFloat(I.getPropertyValue("margin-bottom")), D && (z[0].style.transform = D), O && (z[0].style.webkitTransform = O), t.roundLengths && (T = Math.floor(T))
						} else T = (i - (t.slidesPerView - 1) * g) / t.slidesPerView, t.roundLengths && (T = Math.floor(T)), l[k] && (e.isHorizontal() ? l[k].style.width = T + "px" : l[k].style.height = T + "px");
						l[k] && (l[k].swiperSlideSize = T), u.push(T), t.centeredSlides ? (b = b + T / 2 + w / 2 + g, 0 === w && 0 !== k && (b = b - i / 2 - g), 0 === k && (b = b - i / 2 - g), Math.abs(b) < .001 && (b = 0), t.roundLengths && (b = Math.floor(b)), y % t.slidesPerGroup == 0 && p.push(b), c.push(b)) : (t.roundLengths && (b = Math.floor(b)), y % t.slidesPerGroup == 0 && p.push(b), c.push(b), b = b + T + g), e.virtualSize += T + g, w = T, y += 1
					}
				}
				if (e.virtualSize = Math.max(e.virtualSize, i) + v, s && r && ("slide" === t.effect || "coverflow" === t.effect) && a.css({
						width: e.virtualSize + t.spaceBetween + "px"
					}), R.flexbox && !t.setWrapperSize || (e.isHorizontal() ? a.css({
						width: e.virtualSize + t.spaceBetween + "px"
					}) : a.css({
						height: e.virtualSize + t.spaceBetween + "px"
					})), 1 < t.slidesPerColumn && (e.virtualSize = (T + t.spaceBetween) * x, e.virtualSize = Math.ceil(e.virtualSize / t.slidesPerColumn) - t.spaceBetween, e.isHorizontal() ? a.css({
						width: e.virtualSize + t.spaceBetween + "px"
					}) : a.css({
						height: e.virtualSize + t.spaceBetween + "px"
					}), t.centeredSlides)) {
					E = [];
					for (var A = 0; A < p.length; A += 1) {
						var H = p[A];
						t.roundLengths && (H = Math.floor(H)), p[A] < e.virtualSize + p[0] && E.push(H)
					}
					p = E
				}
				if (!t.centeredSlides) {
					E = [];
					for (var B = 0; B < p.length; B += 1) {
						var G = p[B];
						t.roundLengths && (G = Math.floor(G)), p[B] <= e.virtualSize - i && E.push(G)
					}
					p = E, 1 < Math.floor(e.virtualSize - i) - Math.floor(p[p.length - 1]) && p.push(e.virtualSize - i)
				}
				if (0 === p.length && (p = [0]), 0 !== t.spaceBetween && (e.isHorizontal() ? s ? l.css({
						marginLeft: g + "px"
					}) : l.css({
						marginRight: g + "px"
					}) : l.css({
						marginBottom: g + "px"
					})), t.centerInsufficientSlides) {
					var N = 0;
					if (u.forEach(function (e) {
							N += e + (t.spaceBetween ? t.spaceBetween : 0)
						}), (N -= t.spaceBetween) < i) {
						var X = (i - N) / 2;
						p.forEach(function (e, t) {
							p[t] = e - X
						}), c.forEach(function (e, t) {
							c[t] = e + X
						})
					}
				}
				V.extend(e, {
					slides: l,
					snapGrid: p,
					slidesGrid: c,
					slidesSizesGrid: u
				}), d !== o && e.emit("slidesLengthChange"), p.length !== f && (e.params.watchOverflow && e.checkOverflow(), e.emit("snapGridLengthChange")), c.length !== m && e.emit("slidesGridLengthChange"), (t.watchSlidesProgress || t.watchSlidesVisibility) && e.updateSlidesOffset()
			}
		},
		updateAutoHeight: function (e) {
			var t, a = this,
				i = [],
				s = 0;
			if ("number" == typeof e ? a.setTransition(e) : !0 === e && a.setTransition(a.params.speed), "auto" !== a.params.slidesPerView && 1 < a.params.slidesPerView)
				for (t = 0; t < Math.ceil(a.params.slidesPerView); t += 1) {
					var r = a.activeIndex + t;
					if (r > a.slides.length) break;
					i.push(a.slides.eq(r)[0])
				} else i.push(a.slides.eq(a.activeIndex)[0]);
			for (t = 0; t < i.length; t += 1)
				if (void 0 !== i[t]) {
					var n = i[t].offsetHeight;
					s = s < n ? n : s
				} s && a.$wrapperEl.css("height", s + "px")
		},
		updateSlidesOffset: function () {
			for (var e = this.slides, t = 0; t < e.length; t += 1) e[t].swiperSlideOffset = this.isHorizontal() ? e[t].offsetLeft : e[t].offsetTop
		},
		updateSlidesProgress: function (e) {
			void 0 === e && (e = this && this.translate || 0);
			var t = this,
				a = t.params,
				i = t.slides,
				s = t.rtlTranslate;
			if (0 !== i.length) {
				void 0 === i[0].swiperSlideOffset && t.updateSlidesOffset();
				var r = -e;
				s && (r = e), i.removeClass(a.slideVisibleClass), t.visibleSlidesIndexes = [], t.visibleSlides = [];
				for (var n = 0; n < i.length; n += 1) {
					var o = i[n],
						l = (r + (a.centeredSlides ? t.minTranslate() : 0) - o.swiperSlideOffset) / (o.swiperSlideSize + a.spaceBetween);
					if (a.watchSlidesVisibility) {
						var d = -(r - o.swiperSlideOffset),
							p = d + t.slidesSizesGrid[n];
						(0 <= d && d < t.size || 0 < p && p <= t.size || d <= 0 && p >= t.size) && (t.visibleSlides.push(o), t.visibleSlidesIndexes.push(n), i.eq(n).addClass(a.slideVisibleClass))
					}
					o.progress = s ? -l : l
				}
				t.visibleSlides = L(t.visibleSlides)
			}
		},
		updateProgress: function (e) {
			void 0 === e && (e = this && this.translate || 0);
			var t = this,
				a = t.params,
				i = t.maxTranslate() - t.minTranslate(),
				s = t.progress,
				r = t.isBeginning,
				n = t.isEnd,
				o = r,
				l = n;
			0 === i ? n = r = !(s = 0) : (r = (s = (e - t.minTranslate()) / i) <= 0, n = 1 <= s), V.extend(t, {
				progress: s,
				isBeginning: r,
				isEnd: n
			}), (a.watchSlidesProgress || a.watchSlidesVisibility) && t.updateSlidesProgress(e), r && !o && t.emit("reachBeginning toEdge"), n && !l && t.emit("reachEnd toEdge"), (o && !r || l && !n) && t.emit("fromEdge"), t.emit("progress", s)
		},
		updateSlidesClasses: function () {
			var e, t = this,
				a = t.slides,
				i = t.params,
				s = t.$wrapperEl,
				r = t.activeIndex,
				n = t.realIndex,
				o = t.virtual && i.virtual.enabled;
			a.removeClass(i.slideActiveClass + " " + i.slideNextClass + " " + i.slidePrevClass + " " + i.slideDuplicateActiveClass + " " + i.slideDuplicateNextClass + " " + i.slideDuplicatePrevClass), (e = o ? t.$wrapperEl.find("." + i.slideClass + '[data-swiper-slide-index="' + r + '"]') : a.eq(r)).addClass(i.slideActiveClass), i.loop && (e.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + n + '"]').addClass(i.slideDuplicateActiveClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + n + '"]').addClass(i.slideDuplicateActiveClass));
			var l = e.nextAll("." + i.slideClass).eq(0).addClass(i.slideNextClass);
			i.loop && 0 === l.length && (l = a.eq(0)).addClass(i.slideNextClass);
			var d = e.prevAll("." + i.slideClass).eq(0).addClass(i.slidePrevClass);
			i.loop && 0 === d.length && (d = a.eq(-1)).addClass(i.slidePrevClass), i.loop && (l.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + l.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + l.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass), d.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + d.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + d.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass))
		},
		updateActiveIndex: function (e) {
			var t, a = this,
				i = a.rtlTranslate ? a.translate : -a.translate,
				s = a.slidesGrid,
				r = a.snapGrid,
				n = a.params,
				o = a.activeIndex,
				l = a.realIndex,
				d = a.snapIndex,
				p = e;
			if (void 0 === p) {
				for (var c = 0; c < s.length; c += 1) void 0 !== s[c + 1] ? i >= s[c] && i < s[c + 1] - (s[c + 1] - s[c]) / 2 ? p = c : i >= s[c] && i < s[c + 1] && (p = c + 1) : i >= s[c] && (p = c);
				n.normalizeSlideIndex && (p < 0 || void 0 === p) && (p = 0)
			}
			if ((t = 0 <= r.indexOf(i) ? r.indexOf(i) : Math.floor(p / n.slidesPerGroup)) >= r.length && (t = r.length - 1), p !== o) {
				var u = parseInt(a.slides.eq(p).attr("data-swiper-slide-index") || p, 10);
				V.extend(a, {
					snapIndex: t,
					realIndex: u,
					previousIndex: o,
					activeIndex: p
				}), a.emit("activeIndexChange"), a.emit("snapIndexChange"), l !== u && a.emit("realIndexChange"), a.emit("slideChange")
			} else t !== d && (a.snapIndex = t, a.emit("snapIndexChange"))
		},
		updateClickedSlide: function (e) {
			var t = this,
				a = t.params,
				i = L(e.target).closest("." + a.slideClass)[0],
				s = !1;
			if (i)
				for (var r = 0; r < t.slides.length; r += 1) t.slides[r] === i && (s = !0);
			if (!i || !s) return t.clickedSlide = void 0, void(t.clickedIndex = void 0);
			t.clickedSlide = i, t.virtual && t.params.virtual.enabled ? t.clickedIndex = parseInt(L(i).attr("data-swiper-slide-index"), 10) : t.clickedIndex = L(i).index(), a.slideToClickedSlide && void 0 !== t.clickedIndex && t.clickedIndex !== t.activeIndex && t.slideToClickedSlide()
		}
	};
	var d = {
		getTranslate: function (e) {
			void 0 === e && (e = this.isHorizontal() ? "x" : "y");
			var t = this.params,
				a = this.rtlTranslate,
				i = this.translate,
				s = this.$wrapperEl;
			if (t.virtualTranslate) return a ? -i : i;
			var r = V.getTranslate(s[0], e);
			return a && (r = -r), r || 0
		},
		setTranslate: function (e, t) {
			var a = this,
				i = a.rtlTranslate,
				s = a.params,
				r = a.$wrapperEl,
				n = a.progress,
				o = 0,
				l = 0;
			a.isHorizontal() ? o = i ? -e : e : l = e, s.roundLengths && (o = Math.floor(o), l = Math.floor(l)), s.virtualTranslate || (R.transforms3d ? r.transform("translate3d(" + o + "px, " + l + "px, 0px)") : r.transform("translate(" + o + "px, " + l + "px)")), a.previousTranslate = a.translate, a.translate = a.isHorizontal() ? o : l;
			var d = a.maxTranslate() - a.minTranslate();
			(0 === d ? 0 : (e - a.minTranslate()) / d) !== n && a.updateProgress(e), a.emit("setTranslate", a.translate, t)
		},
		minTranslate: function () {
			return -this.snapGrid[0]
		},
		maxTranslate: function () {
			return -this.snapGrid[this.snapGrid.length - 1]
		}
	};
	var p = {
		setTransition: function (e, t) {
			this.$wrapperEl.transition(e), this.emit("setTransition", e, t)
		},
		transitionStart: function (e, t) {
			void 0 === e && (e = !0);
			var a = this,
				i = a.activeIndex,
				s = a.params,
				r = a.previousIndex;
			s.autoHeight && a.updateAutoHeight();
			var n = t;
			if (n || (n = r < i ? "next" : i < r ? "prev" : "reset"), a.emit("transitionStart"), e && i !== r) {
				if ("reset" === n) return void a.emit("slideResetTransitionStart");
				a.emit("slideChangeTransitionStart"), "next" === n ? a.emit("slideNextTransitionStart") : a.emit("slidePrevTransitionStart")
			}
		},
		transitionEnd: function (e, t) {
			void 0 === e && (e = !0);
			var a = this,
				i = a.activeIndex,
				s = a.previousIndex;
			a.animating = !1, a.setTransition(0);
			var r = t;
			if (r || (r = s < i ? "next" : i < s ? "prev" : "reset"), a.emit("transitionEnd"), e && i !== s) {
				if ("reset" === r) return void a.emit("slideResetTransitionEnd");
				a.emit("slideChangeTransitionEnd"), "next" === r ? a.emit("slideNextTransitionEnd") : a.emit("slidePrevTransitionEnd")
			}
		}
	};
	var c = {
		slideTo: function (e, t, a, i) {
			void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === a && (a = !0);
			var s = this,
				r = e;
			r < 0 && (r = 0);
			var n = s.params,
				o = s.snapGrid,
				l = s.slidesGrid,
				d = s.previousIndex,
				p = s.activeIndex,
				c = s.rtlTranslate;
			if (s.animating && n.preventInteractionOnTransition) return !1;
			var u = Math.floor(r / n.slidesPerGroup);
			u >= o.length && (u = o.length - 1), (p || n.initialSlide || 0) === (d || 0) && a && s.emit("beforeSlideChangeStart");
			var h, v = -o[u];
			if (s.updateProgress(v), n.normalizeSlideIndex)
				for (var f = 0; f < l.length; f += 1) - Math.floor(100 * v) >= Math.floor(100 * l[f]) && (r = f);
			if (s.initialized && r !== p) {
				if (!s.allowSlideNext && v < s.translate && v < s.minTranslate()) return !1;
				if (!s.allowSlidePrev && v > s.translate && v > s.maxTranslate() && (p || 0) !== r) return !1
			}
			return h = p < r ? "next" : r < p ? "prev" : "reset", c && -v === s.translate || !c && v === s.translate ? (s.updateActiveIndex(r), n.autoHeight && s.updateAutoHeight(), s.updateSlidesClasses(), "slide" !== n.effect && s.setTranslate(v), "reset" !== h && (s.transitionStart(a, h), s.transitionEnd(a, h)), !1) : (0 !== t && R.transition ? (s.setTransition(t), s.setTranslate(v), s.updateActiveIndex(r), s.updateSlidesClasses(), s.emit("beforeTransitionStart", t, i), s.transitionStart(a, h), s.animating || (s.animating = !0, s.onSlideToWrapperTransitionEnd || (s.onSlideToWrapperTransitionEnd = function (e) {
				s && !s.destroyed && e.target === this && (s.$wrapperEl[0].removeEventListener("transitionend", s.onSlideToWrapperTransitionEnd), s.$wrapperEl[0].removeEventListener("webkitTransitionEnd", s.onSlideToWrapperTransitionEnd), s.onSlideToWrapperTransitionEnd = null, delete s.onSlideToWrapperTransitionEnd, s.transitionEnd(a, h))
			}), s.$wrapperEl[0].addEventListener("transitionend", s.onSlideToWrapperTransitionEnd), s.$wrapperEl[0].addEventListener("webkitTransitionEnd", s.onSlideToWrapperTransitionEnd))) : (s.setTransition(0), s.setTranslate(v), s.updateActiveIndex(r), s.updateSlidesClasses(), s.emit("beforeTransitionStart", t, i), s.transitionStart(a, h), s.transitionEnd(a, h)), !0)
		},
		slideToLoop: function (e, t, a, i) {
			void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === a && (a = !0);
			var s = e;
			return this.params.loop && (s += this.loopedSlides), this.slideTo(s, t, a, i)
		},
		slideNext: function (e, t, a) {
			void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);
			var i = this,
				s = i.params,
				r = i.animating;
			return s.loop ? !r && (i.loopFix(), i._clientLeft = i.$wrapperEl[0].clientLeft, i.slideTo(i.activeIndex + s.slidesPerGroup, e, t, a)) : i.slideTo(i.activeIndex + s.slidesPerGroup, e, t, a)
		},
		slidePrev: function (e, t, a) {
			void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);
			var i = this,
				s = i.params,
				r = i.animating,
				n = i.snapGrid,
				o = i.slidesGrid,
				l = i.rtlTranslate;
			if (s.loop) {
				if (r) return !1;
				i.loopFix(), i._clientLeft = i.$wrapperEl[0].clientLeft
			}

			function d(e) {
				return e < 0 ? -Math.floor(Math.abs(e)) : Math.floor(e)
			}
			var p, c = d(l ? i.translate : -i.translate),
				u = n.map(function (e) {
					return d(e)
				}),
				h = (o.map(function (e) {
					return d(e)
				}), n[u.indexOf(c)], n[u.indexOf(c) - 1]);
			return void 0 !== h && (p = o.indexOf(h)) < 0 && (p = i.activeIndex - 1), i.slideTo(p, e, t, a)
		},
		slideReset: function (e, t, a) {
			return void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), this.slideTo(this.activeIndex, e, t, a)
		},
		slideToClosest: function (e, t, a) {
			void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);
			var i = this,
				s = i.activeIndex,
				r = Math.floor(s / i.params.slidesPerGroup);
			if (r < i.snapGrid.length - 1) {
				var n = i.rtlTranslate ? i.translate : -i.translate,
					o = i.snapGrid[r];
				(i.snapGrid[r + 1] - o) / 2 < n - o && (s = i.params.slidesPerGroup)
			}
			return i.slideTo(s, e, t, a)
		},
		slideToClickedSlide: function () {
			var e, t = this,
				a = t.params,
				i = t.$wrapperEl,
				s = "auto" === a.slidesPerView ? t.slidesPerViewDynamic() : a.slidesPerView,
				r = t.clickedIndex;
			if (a.loop) {
				if (t.animating) return;
				e = parseInt(L(t.clickedSlide).attr("data-swiper-slide-index"), 10), a.centeredSlides ? r < t.loopedSlides - s / 2 || r > t.slides.length - t.loopedSlides + s / 2 ? (t.loopFix(), r = i.children("." + a.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + a.slideDuplicateClass + ")").eq(0).index(), V.nextTick(function () {
					t.slideTo(r)
				})) : t.slideTo(r) : r > t.slides.length - s ? (t.loopFix(), r = i.children("." + a.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + a.slideDuplicateClass + ")").eq(0).index(), V.nextTick(function () {
					t.slideTo(r)
				})) : t.slideTo(r)
			} else t.slideTo(r)
		}
	};
	var u = {
		loopCreate: function () {
			var i = this,
				e = i.params,
				t = i.$wrapperEl;
			t.children("." + e.slideClass + "." + e.slideDuplicateClass).remove();
			var s = t.children("." + e.slideClass);
			if (e.loopFillGroupWithBlank) {
				var a = e.slidesPerGroup - s.length % e.slidesPerGroup;
				if (a !== e.slidesPerGroup) {
					for (var r = 0; r < a; r += 1) {
						var n = L(f.createElement("div")).addClass(e.slideClass + " " + e.slideBlankClass);
						t.append(n)
					}
					s = t.children("." + e.slideClass)
				}
			}
			"auto" !== e.slidesPerView || e.loopedSlides || (e.loopedSlides = s.length), i.loopedSlides = parseInt(e.loopedSlides || e.slidesPerView, 10), i.loopedSlides += e.loopAdditionalSlides, i.loopedSlides > s.length && (i.loopedSlides = s.length);
			var o = [],
				l = [];
			s.each(function (e, t) {
				var a = L(t);
				e < i.loopedSlides && l.push(t), e < s.length && e >= s.length - i.loopedSlides && o.push(t), a.attr("data-swiper-slide-index", e)
			});
			for (var d = 0; d < l.length; d += 1) t.append(L(l[d].cloneNode(!0)).addClass(e.slideDuplicateClass));
			for (var p = o.length - 1; 0 <= p; p -= 1) t.prepend(L(o[p].cloneNode(!0)).addClass(e.slideDuplicateClass))
		},
		loopFix: function () {
			var e, t = this,
				a = t.params,
				i = t.activeIndex,
				s = t.slides,
				r = t.loopedSlides,
				n = t.allowSlidePrev,
				o = t.allowSlideNext,
				l = t.snapGrid,
				d = t.rtlTranslate;
			t.allowSlidePrev = !0, t.allowSlideNext = !0;
			var p = -l[i] - t.getTranslate();
			i < r ? (e = s.length - 3 * r + i, e += r, t.slideTo(e, 0, !1, !0) && 0 !== p && t.setTranslate((d ? -t.translate : t.translate) - p)) : ("auto" === a.slidesPerView && 2 * r <= i || i >= s.length - r) && (e = -s.length + i + r, e += r, t.slideTo(e, 0, !1, !0) && 0 !== p && t.setTranslate((d ? -t.translate : t.translate) - p));
			t.allowSlidePrev = n, t.allowSlideNext = o
		},
		loopDestroy: function () {
			var e = this.$wrapperEl,
				t = this.params,
				a = this.slides;
			e.children("." + t.slideClass + "." + t.slideDuplicateClass).remove(), a.removeAttr("data-swiper-slide-index")
		}
	};
	var h = {
		setGrabCursor: function (e) {
			if (!(R.touch || !this.params.simulateTouch || this.params.watchOverflow && this.isLocked)) {
				var t = this.el;
				t.style.cursor = "move", t.style.cursor = e ? "-webkit-grabbing" : "-webkit-grab", t.style.cursor = e ? "-moz-grabbin" : "-moz-grab", t.style.cursor = e ? "grabbing" : "grab"
			}
		},
		unsetGrabCursor: function () {
			R.touch || this.params.watchOverflow && this.isLocked || (this.el.style.cursor = "")
		}
	};
	var v = {
			appendSlide: function (e) {
				var t = this,
					a = t.$wrapperEl,
					i = t.params;
				if (i.loop && t.loopDestroy(), "object" == typeof e && "length" in e)
					for (var s = 0; s < e.length; s += 1) e[s] && a.append(e[s]);
				else a.append(e);
				i.loop && t.loopCreate(), i.observer && R.observer || t.update()
			},
			prependSlide: function (e) {
				var t = this,
					a = t.params,
					i = t.$wrapperEl,
					s = t.activeIndex;
				a.loop && t.loopDestroy();
				var r = s + 1;
				if ("object" == typeof e && "length" in e) {
					for (var n = 0; n < e.length; n += 1) e[n] && i.prepend(e[n]);
					r = s + e.length
				} else i.prepend(e);
				a.loop && t.loopCreate(), a.observer && R.observer || t.update(), t.slideTo(r, 0, !1)
			},
			addSlide: function (e, t) {
				var a = this,
					i = a.$wrapperEl,
					s = a.params,
					r = a.activeIndex;
				s.loop && (r -= a.loopedSlides, a.loopDestroy(), a.slides = i.children("." + s.slideClass));
				var n = a.slides.length;
				if (e <= 0) a.prependSlide(t);
				else if (n <= e) a.appendSlide(t);
				else {
					for (var o = e < r ? r + 1 : r, l = [], d = n - 1; e <= d; d -= 1) {
						var p = a.slides.eq(d);
						p.remove(), l.unshift(p)
					}
					if ("object" == typeof t && "length" in t) {
						for (var c = 0; c < t.length; c += 1) t[c] && i.append(t[c]);
						o = e < r ? r + t.length : r
					} else i.append(t);
					for (var u = 0; u < l.length; u += 1) i.append(l[u]);
					s.loop && a.loopCreate(), s.observer && R.observer || a.update(), s.loop ? a.slideTo(o + a.loopedSlides, 0, !1) : a.slideTo(o, 0, !1)
				}
			},
			removeSlide: function (e) {
				var t = this,
					a = t.params,
					i = t.$wrapperEl,
					s = t.activeIndex;
				a.loop && (s -= t.loopedSlides, t.loopDestroy(), t.slides = i.children("." + a.slideClass));
				var r, n = s;
				if ("object" == typeof e && "length" in e) {
					for (var o = 0; o < e.length; o += 1) r = e[o], t.slides[r] && t.slides.eq(r).remove(), r < n && (n -= 1);
					n = Math.max(n, 0)
				} else r = e, t.slides[r] && t.slides.eq(r).remove(), r < n && (n -= 1), n = Math.max(n, 0);
				a.loop && t.loopCreate(), a.observer && R.observer || t.update(), a.loop ? t.slideTo(n + t.loopedSlides, 0, !1) : t.slideTo(n, 0, !1)
			},
			removeAllSlides: function () {
				for (var e = [], t = 0; t < this.slides.length; t += 1) e.push(t);
				this.removeSlide(e)
			}
		},
		m = function () {
			var e = Y.navigator.userAgent,
				t = {
					ios: !1,
					android: !1,
					androidChrome: !1,
					desktop: !1,
					windows: !1,
					iphone: !1,
					ipod: !1,
					ipad: !1,
					cordova: Y.cordova || Y.phonegap,
					phonegap: Y.cordova || Y.phonegap
				},
				a = e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),
				i = e.match(/(Android);?[\s\/]+([\d.]+)?/),
				s = e.match(/(iPad).*OS\s([\d_]+)/),
				r = e.match(/(iPod)(.*OS\s([\d_]+))?/),
				n = !s && e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
			if (a && (t.os = "windows", t.osVersion = a[2], t.windows = !0), i && !a && (t.os = "android", t.osVersion = i[2], t.android = !0, t.androidChrome = 0 <= e.toLowerCase().indexOf("chrome")), (s || n || r) && (t.os = "ios", t.ios = !0), n && !r && (t.osVersion = n[2].replace(/_/g, "."), t.iphone = !0), s && (t.osVersion = s[2].replace(/_/g, "."), t.ipad = !0), r && (t.osVersion = r[3] ? r[3].replace(/_/g, ".") : null, t.iphone = !0), t.ios && t.osVersion && 0 <= e.indexOf("Version/") && "10" === t.osVersion.split(".")[0] && (t.osVersion = e.toLowerCase().split("version/")[1].split(" ")[0]), t.desktop = !(t.os || t.android || t.webView), t.webView = (n || s || r) && e.match(/.*AppleWebKit(?!.*Safari)/i), t.os && "ios" === t.os) {
				var o = t.osVersion.split("."),
					l = f.querySelector('meta[name="viewport"]');
				t.minimalUi = !t.webView && (r || n) && (1 * o[0] == 7 ? 1 <= 1 * o[1] : 7 < 1 * o[0]) && l && 0 <= l.getAttribute("content").indexOf("minimal-ui")
			}
			return t.pixelRatio = Y.devicePixelRatio || 1, t
		}();

	function g() {
		var e = this,
			t = e.params,
			a = e.el;
		if (!a || 0 !== a.offsetWidth) {
			t.breakpoints && e.setBreakpoint();
			var i = e.allowSlideNext,
				s = e.allowSlidePrev,
				r = e.snapGrid;
			if (e.allowSlideNext = !0, e.allowSlidePrev = !0, e.updateSize(), e.updateSlides(), t.freeMode) {
				var n = Math.min(Math.max(e.translate, e.maxTranslate()), e.minTranslate());
				e.setTranslate(n), e.updateActiveIndex(), e.updateSlidesClasses(), t.autoHeight && e.updateAutoHeight()
			} else e.updateSlidesClasses(), ("auto" === t.slidesPerView || 1 < t.slidesPerView) && e.isEnd && !e.params.centeredSlides ? e.slideTo(e.slides.length - 1, 0, !1, !0) : e.slideTo(e.activeIndex, 0, !1, !0);
			e.allowSlidePrev = s, e.allowSlideNext = i, e.params.watchOverflow && r !== e.snapGrid && e.checkOverflow()
		}
	}
	var b = {
		attachEvents: function () {
			var e = this,
				t = e.params,
				a = e.touchEvents,
				i = e.el,
				s = e.wrapperEl;
			e.onTouchStart = function (e) {
				var t = this,
					a = t.touchEventsData,
					i = t.params,
					s = t.touches;
				if (!t.animating || !i.preventInteractionOnTransition) {
					var r = e;
					if (r.originalEvent && (r = r.originalEvent), a.isTouchEvent = "touchstart" === r.type, (a.isTouchEvent || !("which" in r) || 3 !== r.which) && !(!a.isTouchEvent && "button" in r && 0 < r.button || a.isTouched && a.isMoved))
						if (i.noSwiping && L(r.target).closest(i.noSwipingSelector ? i.noSwipingSelector : "." + i.noSwipingClass)[0]) t.allowClick = !0;
						else if (!i.swipeHandler || L(r).closest(i.swipeHandler)[0]) {
						s.currentX = "touchstart" === r.type ? r.targetTouches[0].pageX : r.pageX, s.currentY = "touchstart" === r.type ? r.targetTouches[0].pageY : r.pageY;
						var n = s.currentX,
							o = s.currentY,
							l = i.edgeSwipeDetection || i.iOSEdgeSwipeDetection,
							d = i.edgeSwipeThreshold || i.iOSEdgeSwipeThreshold;
						if (!l || !(n <= d || n >= Y.screen.width - d)) {
							if (V.extend(a, {
									isTouched: !0,
									isMoved: !1,
									allowTouchCallbacks: !0,
									isScrolling: void 0,
									startMoving: void 0
								}), s.startX = n, s.startY = o, a.touchStartTime = V.now(), t.allowClick = !0, t.updateSize(), t.swipeDirection = void 0, 0 < i.threshold && (a.allowThresholdMove = !1), "touchstart" !== r.type) {
								var p = !0;
								L(r.target).is(a.formElements) && (p = !1), f.activeElement && L(f.activeElement).is(a.formElements) && f.activeElement !== r.target && f.activeElement.blur(), p && t.allowTouchMove && i.touchStartPreventDefault && r.preventDefault()
							}
							t.emit("touchStart", r)
						}
					}
				}
			}.bind(e), e.onTouchMove = function (e) {
				var t = this,
					a = t.touchEventsData,
					i = t.params,
					s = t.touches,
					r = t.rtlTranslate,
					n = e;
				if (n.originalEvent && (n = n.originalEvent), a.isTouched) {
					if (!a.isTouchEvent || "mousemove" !== n.type) {
						var o = "touchmove" === n.type ? n.targetTouches[0].pageX : n.pageX,
							l = "touchmove" === n.type ? n.targetTouches[0].pageY : n.pageY;
						if (n.preventedByNestedSwiper) return s.startX = o, void(s.startY = l);
						if (!t.allowTouchMove) return t.allowClick = !1, void(a.isTouched && (V.extend(s, {
							startX: o,
							startY: l,
							currentX: o,
							currentY: l
						}), a.touchStartTime = V.now()));
						if (a.isTouchEvent && i.touchReleaseOnEdges && !i.loop)
							if (t.isVertical()) {
								if (l < s.startY && t.translate <= t.maxTranslate() || l > s.startY && t.translate >= t.minTranslate()) return a.isTouched = !1, void(a.isMoved = !1)
							} else if (o < s.startX && t.translate <= t.maxTranslate() || o > s.startX && t.translate >= t.minTranslate()) return;
						if (a.isTouchEvent && f.activeElement && n.target === f.activeElement && L(n.target).is(a.formElements)) return a.isMoved = !0, void(t.allowClick = !1);
						if (a.allowTouchCallbacks && t.emit("touchMove", n), !(n.targetTouches && 1 < n.targetTouches.length)) {
							s.currentX = o, s.currentY = l;
							var d, p = s.currentX - s.startX,
								c = s.currentY - s.startY;
							if (!(t.params.threshold && Math.sqrt(Math.pow(p, 2) + Math.pow(c, 2)) < t.params.threshold))
								if (void 0 === a.isScrolling && (t.isHorizontal() && s.currentY === s.startY || t.isVertical() && s.currentX === s.startX ? a.isScrolling = !1 : 25 <= p * p + c * c && (d = 180 * Math.atan2(Math.abs(c), Math.abs(p)) / Math.PI, a.isScrolling = t.isHorizontal() ? d > i.touchAngle : 90 - d > i.touchAngle)), a.isScrolling && t.emit("touchMoveOpposite", n), void 0 === a.startMoving && (s.currentX === s.startX && s.currentY === s.startY || (a.startMoving = !0)), a.isScrolling) a.isTouched = !1;
								else if (a.startMoving) {
								t.allowClick = !1, n.preventDefault(), i.touchMoveStopPropagation && !i.nested && n.stopPropagation(), a.isMoved || (i.loop && t.loopFix(), a.startTranslate = t.getTranslate(), t.setTransition(0), t.animating && t.$wrapperEl.trigger("webkitTransitionEnd transitionend"), a.allowMomentumBounce = !1, !i.grabCursor || !0 !== t.allowSlideNext && !0 !== t.allowSlidePrev || t.setGrabCursor(!0), t.emit("sliderFirstMove", n)), t.emit("sliderMove", n), a.isMoved = !0;
								var u = t.isHorizontal() ? p : c;
								s.diff = u, u *= i.touchRatio, r && (u = -u), t.swipeDirection = 0 < u ? "prev" : "next", a.currentTranslate = u + a.startTranslate;
								var h = !0,
									v = i.resistanceRatio;
								if (i.touchReleaseOnEdges && (v = 0), 0 < u && a.currentTranslate > t.minTranslate() ? (h = !1, i.resistance && (a.currentTranslate = t.minTranslate() - 1 + Math.pow(-t.minTranslate() + a.startTranslate + u, v))) : u < 0 && a.currentTranslate < t.maxTranslate() && (h = !1, i.resistance && (a.currentTranslate = t.maxTranslate() + 1 - Math.pow(t.maxTranslate() - a.startTranslate - u, v))), h && (n.preventedByNestedSwiper = !0), !t.allowSlideNext && "next" === t.swipeDirection && a.currentTranslate < a.startTranslate && (a.currentTranslate = a.startTranslate), !t.allowSlidePrev && "prev" === t.swipeDirection && a.currentTranslate > a.startTranslate && (a.currentTranslate = a.startTranslate), 0 < i.threshold) {
									if (!(Math.abs(u) > i.threshold || a.allowThresholdMove)) return void(a.currentTranslate = a.startTranslate);
									if (!a.allowThresholdMove) return a.allowThresholdMove = !0, s.startX = s.currentX, s.startY = s.currentY, a.currentTranslate = a.startTranslate, void(s.diff = t.isHorizontal() ? s.currentX - s.startX : s.currentY - s.startY)
								}
								i.followFinger && ((i.freeMode || i.watchSlidesProgress || i.watchSlidesVisibility) && (t.updateActiveIndex(), t.updateSlidesClasses()), i.freeMode && (0 === a.velocities.length && a.velocities.push({
									position: s[t.isHorizontal() ? "startX" : "startY"],
									time: a.touchStartTime
								}), a.velocities.push({
									position: s[t.isHorizontal() ? "currentX" : "currentY"],
									time: V.now()
								})), t.updateProgress(a.currentTranslate), t.setTranslate(a.currentTranslate))
							}
						}
					}
				} else a.startMoving && a.isScrolling && t.emit("touchMoveOpposite", n)
			}.bind(e), e.onTouchEnd = function (e) {
				var t = this,
					a = t.touchEventsData,
					i = t.params,
					s = t.touches,
					r = t.rtlTranslate,
					n = t.$wrapperEl,
					o = t.slidesGrid,
					l = t.snapGrid,
					d = e;
				if (d.originalEvent && (d = d.originalEvent), a.allowTouchCallbacks && t.emit("touchEnd", d), a.allowTouchCallbacks = !1, !a.isTouched) return a.isMoved && i.grabCursor && t.setGrabCursor(!1), a.isMoved = !1, void(a.startMoving = !1);
				i.grabCursor && a.isMoved && a.isTouched && (!0 === t.allowSlideNext || !0 === t.allowSlidePrev) && t.setGrabCursor(!1);
				var p, c = V.now(),
					u = c - a.touchStartTime;
				if (t.allowClick && (t.updateClickedSlide(d), t.emit("tap", d), u < 300 && 300 < c - a.lastClickTime && (a.clickTimeout && clearTimeout(a.clickTimeout), a.clickTimeout = V.nextTick(function () {
						t && !t.destroyed && t.emit("click", d)
					}, 300)), u < 300 && c - a.lastClickTime < 300 && (a.clickTimeout && clearTimeout(a.clickTimeout), t.emit("doubleTap", d))), a.lastClickTime = V.now(), V.nextTick(function () {
						t.destroyed || (t.allowClick = !0)
					}), !a.isTouched || !a.isMoved || !t.swipeDirection || 0 === s.diff || a.currentTranslate === a.startTranslate) return a.isTouched = !1, a.isMoved = !1, void(a.startMoving = !1);
				if (a.isTouched = !1, a.isMoved = !1, a.startMoving = !1, p = i.followFinger ? r ? t.translate : -t.translate : -a.currentTranslate, i.freeMode) {
					if (p < -t.minTranslate()) return void t.slideTo(t.activeIndex);
					if (p > -t.maxTranslate()) return void(t.slides.length < l.length ? t.slideTo(l.length - 1) : t.slideTo(t.slides.length - 1));
					if (i.freeModeMomentum) {
						if (1 < a.velocities.length) {
							var h = a.velocities.pop(),
								v = a.velocities.pop(),
								f = h.position - v.position,
								m = h.time - v.time;
							t.velocity = f / m, t.velocity /= 2, Math.abs(t.velocity) < i.freeModeMinimumVelocity && (t.velocity = 0), (150 < m || 300 < V.now() - h.time) && (t.velocity = 0)
						} else t.velocity = 0;
						t.velocity *= i.freeModeMomentumVelocityRatio, a.velocities.length = 0;
						var g = 1e3 * i.freeModeMomentumRatio,
							b = t.velocity * g,
							w = t.translate + b;
						r && (w = -w);
						var y, x, T = !1,
							E = 20 * Math.abs(t.velocity) * i.freeModeMomentumBounceRatio;
						if (w < t.maxTranslate()) i.freeModeMomentumBounce ? (w + t.maxTranslate() < -E && (w = t.maxTranslate() - E), y = t.maxTranslate(), T = !0, a.allowMomentumBounce = !0) : w = t.maxTranslate(), i.loop && i.centeredSlides && (x = !0);
						else if (w > t.minTranslate()) i.freeModeMomentumBounce ? (w - t.minTranslate() > E && (w = t.minTranslate() + E), y = t.minTranslate(), T = !0, a.allowMomentumBounce = !0) : w = t.minTranslate(), i.loop && i.centeredSlides && (x = !0);
						else if (i.freeModeSticky) {
							for (var S, C = 0; C < l.length; C += 1)
								if (l[C] > -w) {
									S = C;
									break
								} w = -(w = Math.abs(l[S] - w) < Math.abs(l[S - 1] - w) || "next" === t.swipeDirection ? l[S] : l[S - 1])
						}
						if (x && t.once("transitionEnd", function () {
								t.loopFix()
							}), 0 !== t.velocity) g = r ? Math.abs((-w - t.translate) / t.velocity) : Math.abs((w - t.translate) / t.velocity);
						else if (i.freeModeSticky) return void t.slideToClosest();
						i.freeModeMomentumBounce && T ? (t.updateProgress(y), t.setTransition(g), t.setTranslate(w), t.transitionStart(!0, t.swipeDirection), t.animating = !0, n.transitionEnd(function () {
							t && !t.destroyed && a.allowMomentumBounce && (t.emit("momentumBounce"), t.setTransition(i.speed), t.setTranslate(y), n.transitionEnd(function () {
								t && !t.destroyed && t.transitionEnd()
							}))
						})) : t.velocity ? (t.updateProgress(w), t.setTransition(g), t.setTranslate(w), t.transitionStart(!0, t.swipeDirection), t.animating || (t.animating = !0, n.transitionEnd(function () {
							t && !t.destroyed && t.transitionEnd()
						}))) : t.updateProgress(w), t.updateActiveIndex(), t.updateSlidesClasses()
					} else if (i.freeModeSticky) return void t.slideToClosest();
					(!i.freeModeMomentum || u >= i.longSwipesMs) && (t.updateProgress(), t.updateActiveIndex(), t.updateSlidesClasses())
				} else {
					for (var M = 0, k = t.slidesSizesGrid[0], z = 0; z < o.length; z += i.slidesPerGroup) void 0 !== o[z + i.slidesPerGroup] ? p >= o[z] && p < o[z + i.slidesPerGroup] && (k = o[(M = z) + i.slidesPerGroup] - o[z]) : p >= o[z] && (M = z, k = o[o.length - 1] - o[o.length - 2]);
					var P = (p - o[M]) / k;
					if (u > i.longSwipesMs) {
						if (!i.longSwipes) return void t.slideTo(t.activeIndex);
						"next" === t.swipeDirection && (P >= i.longSwipesRatio ? t.slideTo(M + i.slidesPerGroup) : t.slideTo(M)), "prev" === t.swipeDirection && (P > 1 - i.longSwipesRatio ? t.slideTo(M + i.slidesPerGroup) : t.slideTo(M))
					} else {
						if (!i.shortSwipes) return void t.slideTo(t.activeIndex);
						"next" === t.swipeDirection && t.slideTo(M + i.slidesPerGroup), "prev" === t.swipeDirection && t.slideTo(M)
					}
				}
			}.bind(e), e.onClick = function (e) {
				this.allowClick || (this.params.preventClicks && e.preventDefault(), this.params.preventClicksPropagation && this.animating && (e.stopPropagation(), e.stopImmediatePropagation()))
			}.bind(e);
			var r = "container" === t.touchEventsTarget ? i : s,
				n = !!t.nested;
			if (R.touch || !R.pointerEvents && !R.prefixedPointerEvents) {
				if (R.touch) {
					var o = !("touchstart" !== a.start || !R.passiveListener || !t.passiveListeners) && {
						passive: !0,
						capture: !1
					};
					r.addEventListener(a.start, e.onTouchStart, o), r.addEventListener(a.move, e.onTouchMove, R.passiveListener ? {
						passive: !1,
						capture: n
					} : n), r.addEventListener(a.end, e.onTouchEnd, o)
				}(t.simulateTouch && !m.ios && !m.android || t.simulateTouch && !R.touch && m.ios) && (r.addEventListener("mousedown", e.onTouchStart, !1), f.addEventListener("mousemove", e.onTouchMove, n), f.addEventListener("mouseup", e.onTouchEnd, !1))
			} else r.addEventListener(a.start, e.onTouchStart, !1), f.addEventListener(a.move, e.onTouchMove, n), f.addEventListener(a.end, e.onTouchEnd, !1);
			(t.preventClicks || t.preventClicksPropagation) && r.addEventListener("click", e.onClick, !0), e.on(m.ios || m.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", g, !0)
		},
		detachEvents: function () {
			var e = this,
				t = e.params,
				a = e.touchEvents,
				i = e.el,
				s = e.wrapperEl,
				r = "container" === t.touchEventsTarget ? i : s,
				n = !!t.nested;
			if (R.touch || !R.pointerEvents && !R.prefixedPointerEvents) {
				if (R.touch) {
					var o = !("onTouchStart" !== a.start || !R.passiveListener || !t.passiveListeners) && {
						passive: !0,
						capture: !1
					};
					r.removeEventListener(a.start, e.onTouchStart, o), r.removeEventListener(a.move, e.onTouchMove, n), r.removeEventListener(a.end, e.onTouchEnd, o)
				}(t.simulateTouch && !m.ios && !m.android || t.simulateTouch && !R.touch && m.ios) && (r.removeEventListener("mousedown", e.onTouchStart, !1), f.removeEventListener("mousemove", e.onTouchMove, n), f.removeEventListener("mouseup", e.onTouchEnd, !1))
			} else r.removeEventListener(a.start, e.onTouchStart, !1), f.removeEventListener(a.move, e.onTouchMove, n), f.removeEventListener(a.end, e.onTouchEnd, !1);
			(t.preventClicks || t.preventClicksPropagation) && r.removeEventListener("click", e.onClick, !0), e.off(m.ios || m.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", g)
		}
	};
	var w, y = {
			setBreakpoint: function () {
				var e = this,
					t = e.activeIndex,
					a = e.initialized,
					i = e.loopedSlides;
				void 0 === i && (i = 0);
				var s = e.params,
					r = s.breakpoints;
				if (r && (!r || 0 !== Object.keys(r).length)) {
					var n = e.getBreakpoint(r);
					if (n && e.currentBreakpoint !== n) {
						var o = n in r ? r[n] : e.originalParams,
							l = s.loop && o.slidesPerView !== s.slidesPerView;
						V.extend(e.params, o), V.extend(e, {
							allowTouchMove: e.params.allowTouchMove,
							allowSlideNext: e.params.allowSlideNext,
							allowSlidePrev: e.params.allowSlidePrev
						}), e.currentBreakpoint = n, l && a && (e.loopDestroy(), e.loopCreate(), e.updateSlides(), e.slideTo(t - i + e.loopedSlides, 0, !1)), e.emit("breakpoint", o)
					}
				}
			},
			getBreakpoint: function (e) {
				if (e) {
					var t = !1,
						a = [];
					Object.keys(e).forEach(function (e) {
						a.push(e)
					}), a.sort(function (e, t) {
						return parseInt(e, 10) - parseInt(t, 10)
					});
					for (var i = 0; i < a.length; i += 1) {
						var s = a[i];
						this.params.breakpointsInverse ? s <= Y.innerWidth && (t = s) : s >= Y.innerWidth && !t && (t = s)
					}
					return t || "max"
				}
			}
		},
		I = {
			isIE: !!Y.navigator.userAgent.match(/Trident/g) || !!Y.navigator.userAgent.match(/MSIE/g),
			isEdge: !!Y.navigator.userAgent.match(/Edge/g),
			isSafari: (w = Y.navigator.userAgent.toLowerCase(), 0 <= w.indexOf("safari") && w.indexOf("chrome") < 0 && w.indexOf("android") < 0),
			isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(Y.navigator.userAgent)
		};
	var x = {
			init: !0,
			direction: "horizontal",
			touchEventsTarget: "container",
			initialSlide: 0,
			speed: 300,
			preventInteractionOnTransition: !1,
			edgeSwipeDetection: !1,
			edgeSwipeThreshold: 20,
			freeMode: !1,
			freeModeMomentum: !0,
			freeModeMomentumRatio: 1,
			freeModeMomentumBounce: !0,
			freeModeMomentumBounceRatio: 1,
			freeModeMomentumVelocityRatio: 1,
			freeModeSticky: !1,
			freeModeMinimumVelocity: .02,
			autoHeight: !1,
			setWrapperSize: !1,
			virtualTranslate: !1,
			effect: "slide",
			breakpoints: void 0,
			breakpointsInverse: !1,
			spaceBetween: 0,
			slidesPerView: 1,
			slidesPerColumn: 1,
			slidesPerColumnFill: "column",
			slidesPerGroup: 1,
			centeredSlides: !1,
			slidesOffsetBefore: 0,
			slidesOffsetAfter: 0,
			normalizeSlideIndex: !0,
			centerInsufficientSlides: !1,
			watchOverflow: !1,
			roundLengths: !1,
			touchRatio: 1,
			touchAngle: 45,
			simulateTouch: !0,
			shortSwipes: !0,
			longSwipes: !0,
			longSwipesRatio: .5,
			longSwipesMs: 300,
			followFinger: !0,
			allowTouchMove: !0,
			threshold: 0,
			touchMoveStopPropagation: !0,
			touchStartPreventDefault: !0,
			touchReleaseOnEdges: !1,
			uniqueNavElements: !0,
			resistance: !0,
			resistanceRatio: .85,
			watchSlidesProgress: !1,
			watchSlidesVisibility: !1,
			grabCursor: !1,
			preventClicks: !0,
			preventClicksPropagation: !0,
			slideToClickedSlide: !1,
			preloadImages: !0,
			updateOnImagesReady: !0,
			loop: !1,
			loopAdditionalSlides: 0,
			loopedSlides: null,
			loopFillGroupWithBlank: !1,
			allowSlidePrev: !0,
			allowSlideNext: !0,
			swipeHandler: null,
			noSwiping: !0,
			noSwipingClass: "swiper-no-swiping",
			noSwipingSelector: null,
			passiveListeners: !0,
			containerModifierClass: "swiper-container-",
			slideClass: "swiper-slide",
			slideBlankClass: "swiper-slide-invisible-blank",
			slideActiveClass: "swiper-slide-active",
			slideDuplicateActiveClass: "swiper-slide-duplicate-active",
			slideVisibleClass: "swiper-slide-visible",
			slideDuplicateClass: "swiper-slide-duplicate",
			slideNextClass: "swiper-slide-next",
			slideDuplicateNextClass: "swiper-slide-duplicate-next",
			slidePrevClass: "swiper-slide-prev",
			slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
			wrapperClass: "swiper-wrapper",
			runCallbacksOnInit: !0
		},
		T = {
			update: o,
			translate: d,
			transition: p,
			slide: c,
			loop: u,
			grabCursor: h,
			manipulation: v,
			events: b,
			breakpoints: y,
			checkOverflow: {
				checkOverflow: function () {
					var e = this,
						t = e.isLocked;
					e.isLocked = 1 === e.snapGrid.length, e.allowSlideNext = !e.isLocked, e.allowSlidePrev = !e.isLocked, t !== e.isLocked && e.emit(e.isLocked ? "lock" : "unlock"), t && t !== e.isLocked && (e.isEnd = !1, e.navigation.update())
				}
			},
			classes: {
				addClasses: function () {
					var t = this.classNames,
						a = this.params,
						e = this.rtl,
						i = this.$el,
						s = [];
					s.push(a.direction), a.freeMode && s.push("free-mode"), R.flexbox || s.push("no-flexbox"), a.autoHeight && s.push("autoheight"), e && s.push("rtl"), 1 < a.slidesPerColumn && s.push("multirow"), m.android && s.push("android"), m.ios && s.push("ios"), (I.isIE || I.isEdge) && (R.pointerEvents || R.prefixedPointerEvents) && s.push("wp8-" + a.direction), s.forEach(function (e) {
						t.push(a.containerModifierClass + e)
					}), i.addClass(t.join(" "))
				},
				removeClasses: function () {
					var e = this.$el,
						t = this.classNames;
					e.removeClass(t.join(" "))
				}
			},
			images: {
				loadImage: function (e, t, a, i, s, r) {
					var n;

					function o() {
						r && r()
					}
					e.complete && s ? o() : t ? ((n = new Y.Image).onload = o, n.onerror = o, i && (n.sizes = i), a && (n.srcset = a), t && (n.src = t)) : o()
				},
				preloadImages: function () {
					var e = this;

					function t() {
						null != e && e && !e.destroyed && (void 0 !== e.imagesLoaded && (e.imagesLoaded += 1), e.imagesLoaded === e.imagesToLoad.length && (e.params.updateOnImagesReady && e.update(), e.emit("imagesReady")))
					}
					e.imagesToLoad = e.$el.find("img");
					for (var a = 0; a < e.imagesToLoad.length; a += 1) {
						var i = e.imagesToLoad[a];
						e.loadImage(i, i.currentSrc || i.getAttribute("src"), i.srcset || i.getAttribute("srcset"), i.sizes || i.getAttribute("sizes"), !0, t)
					}
				}
			}
		},
		E = {},
		S = function (u) {
			function h() {
				for (var e, t, s, a = [], i = arguments.length; i--;) a[i] = arguments[i];
				1 === a.length && a[0].constructor && a[0].constructor === Object ? s = a[0] : (t = (e = a)[0], s = e[1]), s || (s = {}), s = V.extend({}, s), t && !s.el && (s.el = t), u.call(this, s), Object.keys(T).forEach(function (t) {
					Object.keys(T[t]).forEach(function (e) {
						h.prototype[e] || (h.prototype[e] = T[t][e])
					})
				});
				var r = this;
				void 0 === r.modules && (r.modules = {}), Object.keys(r.modules).forEach(function (e) {
					var t = r.modules[e];
					if (t.params) {
						var a = Object.keys(t.params)[0],
							i = t.params[a];
						if ("object" != typeof i || null === i) return;
						if (!(a in s && "enabled" in i)) return;
						!0 === s[a] && (s[a] = {
							enabled: !0
						}), "object" != typeof s[a] || "enabled" in s[a] || (s[a].enabled = !0), s[a] || (s[a] = {
							enabled: !1
						})
					}
				});
				var n = V.extend({}, x);
				r.useModulesParams(n), r.params = V.extend({}, n, E, s), r.originalParams = V.extend({}, r.params), r.passedParams = V.extend({}, s);
				var o = (r.$ = L)(r.params.el);
				if (t = o[0]) {
					if (1 < o.length) {
						var l = [];
						return o.each(function (e, t) {
							var a = V.extend({}, s, {
								el: t
							});
							l.push(new h(a))
						}), l
					}
					t.swiper = r, o.data("swiper", r);
					var d, p, c = o.children("." + r.params.wrapperClass);
					return V.extend(r, {
						$el: o,
						el: t,
						$wrapperEl: c,
						wrapperEl: c[0],
						classNames: [],
						slides: L(),
						slidesGrid: [],
						snapGrid: [],
						slidesSizesGrid: [],
						isHorizontal: function () {
							return "horizontal" === r.params.direction
						},
						isVertical: function () {
							return "vertical" === r.params.direction
						},
						rtl: "rtl" === t.dir.toLowerCase() || "rtl" === o.css("direction"),
						rtlTranslate: "horizontal" === r.params.direction && ("rtl" === t.dir.toLowerCase() || "rtl" === o.css("direction")),
						wrongRTL: "-webkit-box" === c.css("display"),
						activeIndex: 0,
						realIndex: 0,
						isBeginning: !0,
						isEnd: !1,
						translate: 0,
						previousTranslate: 0,
						progress: 0,
						velocity: 0,
						animating: !1,
						allowSlideNext: r.params.allowSlideNext,
						allowSlidePrev: r.params.allowSlidePrev,
						touchEvents: (d = ["touchstart", "touchmove", "touchend"], p = ["mousedown", "mousemove", "mouseup"], R.pointerEvents ? p = ["pointerdown", "pointermove", "pointerup"] : R.prefixedPointerEvents && (p = ["MSPointerDown", "MSPointerMove", "MSPointerUp"]), r.touchEventsTouch = {
							start: d[0],
							move: d[1],
							end: d[2]
						}, r.touchEventsDesktop = {
							start: p[0],
							move: p[1],
							end: p[2]
						}, R.touch || !r.params.simulateTouch ? r.touchEventsTouch : r.touchEventsDesktop),
						touchEventsData: {
							isTouched: void 0,
							isMoved: void 0,
							allowTouchCallbacks: void 0,
							touchStartTime: void 0,
							isScrolling: void 0,
							currentTranslate: void 0,
							startTranslate: void 0,
							allowThresholdMove: void 0,
							formElements: "input, select, option, textarea, button, video",
							lastClickTime: V.now(),
							clickTimeout: void 0,
							velocities: [],
							allowMomentumBounce: void 0,
							isTouchEvent: void 0,
							startMoving: void 0
						},
						allowClick: !0,
						allowTouchMove: r.params.allowTouchMove,
						touches: {
							startX: 0,
							startY: 0,
							currentX: 0,
							currentY: 0,
							diff: 0
						},
						imagesToLoad: [],
						imagesLoaded: 0
					}), r.useModules(), r.params.init && r.init(), r
				}
			}
			u && (h.__proto__ = u);
			var e = {
				extendedDefaults: {
					configurable: !0
				},
				defaults: {
					configurable: !0
				},
				Class: {
					configurable: !0
				},
				$: {
					configurable: !0
				}
			};
			return ((h.prototype = Object.create(u && u.prototype)).constructor = h).prototype.slidesPerViewDynamic = function () {
				var e = this,
					t = e.params,
					a = e.slides,
					i = e.slidesGrid,
					s = e.size,
					r = e.activeIndex,
					n = 1;
				if (t.centeredSlides) {
					for (var o, l = a[r].swiperSlideSize, d = r + 1; d < a.length; d += 1) a[d] && !o && (n += 1, s < (l += a[d].swiperSlideSize) && (o = !0));
					for (var p = r - 1; 0 <= p; p -= 1) a[p] && !o && (n += 1, s < (l += a[p].swiperSlideSize) && (o = !0))
				} else
					for (var c = r + 1; c < a.length; c += 1) i[c] - i[r] < s && (n += 1);
				return n
			}, h.prototype.update = function () {
				var a = this;
				if (a && !a.destroyed) {
					var e = a.snapGrid,
						t = a.params;
					t.breakpoints && a.setBreakpoint(), a.updateSize(), a.updateSlides(), a.updateProgress(), a.updateSlidesClasses(), a.params.freeMode ? (i(), a.params.autoHeight && a.updateAutoHeight()) : (("auto" === a.params.slidesPerView || 1 < a.params.slidesPerView) && a.isEnd && !a.params.centeredSlides ? a.slideTo(a.slides.length - 1, 0, !1, !0) : a.slideTo(a.activeIndex, 0, !1, !0)) || i(), t.watchOverflow && e !== a.snapGrid && a.checkOverflow(), a.emit("update")
				}

				function i() {
					var e = a.rtlTranslate ? -1 * a.translate : a.translate,
						t = Math.min(Math.max(e, a.maxTranslate()), a.minTranslate());
					a.setTranslate(t), a.updateActiveIndex(), a.updateSlidesClasses()
				}
			}, h.prototype.init = function () {
				var e = this;
				e.initialized || (e.emit("beforeInit"), e.params.breakpoints && e.setBreakpoint(), e.addClasses(), e.params.loop && e.loopCreate(), e.updateSize(), e.updateSlides(), e.params.watchOverflow && e.checkOverflow(), e.params.grabCursor && e.setGrabCursor(), e.params.preloadImages && e.preloadImages(), e.params.loop ? e.slideTo(e.params.initialSlide + e.loopedSlides, 0, e.params.runCallbacksOnInit) : e.slideTo(e.params.initialSlide, 0, e.params.runCallbacksOnInit), e.attachEvents(), e.initialized = !0, e.emit("init"))
			}, h.prototype.destroy = function (e, t) {
				void 0 === e && (e = !0), void 0 === t && (t = !0);
				var a = this,
					i = a.params,
					s = a.$el,
					r = a.$wrapperEl,
					n = a.slides;
				return void 0 === a.params || a.destroyed || (a.emit("beforeDestroy"), a.initialized = !1, a.detachEvents(), i.loop && a.loopDestroy(), t && (a.removeClasses(), s.removeAttr("style"), r.removeAttr("style"), n && n.length && n.removeClass([i.slideVisibleClass, i.slideActiveClass, i.slideNextClass, i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")), a.emit("destroy"), Object.keys(a.eventsListeners).forEach(function (e) {
					a.off(e)
				}), !1 !== e && (a.$el[0].swiper = null, a.$el.data("swiper", null), V.deleteProps(a)), a.destroyed = !0), null
			}, h.extendDefaults = function (e) {
				V.extend(E, e)
			}, e.extendedDefaults.get = function () {
				return E
			}, e.defaults.get = function () {
				return x
			}, e.Class.get = function () {
				return u
			}, e.$.get = function () {
				return L
			}, Object.defineProperties(h, e), h
		}(s),
		C = {
			name: "device",
			proto: {
				device: m
			},
			static: {
				device: m
			}
		},
		M = {
			name: "support",
			proto: {
				support: R
			},
			static: {
				support: R
			}
		},
		k = {
			name: "browser",
			proto: {
				browser: I
			},
			static: {
				browser: I
			}
		},
		z = {
			name: "resize",
			create: function () {
				var e = this;
				V.extend(e, {
					resize: {
						resizeHandler: function () {
							e && !e.destroyed && e.initialized && (e.emit("beforeResize"), e.emit("resize"))
						},
						orientationChangeHandler: function () {
							e && !e.destroyed && e.initialized && e.emit("orientationchange")
						}
					}
				})
			},
			on: {
				init: function () {
					Y.addEventListener("resize", this.resize.resizeHandler), Y.addEventListener("orientationchange", this.resize.orientationChangeHandler)
				},
				destroy: function () {
					Y.removeEventListener("resize", this.resize.resizeHandler), Y.removeEventListener("orientationchange", this.resize.orientationChangeHandler)
				}
			}
		},
		P = {
			func: Y.MutationObserver || Y.WebkitMutationObserver,
			attach: function (e, t) {
				void 0 === t && (t = {});
				var a = this,
					i = new P.func(function (e) {
						if (1 !== e.length) {
							var t = function () {
								a.emit("observerUpdate", e[0])
							};
							Y.requestAnimationFrame ? Y.requestAnimationFrame(t) : Y.setTimeout(t, 0)
						} else a.emit("observerUpdate", e[0])
					});
				i.observe(e, {
					attributes: void 0 === t.attributes || t.attributes,
					childList: void 0 === t.childList || t.childList,
					characterData: void 0 === t.characterData || t.characterData
				}), a.observer.observers.push(i)
			},
			init: function () {
				var e = this;
				if (R.observer && e.params.observer) {
					if (e.params.observeParents)
						for (var t = e.$el.parents(), a = 0; a < t.length; a += 1) e.observer.attach(t[a]);
					e.observer.attach(e.$el[0], {
						childList: !1
					}), e.observer.attach(e.$wrapperEl[0], {
						attributes: !1
					})
				}
			},
			destroy: function () {
				this.observer.observers.forEach(function (e) {
					e.disconnect()
				}), this.observer.observers = []
			}
		},
		$ = {
			name: "observer",
			params: {
				observer: !1,
				observeParents: !1
			},
			create: function () {
				V.extend(this, {
					observer: {
						init: P.init.bind(this),
						attach: P.attach.bind(this),
						destroy: P.destroy.bind(this),
						observers: []
					}
				})
			},
			on: {
				init: function () {
					this.observer.init()
				},
				destroy: function () {
					this.observer.destroy()
				}
			}
		},
		D = {
			update: function (e) {
				var t = this,
					a = t.params,
					i = a.slidesPerView,
					s = a.slidesPerGroup,
					r = a.centeredSlides,
					n = t.params.virtual,
					o = n.addSlidesBefore,
					l = n.addSlidesAfter,
					d = t.virtual,
					p = d.from,
					c = d.to,
					u = d.slides,
					h = d.slidesGrid,
					v = d.renderSlide,
					f = d.offset;
				t.updateActiveIndex();
				var m, g, b, w = t.activeIndex || 0;
				m = t.rtlTranslate ? "right" : t.isHorizontal() ? "left" : "top", r ? (g = Math.floor(i / 2) + s + o, b = Math.floor(i / 2) + s + l) : (g = i + (s - 1) + o, b = s + l);
				var y = Math.max((w || 0) - b, 0),
					x = Math.min((w || 0) + g, u.length - 1),
					T = (t.slidesGrid[y] || 0) - (t.slidesGrid[0] || 0);

				function E() {
					t.updateSlides(), t.updateProgress(), t.updateSlidesClasses(), t.lazy && t.params.lazy.enabled && t.lazy.load()
				}
				if (V.extend(t.virtual, {
						from: y,
						to: x,
						offset: T,
						slidesGrid: t.slidesGrid
					}), p === y && c === x && !e) return t.slidesGrid !== h && T !== f && t.slides.css(m, T + "px"), void t.updateProgress();
				if (t.params.virtual.renderExternal) return t.params.virtual.renderExternal.call(t, {
					offset: T,
					from: y,
					to: x,
					slides: function () {
						for (var e = [], t = y; t <= x; t += 1) e.push(u[t]);
						return e
					}()
				}), void E();
				var S = [],
					C = [];
				if (e) t.$wrapperEl.find("." + t.params.slideClass).remove();
				else
					for (var M = p; M <= c; M += 1)(M < y || x < M) && t.$wrapperEl.find("." + t.params.slideClass + '[data-swiper-slide-index="' + M + '"]').remove();
				for (var k = 0; k < u.length; k += 1) y <= k && k <= x && (void 0 === c || e ? C.push(k) : (c < k && C.push(k), k < p && S.push(k)));
				C.forEach(function (e) {
					t.$wrapperEl.append(v(u[e], e))
				}), S.sort(function (e, t) {
					return e < t
				}).forEach(function (e) {
					t.$wrapperEl.prepend(v(u[e], e))
				}), t.$wrapperEl.children(".swiper-slide").css(m, T + "px"), E()
			},
			renderSlide: function (e, t) {
				var a = this,
					i = a.params.virtual;
				if (i.cache && a.virtual.cache[t]) return a.virtual.cache[t];
				var s = i.renderSlide ? L(i.renderSlide.call(a, e, t)) : L('<div class="' + a.params.slideClass + '" data-swiper-slide-index="' + t + '">' + e + "</div>");
				return s.attr("data-swiper-slide-index") || s.attr("data-swiper-slide-index", t), i.cache && (a.virtual.cache[t] = s), s
			},
			appendSlide: function (e) {
				this.virtual.slides.push(e), this.virtual.update(!0)
			},
			prependSlide: function (e) {
				var t = this;
				if (t.virtual.slides.unshift(e), t.params.virtual.cache) {
					var a = t.virtual.cache,
						i = {};
					Object.keys(a).forEach(function (e) {
						i[e + 1] = a[e]
					}), t.virtual.cache = i
				}
				t.virtual.update(!0), t.slideNext(0)
			}
		},
		O = {
			name: "virtual",
			params: {
				virtual: {
					enabled: !1,
					slides: [],
					cache: !0,
					renderSlide: null,
					renderExternal: null,
					addSlidesBefore: 0,
					addSlidesAfter: 0
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					virtual: {
						update: D.update.bind(e),
						appendSlide: D.appendSlide.bind(e),
						prependSlide: D.prependSlide.bind(e),
						renderSlide: D.renderSlide.bind(e),
						slides: e.params.virtual.slides,
						cache: {}
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this;
					if (e.params.virtual.enabled) {
						e.classNames.push(e.params.containerModifierClass + "virtual");
						var t = {
							watchSlidesProgress: !0
						};
						V.extend(e.params, t), V.extend(e.originalParams, t), e.virtual.update()
					}
				},
				setTranslate: function () {
					this.params.virtual.enabled && this.virtual.update()
				}
			}
		},
		A = {
			handle: function (e) {
				var t = this,
					a = t.rtlTranslate,
					i = e;
				i.originalEvent && (i = i.originalEvent);
				var s = i.keyCode || i.charCode;
				if (!t.allowSlideNext && (t.isHorizontal() && 39 === s || t.isVertical() && 40 === s)) return !1;
				if (!t.allowSlidePrev && (t.isHorizontal() && 37 === s || t.isVertical() && 38 === s)) return !1;
				if (!(i.shiftKey || i.altKey || i.ctrlKey || i.metaKey || f.activeElement && f.activeElement.nodeName && ("input" === f.activeElement.nodeName.toLowerCase() || "textarea" === f.activeElement.nodeName.toLowerCase()))) {
					if (t.params.keyboard.onlyInViewport && (37 === s || 39 === s || 38 === s || 40 === s)) {
						var r = !1;
						if (0 < t.$el.parents("." + t.params.slideClass).length && 0 === t.$el.parents("." + t.params.slideActiveClass).length) return;
						var n = Y.innerWidth,
							o = Y.innerHeight,
							l = t.$el.offset();
						a && (l.left -= t.$el[0].scrollLeft);
						for (var d = [
								[l.left, l.top],
								[l.left + t.width, l.top],
								[l.left, l.top + t.height],
								[l.left + t.width, l.top + t.height]
							], p = 0; p < d.length; p += 1) {
							var c = d[p];
							0 <= c[0] && c[0] <= n && 0 <= c[1] && c[1] <= o && (r = !0)
						}
						if (!r) return
					}
					t.isHorizontal() ? (37 !== s && 39 !== s || (i.preventDefault ? i.preventDefault() : i.returnValue = !1), (39 === s && !a || 37 === s && a) && t.slideNext(), (37 === s && !a || 39 === s && a) && t.slidePrev()) : (38 !== s && 40 !== s || (i.preventDefault ? i.preventDefault() : i.returnValue = !1), 40 === s && t.slideNext(), 38 === s && t.slidePrev()), t.emit("keyPress", s)
				}
			},
			enable: function () {
				this.keyboard.enabled || (L(f).on("keydown", this.keyboard.handle), this.keyboard.enabled = !0)
			},
			disable: function () {
				this.keyboard.enabled && (L(f).off("keydown", this.keyboard.handle), this.keyboard.enabled = !1)
			}
		},
		H = {
			name: "keyboard",
			params: {
				keyboard: {
					enabled: !1,
					onlyInViewport: !0
				}
			},
			create: function () {
				V.extend(this, {
					keyboard: {
						enabled: !1,
						enable: A.enable.bind(this),
						disable: A.disable.bind(this),
						handle: A.handle.bind(this)
					}
				})
			},
			on: {
				init: function () {
					this.params.keyboard.enabled && this.keyboard.enable()
				},
				destroy: function () {
					this.keyboard.enabled && this.keyboard.disable()
				}
			}
		};
	var B = {
			lastScrollTime: V.now(),
			event: -1 < Y.navigator.userAgent.indexOf("firefox") ? "DOMMouseScroll" : function () {
				var e = "onwheel",
					t = e in f;
				if (!t) {
					var a = f.createElement("div");
					a.setAttribute(e, "return;"), t = "function" == typeof a[e]
				}
				return !t && f.implementation && f.implementation.hasFeature && !0 !== f.implementation.hasFeature("", "") && (t = f.implementation.hasFeature("Events.wheel", "3.0")), t
			}() ? "wheel" : "mousewheel",
			normalize: function (e) {
				var t = 0,
					a = 0,
					i = 0,
					s = 0;
				return "detail" in e && (a = e.detail), "wheelDelta" in e && (a = -e.wheelDelta / 120), "wheelDeltaY" in e && (a = -e.wheelDeltaY / 120), "wheelDeltaX" in e && (t = -e.wheelDeltaX / 120), "axis" in e && e.axis === e.HORIZONTAL_AXIS && (t = a, a = 0), i = 10 * t, s = 10 * a, "deltaY" in e && (s = e.deltaY), "deltaX" in e && (i = e.deltaX), (i || s) && e.deltaMode && (1 === e.deltaMode ? (i *= 40, s *= 40) : (i *= 800, s *= 800)), i && !t && (t = i < 1 ? -1 : 1), s && !a && (a = s < 1 ? -1 : 1), {
					spinX: t,
					spinY: a,
					pixelX: i,
					pixelY: s
				}
			},
			handleMouseEnter: function () {
				this.mouseEntered = !0
			},
			handleMouseLeave: function () {
				this.mouseEntered = !1
			},
			handle: function (e) {
				var t = e,
					a = this,
					i = a.params.mousewheel;
				if (!a.mouseEntered && !i.releaseOnEdges) return !0;
				t.originalEvent && (t = t.originalEvent);
				var s = 0,
					r = a.rtlTranslate ? -1 : 1,
					n = B.normalize(t);
				if (i.forceToAxis)
					if (a.isHorizontal()) {
						if (!(Math.abs(n.pixelX) > Math.abs(n.pixelY))) return !0;
						s = n.pixelX * r
					} else {
						if (!(Math.abs(n.pixelY) > Math.abs(n.pixelX))) return !0;
						s = n.pixelY
					}
				else s = Math.abs(n.pixelX) > Math.abs(n.pixelY) ? -n.pixelX * r : -n.pixelY;
				if (0 === s) return !0;
				if (i.invert && (s = -s), a.params.freeMode) {
					a.params.loop && a.loopFix();
					var o = a.getTranslate() + s * i.sensitivity,
						l = a.isBeginning,
						d = a.isEnd;
					if (o >= a.minTranslate() && (o = a.minTranslate()), o <= a.maxTranslate() && (o = a.maxTranslate()), a.setTransition(0), a.setTranslate(o), a.updateProgress(), a.updateActiveIndex(), a.updateSlidesClasses(), (!l && a.isBeginning || !d && a.isEnd) && a.updateSlidesClasses(), a.params.freeModeSticky && (clearTimeout(a.mousewheel.timeout), a.mousewheel.timeout = V.nextTick(function () {
							a.slideToClosest()
						}, 300)), a.emit("scroll", t), a.params.autoplay && a.params.autoplayDisableOnInteraction && a.autoplay.stop(), o === a.minTranslate() || o === a.maxTranslate()) return !0
				} else {
					if (60 < V.now() - a.mousewheel.lastScrollTime)
						if (s < 0)
							if (a.isEnd && !a.params.loop || a.animating) {
								if (i.releaseOnEdges) return !0
							} else a.slideNext(), a.emit("scroll", t);
					else if (a.isBeginning && !a.params.loop || a.animating) {
						if (i.releaseOnEdges) return !0
					} else a.slidePrev(), a.emit("scroll", t);
					a.mousewheel.lastScrollTime = (new Y.Date).getTime()
				}
				return t.preventDefault ? t.preventDefault() : t.returnValue = !1, !1
			},
			enable: function () {
				var e = this;
				if (!B.event) return !1;
				if (e.mousewheel.enabled) return !1;
				var t = e.$el;
				return "container" !== e.params.mousewheel.eventsTarged && (t = L(e.params.mousewheel.eventsTarged)), t.on("mouseenter", e.mousewheel.handleMouseEnter), t.on("mouseleave", e.mousewheel.handleMouseLeave), t.on(B.event, e.mousewheel.handle), e.mousewheel.enabled = !0
			},
			disable: function () {
				var e = this;
				if (!B.event) return !1;
				if (!e.mousewheel.enabled) return !1;
				var t = e.$el;
				return "container" !== e.params.mousewheel.eventsTarged && (t = L(e.params.mousewheel.eventsTarged)), t.off(B.event, e.mousewheel.handle), !(e.mousewheel.enabled = !1)
			}
		},
		G = {
			update: function () {
				var e = this,
					t = e.params.navigation;
				if (!e.params.loop) {
					var a = e.navigation,
						i = a.$nextEl,
						s = a.$prevEl;
					s && 0 < s.length && (e.isBeginning ? s.addClass(t.disabledClass) : s.removeClass(t.disabledClass), s[e.params.watchOverflow && e.isLocked ? "addClass" : "removeClass"](t.lockClass)), i && 0 < i.length && (e.isEnd ? i.addClass(t.disabledClass) : i.removeClass(t.disabledClass), i[e.params.watchOverflow && e.isLocked ? "addClass" : "removeClass"](t.lockClass))
				}
			},
			init: function () {
				var e, t, a = this,
					i = a.params.navigation;
				(i.nextEl || i.prevEl) && (i.nextEl && (e = L(i.nextEl), a.params.uniqueNavElements && "string" == typeof i.nextEl && 1 < e.length && 1 === a.$el.find(i.nextEl).length && (e = a.$el.find(i.nextEl))), i.prevEl && (t = L(i.prevEl), a.params.uniqueNavElements && "string" == typeof i.prevEl && 1 < t.length && 1 === a.$el.find(i.prevEl).length && (t = a.$el.find(i.prevEl))), e && 0 < e.length && e.on("click", function (e) {
					e.preventDefault(), a.isEnd && !a.params.loop || a.slideNext()
				}), t && 0 < t.length && t.on("click", function (e) {
					e.preventDefault(), a.isBeginning && !a.params.loop || a.slidePrev()
				}), V.extend(a.navigation, {
					$nextEl: e,
					nextEl: e && e[0],
					$prevEl: t,
					prevEl: t && t[0]
				}))
			},
			destroy: function () {
				var e = this.navigation,
					t = e.$nextEl,
					a = e.$prevEl;
				t && t.length && (t.off("click"), t.removeClass(this.params.navigation.disabledClass)), a && a.length && (a.off("click"), a.removeClass(this.params.navigation.disabledClass))
			}
		},
		N = {
			update: function () {
				var e = this,
					t = e.rtl,
					s = e.params.pagination;
				if (s.el && e.pagination.el && e.pagination.$el && 0 !== e.pagination.$el.length) {
					var r, a = e.virtual && e.params.virtual.enabled ? e.virtual.slides.length : e.slides.length,
						i = e.pagination.$el,
						n = e.params.loop ? Math.ceil((a - 2 * e.loopedSlides) / e.params.slidesPerGroup) : e.snapGrid.length;
					if (e.params.loop ? ((r = Math.ceil((e.activeIndex - e.loopedSlides) / e.params.slidesPerGroup)) > a - 1 - 2 * e.loopedSlides && (r -= a - 2 * e.loopedSlides), n - 1 < r && (r -= n), r < 0 && "bullets" !== e.params.paginationType && (r = n + r)) : r = void 0 !== e.snapIndex ? e.snapIndex : e.activeIndex || 0, "bullets" === s.type && e.pagination.bullets && 0 < e.pagination.bullets.length) {
						var o, l, d, p = e.pagination.bullets;
						if (s.dynamicBullets && (e.pagination.bulletSize = p.eq(0)[e.isHorizontal() ? "outerWidth" : "outerHeight"](!0), i.css(e.isHorizontal() ? "width" : "height", e.pagination.bulletSize * (s.dynamicMainBullets + 4) + "px"), 1 < s.dynamicMainBullets && void 0 !== e.previousIndex && (e.pagination.dynamicBulletIndex += r - e.previousIndex, e.pagination.dynamicBulletIndex > s.dynamicMainBullets - 1 ? e.pagination.dynamicBulletIndex = s.dynamicMainBullets - 1 : e.pagination.dynamicBulletIndex < 0 && (e.pagination.dynamicBulletIndex = 0)), o = r - e.pagination.dynamicBulletIndex, d = ((l = o + (Math.min(p.length, s.dynamicMainBullets) - 1)) + o) / 2), p.removeClass(s.bulletActiveClass + " " + s.bulletActiveClass + "-next " + s.bulletActiveClass + "-next-next " + s.bulletActiveClass + "-prev " + s.bulletActiveClass + "-prev-prev " + s.bulletActiveClass + "-main"), 1 < i.length) p.each(function (e, t) {
							var a = L(t),
								i = a.index();
							i === r && a.addClass(s.bulletActiveClass), s.dynamicBullets && (o <= i && i <= l && a.addClass(s.bulletActiveClass + "-main"), i === o && a.prev().addClass(s.bulletActiveClass + "-prev").prev().addClass(s.bulletActiveClass + "-prev-prev"), i === l && a.next().addClass(s.bulletActiveClass + "-next").next().addClass(s.bulletActiveClass + "-next-next"))
						});
						else if (p.eq(r).addClass(s.bulletActiveClass), s.dynamicBullets) {
							for (var c = p.eq(o), u = p.eq(l), h = o; h <= l; h += 1) p.eq(h).addClass(s.bulletActiveClass + "-main");
							c.prev().addClass(s.bulletActiveClass + "-prev").prev().addClass(s.bulletActiveClass + "-prev-prev"), u.next().addClass(s.bulletActiveClass + "-next").next().addClass(s.bulletActiveClass + "-next-next")
						}
						if (s.dynamicBullets) {
							var v = Math.min(p.length, s.dynamicMainBullets + 4),
								f = (e.pagination.bulletSize * v - e.pagination.bulletSize) / 2 - d * e.pagination.bulletSize,
								m = t ? "right" : "left";
							p.css(e.isHorizontal() ? m : "top", f + "px")
						}
					}
					if ("fraction" === s.type && (i.find("." + s.currentClass).text(s.formatFractionCurrent(r + 1)), i.find("." + s.totalClass).text(s.formatFractionTotal(n))), "progressbar" === s.type) {
						var g;
						g = s.progressbarOpposite ? e.isHorizontal() ? "vertical" : "horizontal" : e.isHorizontal() ? "horizontal" : "vertical";
						var b = (r + 1) / n,
							w = 1,
							y = 1;
						"horizontal" === g ? w = b : y = b, i.find("." + s.progressbarFillClass).transform("translate3d(0,0,0) scaleX(" + w + ") scaleY(" + y + ")").transition(e.params.speed)
					}
					"custom" === s.type && s.renderCustom ? (i.html(s.renderCustom(e, r + 1, n)), e.emit("paginationRender", e, i[0])) : e.emit("paginationUpdate", e, i[0]), i[e.params.watchOverflow && e.isLocked ? "addClass" : "removeClass"](s.lockClass)
				}
			},
			render: function () {
				var e = this,
					t = e.params.pagination;
				if (t.el && e.pagination.el && e.pagination.$el && 0 !== e.pagination.$el.length) {
					var a = e.virtual && e.params.virtual.enabled ? e.virtual.slides.length : e.slides.length,
						i = e.pagination.$el,
						s = "";
					if ("bullets" === t.type) {
						for (var r = e.params.loop ? Math.ceil((a - 2 * e.loopedSlides) / e.params.slidesPerGroup) : e.snapGrid.length, n = 0; n < r; n += 1) t.renderBullet ? s += t.renderBullet.call(e, n, t.bulletClass) : s += "<" + t.bulletElement + ' class="' + t.bulletClass + '"></' + t.bulletElement + ">";
						i.html(s), e.pagination.bullets = i.find("." + t.bulletClass)
					}
					"fraction" === t.type && (s = t.renderFraction ? t.renderFraction.call(e, t.currentClass, t.totalClass) : '<span class="' + t.currentClass + '"></span> / <span class="' + t.totalClass + '"></span>', i.html(s)), "progressbar" === t.type && (s = t.renderProgressbar ? t.renderProgressbar.call(e, t.progressbarFillClass) : '<span class="' + t.progressbarFillClass + '"></span>', i.html(s)), "custom" !== t.type && e.emit("paginationRender", e.pagination.$el[0])
				}
			},
			init: function () {
				var a = this,
					e = a.params.pagination;
				if (e.el) {
					var t = L(e.el);
					0 !== t.length && (a.params.uniqueNavElements && "string" == typeof e.el && 1 < t.length && 1 === a.$el.find(e.el).length && (t = a.$el.find(e.el)), "bullets" === e.type && e.clickable && t.addClass(e.clickableClass), t.addClass(e.modifierClass + e.type), "bullets" === e.type && e.dynamicBullets && (t.addClass("" + e.modifierClass + e.type + "-dynamic"), a.pagination.dynamicBulletIndex = 0, e.dynamicMainBullets < 1 && (e.dynamicMainBullets = 1)), "progressbar" === e.type && e.progressbarOpposite && t.addClass(e.progressbarOppositeClass), e.clickable && t.on("click", "." + e.bulletClass, function (e) {
						e.preventDefault();
						var t = L(this).index() * a.params.slidesPerGroup;
						a.params.loop && (t += a.loopedSlides), a.slideTo(t)
					}), V.extend(a.pagination, {
						$el: t,
						el: t[0]
					}))
				}
			},
			destroy: function () {
				var e = this,
					t = e.params.pagination;
				if (t.el && e.pagination.el && e.pagination.$el && 0 !== e.pagination.$el.length) {
					var a = e.pagination.$el;
					a.removeClass(t.hiddenClass), a.removeClass(t.modifierClass + t.type), e.pagination.bullets && e.pagination.bullets.removeClass(t.bulletActiveClass), t.clickable && a.off("click", "." + t.bulletClass)
				}
			}
		},
		X = {
			setTranslate: function () {
				var e = this;
				if (e.params.scrollbar.el && e.scrollbar.el) {
					var t = e.scrollbar,
						a = e.rtlTranslate,
						i = e.progress,
						s = t.dragSize,
						r = t.trackSize,
						n = t.$dragEl,
						o = t.$el,
						l = e.params.scrollbar,
						d = s,
						p = (r - s) * i;
					a ? 0 < (p = -p) ? (d = s - p, p = 0) : r < -p + s && (d = r + p) : p < 0 ? (d = s + p, p = 0) : r < p + s && (d = r - p), e.isHorizontal() ? (R.transforms3d ? n.transform("translate3d(" + p + "px, 0, 0)") : n.transform("translateX(" + p + "px)"), n[0].style.width = d + "px") : (R.transforms3d ? n.transform("translate3d(0px, " + p + "px, 0)") : n.transform("translateY(" + p + "px)"), n[0].style.height = d + "px"), l.hide && (clearTimeout(e.scrollbar.timeout), o[0].style.opacity = 1, e.scrollbar.timeout = setTimeout(function () {
						o[0].style.opacity = 0, o.transition(400)
					}, 1e3))
				}
			},
			setTransition: function (e) {
				this.params.scrollbar.el && this.scrollbar.el && this.scrollbar.$dragEl.transition(e)
			},
			updateSize: function () {
				var e = this;
				if (e.params.scrollbar.el && e.scrollbar.el) {
					var t = e.scrollbar,
						a = t.$dragEl,
						i = t.$el;
					a[0].style.width = "", a[0].style.height = "";
					var s, r = e.isHorizontal() ? i[0].offsetWidth : i[0].offsetHeight,
						n = e.size / e.virtualSize,
						o = n * (r / e.size);
					s = "auto" === e.params.scrollbar.dragSize ? r * n : parseInt(e.params.scrollbar.dragSize, 10), e.isHorizontal() ? a[0].style.width = s + "px" : a[0].style.height = s + "px", i[0].style.display = 1 <= n ? "none" : "", e.params.scrollbarHide && (i[0].style.opacity = 0), V.extend(t, {
						trackSize: r,
						divider: n,
						moveDivider: o,
						dragSize: s
					}), t.$el[e.params.watchOverflow && e.isLocked ? "addClass" : "removeClass"](e.params.scrollbar.lockClass)
				}
			},
			setDragPosition: function (e) {
				var t, a = this,
					i = a.scrollbar,
					s = a.rtlTranslate,
					r = i.$el,
					n = i.dragSize,
					o = i.trackSize;
				t = ((a.isHorizontal() ? "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX || e.clientX : "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY || e.clientY) - r.offset()[a.isHorizontal() ? "left" : "top"] - n / 2) / (o - n), t = Math.max(Math.min(t, 1), 0), s && (t = 1 - t);
				var l = a.minTranslate() + (a.maxTranslate() - a.minTranslate()) * t;
				a.updateProgress(l), a.setTranslate(l), a.updateActiveIndex(), a.updateSlidesClasses()
			},
			onDragStart: function (e) {
				var t = this,
					a = t.params.scrollbar,
					i = t.scrollbar,
					s = t.$wrapperEl,
					r = i.$el,
					n = i.$dragEl;
				t.scrollbar.isTouched = !0, e.preventDefault(), e.stopPropagation(), s.transition(100), n.transition(100), i.setDragPosition(e), clearTimeout(t.scrollbar.dragTimeout), r.transition(0), a.hide && r.css("opacity", 1), t.emit("scrollbarDragStart", e)
			},
			onDragMove: function (e) {
				var t = this.scrollbar,
					a = this.$wrapperEl,
					i = t.$el,
					s = t.$dragEl;
				this.scrollbar.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, t.setDragPosition(e), a.transition(0), i.transition(0), s.transition(0), this.emit("scrollbarDragMove", e))
			},
			onDragEnd: function (e) {
				var t = this,
					a = t.params.scrollbar,
					i = t.scrollbar.$el;
				t.scrollbar.isTouched && (t.scrollbar.isTouched = !1, a.hide && (clearTimeout(t.scrollbar.dragTimeout), t.scrollbar.dragTimeout = V.nextTick(function () {
					i.css("opacity", 0), i.transition(400)
				}, 1e3)), t.emit("scrollbarDragEnd", e), a.snapOnRelease && t.slideToClosest())
			},
			enableDraggable: function () {
				var e = this;
				if (e.params.scrollbar.el) {
					var t = e.scrollbar,
						a = e.touchEvents,
						i = e.touchEventsDesktop,
						s = e.params,
						r = t.$el[0],
						n = !(!R.passiveListener || !s.passiveListeners) && {
							passive: !1,
							capture: !1
						},
						o = !(!R.passiveListener || !s.passiveListeners) && {
							passive: !0,
							capture: !1
						};
					R.touch || !R.pointerEvents && !R.prefixedPointerEvents ? (R.touch && (r.addEventListener(a.start, e.scrollbar.onDragStart, n), r.addEventListener(a.move, e.scrollbar.onDragMove, n), r.addEventListener(a.end, e.scrollbar.onDragEnd, o)), (s.simulateTouch && !m.ios && !m.android || s.simulateTouch && !R.touch && m.ios) && (r.addEventListener("mousedown", e.scrollbar.onDragStart, n), f.addEventListener("mousemove", e.scrollbar.onDragMove, n), f.addEventListener("mouseup", e.scrollbar.onDragEnd, o))) : (r.addEventListener(i.start, e.scrollbar.onDragStart, n), f.addEventListener(i.move, e.scrollbar.onDragMove, n), f.addEventListener(i.end, e.scrollbar.onDragEnd, o))
				}
			},
			disableDraggable: function () {
				var e = this;
				if (e.params.scrollbar.el) {
					var t = e.scrollbar,
						a = e.touchEvents,
						i = e.touchEventsDesktop,
						s = e.params,
						r = t.$el[0],
						n = !(!R.passiveListener || !s.passiveListeners) && {
							passive: !1,
							capture: !1
						},
						o = !(!R.passiveListener || !s.passiveListeners) && {
							passive: !0,
							capture: !1
						};
					R.touch || !R.pointerEvents && !R.prefixedPointerEvents ? (R.touch && (r.removeEventListener(a.start, e.scrollbar.onDragStart, n), r.removeEventListener(a.move, e.scrollbar.onDragMove, n), r.removeEventListener(a.end, e.scrollbar.onDragEnd, o)), (s.simulateTouch && !m.ios && !m.android || s.simulateTouch && !R.touch && m.ios) && (r.removeEventListener("mousedown", e.scrollbar.onDragStart, n), f.removeEventListener("mousemove", e.scrollbar.onDragMove, n), f.removeEventListener("mouseup", e.scrollbar.onDragEnd, o))) : (r.removeEventListener(i.start, e.scrollbar.onDragStart, n), f.removeEventListener(i.move, e.scrollbar.onDragMove, n), f.removeEventListener(i.end, e.scrollbar.onDragEnd, o))
				}
			},
			init: function () {
				var e = this;
				if (e.params.scrollbar.el) {
					var t = e.scrollbar,
						a = e.$el,
						i = e.params.scrollbar,
						s = L(i.el);
					e.params.uniqueNavElements && "string" == typeof i.el && 1 < s.length && 1 === a.find(i.el).length && (s = a.find(i.el));
					var r = s.find("." + e.params.scrollbar.dragClass);
					0 === r.length && (r = L('<div class="' + e.params.scrollbar.dragClass + '"></div>'), s.append(r)), V.extend(t, {
						$el: s,
						el: s[0],
						$dragEl: r,
						dragEl: r[0]
					}), i.draggable && t.enableDraggable()
				}
			},
			destroy: function () {
				this.scrollbar.disableDraggable()
			}
		},
		F = {
			setTransform: function (e, t) {
				var a = this.rtl,
					i = L(e),
					s = a ? -1 : 1,
					r = i.attr("data-swiper-parallax") || "0",
					n = i.attr("data-swiper-parallax-x"),
					o = i.attr("data-swiper-parallax-y"),
					l = i.attr("data-swiper-parallax-scale"),
					d = i.attr("data-swiper-parallax-opacity");
				if (n || o ? (n = n || "0", o = o || "0") : this.isHorizontal() ? (n = r, o = "0") : (o = r, n = "0"), n = 0 <= n.indexOf("%") ? parseInt(n, 10) * t * s + "%" : n * t * s + "px", o = 0 <= o.indexOf("%") ? parseInt(o, 10) * t + "%" : o * t + "px", null != d) {
					var p = d - (d - 1) * (1 - Math.abs(t));
					i[0].style.opacity = p
				}
				if (null == l) i.transform("translate3d(" + n + ", " + o + ", 0px)");
				else {
					var c = l - (l - 1) * (1 - Math.abs(t));
					i.transform("translate3d(" + n + ", " + o + ", 0px) scale(" + c + ")")
				}
			},
			setTranslate: function () {
				var i = this,
					e = i.$el,
					t = i.slides,
					s = i.progress,
					r = i.snapGrid;
				e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function (e, t) {
					i.parallax.setTransform(t, s)
				}), t.each(function (e, t) {
					var a = t.progress;
					1 < i.params.slidesPerGroup && "auto" !== i.params.slidesPerView && (a += Math.ceil(e / 2) - s * (r.length - 1)), a = Math.min(Math.max(a, -1), 1), L(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function (e, t) {
						i.parallax.setTransform(t, a)
					})
				})
			},
			setTransition: function (s) {
				void 0 === s && (s = this.params.speed);
				this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function (e, t) {
					var a = L(t),
						i = parseInt(a.attr("data-swiper-parallax-duration"), 10) || s;
					0 === s && (i = 0), a.transition(i)
				})
			}
		},
		q = {
			getDistanceBetweenTouches: function (e) {
				if (e.targetTouches.length < 2) return 1;
				var t = e.targetTouches[0].pageX,
					a = e.targetTouches[0].pageY,
					i = e.targetTouches[1].pageX,
					s = e.targetTouches[1].pageY;
				return Math.sqrt(Math.pow(i - t, 2) + Math.pow(s - a, 2))
			},
			onGestureStart: function (e) {
				var t = this,
					a = t.params.zoom,
					i = t.zoom,
					s = i.gesture;
				if (i.fakeGestureTouched = !1, i.fakeGestureMoved = !1, !R.gestures) {
					if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2) return;
					i.fakeGestureTouched = !0, s.scaleStart = q.getDistanceBetweenTouches(e)
				}
				s.$slideEl && s.$slideEl.length || (s.$slideEl = L(e.target).closest(".swiper-slide"), 0 === s.$slideEl.length && (s.$slideEl = t.slides.eq(t.activeIndex)), s.$imageEl = s.$slideEl.find("img, svg, canvas"), s.$imageWrapEl = s.$imageEl.parent("." + a.containerClass), s.maxRatio = s.$imageWrapEl.attr("data-swiper-zoom") || a.maxRatio, 0 !== s.$imageWrapEl.length) ? (s.$imageEl.transition(0), t.zoom.isScaling = !0) : s.$imageEl = void 0
			},
			onGestureChange: function (e) {
				var t = this.params.zoom,
					a = this.zoom,
					i = a.gesture;
				if (!R.gestures) {
					if ("touchmove" !== e.type || "touchmove" === e.type && e.targetTouches.length < 2) return;
					a.fakeGestureMoved = !0, i.scaleMove = q.getDistanceBetweenTouches(e)
				}
				i.$imageEl && 0 !== i.$imageEl.length && (R.gestures ? this.zoom.scale = e.scale * a.currentScale : a.scale = i.scaleMove / i.scaleStart * a.currentScale, a.scale > i.maxRatio && (a.scale = i.maxRatio - 1 + Math.pow(a.scale - i.maxRatio + 1, .5)), a.scale < t.minRatio && (a.scale = t.minRatio + 1 - Math.pow(t.minRatio - a.scale + 1, .5)), i.$imageEl.transform("translate3d(0,0,0) scale(" + a.scale + ")"))
			},
			onGestureEnd: function (e) {
				var t = this.params.zoom,
					a = this.zoom,
					i = a.gesture;
				if (!R.gestures) {
					if (!a.fakeGestureTouched || !a.fakeGestureMoved) return;
					if ("touchend" !== e.type || "touchend" === e.type && e.changedTouches.length < 2 && !m.android) return;
					a.fakeGestureTouched = !1, a.fakeGestureMoved = !1
				}
				i.$imageEl && 0 !== i.$imageEl.length && (a.scale = Math.max(Math.min(a.scale, i.maxRatio), t.minRatio), i.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(" + a.scale + ")"), a.currentScale = a.scale, a.isScaling = !1, 1 === a.scale && (i.$slideEl = void 0))
			},
			onTouchStart: function (e) {
				var t = this.zoom,
					a = t.gesture,
					i = t.image;
				a.$imageEl && 0 !== a.$imageEl.length && (i.isTouched || (m.android && e.preventDefault(), i.isTouched = !0, i.touchesStart.x = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX, i.touchesStart.y = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY))
			},
			onTouchMove: function (e) {
				var t = this,
					a = t.zoom,
					i = a.gesture,
					s = a.image,
					r = a.velocity;
				if (i.$imageEl && 0 !== i.$imageEl.length && (t.allowClick = !1, s.isTouched && i.$slideEl)) {
					s.isMoved || (s.width = i.$imageEl[0].offsetWidth, s.height = i.$imageEl[0].offsetHeight, s.startX = V.getTranslate(i.$imageWrapEl[0], "x") || 0, s.startY = V.getTranslate(i.$imageWrapEl[0], "y") || 0, i.slideWidth = i.$slideEl[0].offsetWidth, i.slideHeight = i.$slideEl[0].offsetHeight, i.$imageWrapEl.transition(0), t.rtl && (s.startX = -s.startX, s.startY = -s.startY));
					var n = s.width * a.scale,
						o = s.height * a.scale;
					if (!(n < i.slideWidth && o < i.slideHeight)) {
						if (s.minX = Math.min(i.slideWidth / 2 - n / 2, 0), s.maxX = -s.minX, s.minY = Math.min(i.slideHeight / 2 - o / 2, 0), s.maxY = -s.minY, s.touchesCurrent.x = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, s.touchesCurrent.y = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY, !s.isMoved && !a.isScaling) {
							if (t.isHorizontal() && (Math.floor(s.minX) === Math.floor(s.startX) && s.touchesCurrent.x < s.touchesStart.x || Math.floor(s.maxX) === Math.floor(s.startX) && s.touchesCurrent.x > s.touchesStart.x)) return void(s.isTouched = !1);
							if (!t.isHorizontal() && (Math.floor(s.minY) === Math.floor(s.startY) && s.touchesCurrent.y < s.touchesStart.y || Math.floor(s.maxY) === Math.floor(s.startY) && s.touchesCurrent.y > s.touchesStart.y)) return void(s.isTouched = !1)
						}
						e.preventDefault(), e.stopPropagation(), s.isMoved = !0, s.currentX = s.touchesCurrent.x - s.touchesStart.x + s.startX, s.currentY = s.touchesCurrent.y - s.touchesStart.y + s.startY, s.currentX < s.minX && (s.currentX = s.minX + 1 - Math.pow(s.minX - s.currentX + 1, .8)), s.currentX > s.maxX && (s.currentX = s.maxX - 1 + Math.pow(s.currentX - s.maxX + 1, .8)), s.currentY < s.minY && (s.currentY = s.minY + 1 - Math.pow(s.minY - s.currentY + 1, .8)), s.currentY > s.maxY && (s.currentY = s.maxY - 1 + Math.pow(s.currentY - s.maxY + 1, .8)), r.prevPositionX || (r.prevPositionX = s.touchesCurrent.x), r.prevPositionY || (r.prevPositionY = s.touchesCurrent.y), r.prevTime || (r.prevTime = Date.now()), r.x = (s.touchesCurrent.x - r.prevPositionX) / (Date.now() - r.prevTime) / 2, r.y = (s.touchesCurrent.y - r.prevPositionY) / (Date.now() - r.prevTime) / 2, Math.abs(s.touchesCurrent.x - r.prevPositionX) < 2 && (r.x = 0), Math.abs(s.touchesCurrent.y - r.prevPositionY) < 2 && (r.y = 0), r.prevPositionX = s.touchesCurrent.x, r.prevPositionY = s.touchesCurrent.y, r.prevTime = Date.now(), i.$imageWrapEl.transform("translate3d(" + s.currentX + "px, " + s.currentY + "px,0)")
					}
				}
			},
			onTouchEnd: function () {
				var e = this.zoom,
					t = e.gesture,
					a = e.image,
					i = e.velocity;
				if (t.$imageEl && 0 !== t.$imageEl.length) {
					if (!a.isTouched || !a.isMoved) return a.isTouched = !1, void(a.isMoved = !1);
					a.isTouched = !1, a.isMoved = !1;
					var s = 300,
						r = 300,
						n = i.x * s,
						o = a.currentX + n,
						l = i.y * r,
						d = a.currentY + l;
					0 !== i.x && (s = Math.abs((o - a.currentX) / i.x)), 0 !== i.y && (r = Math.abs((d - a.currentY) / i.y));
					var p = Math.max(s, r);
					a.currentX = o, a.currentY = d;
					var c = a.width * e.scale,
						u = a.height * e.scale;
					a.minX = Math.min(t.slideWidth / 2 - c / 2, 0), a.maxX = -a.minX, a.minY = Math.min(t.slideHeight / 2 - u / 2, 0), a.maxY = -a.minY, a.currentX = Math.max(Math.min(a.currentX, a.maxX), a.minX), a.currentY = Math.max(Math.min(a.currentY, a.maxY), a.minY), t.$imageWrapEl.transition(p).transform("translate3d(" + a.currentX + "px, " + a.currentY + "px,0)")
				}
			},
			onTransitionEnd: function () {
				var e = this.zoom,
					t = e.gesture;
				t.$slideEl && this.previousIndex !== this.activeIndex && (t.$imageEl.transform("translate3d(0,0,0) scale(1)"), t.$imageWrapEl.transform("translate3d(0,0,0)"), t.$slideEl = void 0, t.$imageEl = void 0, t.$imageWrapEl = void 0, e.scale = 1, e.currentScale = 1)
			},
			toggle: function (e) {
				var t = this.zoom;
				t.scale && 1 !== t.scale ? t.out() : t.in(e)
			},
			in: function (e) {
				var t, a, i, s, r, n, o, l, d, p, c, u, h, v, f, m, g = this,
					b = g.zoom,
					w = g.params.zoom,
					y = b.gesture,
					x = b.image;
				(y.$slideEl || (y.$slideEl = g.clickedSlide ? L(g.clickedSlide) : g.slides.eq(g.activeIndex), y.$imageEl = y.$slideEl.find("img, svg, canvas"), y.$imageWrapEl = y.$imageEl.parent("." + w.containerClass)), y.$imageEl && 0 !== y.$imageEl.length) && (y.$slideEl.addClass("" + w.zoomedSlideClass), void 0 === x.touchesStart.x && e ? (t = "touchend" === e.type ? e.changedTouches[0].pageX : e.pageX, a = "touchend" === e.type ? e.changedTouches[0].pageY : e.pageY) : (t = x.touchesStart.x, a = x.touchesStart.y), b.scale = y.$imageWrapEl.attr("data-swiper-zoom") || w.maxRatio, b.currentScale = y.$imageWrapEl.attr("data-swiper-zoom") || w.maxRatio, e ? (f = y.$slideEl[0].offsetWidth, m = y.$slideEl[0].offsetHeight, i = y.$slideEl.offset().left + f / 2 - t, s = y.$slideEl.offset().top + m / 2 - a, o = y.$imageEl[0].offsetWidth, l = y.$imageEl[0].offsetHeight, d = o * b.scale, p = l * b.scale, h = -(c = Math.min(f / 2 - d / 2, 0)), v = -(u = Math.min(m / 2 - p / 2, 0)), (r = i * b.scale) < c && (r = c), h < r && (r = h), (n = s * b.scale) < u && (n = u), v < n && (n = v)) : n = r = 0, y.$imageWrapEl.transition(300).transform("translate3d(" + r + "px, " + n + "px,0)"), y.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + b.scale + ")"))
			},
			out: function () {
				var e = this,
					t = e.zoom,
					a = e.params.zoom,
					i = t.gesture;
				i.$slideEl || (i.$slideEl = e.clickedSlide ? L(e.clickedSlide) : e.slides.eq(e.activeIndex), i.$imageEl = i.$slideEl.find("img, svg, canvas"), i.$imageWrapEl = i.$imageEl.parent("." + a.containerClass)), i.$imageEl && 0 !== i.$imageEl.length && (t.scale = 1, t.currentScale = 1, i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"), i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"), i.$slideEl.removeClass("" + a.zoomedSlideClass), i.$slideEl = void 0)
			},
			enable: function () {
				var e = this,
					t = e.zoom;
				if (!t.enabled) {
					t.enabled = !0;
					var a = !("touchstart" !== e.touchEvents.start || !R.passiveListener || !e.params.passiveListeners) && {
						passive: !0,
						capture: !1
					};
					R.gestures ? (e.$wrapperEl.on("gesturestart", ".swiper-slide", t.onGestureStart, a), e.$wrapperEl.on("gesturechange", ".swiper-slide", t.onGestureChange, a), e.$wrapperEl.on("gestureend", ".swiper-slide", t.onGestureEnd, a)) : "touchstart" === e.touchEvents.start && (e.$wrapperEl.on(e.touchEvents.start, ".swiper-slide", t.onGestureStart, a), e.$wrapperEl.on(e.touchEvents.move, ".swiper-slide", t.onGestureChange, a), e.$wrapperEl.on(e.touchEvents.end, ".swiper-slide", t.onGestureEnd, a)), e.$wrapperEl.on(e.touchEvents.move, "." + e.params.zoom.containerClass, t.onTouchMove)
				}
			},
			disable: function () {
				var e = this,
					t = e.zoom;
				if (t.enabled) {
					e.zoom.enabled = !1;
					var a = !("touchstart" !== e.touchEvents.start || !R.passiveListener || !e.params.passiveListeners) && {
						passive: !0,
						capture: !1
					};
					R.gestures ? (e.$wrapperEl.off("gesturestart", ".swiper-slide", t.onGestureStart, a), e.$wrapperEl.off("gesturechange", ".swiper-slide", t.onGestureChange, a), e.$wrapperEl.off("gestureend", ".swiper-slide", t.onGestureEnd, a)) : "touchstart" === e.touchEvents.start && (e.$wrapperEl.off(e.touchEvents.start, ".swiper-slide", t.onGestureStart, a), e.$wrapperEl.off(e.touchEvents.move, ".swiper-slide", t.onGestureChange, a), e.$wrapperEl.off(e.touchEvents.end, ".swiper-slide", t.onGestureEnd, a)), e.$wrapperEl.off(e.touchEvents.move, "." + e.params.zoom.containerClass, t.onTouchMove)
				}
			}
		},
		W = {
			loadInSlide: function (e, l) {
				void 0 === l && (l = !0);
				var d = this,
					p = d.params.lazy;
				if (void 0 !== e && 0 !== d.slides.length) {
					var c = d.virtual && d.params.virtual.enabled ? d.$wrapperEl.children("." + d.params.slideClass + '[data-swiper-slide-index="' + e + '"]') : d.slides.eq(e),
						t = c.find("." + p.elementClass + ":not(." + p.loadedClass + "):not(." + p.loadingClass + ")");
					!c.hasClass(p.elementClass) || c.hasClass(p.loadedClass) || c.hasClass(p.loadingClass) || (t = t.add(c[0])), 0 !== t.length && t.each(function (e, t) {
						var i = L(t);
						i.addClass(p.loadingClass);
						var s = i.attr("data-background"),
							r = i.attr("data-src"),
							n = i.attr("data-srcset"),
							o = i.attr("data-sizes");
						d.loadImage(i[0], r || s, n, o, !1, function () {
							if (null != d && d && (!d || d.params) && !d.destroyed) {
								if (s ? (i.css("background-image", 'url("' + s + '")'), i.removeAttr("data-background")) : (n && (i.attr("srcset", n), i.removeAttr("data-srcset")), o && (i.attr("sizes", o), i.removeAttr("data-sizes")), r && (i.attr("src", r), i.removeAttr("data-src"))), i.addClass(p.loadedClass).removeClass(p.loadingClass), c.find("." + p.preloaderClass).remove(), d.params.loop && l) {
									var e = c.attr("data-swiper-slide-index");
									if (c.hasClass(d.params.slideDuplicateClass)) {
										var t = d.$wrapperEl.children('[data-swiper-slide-index="' + e + '"]:not(.' + d.params.slideDuplicateClass + ")");
										d.lazy.loadInSlide(t.index(), !1)
									} else {
										var a = d.$wrapperEl.children("." + d.params.slideDuplicateClass + '[data-swiper-slide-index="' + e + '"]');
										d.lazy.loadInSlide(a.index(), !1)
									}
								}
								d.emit("lazyImageReady", c[0], i[0])
							}
						}), d.emit("lazyImageLoad", c[0], i[0])
					})
				}
			},
			load: function () {
				var i = this,
					t = i.$wrapperEl,
					a = i.params,
					s = i.slides,
					e = i.activeIndex,
					r = i.virtual && a.virtual.enabled,
					n = a.lazy,
					o = a.slidesPerView;

				function l(e) {
					if (r) {
						if (t.children("." + a.slideClass + '[data-swiper-slide-index="' + e + '"]').length) return !0
					} else if (s[e]) return !0;
					return !1
				}

				function d(e) {
					return r ? L(e).attr("data-swiper-slide-index") : L(e).index()
				}
				if ("auto" === o && (o = 0), i.lazy.initialImageLoaded || (i.lazy.initialImageLoaded = !0), i.params.watchSlidesVisibility) t.children("." + a.slideVisibleClass).each(function (e, t) {
					var a = r ? L(t).attr("data-swiper-slide-index") : L(t).index();
					i.lazy.loadInSlide(a)
				});
				else if (1 < o)
					for (var p = e; p < e + o; p += 1) l(p) && i.lazy.loadInSlide(p);
				else i.lazy.loadInSlide(e);
				if (n.loadPrevNext)
					if (1 < o || n.loadPrevNextAmount && 1 < n.loadPrevNextAmount) {
						for (var c = n.loadPrevNextAmount, u = o, h = Math.min(e + u + Math.max(c, u), s.length), v = Math.max(e - Math.max(u, c), 0), f = e + o; f < h; f += 1) l(f) && i.lazy.loadInSlide(f);
						for (var m = v; m < e; m += 1) l(m) && i.lazy.loadInSlide(m)
					} else {
						var g = t.children("." + a.slideNextClass);
						0 < g.length && i.lazy.loadInSlide(d(g));
						var b = t.children("." + a.slidePrevClass);
						0 < b.length && i.lazy.loadInSlide(d(b))
					}
			}
		},
		j = {
			LinearSpline: function (e, t) {
				var a, i, s, r, n, o = function (e, t) {
					for (i = -1, a = e.length; 1 < a - i;) e[s = a + i >> 1] <= t ? i = s : a = s;
					return a
				};
				return this.x = e, this.y = t, this.lastIndex = e.length - 1, this.interpolate = function (e) {
					return e ? (n = o(this.x, e), r = n - 1, (e - this.x[r]) * (this.y[n] - this.y[r]) / (this.x[n] - this.x[r]) + this.y[r]) : 0
				}, this
			},
			getInterpolateFunction: function (e) {
				var t = this;
				t.controller.spline || (t.controller.spline = t.params.loop ? new j.LinearSpline(t.slidesGrid, e.slidesGrid) : new j.LinearSpline(t.snapGrid, e.snapGrid))
			},
			setTranslate: function (e, t) {
				var a, i, s = this,
					r = s.controller.control;

				function n(e) {
					var t = s.rtlTranslate ? -s.translate : s.translate;
					"slide" === s.params.controller.by && (s.controller.getInterpolateFunction(e), i = -s.controller.spline.interpolate(-t)), i && "container" !== s.params.controller.by || (a = (e.maxTranslate() - e.minTranslate()) / (s.maxTranslate() - s.minTranslate()), i = (t - s.minTranslate()) * a + e.minTranslate()), s.params.controller.inverse && (i = e.maxTranslate() - i), e.updateProgress(i), e.setTranslate(i, s), e.updateActiveIndex(), e.updateSlidesClasses()
				}
				if (Array.isArray(r))
					for (var o = 0; o < r.length; o += 1) r[o] !== t && r[o] instanceof S && n(r[o]);
				else r instanceof S && t !== r && n(r)
			},
			setTransition: function (t, e) {
				var a, i = this,
					s = i.controller.control;

				function r(e) {
					e.setTransition(t, i), 0 !== t && (e.transitionStart(), e.params.autoHeight && V.nextTick(function () {
						e.updateAutoHeight()
					}), e.$wrapperEl.transitionEnd(function () {
						s && (e.params.loop && "slide" === i.params.controller.by && e.loopFix(), e.transitionEnd())
					}))
				}
				if (Array.isArray(s))
					for (a = 0; a < s.length; a += 1) s[a] !== e && s[a] instanceof S && r(s[a]);
				else s instanceof S && e !== s && r(s)
			}
		},
		U = {
			makeElFocusable: function (e) {
				return e.attr("tabIndex", "0"), e
			},
			addElRole: function (e, t) {
				return e.attr("role", t), e
			},
			addElLabel: function (e, t) {
				return e.attr("aria-label", t), e
			},
			disableEl: function (e) {
				return e.attr("aria-disabled", !0), e
			},
			enableEl: function (e) {
				return e.attr("aria-disabled", !1), e
			},
			onEnterKey: function (e) {
				var t = this,
					a = t.params.a11y;
				if (13 === e.keyCode) {
					var i = L(e.target);
					t.navigation && t.navigation.$nextEl && i.is(t.navigation.$nextEl) && (t.isEnd && !t.params.loop || t.slideNext(), t.isEnd ? t.a11y.notify(a.lastSlideMessage) : t.a11y.notify(a.nextSlideMessage)), t.navigation && t.navigation.$prevEl && i.is(t.navigation.$prevEl) && (t.isBeginning && !t.params.loop || t.slidePrev(), t.isBeginning ? t.a11y.notify(a.firstSlideMessage) : t.a11y.notify(a.prevSlideMessage)), t.pagination && i.is("." + t.params.pagination.bulletClass) && i[0].click()
				}
			},
			notify: function (e) {
				var t = this.a11y.liveRegion;
				0 !== t.length && (t.html(""), t.html(e))
			},
			updateNavigation: function () {
				var e = this;
				if (!e.params.loop) {
					var t = e.navigation,
						a = t.$nextEl,
						i = t.$prevEl;
					i && 0 < i.length && (e.isBeginning ? e.a11y.disableEl(i) : e.a11y.enableEl(i)), a && 0 < a.length && (e.isEnd ? e.a11y.disableEl(a) : e.a11y.enableEl(a))
				}
			},
			updatePagination: function () {
				var i = this,
					s = i.params.a11y;
				i.pagination && i.params.pagination.clickable && i.pagination.bullets && i.pagination.bullets.length && i.pagination.bullets.each(function (e, t) {
					var a = L(t);
					i.a11y.makeElFocusable(a), i.a11y.addElRole(a, "button"), i.a11y.addElLabel(a, s.paginationBulletMessage.replace(/{{index}}/, a.index() + 1))
				})
			},
			init: function () {
				var e = this;
				e.$el.append(e.a11y.liveRegion);
				var t, a, i = e.params.a11y;
				e.navigation && e.navigation.$nextEl && (t = e.navigation.$nextEl), e.navigation && e.navigation.$prevEl && (a = e.navigation.$prevEl), t && (e.a11y.makeElFocusable(t), e.a11y.addElRole(t, "button"), e.a11y.addElLabel(t, i.nextSlideMessage), t.on("keydown", e.a11y.onEnterKey)), a && (e.a11y.makeElFocusable(a), e.a11y.addElRole(a, "button"), e.a11y.addElLabel(a, i.prevSlideMessage), a.on("keydown", e.a11y.onEnterKey)), e.pagination && e.params.pagination.clickable && e.pagination.bullets && e.pagination.bullets.length && e.pagination.$el.on("keydown", "." + e.params.pagination.bulletClass, e.a11y.onEnterKey)
			},
			destroy: function () {
				var e, t, a = this;
				a.a11y.liveRegion && 0 < a.a11y.liveRegion.length && a.a11y.liveRegion.remove(), a.navigation && a.navigation.$nextEl && (e = a.navigation.$nextEl), a.navigation && a.navigation.$prevEl && (t = a.navigation.$prevEl), e && e.off("keydown", a.a11y.onEnterKey), t && t.off("keydown", a.a11y.onEnterKey), a.pagination && a.params.pagination.clickable && a.pagination.bullets && a.pagination.bullets.length && a.pagination.$el.off("keydown", "." + a.params.pagination.bulletClass, a.a11y.onEnterKey)
			}
		},
		K = {
			init: function () {
				var e = this;
				if (e.params.history) {
					if (!Y.history || !Y.history.pushState) return e.params.history.enabled = !1, void(e.params.hashNavigation.enabled = !0);
					var t = e.history;
					t.initialized = !0, t.paths = K.getPathValues(), (t.paths.key || t.paths.value) && (t.scrollToSlide(0, t.paths.value, e.params.runCallbacksOnInit), e.params.history.replaceState || Y.addEventListener("popstate", e.history.setHistoryPopState))
				}
			},
			destroy: function () {
				this.params.history.replaceState || Y.removeEventListener("popstate", this.history.setHistoryPopState)
			},
			setHistoryPopState: function () {
				this.history.paths = K.getPathValues(), this.history.scrollToSlide(this.params.speed, this.history.paths.value, !1)
			},
			getPathValues: function () {
				var e = Y.location.pathname.slice(1).split("/").filter(function (e) {
						return "" !== e
					}),
					t = e.length;
				return {
					key: e[t - 2],
					value: e[t - 1]
				}
			},
			setHistory: function (e, t) {
				if (this.history.initialized && this.params.history.enabled) {
					var a = this.slides.eq(t),
						i = K.slugify(a.attr("data-history"));
					Y.location.pathname.includes(e) || (i = e + "/" + i);
					var s = Y.history.state;
					s && s.value === i || (this.params.history.replaceState ? Y.history.replaceState({
						value: i
					}, null, i) : Y.history.pushState({
						value: i
					}, null, i))
				}
			},
			slugify: function (e) {
				return e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w-]+/g, "").replace(/--+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
			},
			scrollToSlide: function (e, t, a) {
				var i = this;
				if (t)
					for (var s = 0, r = i.slides.length; s < r; s += 1) {
						var n = i.slides.eq(s);
						if (K.slugify(n.attr("data-history")) === t && !n.hasClass(i.params.slideDuplicateClass)) {
							var o = n.index();
							i.slideTo(o, e, a)
						}
					} else i.slideTo(0, e, a)
			}
		},
		_ = {
			onHashCange: function () {
				var e = this,
					t = f.location.hash.replace("#", "");
				if (t !== e.slides.eq(e.activeIndex).attr("data-hash")) {
					var a = e.$wrapperEl.children("." + e.params.slideClass + '[data-hash="' + t + '"]').index();
					if (void 0 === a) return;
					e.slideTo(a)
				}
			},
			setHash: function () {
				var e = this;
				if (e.hashNavigation.initialized && e.params.hashNavigation.enabled)
					if (e.params.hashNavigation.replaceState && Y.history && Y.history.replaceState) Y.history.replaceState(null, null, "#" + e.slides.eq(e.activeIndex).attr("data-hash") || "");
					else {
						var t = e.slides.eq(e.activeIndex),
							a = t.attr("data-hash") || t.attr("data-history");
						f.location.hash = a || ""
					}
			},
			init: function () {
				var e = this;
				if (!(!e.params.hashNavigation.enabled || e.params.history && e.params.history.enabled)) {
					e.hashNavigation.initialized = !0;
					var t = f.location.hash.replace("#", "");
					if (t)
						for (var a = 0, i = e.slides.length; a < i; a += 1) {
							var s = e.slides.eq(a);
							if ((s.attr("data-hash") || s.attr("data-history")) === t && !s.hasClass(e.params.slideDuplicateClass)) {
								var r = s.index();
								e.slideTo(r, 0, e.params.runCallbacksOnInit, !0)
							}
						}
					e.params.hashNavigation.watchState && L(Y).on("hashchange", e.hashNavigation.onHashCange)
				}
			},
			destroy: function () {
				this.params.hashNavigation.watchState && L(Y).off("hashchange", this.hashNavigation.onHashCange)
			}
		},
		Z = {
			run: function () {
				var e = this,
					t = e.slides.eq(e.activeIndex),
					a = e.params.autoplay.delay;
				t.attr("data-swiper-autoplay") && (a = t.attr("data-swiper-autoplay") || e.params.autoplay.delay), e.autoplay.timeout = V.nextTick(function () {
					e.params.autoplay.reverseDirection ? e.params.loop ? (e.loopFix(), e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.isBeginning ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(e.slides.length - 1, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.params.loop ? (e.loopFix(), e.slideNext(e.params.speed, !0, !0), e.emit("autoplay")) : e.isEnd ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(0, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slideNext(e.params.speed, !0, !0), e.emit("autoplay"))
				}, a)
			},
			start: function () {
				var e = this;
				return void 0 === e.autoplay.timeout && (!e.autoplay.running && (e.autoplay.running = !0, e.emit("autoplayStart"), e.autoplay.run(), !0))
			},
			stop: function () {
				var e = this;
				return !!e.autoplay.running && (void 0 !== e.autoplay.timeout && (e.autoplay.timeout && (clearTimeout(e.autoplay.timeout), e.autoplay.timeout = void 0), e.autoplay.running = !1, e.emit("autoplayStop"), !0))
			},
			pause: function (e) {
				var t = this;
				t.autoplay.running && (t.autoplay.paused || (t.autoplay.timeout && clearTimeout(t.autoplay.timeout), t.autoplay.paused = !0, 0 !== e && t.params.autoplay.waitForTransition ? (t.$wrapperEl[0].addEventListener("transitionend", t.autoplay.onTransitionEnd), t.$wrapperEl[0].addEventListener("webkitTransitionEnd", t.autoplay.onTransitionEnd)) : (t.autoplay.paused = !1, t.autoplay.run())))
			}
		},
		Q = {
			setTranslate: function () {
				for (var e = this, t = e.slides, a = 0; a < t.length; a += 1) {
					var i = e.slides.eq(a),
						s = -i[0].swiperSlideOffset;
					e.params.virtualTranslate || (s -= e.translate);
					var r = 0;
					e.isHorizontal() || (r = s, s = 0);
					var n = e.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(i[0].progress), 0) : 1 + Math.min(Math.max(i[0].progress, -1), 0);
					i.css({
						opacity: n
					}).transform("translate3d(" + s + "px, " + r + "px, 0px)")
				}
			},
			setTransition: function (e) {
				var a = this,
					t = a.slides,
					i = a.$wrapperEl;
				if (t.transition(e), a.params.virtualTranslate && 0 !== e) {
					var s = !1;
					t.transitionEnd(function () {
						if (!s && a && !a.destroyed) {
							s = !0, a.animating = !1;
							for (var e = ["webkitTransitionEnd", "transitionend"], t = 0; t < e.length; t += 1) i.trigger(e[t])
						}
					})
				}
			}
		},
		J = {
			setTranslate: function () {
				var e, t = this,
					a = t.$el,
					i = t.$wrapperEl,
					s = t.slides,
					r = t.width,
					n = t.height,
					o = t.rtlTranslate,
					l = t.size,
					d = t.params.cubeEffect,
					p = t.isHorizontal(),
					c = t.virtual && t.params.virtual.enabled,
					u = 0;
				d.shadow && (p ? (0 === (e = i.find(".swiper-cube-shadow")).length && (e = L('<div class="swiper-cube-shadow"></div>'), i.append(e)), e.css({
					height: r + "px"
				})) : 0 === (e = a.find(".swiper-cube-shadow")).length && (e = L('<div class="swiper-cube-shadow"></div>'), a.append(e)));
				for (var h = 0; h < s.length; h += 1) {
					var v = s.eq(h),
						f = h;
					c && (f = parseInt(v.attr("data-swiper-slide-index"), 10));
					var m = 90 * f,
						g = Math.floor(m / 360);
					o && (m = -m, g = Math.floor(-m / 360));
					var b = Math.max(Math.min(v[0].progress, 1), -1),
						w = 0,
						y = 0,
						x = 0;
					f % 4 == 0 ? (w = 4 * -g * l, x = 0) : (f - 1) % 4 == 0 ? (w = 0, x = 4 * -g * l) : (f - 2) % 4 == 0 ? (w = l + 4 * g * l, x = l) : (f - 3) % 4 == 0 && (w = -l, x = 3 * l + 4 * l * g), o && (w = -w), p || (y = w, w = 0);
					var T = "rotateX(" + (p ? 0 : -m) + "deg) rotateY(" + (p ? m : 0) + "deg) translate3d(" + w + "px, " + y + "px, " + x + "px)";
					if (b <= 1 && -1 < b && (u = 90 * f + 90 * b, o && (u = 90 * -f - 90 * b)), v.transform(T), d.slideShadows) {
						var E = p ? v.find(".swiper-slide-shadow-left") : v.find(".swiper-slide-shadow-top"),
							S = p ? v.find(".swiper-slide-shadow-right") : v.find(".swiper-slide-shadow-bottom");
						0 === E.length && (E = L('<div class="swiper-slide-shadow-' + (p ? "left" : "top") + '"></div>'), v.append(E)), 0 === S.length && (S = L('<div class="swiper-slide-shadow-' + (p ? "right" : "bottom") + '"></div>'), v.append(S)), E.length && (E[0].style.opacity = Math.max(-b, 0)), S.length && (S[0].style.opacity = Math.max(b, 0))
					}
				}
				if (i.css({
						"-webkit-transform-origin": "50% 50% -" + l / 2 + "px",
						"-moz-transform-origin": "50% 50% -" + l / 2 + "px",
						"-ms-transform-origin": "50% 50% -" + l / 2 + "px",
						"transform-origin": "50% 50% -" + l / 2 + "px"
					}), d.shadow)
					if (p) e.transform("translate3d(0px, " + (r / 2 + d.shadowOffset) + "px, " + -r / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + d.shadowScale + ")");
					else {
						var C = Math.abs(u) - 90 * Math.floor(Math.abs(u) / 90),
							M = 1.5 - (Math.sin(2 * C * Math.PI / 360) / 2 + Math.cos(2 * C * Math.PI / 360) / 2),
							k = d.shadowScale,
							z = d.shadowScale / M,
							P = d.shadowOffset;
						e.transform("scale3d(" + k + ", 1, " + z + ") translate3d(0px, " + (n / 2 + P) + "px, " + -n / 2 / z + "px) rotateX(-90deg)")
					} var $ = I.isSafari || I.isUiWebView ? -l / 2 : 0;
				i.transform("translate3d(0px,0," + $ + "px) rotateX(" + (t.isHorizontal() ? 0 : u) + "deg) rotateY(" + (t.isHorizontal() ? -u : 0) + "deg)")
			},
			setTransition: function (e) {
				var t = this.$el;
				this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), this.params.cubeEffect.shadow && !this.isHorizontal() && t.find(".swiper-cube-shadow").transition(e)
			}
		},
		ee = {
			setTranslate: function () {
				for (var e = this, t = e.slides, a = e.rtlTranslate, i = 0; i < t.length; i += 1) {
					var s = t.eq(i),
						r = s[0].progress;
					e.params.flipEffect.limitRotation && (r = Math.max(Math.min(s[0].progress, 1), -1));
					var n = -180 * r,
						o = 0,
						l = -s[0].swiperSlideOffset,
						d = 0;
					if (e.isHorizontal() ? a && (n = -n) : (d = l, o = -n, n = l = 0), s[0].style.zIndex = -Math.abs(Math.round(r)) + t.length, e.params.flipEffect.slideShadows) {
						var p = e.isHorizontal() ? s.find(".swiper-slide-shadow-left") : s.find(".swiper-slide-shadow-top"),
							c = e.isHorizontal() ? s.find(".swiper-slide-shadow-right") : s.find(".swiper-slide-shadow-bottom");
						0 === p.length && (p = L('<div class="swiper-slide-shadow-' + (e.isHorizontal() ? "left" : "top") + '"></div>'), s.append(p)), 0 === c.length && (c = L('<div class="swiper-slide-shadow-' + (e.isHorizontal() ? "right" : "bottom") + '"></div>'), s.append(c)), p.length && (p[0].style.opacity = Math.max(-r, 0)), c.length && (c[0].style.opacity = Math.max(r, 0))
					}
					s.transform("translate3d(" + l + "px, " + d + "px, 0px) rotateX(" + o + "deg) rotateY(" + n + "deg)")
				}
			},
			setTransition: function (e) {
				var a = this,
					t = a.slides,
					i = a.activeIndex,
					s = a.$wrapperEl;
				if (t.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), a.params.virtualTranslate && 0 !== e) {
					var r = !1;
					t.eq(i).transitionEnd(function () {
						if (!r && a && !a.destroyed) {
							r = !0, a.animating = !1;
							for (var e = ["webkitTransitionEnd", "transitionend"], t = 0; t < e.length; t += 1) s.trigger(e[t])
						}
					})
				}
			}
		},
		te = {
			setTranslate: function () {
				for (var e = this, t = e.width, a = e.height, i = e.slides, s = e.$wrapperEl, r = e.slidesSizesGrid, n = e.params.coverflowEffect, o = e.isHorizontal(), l = e.translate, d = o ? t / 2 - l : a / 2 - l, p = o ? n.rotate : -n.rotate, c = n.depth, u = 0, h = i.length; u < h; u += 1) {
					var v = i.eq(u),
						f = r[u],
						m = (d - v[0].swiperSlideOffset - f / 2) / f * n.modifier,
						g = o ? p * m : 0,
						b = o ? 0 : p * m,
						w = -c * Math.abs(m),
						y = o ? 0 : n.stretch * m,
						x = o ? n.stretch * m : 0;
					Math.abs(x) < .001 && (x = 0), Math.abs(y) < .001 && (y = 0), Math.abs(w) < .001 && (w = 0), Math.abs(g) < .001 && (g = 0), Math.abs(b) < .001 && (b = 0);
					var T = "translate3d(" + x + "px," + y + "px," + w + "px)  rotateX(" + b + "deg) rotateY(" + g + "deg)";
					if (v.transform(T), v[0].style.zIndex = 1 - Math.abs(Math.round(m)), n.slideShadows) {
						var E = o ? v.find(".swiper-slide-shadow-left") : v.find(".swiper-slide-shadow-top"),
							S = o ? v.find(".swiper-slide-shadow-right") : v.find(".swiper-slide-shadow-bottom");
						0 === E.length && (E = L('<div class="swiper-slide-shadow-' + (o ? "left" : "top") + '"></div>'), v.append(E)), 0 === S.length && (S = L('<div class="swiper-slide-shadow-' + (o ? "right" : "bottom") + '"></div>'), v.append(S)), E.length && (E[0].style.opacity = 0 < m ? m : 0), S.length && (S[0].style.opacity = 0 < -m ? -m : 0)
					}
				}(R.pointerEvents || R.prefixedPointerEvents) && (s[0].style.perspectiveOrigin = d + "px 50%")
			},
			setTransition: function (e) {
				this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)
			}
		},
		ae = {
			init: function () {
				var e = this,
					t = e.params.thumbs,
					a = e.constructor;
				t.swiper instanceof a ? (e.thumbs.swiper = t.swiper, V.extend(e.thumbs.swiper.originalParams, {
					watchSlidesProgress: !0,
					slideToClickedSlide: !1
				}), V.extend(e.thumbs.swiper.params, {
					watchSlidesProgress: !0,
					slideToClickedSlide: !1
				})) : V.isObject(t.swiper) && (e.thumbs.swiper = new a(V.extend({}, t.swiper, {
					watchSlidesVisibility: !0,
					watchSlidesProgress: !0,
					slideToClickedSlide: !1
				})), e.thumbs.swiperCreated = !0), e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass), e.thumbs.swiper.on("tap", e.thumbs.onThumbClick)
			},
			onThumbClick: function () {
				var e = this,
					t = e.thumbs.swiper;
				if (t) {
					var a = t.clickedIndex;
					if (null != a) {
						var i;
						if (i = t.params.loop ? parseInt(L(t.clickedSlide).attr("data-swiper-slide-index"), 10) : a, e.params.loop) {
							var s = e.activeIndex;
							e.slides.eq(s).hasClass(e.params.slideDuplicateClass) && (e.loopFix(), e._clientLeft = e.$wrapperEl[0].clientLeft, s = e.activeIndex);
							var r = e.slides.eq(s).prevAll('[data-swiper-slide-index="' + i + '"]').eq(0).index(),
								n = e.slides.eq(s).nextAll('[data-swiper-slide-index="' + i + '"]').eq(0).index();
							i = void 0 === r ? n : void 0 === n ? r : n - s < s - r ? n : r
						}
						e.slideTo(i)
					}
				}
			},
			update: function (e) {
				var t = this,
					a = t.thumbs.swiper;
				if (a) {
					var i = "auto" === a.params.slidesPerView ? a.slidesPerViewDynamic() : a.params.slidesPerView;
					if (t.realIndex !== a.realIndex) {
						var s, r = a.activeIndex;
						if (a.params.loop) {
							a.slides.eq(r).hasClass(a.params.slideDuplicateClass) && (a.loopFix(), a._clientLeft = a.$wrapperEl[0].clientLeft, r = a.activeIndex);
							var n = a.slides.eq(r).prevAll('[data-swiper-slide-index="' + t.realIndex + '"]').eq(0).index(),
								o = a.slides.eq(r).nextAll('[data-swiper-slide-index="' + t.realIndex + '"]').eq(0).index();
							s = void 0 === n ? o : void 0 === o ? n : o - r < r - n ? o : n
						} else s = t.realIndex;
						a.visibleSlidesIndexes.indexOf(s) < 0 && (a.params.centeredSlides ? s = r < s ? s - Math.floor(i / 2) + 1 : s + Math.floor(i / 2) - 1 : r < s && (s = s - i + 1), a.slideTo(s, e ? 0 : void 0))
					}
					var l = 1,
						d = t.params.thumbs.slideThumbActiveClass;
					if (1 < t.params.slidesPerView && !t.params.centeredSlides && (l = t.params.slidesPerView), a.slides.removeClass(d), a.params.loop)
						for (var p = 0; p < l; p += 1) a.$wrapperEl.children('[data-swiper-slide-index="' + (t.realIndex + p) + '"]').addClass(d);
					else
						for (var c = 0; c < l; c += 1) a.slides.eq(t.realIndex + c).addClass(d)
				}
			}
		},
		ie = [C, M, k, z, $, O, H, {
			name: "mousewheel",
			params: {
				mousewheel: {
					enabled: !1,
					releaseOnEdges: !1,
					invert: !1,
					forceToAxis: !1,
					sensitivity: 1,
					eventsTarged: "container"
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					mousewheel: {
						enabled: !1,
						enable: B.enable.bind(e),
						disable: B.disable.bind(e),
						handle: B.handle.bind(e),
						handleMouseEnter: B.handleMouseEnter.bind(e),
						handleMouseLeave: B.handleMouseLeave.bind(e),
						lastScrollTime: V.now()
					}
				})
			},
			on: {
				init: function () {
					this.params.mousewheel.enabled && this.mousewheel.enable()
				},
				destroy: function () {
					this.mousewheel.enabled && this.mousewheel.disable()
				}
			}
		}, {
			name: "navigation",
			params: {
				navigation: {
					nextEl: null,
					prevEl: null,
					hideOnClick: !1,
					disabledClass: "swiper-button-disabled",
					hiddenClass: "swiper-button-hidden",
					lockClass: "swiper-button-lock"
				}
			},
			create: function () {
				V.extend(this, {
					navigation: {
						init: G.init.bind(this),
						update: G.update.bind(this),
						destroy: G.destroy.bind(this)
					}
				})
			},
			on: {
				init: function () {
					this.navigation.init(), this.navigation.update()
				},
				toEdge: function () {
					this.navigation.update()
				},
				fromEdge: function () {
					this.navigation.update()
				},
				destroy: function () {
					this.navigation.destroy()
				},
				click: function (e) {
					var t = this.navigation,
						a = t.$nextEl,
						i = t.$prevEl;
					!this.params.navigation.hideOnClick || L(e.target).is(i) || L(e.target).is(a) || (a && a.toggleClass(this.params.navigation.hiddenClass), i && i.toggleClass(this.params.navigation.hiddenClass))
				}
			}
		}, {
			name: "pagination",
			params: {
				pagination: {
					el: null,
					bulletElement: "span",
					clickable: !1,
					hideOnClick: !1,
					renderBullet: null,
					renderProgressbar: null,
					renderFraction: null,
					renderCustom: null,
					progressbarOpposite: !1,
					type: "bullets",
					dynamicBullets: !1,
					dynamicMainBullets: 1,
					formatFractionCurrent: function (e) {
						return e
					},
					formatFractionTotal: function (e) {
						return e
					},
					bulletClass: "swiper-pagination-bullet",
					bulletActiveClass: "swiper-pagination-bullet-active",
					modifierClass: "swiper-pagination-",
					currentClass: "swiper-pagination-current",
					totalClass: "swiper-pagination-total",
					hiddenClass: "swiper-pagination-hidden",
					progressbarFillClass: "swiper-pagination-progressbar-fill",
					progressbarOppositeClass: "swiper-pagination-progressbar-opposite",
					clickableClass: "swiper-pagination-clickable",
					lockClass: "swiper-pagination-lock"
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					pagination: {
						init: N.init.bind(e),
						render: N.render.bind(e),
						update: N.update.bind(e),
						destroy: N.destroy.bind(e),
						dynamicBulletIndex: 0
					}
				})
			},
			on: {
				init: function () {
					this.pagination.init(), this.pagination.render(), this.pagination.update()
				},
				activeIndexChange: function () {
					this.params.loop ? this.pagination.update() : void 0 === this.snapIndex && this.pagination.update()
				},
				snapIndexChange: function () {
					this.params.loop || this.pagination.update()
				},
				slidesLengthChange: function () {
					this.params.loop && (this.pagination.render(), this.pagination.update())
				},
				snapGridLengthChange: function () {
					this.params.loop || (this.pagination.render(), this.pagination.update())
				},
				destroy: function () {
					this.pagination.destroy()
				},
				click: function (e) {
					var t = this;
					t.params.pagination.el && t.params.pagination.hideOnClick && 0 < t.pagination.$el.length && !L(e.target).hasClass(t.params.pagination.bulletClass) && t.pagination.$el.toggleClass(t.params.pagination.hiddenClass)
				}
			}
		}, {
			name: "scrollbar",
			params: {
				scrollbar: {
					el: null,
					dragSize: "auto",
					hide: !1,
					draggable: !1,
					snapOnRelease: !0,
					lockClass: "swiper-scrollbar-lock",
					dragClass: "swiper-scrollbar-drag"
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					scrollbar: {
						init: X.init.bind(e),
						destroy: X.destroy.bind(e),
						updateSize: X.updateSize.bind(e),
						setTranslate: X.setTranslate.bind(e),
						setTransition: X.setTransition.bind(e),
						enableDraggable: X.enableDraggable.bind(e),
						disableDraggable: X.disableDraggable.bind(e),
						setDragPosition: X.setDragPosition.bind(e),
						onDragStart: X.onDragStart.bind(e),
						onDragMove: X.onDragMove.bind(e),
						onDragEnd: X.onDragEnd.bind(e),
						isTouched: !1,
						timeout: null,
						dragTimeout: null
					}
				})
			},
			on: {
				init: function () {
					this.scrollbar.init(), this.scrollbar.updateSize(), this.scrollbar.setTranslate()
				},
				update: function () {
					this.scrollbar.updateSize()
				},
				resize: function () {
					this.scrollbar.updateSize()
				},
				observerUpdate: function () {
					this.scrollbar.updateSize()
				},
				setTranslate: function () {
					this.scrollbar.setTranslate()
				},
				setTransition: function (e) {
					this.scrollbar.setTransition(e)
				},
				destroy: function () {
					this.scrollbar.destroy()
				}
			}
		}, {
			name: "parallax",
			params: {
				parallax: {
					enabled: !1
				}
			},
			create: function () {
				V.extend(this, {
					parallax: {
						setTransform: F.setTransform.bind(this),
						setTranslate: F.setTranslate.bind(this),
						setTransition: F.setTransition.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					this.params.parallax.enabled && (this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0)
				},
				init: function () {
					this.params.parallax && this.parallax.setTranslate()
				},
				setTranslate: function () {
					this.params.parallax && this.parallax.setTranslate()
				},
				setTransition: function (e) {
					this.params.parallax && this.parallax.setTransition(e)
				}
			}
		}, {
			name: "zoom",
			params: {
				zoom: {
					enabled: !1,
					maxRatio: 3,
					minRatio: 1,
					toggle: !0,
					containerClass: "swiper-zoom-container",
					zoomedSlideClass: "swiper-slide-zoomed"
				}
			},
			create: function () {
				var t = this,
					a = {
						enabled: !1,
						scale: 1,
						currentScale: 1,
						isScaling: !1,
						gesture: {
							$slideEl: void 0,
							slideWidth: void 0,
							slideHeight: void 0,
							$imageEl: void 0,
							$imageWrapEl: void 0,
							maxRatio: 3
						},
						image: {
							isTouched: void 0,
							isMoved: void 0,
							currentX: void 0,
							currentY: void 0,
							minX: void 0,
							minY: void 0,
							maxX: void 0,
							maxY: void 0,
							width: void 0,
							height: void 0,
							startX: void 0,
							startY: void 0,
							touchesStart: {},
							touchesCurrent: {}
						},
						velocity: {
							x: void 0,
							y: void 0,
							prevPositionX: void 0,
							prevPositionY: void 0,
							prevTime: void 0
						}
					};
				"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function (e) {
					a[e] = q[e].bind(t)
				}), V.extend(t, {
					zoom: a
				})
			},
			on: {
				init: function () {
					this.params.zoom.enabled && this.zoom.enable()
				},
				destroy: function () {
					this.zoom.disable()
				},
				touchStart: function (e) {
					this.zoom.enabled && this.zoom.onTouchStart(e)
				},
				touchEnd: function (e) {
					this.zoom.enabled && this.zoom.onTouchEnd(e)
				},
				doubleTap: function (e) {
					this.params.zoom.enabled && this.zoom.enabled && this.params.zoom.toggle && this.zoom.toggle(e)
				},
				transitionEnd: function () {
					this.zoom.enabled && this.params.zoom.enabled && this.zoom.onTransitionEnd()
				}
			}
		}, {
			name: "lazy",
			params: {
				lazy: {
					enabled: !1,
					loadPrevNext: !1,
					loadPrevNextAmount: 1,
					loadOnTransitionStart: !1,
					elementClass: "swiper-lazy",
					loadingClass: "swiper-lazy-loading",
					loadedClass: "swiper-lazy-loaded",
					preloaderClass: "swiper-lazy-preloader"
				}
			},
			create: function () {
				V.extend(this, {
					lazy: {
						initialImageLoaded: !1,
						load: W.load.bind(this),
						loadInSlide: W.loadInSlide.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					this.params.lazy.enabled && this.params.preloadImages && (this.params.preloadImages = !1)
				},
				init: function () {
					this.params.lazy.enabled && !this.params.loop && 0 === this.params.initialSlide && this.lazy.load()
				},
				scroll: function () {
					this.params.freeMode && !this.params.freeModeSticky && this.lazy.load()
				},
				resize: function () {
					this.params.lazy.enabled && this.lazy.load()
				},
				scrollbarDragMove: function () {
					this.params.lazy.enabled && this.lazy.load()
				},
				transitionStart: function () {
					var e = this;
					e.params.lazy.enabled && (e.params.lazy.loadOnTransitionStart || !e.params.lazy.loadOnTransitionStart && !e.lazy.initialImageLoaded) && e.lazy.load()
				},
				transitionEnd: function () {
					this.params.lazy.enabled && !this.params.lazy.loadOnTransitionStart && this.lazy.load()
				}
			}
		}, {
			name: "controller",
			params: {
				controller: {
					control: void 0,
					inverse: !1,
					by: "slide"
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					controller: {
						control: e.params.controller.control,
						getInterpolateFunction: j.getInterpolateFunction.bind(e),
						setTranslate: j.setTranslate.bind(e),
						setTransition: j.setTransition.bind(e)
					}
				})
			},
			on: {
				update: function () {
					this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
				},
				resize: function () {
					this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
				},
				observerUpdate: function () {
					this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline)
				},
				setTranslate: function (e, t) {
					this.controller.control && this.controller.setTranslate(e, t)
				},
				setTransition: function (e, t) {
					this.controller.control && this.controller.setTransition(e, t)
				}
			}
		}, {
			name: "a11y",
			params: {
				a11y: {
					enabled: !0,
					notificationClass: "swiper-notification",
					prevSlideMessage: "Previous slide",
					nextSlideMessage: "Next slide",
					firstSlideMessage: "This is the first slide",
					lastSlideMessage: "This is the last slide",
					paginationBulletMessage: "Go to slide {{index}}"
				}
			},
			create: function () {
				var t = this;
				V.extend(t, {
					a11y: {
						liveRegion: L('<span class="' + t.params.a11y.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>')
					}
				}), Object.keys(U).forEach(function (e) {
					t.a11y[e] = U[e].bind(t)
				})
			},
			on: {
				init: function () {
					this.params.a11y.enabled && (this.a11y.init(), this.a11y.updateNavigation())
				},
				toEdge: function () {
					this.params.a11y.enabled && this.a11y.updateNavigation()
				},
				fromEdge: function () {
					this.params.a11y.enabled && this.a11y.updateNavigation()
				},
				paginationUpdate: function () {
					this.params.a11y.enabled && this.a11y.updatePagination()
				},
				destroy: function () {
					this.params.a11y.enabled && this.a11y.destroy()
				}
			}
		}, {
			name: "history",
			params: {
				history: {
					enabled: !1,
					replaceState: !1,
					key: "slides"
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					history: {
						init: K.init.bind(e),
						setHistory: K.setHistory.bind(e),
						setHistoryPopState: K.setHistoryPopState.bind(e),
						scrollToSlide: K.scrollToSlide.bind(e),
						destroy: K.destroy.bind(e)
					}
				})
			},
			on: {
				init: function () {
					this.params.history.enabled && this.history.init()
				},
				destroy: function () {
					this.params.history.enabled && this.history.destroy()
				},
				transitionEnd: function () {
					this.history.initialized && this.history.setHistory(this.params.history.key, this.activeIndex)
				}
			}
		}, {
			name: "hash-navigation",
			params: {
				hashNavigation: {
					enabled: !1,
					replaceState: !1,
					watchState: !1
				}
			},
			create: function () {
				var e = this;
				V.extend(e, {
					hashNavigation: {
						initialized: !1,
						init: _.init.bind(e),
						destroy: _.destroy.bind(e),
						setHash: _.setHash.bind(e),
						onHashCange: _.onHashCange.bind(e)
					}
				})
			},
			on: {
				init: function () {
					this.params.hashNavigation.enabled && this.hashNavigation.init()
				},
				destroy: function () {
					this.params.hashNavigation.enabled && this.hashNavigation.destroy()
				},
				transitionEnd: function () {
					this.hashNavigation.initialized && this.hashNavigation.setHash()
				}
			}
		}, {
			name: "autoplay",
			params: {
				autoplay: {
					enabled: !1,
					delay: 3e3,
					waitForTransition: !0,
					disableOnInteraction: !0,
					stopOnLastSlide: !1,
					reverseDirection: !1
				}
			},
			create: function () {
				var t = this;
				V.extend(t, {
					autoplay: {
						running: !1,
						paused: !1,
						run: Z.run.bind(t),
						start: Z.start.bind(t),
						stop: Z.stop.bind(t),
						pause: Z.pause.bind(t),
						onTransitionEnd: function (e) {
							t && !t.destroyed && t.$wrapperEl && e.target === this && (t.$wrapperEl[0].removeEventListener("transitionend", t.autoplay.onTransitionEnd), t.$wrapperEl[0].removeEventListener("webkitTransitionEnd", t.autoplay.onTransitionEnd), t.autoplay.paused = !1, t.autoplay.running ? t.autoplay.run() : t.autoplay.stop())
						}
					}
				})
			},
			on: {
				init: function () {
					this.params.autoplay.enabled && this.autoplay.start()
				},
				beforeTransitionStart: function (e, t) {
					this.autoplay.running && (t || !this.params.autoplay.disableOnInteraction ? this.autoplay.pause(e) : this.autoplay.stop())
				},
				sliderFirstMove: function () {
					this.autoplay.running && (this.params.autoplay.disableOnInteraction ? this.autoplay.stop() : this.autoplay.pause())
				},
				destroy: function () {
					this.autoplay.running && this.autoplay.stop()
				}
			}
		}, {
			name: "effect-fade",
			params: {
				fadeEffect: {
					crossFade: !1
				}
			},
			create: function () {
				V.extend(this, {
					fadeEffect: {
						setTranslate: Q.setTranslate.bind(this),
						setTransition: Q.setTransition.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this;
					if ("fade" === e.params.effect) {
						e.classNames.push(e.params.containerModifierClass + "fade");
						var t = {
							slidesPerView: 1,
							slidesPerColumn: 1,
							slidesPerGroup: 1,
							watchSlidesProgress: !0,
							spaceBetween: 0,
							virtualTranslate: !0
						};
						V.extend(e.params, t), V.extend(e.originalParams, t)
					}
				},
				setTranslate: function () {
					"fade" === this.params.effect && this.fadeEffect.setTranslate()
				},
				setTransition: function (e) {
					"fade" === this.params.effect && this.fadeEffect.setTransition(e)
				}
			}
		}, {
			name: "effect-cube",
			params: {
				cubeEffect: {
					slideShadows: !0,
					shadow: !0,
					shadowOffset: 20,
					shadowScale: .94
				}
			},
			create: function () {
				V.extend(this, {
					cubeEffect: {
						setTranslate: J.setTranslate.bind(this),
						setTransition: J.setTransition.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this;
					if ("cube" === e.params.effect) {
						e.classNames.push(e.params.containerModifierClass + "cube"), e.classNames.push(e.params.containerModifierClass + "3d");
						var t = {
							slidesPerView: 1,
							slidesPerColumn: 1,
							slidesPerGroup: 1,
							watchSlidesProgress: !0,
							resistanceRatio: 0,
							spaceBetween: 0,
							centeredSlides: !1,
							virtualTranslate: !0
						};
						V.extend(e.params, t), V.extend(e.originalParams, t)
					}
				},
				setTranslate: function () {
					"cube" === this.params.effect && this.cubeEffect.setTranslate()
				},
				setTransition: function (e) {
					"cube" === this.params.effect && this.cubeEffect.setTransition(e)
				}
			}
		}, {
			name: "effect-flip",
			params: {
				flipEffect: {
					slideShadows: !0,
					limitRotation: !0
				}
			},
			create: function () {
				V.extend(this, {
					flipEffect: {
						setTranslate: ee.setTranslate.bind(this),
						setTransition: ee.setTransition.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this;
					if ("flip" === e.params.effect) {
						e.classNames.push(e.params.containerModifierClass + "flip"), e.classNames.push(e.params.containerModifierClass + "3d");
						var t = {
							slidesPerView: 1,
							slidesPerColumn: 1,
							slidesPerGroup: 1,
							watchSlidesProgress: !0,
							spaceBetween: 0,
							virtualTranslate: !0
						};
						V.extend(e.params, t), V.extend(e.originalParams, t)
					}
				},
				setTranslate: function () {
					"flip" === this.params.effect && this.flipEffect.setTranslate()
				},
				setTransition: function (e) {
					"flip" === this.params.effect && this.flipEffect.setTransition(e)
				}
			}
		}, {
			name: "effect-coverflow",
			params: {
				coverflowEffect: {
					rotate: 50,
					stretch: 0,
					depth: 100,
					modifier: 1,
					slideShadows: !0
				}
			},
			create: function () {
				V.extend(this, {
					coverflowEffect: {
						setTranslate: te.setTranslate.bind(this),
						setTransition: te.setTransition.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this;
					"coverflow" === e.params.effect && (e.classNames.push(e.params.containerModifierClass + "coverflow"), e.classNames.push(e.params.containerModifierClass + "3d"), e.params.watchSlidesProgress = !0, e.originalParams.watchSlidesProgress = !0)
				},
				setTranslate: function () {
					"coverflow" === this.params.effect && this.coverflowEffect.setTranslate()
				},
				setTransition: function (e) {
					"coverflow" === this.params.effect && this.coverflowEffect.setTransition(e)
				}
			}
		}, {
			name: "thumbs",
			params: {
				thumbs: {
					swiper: null,
					slideThumbActiveClass: "swiper-slide-thumb-active",
					thumbsContainerClass: "swiper-container-thumbs"
				}
			},
			create: function () {
				V.extend(this, {
					thumbs: {
						swiper: null,
						init: ae.init.bind(this),
						update: ae.update.bind(this),
						onThumbClick: ae.onThumbClick.bind(this)
					}
				})
			},
			on: {
				beforeInit: function () {
					var e = this.params.thumbs;
					e && e.swiper && (this.thumbs.init(), this.thumbs.update(!0))
				},
				slideChange: function () {
					this.thumbs.swiper && this.thumbs.update()
				},
				update: function () {
					this.thumbs.swiper && this.thumbs.update()
				},
				resize: function () {
					this.thumbs.swiper && this.thumbs.update()
				},
				observerUpdate: function () {
					this.thumbs.swiper && this.thumbs.update()
				},
				setTransition: function (e) {
					var t = this.thumbs.swiper;
					t && t.setTransition(e)
				},
				beforeDestroy: function () {
					var e = this.thumbs.swiper;
					e && this.thumbs.swiperCreated && e && e.destroy()
				}
			}
		}];
	return void 0 === S.use && (S.use = S.Class.use, S.installModule = S.Class.installModule), S.use(ie), S
});


/* --------------------------------------------------------------- Script CSS --------------------------------------------------------------- */

//   all ------------------
function initTowhub() {
    "use strict";
    //   loader ------------------
    $(".loader-wrap").fadeOut(300, function () {
        $("#main").animate({
            opacity: "1"
        }, 600);
    });
    //   Background image ------------------
    var a = $(".bg");
    a.each(function (a) {
        if ($(this).attr("data-bg")) $(this).css("background-image", "url(" + $(this).data("bg") + ")");
    });
    //   swiper ------------------	
    if ($(".listing-slider").length > 0) {
        var lsw = new Swiper(".listing-slider .swiper-container", {
            preloadImages:true,
            slidesPerView: 4,
            spaceBetween: 15,
            loop: true,

            grabCursor: true,
            mousewheel: false,
            centeredSlides: true,
            pagination: {
                el: '.tc-pagination2',
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: '.listing-carousel-button-next2',
                prevEl: '.listing-carousel-button-prev2',
            },
            breakpoints: {
                1650: {
                    slidesPerView: 3,
                },
                1270: {
                    slidesPerView: 2,
                },
                850: {
                    slidesPerView: 1,
                },
            }
        });
    }
    if ($(".category-carousel").length > 0) {
        var j2 = new Swiper(".category-carousel .swiper-container", {
            preloadImages:true,
            freeMode: true,
            slidesPerView: 'auto',
            spaceBetween: 10,
            loop: false,
            grabCursor: true,
            mousewheel: true,
            observer: true,
            observeParents: true,
            scrollbar: {
                el: '.hs_init',
                draggable: true,
            },
            navigation: {
                nextEl: '.cc-next',
                prevEl: '.cc-prev',
            },
        });
    }
    if ($(".single-carousel").length > 0) {
        var j2 = new Swiper(".single-carousel .swiper-container", {
            preloadImages: true,
            freeMode: true,
            slidesPerView: 'auto',
            spaceBetween: 10,
            loop: false,
            grabCursor: true,
            mousewheel: false,
            observer: true,
            observeParents: true,
            navigation: {
                nextEl: '.sc-next',
                prevEl: '.sc-prev',
            },
        });
    }
    if ($(".single-slider").length > 0) {
        var j2 = new Swiper(".single-slider .swiper-container", {
            preloadImages: true,
            slidesPerView: 1,
            spaceBetween: 0,
            loop: true,
            autoHeight: true,
            grabCursor: true,
            mousewheel: false,
            pagination: {
                el: '.ss-slider-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.ss-slider-cont-next',
                prevEl: '.ss-slider-cont-prev',
            },
        });
    }
    if ($(".listing-carousel").length > 0) {
        var j3 = new Swiper(".listing-carousel .swiper-container", {
            preloadImages: true,
            loop: true,
            grabCursor: true,
            speed: 1400,

            slidesPerView: 'auto',
            spaceBetween: 0,
            effect: "slide",
            mousewheel: false,
            pagination: {
                el: '.listing-carousel_pagination-wrap',
                clickable: true,
            },
            navigation: {
                nextEl: '.listing-carousel-button-next',
                prevEl: '.listing-carousel-button-prev',
            },
        });
    }
    if ($(".slider-widget").length > 0) {
        var j4 = new Swiper(".slider-widget .swiper-container", {
            preloadImages: true,
            loop: false,
            grabCursor: true,
            speed: 1400,

            slidesPerView: 1,
            spaceBetween: 10,
            effect: "slide",
            mousewheel: false,
            navigation: {
                nextEl: '.slider-widget-button-next',
                prevEl: '.slider-widget-button-prev',
            },
        });
    }
    if ($(".hero-slider").length > 0) {
        var hs = new Swiper(".hero-slider .swiper-container", {
            preloadImages: true,
            loop: true,
            speed: 1400,
            spaceBetween: 0,
            pagination: {
                el: '.listing-carousel_pagination-wrap',
                clickable: true,
            },

            navigation: {
                nextEl: '.slider-hero-button-next',
                prevEl: '.slider-hero-button-prev',
            },
        });

    }
    if ($(".slideshow-container").length > 0) {
        var ms1 = new Swiper(".slideshow-container .swiper-container", {
            preloadImages: true,
            loop: true,
            speed: 1400,
            spaceBetween: 0,
            effect: "fade",
            autoplay: {
                delay: 3000,
                disableOnInteraction: false
            },
        });
        kpsc();
        ms1.on("slideChangeTransitionStart", function () {
            eqwe();
        });
        ms1.on("slideChangeTransitionEnd", function () {
            kpsc();
        });
    }
    function kpsc() {
        $(".slide-progress").css({
            width: "100%",
            transition: "width 3000ms"
        });
    }
    function eqwe() {
        $(".slide-progress").css({
            width: 0,
            transition: "width 0s"
        });
    };
    if ($(".clients-carousel").length > 0) {
        var j2 = new Swiper(".clients-carousel .swiper-container", {
            preloadImages:true,
            freeMode: false,
            slidesPerView: 5,
            spaceBetween: 10,
            loop: true,
            grabCursor: true,
            mousewheel: false,
            navigation: {
                nextEl: '.cc-next',
                prevEl: '.cc-prev',
            },
            breakpoints: {
                1064: {
                    slidesPerView: 3,
                },
                768: {
                    slidesPerView: 2,
                },
                520: {
                    slidesPerView: 1,
                },
            }
        });
    }
    if ($(".testimonilas-carousel").length > 0) {
        var j2 = new Swiper(".testimonilas-carousel .swiper-container", {
            preloadImages:true,
            slidesPerView: 3,
            spaceBetween: 20,
            loop: true,
            grabCursor: true,
            mousewheel: false,
            centeredSlides: true,
            pagination: {
                el: '.tc-pagination',
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: '.listing-carousel-button-next',
                prevEl: '.listing-carousel-button-prev',
            },
            breakpoints: {
                1064: {
                    slidesPerView: 2,
                },
                640: {
                    slidesPerView: 1,
                },
            }
        });
    }
    if ($(".dashboard-header-stats").length > 0) {
        var j2 = new Swiper(".dashboard-header-stats .swiper-container", {
            preloadImages:true,
            freeMode: false,
            slidesPerView: 3,
            spaceBetween: 10,
            loop: false,
            grabCursor: true,
            mousewheel: false,

            navigation: {
                nextEl: '.dhs-next',
                prevEl: '.dhs-prev',
            },
            breakpoints: {
                768: {
                    slidesPerView: 2,
                },
                640: {
                    slidesPerView: 1,
                },
            }
        });
    }
    //   Isotope------------------
    function initIsotope() {
        if ($(".gallery-items").length) {
            var ami = $(".gallery-items").isotope({
                singleMode: true,

                itemSelector: ".gallery-item, .gallery-item-second, .gallery-item-three",
                transformsEnabled: true,
                transitionDuration: "700ms",
                resizable: true
            });
            ami.imagesLoaded(function () {
                ami.isotope("layout");
            });
            $(".gallery-filters").on("click", "a.gallery-filter", function (a) {
                a.preventDefault();
                var brec = $(this).attr("data-filter");
                ami.isotope({
                    filter: brec
                });
                $(".gallery-filters a").removeClass("gallery-filter-active");
                $(this).addClass("gallery-filter-active");
            });
        }
        if ($(".restor-menu-widget").length) {
            var aresm = $(".restor-menu-widget").isotope({
                singleMode: true,
                itemSelector: ".restmenu-item",
                transformsEnabled: true,
                transitionDuration: "700ms",
                resizable: true
            });
            aresm.imagesLoaded(function () {
                aresm.isotope("layout");
            });
            $(".menu-filters").on("click", "a", function (a) {
                a.preventDefault();
                var brec = $(this).attr("data-filter");
                aresm.isotope({
                    filter: brec
                });
                $(".menu-filters a").removeClass("menu-filters-active");
                $(this).addClass("menu-filters-active");
            });
        }
    }
    initIsotope();
    //   lightGallery------------------
    $(".image-popup").lightGallery({
        selector: "this",
        cssEasing: "cubic-bezier(0.25, 0, 0.25, 1)",
        download: false,
        counter: false
    });
    var o = $(".lightgallery"),
        p = o.data("looped");
    o.lightGallery({
        selector: ".lightgallery a.popup-image",
        cssEasing: "cubic-bezier(0.25, 0, 0.25, 1)",
        download: false,
        loop: false,
        counter: false
    });
    function initHiddenGal() {
        $(".dynamic-gal").on('click', function () {
            var dynamicgal = eval($(this).attr("data-dynamicPath"));
            $(this).lightGallery({
                dynamic: true,
                dynamicEl: dynamicgal,
                download: false,
                loop: false,
                counter: false
            });

        });
    }
    initHiddenGal();
    $("<span class='footer-bg-pin'></span>").duplicate(4).prependTo(".footer-bg");
    function heroAnim() {
        function a(a) {
            var b = a.length,
                c, d;
            while (b) {
                d = Math.floor(Math.random() * b--);
                c = a[b];
                a[b] = a[d];
                a[d] = c;
            }
            return a;
        }

        var b = $(".footer-bg-pin");
        $(a(b).slice(0, $(".footer-bg").data("ran"))).each(function (a) {
            var bc = $(this);
            b.removeClass("footer-bg-pin-vis")
            bc.addClass("footer-bg-pin-vis");

        });
    }
    setInterval(function () {
        heroAnim();
    }, 2000);
    $(".lang-action li a").on('click', function (e) {
        e.preventDefault();
        var thdatlantext = $(this).data("lantext");
        $(".lang-action li a").removeClass("current-lan");
        $(this).addClass("current-lan");
        $(".show-lang span strong").text(thdatlantext);
    });
    $(".category-carousel-item").on("click", function (e) {
        e.preventDefault();
        $(this).toggleClass("checket-cat");
    });
    $(".show-more-snopt").on("click", function (e) {
        e.preventDefault();
        $(".show-more-snopt-tooltip").toggleClass("show-more-snopt-tooltip_vis");
    });
 // calc ------------------
    $("form[name=rangeCalc]").jAutoCalc("destroy");
    $("form[name=rangeCalc]").jAutoCalc({
        initFire: true,
        decimalPlaces: 1,
        emptyAsZero: false
    });
 // date picker------------------
    $('input[name="datepicker-here"]').daterangepicker({
        autoUpdateInput: false,
        parentEl: $(".date-container"),
        singleDatePicker: true,
        locale: {
            cancelLabel: 'Clear'
        }
    });
    $('input[name="datepicker-here-time"]').daterangepicker({
        autoUpdateInput: false,
        parentEl: $(".date-container2"),
        singleDatePicker: true,
        timePicker: true,
        locale: {
            cancelLabel: 'Clear'
        }
    });
    $('input[name="datepicker-here-time"]').on('apply.daterangepicker', function (ev, picker) {
        $(this).val(picker.startDate.format('MM/DD/YYYY hh:mm A'));
    });
    $('input[name="datepicker-here-time"]').on('cancel.daterangepicker', function (ev, picker) {
        $(this).val('');
    });
    $('input[name="datepicker-here"]').on('apply.daterangepicker', function (ev, picker) {
        $(this).val(picker.startDate.format('MM/DD/YYYY'));
    });
    $('input[name="datepicker-here"]').on('cancel.daterangepicker', function (ev, picker) {
        $(this).val('');
    });
    $('input[name="dates"]').daterangepicker({
        autoUpdateInput: false,
        parentEl: $(".date-container3"),
        locale: {
            cancelLabel: 'Clear'
        }
    });
    $('input[name="dates"]').on('apply.daterangepicker', function (ev, picker) {
        $(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
    });
    $('input[name="dates"]').on('cancel.daterangepicker', function (ev, picker) {
        $(this).val('');
    });
    //   appear------------------
    $(".stats").appear(function () {
        $(".num").countTo();
    });
    // Share   ------------------
    $(".sfcs").on("click", function () {
        $(this).toggleClass("vis-buts h");
        $(".fixed-scroll-column-share-container").slideToggle(400);
    });
    $(".share-container").share({
        networks: ['facebook', 'pinterest', 'googleplus', 'twitter', 'linkedin']
    });
    var shrcn = $(".share-container");
    function showShare() {
        shrcn.removeClass("isShare");
        shrcn.addClass("visshare");
    }
    function hideShare() {
        shrcn.addClass("isShare");
        shrcn.removeClass("visshare");
    }
    $(".showshare").on("click", function (e) {
        e.preventDefault();
        $(this).toggleClass("vis-butsh");
        if ($(".share-container").hasClass("isShare")) showShare();
        else hideShare();
    });
    //   accordion ------------------
    $(".accordion a.toggle").on("click", function (a) {
        a.preventDefault();
        $(".accordion a.toggle").removeClass("act-accordion");
        $(this).addClass("act-accordion");
        if ($(this).next('div.accordion-inner').is(':visible')) {
            $(this).next('div.accordion-inner').slideUp();
        } else {
            $(".accordion a.toggle").next('div.accordion-inner').slideUp();
            $(this).next('div.accordion-inner').slideToggle();
        }
    });
    //   tabs------------------
    $(".tabs-menu a").on("click", function (a) {
        a.preventDefault();
        $(this).parent().addClass("current");
        $(this).parent().siblings().removeClass("current");
        var b = $(this).attr("href");
        $(this).parents(".tabs-act").find(".tab-content").not(b).css("display", "none");
        $(b).fadeIn();
    });
    $(".change_bg a").on("click", function () {
        var bgt = $(this).data("bgtab");
        $(".bg_tabs").css("background-image", "url(" + bgt + ")");
    });
    // twitter ------------------
    if ($("#footer-twiit").length > 0) {
        var config1 = {
            "profile": {
                "screenName": 'envatomarket'
            },
            "domId": 'footer-twiit',
            "maxTweets": 4,
            "enableLinks": true,
            "showImages": false
        };
        twitterFetcher.fetch(config1);
    }
    //   Contact form------------------
    $(document).on('submit', '#contactform', function () {
        var a = $(this).attr("action");
        $("#message").slideUp(750, function () {
            $("#message").hide();
            $("#submit").attr("disabled", "disabled");
            $.post(a, {
                name: $("#name").val(),
                email: $("#email").val(),
                comments: $("#comments").val()
            }, function (a) {
                document.getElementById("message").innerHTML = a;
                $("#message").slideDown("slow");
                $("#submit").removeAttr("disabled");
                if (null != a.match("success")) $("#contactform").slideDown("slow");
            });
        });
        return false;
    });
    $(document).on('keyup', '#contactform input, #contactform textarea', function () {
        $("#message").slideUp(1500);
    });
    //   mailchimp------------------
    $("#subscribe").ajaxChimp({
        language: "eng",
        url: "http://kwst.us18.list-manage.com/subscribe/post?u=42df802713d4826a4b137cd9e&id=815d11e811"
    });
    $.ajaxChimp.translations.eng = {
        submit: "Submitting...",
        0: '<i class="fa fa-check"></i> We will be in touch soon!',
        1: '<i class="fa fa-warning"></i> You must enter a valid e-mail address.',
        2: '<i class="fa fa-warning"></i> E-mail address is not valid.',
        3: '<i class="fa fa-warning"></i> E-mail address is not valid.',
        4: '<i class="fa fa-warning"></i> E-mail address is not valid.',
        5: '<i class="fa fa-warning"></i> E-mail address is not valid.'
    };
    //   Video------------------
    var v = $(".background-youtube-wrapper").data("vid");
    var f = $(".background-youtube-wrapper").data("mv");
    $(".background-youtube-wrapper").YTPlayer({
        fitToBackground: true,
        videoId: v,
        pauseOnScroll: true,
        mute: f,
        callback: function () {
            var a = $(".background-youtube-wrapper").data("ytPlayer").player;
        }
    });
    var w = $(".background-vimeo").data("vim"),
        bvc = $(".background-vimeo"),
        bvmc = $(".media-container"),
        bvfc = $(".background-vimeo iframe "),
        vch = $(".video-container");
    bvc.append('<iframe src="//player.vimeo.com/video/' + w + '?background=1"  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen ></iframe>');
    $(".video-holder").height(bvmc.height());
    if ($(window).width() > 1024) {
        if ($(".video-holder").length > 0)
            if (bvmc.height() / 9 * 16 > bvmc.width()) {
                bvfc.height(bvmc.height()).width(bvmc.height() / 9 * 16);
                bvfc.css({
                    "margin-left": -1 * $("iframe").width() / 2 + "px",
                    top: "-75px",
                    "margin-top": "0px"
                });
            } else {
                bvfc.width($(window).width()).height($(window).width() / 16 * 9);
                bvfc.css({
                    "margin-left": -1 * $("iframe").width() / 2 + "px",
                    "margin-top": -1 * $("iframe").height() / 2 + "px",
                    top: "50%"
                });
            }
    } else if ($(window).width() < 760) {
        $(".video-holder").height(bvmc.height());
        bvfc.height(bvmc.height());
    } else {
        $(".video-holder").height(bvmc.height());
        bvfc.height(bvmc.height());
    }
    vch.css("width", $(window).width() + "px");
    vch.css("height", 720 / 1280 * $(window).width()) + "px";
    if (vch.height() < $(window).height()) {
        vch.css("height", $(window).height() + "px");
        vch.css("width", 1280 / 720 * $(window).height()) + "px";
    }
 // scroll animation ------------------
    $(".scroll-init  ul ").singlePageNav({
        filter: ":not(.external)",
        updateHash: false,
        offset: 160,
        threshold: 150,
        speed: 1200,
        currentClass: "act-scrlink"
    });
    $(".rate-item-bg").each(function () {
        $(this).find(".rate-item-line").css({
            width: $(this).attr("data-percent")
        });
    });
    $(window).on("scroll", function (a) {
        if ($(this).scrollTop() > 150) {
            $(".to-top").fadeIn(500);

            $(".clbtg").fadeIn(500);
        } else {
            $(".to-top").fadeOut(500);
            $(".clbtg").fadeOut(500);
        }
    });
    //   scroll to------------------
    $(".custom-scroll-link").on("click", function () {
        var a = 90 + $(".scroll-nav-wrapper").height();
        if (location.pathname.replace(/^\//, "") === this.pathname.replace(/^\//, "") || location.hostname === this.hostname) {
            var b = $(this.hash);
            b = b.length ? b : $("[name=" + this.hash.slice(1) + "]");
            if (b.length) {
                $("html,body").animate({
                    scrollTop: b.offset().top - a
                }, {
                    queue: false,
                    duration: 1200,
                    easing: "easeInOutExpo"
                });
                return false;
            }
        }
    });
    // modal ------------------
    var modal = {};
    modal.hide = function () {
        $('.modal , .reg-overlay').fadeOut(200);
        $("html, body").removeClass("hid-body");
        $(".modal_main").removeClass("vis_mr");
    };
    $('.modal-open').on("click", function (e) {
        e.preventDefault();
        $('.modal , .reg-overlay').fadeIn(200);
        $(".modal_main").addClass("vis_mr");
        $("html, body").addClass("hid-body");
    });
    $('.close-reg , .reg-overlay').on("click", function () {
        modal.hide();
    });
    $(".show_gcc").on("click", function (e) {
        e.preventDefault();
        $(this).parents(".geodir-category-footer").find(".geodir-category_contacts").addClass("visgdcc");
    });
    $(".close_gcc").on("click", function () {
        $(this).parent(".geodir-category_contacts").removeClass("visgdcc");
    });
    // Header ------------------
    $(".more-filter-option").on("click", function () {
        $(".hidden-listing-filter").slideToggle(500);
        $(this).find("span").toggleClass("mfilopact");
    });
    var headSearch = $(".header-search"),
        ssbut = $(".show-search-button"),
        wlwrp = $(".header-modal"),
        wllink = $(".show-header-modal"),
        mainheader = $(".main-header");
    function showSearch() {
        headSearch.addClass("vis-head-search").removeClass("vis-search");
        ssbut.find("span").text("Kapat");
        ssbut.find("i").addClass("vis-head-search-close");
        mainheader.addClass("vis-searchdec");
        hideWishlist();
    }
    function hideSearch() {
        headSearch.removeClass("vis-head-search").addClass("vis-search");
        ssbut.find("span").text("Hızlı Arama");
        ssbut.find("i").removeClass("vis-head-search-close");
        mainheader.removeClass("vis-searchdec");
    }
    ssbut.on("click", function () {
        if ($(".header-search").hasClass("vis-search")) showSearch();
        else hideSearch();
    });
    $(".header-search_close").on("click", function () {
        hideSearch();
    });
    function showWishlist() {
        wlwrp.fadeIn(1).addClass("vis-wishlist").removeClass("novis_wishlist")
        hideSearch();
        wllink.addClass("scwllink");
    }
    function hideWishlist() {
        wlwrp.fadeOut(1).removeClass("vis-wishlist").addClass("novis_wishlist");
        wllink.removeClass("scwllink");
    }
    wllink.on("click", function () {
        if (wlwrp.hasClass("novis_wishlist")) showWishlist();
        else hideWishlist();
    });
    $(".close-header-modal").on("click", function () {
        hideWishlist();
    });
    var wlitle = $(".novis_wishlist .widget-posts li").length;
    $(".header-modal-top h4 strong , .cart-btn span.cart-counter").text(wlitle);
    $(".act-hiddenpanel").on("click", function () {
        $(this).toggleClass("active-hidden-opt-btn").find("span").text($(this).find("span").text() === 'Close options' ? 'More options' : 'Close options');
        $(".hidden-listing-filter").slideToggle(400);
    });
    // Forms ------------------
    $(document).on('change', '.leave-rating input', function () {
        var $radio = $(this);
        $('.leave-rating .selected').removeClass('selected');
        $radio.closest('label').addClass('selected');
    });
    $(".show-hidden-map").on("click", function (e) {
        e.preventDefault();
        $(".show-hidden-map").find("span").text($(".show-hidden-map span").text() === 'Close' ? 'On The Map' : 'Close');
        $(".hidden-map-container").slideToggle(400);
    });
    function showColumnhiddenmap() {
        if ($(window).width() < 1064) {
            $(".hid-mob-map").animate({
                right: 0
            }, 500, "easeInOutExpo").addClass("fixed-mobile");
        }
    }
    $(".map-item , .schm").on("click", function (e) {
        e.preventDefault();
        showColumnhiddenmap();
    });
    $('.map-close').on("click", function (e) {
        $(".hid-mob-map").animate({
            right: "-100%"
        }, 500, "easeInOutExpo").removeClass("fixed-mobile");
    });
    $(".show-list-wrap-search").on("click", function (e) {
        $(".lws_mobile").slideToggle(400);
        $(this).toggleClass("slsw_vis");
    });
	$(".show-lpt").on("click", function (e) {
		e.preventDefault();
        $(".lost-password-tootip").addClass("lpt_vis");
    });
	$(".close-lpt").on("click", function () {
        $(".lost-password-tootip").removeClass("lpt_vis");
    });
	$("<span class='photoUpload-files fl-wrap'></span>").appendTo(".photoUpload");
	$("<span class='photoUpload-files fl-wrap'></span>").appendTo(".fu-text");
    $('.fuzone input').each(function () {
			$(this).on('change', function () {
			 $(this).parents(".fuzone").find('.photoUpload-files').text($(this)[i].files[i].name);
			});
    });
    $('.photoUpload input').each(function () {
			$(this).on('change', function () {
			 $(this).parents(".photoUpload").find('.photoUpload-files').text($(this)[i].files[i].name);
			});
    });	
    $(".eye").on("click touchstart", function () {
        var epi = $(this).parent(".pass-input-wrap").find("input");
        if (epi.attr("type") === "password") {
            epi.attr("type", "text");
        } else {
            epi.attr("type", "password");
        }
    });
    $(".tfp-btn").on("click", function () {
        $(this).toggleClass("rot_tfp-btn");
        $(".tfp-det").toggleClass("vis_tfp-det ");
    });
    $(".dasboard-menu li").on({
        mouseenter: function () {

            $(this).find("a").css({
                "color": "#666",
                "background": "#fff"
            });

        },
        mouseleave: function () {
            $(this).find("a").css({
                "color": "#fff",
                "background": "none"
            });
        }
    });
// booking -----------------
    var current_fs, next_fs, previous_fs;
    var left, opacity, scale;
    var animating;
    $(".next-form").on("click", function (e) {
        e.preventDefault();
        if (animating) return false;
        animating = true;
        current_fs = $(this).parent();
        next_fs = $(this).parent().next();
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
        next_fs.show();
        current_fs.animate({
            opacity: 0
        }, {
            step: function (now, mx) {
                scale = 1 - (1 - now) * 0.2;
                left = (now * 50) + "%";
                opacity = 1 - now;
                current_fs.css({
                    'transform': 'scale(' + scale + ')',
                    'position': 'absolute'
                });
                next_fs.css({
                    'left': left,
                    'opacity': opacity,
                    'position': 'relative'
                });
            },
            duration: 1200,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            easing: 'easeInOutBack'
        });
    });
    $(".back-form").on("click", function (e) {
        e.preventDefault();
        if (animating) return false;
        animating = true;
        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
        previous_fs.show();
        current_fs.animate({
            opacity: 0
        }, {
            step: function (now, mx) {
                scale = 0.8 + (1 - now) * 0.2;
                left = ((1 - now) * 50) + "%";
                opacity = 1 - now;
                current_fs.css({
                    'left': left,
                    'position': 'absolute'
                });
                previous_fs.css({
                    'transform': 'scale(' + scale + ')',
                    'opacity': opacity,
                    'position': 'relative'
                });
            },
            duration: 1200,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            easing: 'easeInOutBack'
        });
    });
    $('.faq-nav li a').on("click", function () {
        $('.faq-nav li a').removeClass("act-faq-link");
        $(this).addClass("act-faq-link");
    });
    $('.tariff-toggle').on("click", function () {
        if ($('#yearly-1').is(':checked')) {
            $('.price-item').addClass('year-mont');
        }
        if ($('#monthly-1').is(':checked')) {
            $('.price-item').removeClass('year-mont');
        }
    });
    //   scrollToFixed------------------
    $(".fixed-listing-header").scrollToFixed({
        minWidth: 1064,
        marginTop: 80,
        removeOffsets: true,

        limit: function () {
            var a = $(".limit-box").offset().top - $(".fixed-listing-header").outerHeight();
            return a;
        }
    });
    $(".fixed-scroll-column-item").scrollToFixed({
        minWidth: 1064,
        marginTop: 200,
        removeOffsets: true,
        limit: function () {
            var a = $(".limit-box").offset().top - $(".fixed-scroll-column-item").outerHeight() - 46;
            return a;
        }
    });
    $(".fix-map").scrollToFixed({
        minWidth: 1064,
        zIndex: 0,
        marginTop: 80,
        removeOffsets: true,
        limit: function () {
            var a = $(".limit-box").offset().top - $(".fix-map").outerHeight(true);
            return a;
        }
    });
    $(".scroll-nav-wrapper").scrollToFixed({
        minWidth: 768,
        zIndex: 1112,
        marginTop: 80,
        removeOffsets: true,
        limit: function () {
            var a = $(".limit-box").offset().top - $(".scroll-nav-wrapper").outerHeight(true) - 50;
            return a;
        }
    });

    $(".back-tofilters").scrollToFixed({
        minWidth: 1064,
        zIndex: 12,
        marginTop: 90,
        removeOffsets: true,

        limit: function () {
            var a = $(".limit-box").offset().top - $(".back-tofilters").outerHeight(true);
            return a;
        }
    });
    $(".help-bar").scrollToFixed({
        minWidth: 1064,
        zIndex: 12,
        marginTop: 100,
        removeOffsets: true,
        limit: function () {
            var a = $(".limit-box").offset().top - $(".help-bar").outerHeight(true) - 60;
            return a;
        }
    });
    if ($(".fixed-bar").outerHeight(true) < $(".post-container").outerHeight(true)) {
        $(".fixed-bar").addClass("fixbar-action");
        $(".fixbar-action").scrollToFixed({
            minWidth: 1064,
            zIndex: 12,
            marginTop: function () {
                var a = $(window).height() - $(".fixed-bar").outerHeight(true) - 100;
                if (a >= 0) return 20;
                return a;
            },
            removeOffsets: true,
            limit: function () {
                var a = $(".limit-box").offset().top - $(".fixed-bar").outerHeight() - 60;
                return a;
            }
        });
    } else $(".fixed-bar").removeClass("fixbar-action");
// filter show -----------------
    var shf = $(".shsb_btn"),
        ahimcocn = $(".anim_clw"),
        mapover = $(".map-overlay , .close_sbfilters");
    function showhiddenfilters() {
        shf.removeClass("shsb_btn_act");
        ahimcocn.addClass("hidsb_act");
        mapover.fadeIn(200);
    }
    function hidehiddenfilters() {
        shf.addClass("shsb_btn_act");
        ahimcocn.removeClass("hidsb_act");
        mapover.fadeOut(200);
    }
    shf.on("click", function () {
        if ($(this).hasClass("shsb_btn_act")) showhiddenfilters();
        else hidehiddenfilters();
    });
    mapover.on("click", function () {
        hidehiddenfilters();
    });
// niceselect -----------------
    $(".url_btn").on("click", function (e) {
        e.preventDefault();
    });
    $('.chosen-select').niceSelect();
// rangeslider -----------------
    $(".range-slider").ionRangeSlider({
        type: "double",
        keyboard: true
    });
    $(".rate-range").ionRangeSlider({
        type: "single",
        hide_min_max: true,
    });
    $(".price-range").ionRangeSlider({
        type: "single",

        values: [
            "$", "$$", "$$$", "$$$$"
        ],
    });
//click -----------------
    $('.toggle-filter-btn').on("click", function (e) {
        e.preventDefault();
        $(this).toggleClass("tsb_act");
    });
    $(".clear-singleinput").on("click", function (e) {
        $(this).parents(".clact").find("input").val('');
    });
    $('.init-dsmen').on("click", function () {
        $(".user-profile-menu-wrap").slideToggle(400);
    });
// chat -----------------
    var chatwidwrap = $(".chat-widget_wrap"),
        cahtwidbutton = $(".chat-widget-button");

    function showChat() {
        cahtwidbutton.addClass("closechat_btn");
        chatwidwrap.fadeIn(500).removeClass("not-vis-chat");
    }
    function hideChat() {
        cahtwidbutton.removeClass("closechat_btn");
        chatwidwrap.fadeOut(500).addClass("not-vis-chat");
    }
    $(".cwb").on("click", function (e) {
        e.preventDefault();
        if (chatwidwrap.hasClass("not-vis-chat")) {
            showChat();
        } else {
            hideChat();
        }
    });
    // Styles ------------------
    function csselem() {
        $(".height-emulator").css({
            height: $(".fixed-footer").outerHeight(true)
        });
        $(".slideshow-container .swiper-slide").css({
            height: $(".slideshow-container").outerHeight(true)
        });
        $(".slider-container .slider-item").css({
            height: $(".slider-container").outerHeight(true)
        });
        $(".map-container.column-map").css({
            height: $(window).outerHeight(true) - 80 + "px"
        });
        $(".hidden-search-column-container").css({
            height: $(window).outerHeight(true) - 70 + "px"
        });
    }
    csselem();
    // Mob Menu------------------
    $(".nav-button-wrap").on("click", function () {
        $(".main-menu").toggleClass("vismobmenu");
        $(this).toggleClass("vismobmenu_btn");
    });
    function mobMenuInit() {
        var ww = $(window).width();
        if (ww < 1054) {
            $(".menusb").remove();
            $(".main-menu").removeClass("nav-holder");
            $(".main-menu nav").clone().addClass("menusb").appendTo(".main-menu");
            $(".menusb").menu();
            $(".map-container.fw-map.big_map.hid-mob-map").css({
                height: $(window).outerHeight(true) - 110 + "px"
            });
        } else {
            $(".menusb").remove();
            $(".main-menu").addClass("nav-holder");
            $(".map-container.fw-map.big_map.hid-mob-map").css({
                height: 550 + "px"
            });
        }
    }
    mobMenuInit();
    //   css ------------------
    var $window = $(window);
    $window.on("resize", function () {
        csselem();
        mobMenuInit();
        if ($(window).width() > 1064) {
            $(".lws_mobile , .dasboard-menu-wrap").addClass("vishidelem");
            $(".map-container.fw-map.big_map.hid-mob-map").css({
                "right": "0"
            });
            $(".map-container.column-map.hid-mob-map").css({
                "right": "0"
            });
        } else {
            $(".lws_mobile , .dasboard-menu-wrap").removeClass("vishidelem");
            $(".map-container.fw-map.big_map.hid-mob-map").css({
                "right": "-100%"
            });
            $(".map-container.column-map.hid-mob-map").css({
                "right": "-100%"
            });
        }
    });
    $(".box-cat").on({
        mouseenter: function () {
            var a = $(this).data("bgscr");
            $(".bg-ser").css("background-image", "url(" + a + ")");
        }
    });
    $(".header-user-name").on("click", function () {
        $(".header-user-menu ul").toggleClass("hu-menu-vis");
        $(this).toggleClass("hu-menu-visdec");
    });
    // Counter ------------------
    if ($(".counter-widget").length > 0) {
        var countCurrent = $(".counter-widget").attr("data-countDate");
        $(".countdown").downCount({
            date: countCurrent,
            offset: 0
        });
    }
// open hours -----------------
    if ($(".opening-hours").length > 0) {
        var d = new Date();
        var weekday = new Array(7);
        weekday[0] = "sun";
        weekday[1] = "mon";
        weekday[2] = "tue";
        weekday[3] = "wed";
        weekday[4] = "thu";
        weekday[5] = "fri";
        weekday[6] = "sat";
        document.getElementsByClassName(weekday[d.getDay()])[0].classList.add("todaysDay");
    }
// qty -----------------
    $('.quantity-item').each(function () {
        var spinner = $(this),
            input = spinner.find('input[type="text"]'),
            btnUp = spinner.find('.plus'),
            btnDown = spinner.find('.minus'),
            min = input.attr('data-min'),
            max = input.attr('data-max');
        btnUp.click(function () {
            var oldValue = parseFloat(input.val());
            if (oldValue >= max) {
                var newVal = oldValue;
            } else {
                var newVal = oldValue + 1;
            }
            spinner.find("input.qty").val(newVal);
            spinner.find("input.qty").trigger("change");
        });
        btnDown.click(function () {
            var oldValue = parseFloat(input.val());
            if (oldValue <= min) {
                var newVal = oldValue;
            } else {
                var newVal = oldValue - 1;
            }
            spinner.find("input.qty").val(newVal);
            spinner.find("input.qty").trigger("change");
        });
    });
    $(".qty-dropdown-header").on("click", function () {
        $(this).parent(".qty-dropdown").find(".qty-dropdown-content").slideToggle(400);
    });
// bubbles -----------------
    var bArray = [];
    var sArray = [2, 4, 6, 8];
    for (var i = 0; i < $('.bubbles').width(); i++) {
        bArray.push(i);
    }
    function randomValue(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }
    setInterval(function () {
        var size = randomValue(sArray);
        $('.bubbles').append('<div class="individual-bubble" style="left: ' + randomValue(bArray) + 'px; width: ' + size + 'px; height:' + size + 'px;"></div>');
        $('.individual-bubble').animate({
            'bottom': '100%',
            'opacity': '-=0.7'
        }, 4000, function () {
            $(this).remove()
        });
    }, 350);
    if ($(".col-list-wrap").hasClass("novis_to-top")) {
        $(".to-top").remove().clone().addClass("to-top_footer").appendTo(".main-footer")
    }
    $(".to-top , .to-top_footer").on("click", function (a) {
        a.preventDefault();
        $("html, body").animate({
            scrollTop: 0
        }, 800);
        return false;
    });
}
//   Parallax ------------------
function initparallax() {
    var a = {
        Android: function () {
            return navigator.userAgent.match(/Android/i);
        },
        BlackBerry: function () {
            return navigator.userAgent.match(/BlackBerry/i);
        },
        iOS: function () {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        Opera: function () {
            return navigator.userAgent.match(/Opera Mini/i);
        },
        Windows: function () {
            return navigator.userAgent.match(/IEMobile/i);
        },
        any: function () {
            return a.Android() || a.BlackBerry() || a.iOS() || a.Opera() || a.Windows();
        }
    };
    trueMobile = a.any();
    if (null === trueMobile) {
        var b = new Scrollax();
        b.reload();
        b.init();
    }
    if (trueMobile) $(".bgvid , .background-vimeo , .background-youtube-wrapper ").remove();
}
// duplicate -----------------
$.fn.duplicate = function (a, b) {
    var c = [];
    for (var d = 0; d < a; d++) $.merge(c, this.clone(b).get());
    return this.pushStack(c);
};
//   Star Raiting ------------------
function cardRaining() {
    var cr = $(".card-popup-raining");
    cr.each(function (cr) {
        var starcount = $(this).attr("data-starrating");
        $("<i class='fas fa-star'></i>").duplicate(starcount).prependTo(this);
    });
}
cardRaining();
function cardRaining2() {
    var cr2 = $(".card-popup-rainingvis"),
        sts = $(".price-level-item");
    cr2.each(function (cr) {
        var starcount2 = $(this).attr("data-starrating2");
        $("<i class='fas fa-star'></i>").duplicate(starcount2).prependTo(this);
    });
    sts.each(function (sts) {
        var pricecount = $(this).attr("data-pricerating");
        $("<strong>$</strong>").duplicate(pricecount).prependTo(this);
    });
    $("<div class='card-popup-rainingvis_bg'><div>").appendTo(".card-popup-rainingvis");
    $("<span class='card-popup-rainingvis_bg_item'></span>").duplicate(5).prependTo(".card-popup-rainingvis_bg");
}
cardRaining2();

//  geo -----------------
$(".location a , .loc-act").on("click", function (e) {
    e.preventDefault();
    $.get("https://ipinfo.io", function (response) {
        $(".location input").each(function () {
            $(this).val(response.city);
        });
    }, "jsonp");
});
//  autocomplete -----------------
function initAutocomplete() {
    var acInputs = document.getElementsByClassName("autocomplete-input");
    for (var i = 0; i < acInputs.length; i++) {
        var autocomplete = new google.maps.places.Autocomplete(acInputs[i]);
        autocomplete.inputId = acInputs[i].id;
    }
}
//  listing height -----------------
$(".dasboard-menu-btn").on("click", function () {
    $(".dasboard-menu-wrap").slideToggle(500);
});
$(".list-single-facts .inline-facts-wrap").matchHeight({});
$(".listing-item").matchHeight({});
$(".article-masonry").matchHeight({});
$(".grid-opt li span").on("click", function () {
    $(".listing-item").matchHeight({
        remove: true
    });
    setTimeout(function () {
        $(".listing-item").matchHeight();
    }, 50);
    $(".grid-opt li span").removeClass("act-grid-opt");
    $(this).addClass("act-grid-opt");
    if ($(this).hasClass("two-col-grid")) {
        $(".listing-item").removeClass("has_one_column");
        $(".listing-item").addClass("has_two_column");
    } else if ($(this).hasClass("one-col-grid")) {
        $(".listing-item").addClass("has_one_column");
    } else {
        $(".listing-item").removeClass("has_one_column").removeClass("has_two_column");
    }
});
$(".notification-close").on("click", function () {
    $(this).parent(".notification").slideUp(500);
});

$(".romms-select_header").on("click", function () {
	$(this).toggleClass("vis-room_select")
    $(this).parent(".romms-select_item").find(".romms-select_content").slideToggle(400);
});

//   Init All ------------------
$(document).ready(function () {
    initTowhub();
    initparallax();
});

/* --------------------------------------------------------------- SearchBox CSS --------------------------------------------------------------- */

/* $(function () {
    $(".nice-select").on('input',function () {
        console.log('değişti');
        console.log($(".chosen-select"))
    });
});  */

$(function () {
    if(document.getElementById("locHome")){
        $('.nice-select-search')[1].setAttribute("oninput","HomeAjax(this.value)")
    }
    if(document.getElementById("locHeader")){
        $('.nice-select-search')[0].setAttribute("oninput","HeaderAjax(this.value)")
    }
})

function HomeAjax (value) {    
    $.ajax({
        url: "/searchbox",
        type: "GET",
        data: {
            term: value
        },
        success: function (data) {
            var x = document.getElementById("locHome");
            var ul = x.getElementsByClassName("list")[0];
            select = document.getElementById('Homekutu2')
            
            while (ul.firstChild) {
                ul.removeChild(ul.firstChild);
            }
            while (select.firstChild) {
                select.removeChild(select.firstChild);
            }
            for (var k in data) {
                var li = document.createElement("li");
                li.appendChild(document.createTextNode(data[k].searc));
                li.setAttribute("data-value", data[k].searc);
                li.setAttribute("class", "option");
                ul.appendChild(li);

                var opt = document.createElement('option');
                opt.value = data[k].searc;
                opt.innerHTML = data[k].searc;
                select.appendChild(opt);

            }
        }
    })
}

function HeaderAjax (value) {  
    $.ajax({
        url: "/searchbox",
        type: "GET",
        data: {
            term: value
        },
        success: function (data) {
            var x = document.getElementById("locHeader");
            var ul = x.getElementsByClassName("list")[0];
            select = document.getElementById('Headerkutu2')
            
            while (ul.firstChild) {
                ul.removeChild(ul.firstChild);
            }
            while (select.firstChild) {
                select.removeChild(select.firstChild);
            }
            for (var k in data) {
                var li = document.createElement("li");
                li.appendChild(document.createTextNode(data[k].searc));
                li.setAttribute("data-value", data[k].searc);
                li.setAttribute("class", "option");
                ul.appendChild(li);

                var opt = document.createElement('option');
                opt.value = data[k].searc;
                opt.innerHTML = data[k].searc;
                select.appendChild(opt);
            }
        }
    })
}

/* --------------------------------------------------------------- Sayfalama CSS --------------------------------------------------------------- */

$(function () {
    if(document.getElementById("sayfalama")){
        var a = window.location.pathname;
        var ss = window.location.search;        
        if (decodeURIComponent(ss).toString().indexOf("?") == -1 || decodeURIComponent(ss).split('=').length==2){
            //yok
            var s = decodeURIComponent(ss).split('?p=');
            if(document.getElementById("onceki")){
                var once = a+s[0]+'?p='+document.getElementById("onceki").innerHTML
                document.getElementById("link-onceki").setAttribute("href",once);
            }
            if(document.getElementById("sonraki")){
                var sonra = a+s[0]+'?p='+document.getElementById("sonraki").innerHTML
                document.getElementById("link-sonraki").setAttribute("href",sonra);
            }
        }else{

            var s = decodeURIComponent(ss).split('&p=');
            if(document.getElementById("onceki")){
                var once = a+s[0]+'&p='+document.getElementById("onceki").innerHTML
                document.getElementById("link-onceki").setAttribute("href",once);
            }
            if(document.getElementById("sonraki")){
                var sonra = a+s[0]+'&p='+document.getElementById("sonraki").innerHTML
                document.getElementById("link-sonraki").setAttribute("href",sonra);
            }
        }
    }
})

/* --------------------------------------------------------------- OpenLayer CSS --------------------------------------------------------------- */


var OpenLayers = {
    VERSION_NUMBER: "Release 2.13.1",
    singleFile: !0,
    _getScriptLocation: function () {
        for (var a = /(^|(.*?\/))(OpenLayers[^\/]*?\.js)(\?|$)/, b = document.getElementsByTagName("script"), c, d = "", e = 0, f = b.length; e < f; e++)
            if (c = b[e].getAttribute("src"))
                if (c = c.match(a)) {
                    d = c[1];
                    break
                } return function () {
            return d
        }
    }(),
    ImgPath: ""
};
OpenLayers.Class = function () {
    var a = arguments.length,
        b = arguments[0],
        c = arguments[a - 1],
        d = "function" == typeof c.initialize ? c.initialize : function () {
            b.prototype.initialize.apply(this, arguments)
        };
    1 < a ? (a = [d, b].concat(Array.prototype.slice.call(arguments).slice(1, a - 1), c), OpenLayers.inherit.apply(null, a)) : d.prototype = c;
    return d
};
OpenLayers.inherit = function (a, b) {
    var c = function () {};
    c.prototype = b.prototype;
    a.prototype = new c;
    var d, e, c = 2;
    for (d = arguments.length; c < d; c++) e = arguments[c], "function" === typeof e && (e = e.prototype), OpenLayers.Util.extend(a.prototype, e)
};
OpenLayers.Util = OpenLayers.Util || {};
OpenLayers.Util.extend = function (a, b) {
    a = a || {};
    if (b) {
        for (var c in b) {
            var d = b[c];
            void 0 !== d && (a[c] = d)
        }
        "function" == typeof window.Event && b instanceof window.Event || (!b.hasOwnProperty || !b.hasOwnProperty("toString")) || (a.toString = b.toString)
    }
    return a
};
OpenLayers.String = {
    startsWith: function (a, b) {
        return 0 == a.indexOf(b)
    },
    contains: function (a, b) {
        return -1 != a.indexOf(b)
    },
    trim: function (a) {
        return a.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
    },
    camelize: function (a) {
        a = a.split("-");
        for (var b = a[0], c = 1, d = a.length; c < d; c++) var e = a[c],
            b = b + (e.charAt(0).toUpperCase() + e.substring(1));
        return b
    },
    format: function (a, b, c) {
        b || (b = window);
        return a.replace(OpenLayers.String.tokenRegEx, function (a, e) {
            for (var f, g = e.split(/\.+/), h = 0; h < g.length; h++) {
                0 == h && (f = b);
                if (void 0 === f) break;
                f = f[g[h]]
            }
            "function" == typeof f && (f = c ? f.apply(null, c) : f());
            return "undefined" == typeof f ? "undefined" : f
        })
    },
    tokenRegEx: /\$\{([\w.]+?)\}/g,
    numberRegEx: /^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,
    isNumeric: function (a) {
        return OpenLayers.String.numberRegEx.test(a)
    },
    numericIf: function (a, b) {
        var c = a;
        !0 === b && (null != a && a.replace) && (a = a.replace(/^\s*|\s*$/g, ""));
        return OpenLayers.String.isNumeric(a) ? parseFloat(a) : c
    }
};
OpenLayers.Number = {
    decimalSeparator: ".",
    thousandsSeparator: ",",
    limitSigDigs: function (a, b) {
        var c = 0;
        0 < b && (c = parseFloat(a.toPrecision(b)));
        return c
    },
    format: function (a, b, c, d) {
        b = "undefined" != typeof b ? b : 0;
        c = "undefined" != typeof c ? c : OpenLayers.Number.thousandsSeparator;
        d = "undefined" != typeof d ? d : OpenLayers.Number.decimalSeparator;
        null != b && (a = parseFloat(a.toFixed(b)));
        var e = a.toString().split(".");
        1 == e.length && null == b && (b = 0);
        a = e[0];
        if (c)
            for (var f = /(-?[0-9]+)([0-9]{3})/; f.test(a);) a = a.replace(f, "$1" + c + "$2");
        0 == b ? b = a : (c = 1 < e.length ? e[1] : "0", null != b && (c += Array(b - c.length + 1).join("0")), b = a + d + c);
        return b
    },
    zeroPad: function (a, b, c) {
        for (a = a.toString(c || 10); a.length < b;) a = "0" + a;
        return a
    }
};
OpenLayers.Function = {
    bind: function (a, b) {
        var c = Array.prototype.slice.apply(arguments, [2]);
        return function () {
            var d = c.concat(Array.prototype.slice.apply(arguments, [0]));
            return a.apply(b, d)
        }
    },
    bindAsEventListener: function (a, b) {
        return function (c) {
            return a.call(b, c || window.event)
        }
    },
    False: function () {
        return !1
    },
    True: function () {
        return !0
    },
    Void: function () {}
};
OpenLayers.Array = {
    filter: function (a, b, c) {
        var d = [];
        if (Array.prototype.filter) d = a.filter(b, c);
        else {
            var e = a.length;
            if ("function" != typeof b) throw new TypeError;
            for (var f = 0; f < e; f++)
                if (f in a) {
                    var g = a[f];
                    b.call(c, g, f, a) && d.push(g)
                }
        }
        return d
    }
};
OpenLayers.Bounds = OpenLayers.Class({
    left: null,
    bottom: null,
    right: null,
    top: null,
    centerLonLat: null,
    initialize: function (a, b, c, d) {
        OpenLayers.Util.isArray(a) && (d = a[3], c = a[2], b = a[1], a = a[0]);
        null != a && (this.left = OpenLayers.Util.toFloat(a));
        null != b && (this.bottom = OpenLayers.Util.toFloat(b));
        null != c && (this.right = OpenLayers.Util.toFloat(c));
        null != d && (this.top = OpenLayers.Util.toFloat(d))
    },
    clone: function () {
        return new OpenLayers.Bounds(this.left, this.bottom, this.right, this.top)
    },
    equals: function (a) {
        var b = !1;
        null !=
            a && (b = this.left == a.left && this.right == a.right && this.top == a.top && this.bottom == a.bottom);
        return b
    },
    toString: function () {
        return [this.left, this.bottom, this.right, this.top].join()
    },
    toArray: function (a) {
        return !0 === a ? [this.bottom, this.left, this.top, this.right] : [this.left, this.bottom, this.right, this.top]
    },
    toBBOX: function (a, b) {
        null == a && (a = 6);
        var c = Math.pow(10, a),
            d = Math.round(this.left * c) / c,
            e = Math.round(this.bottom * c) / c,
            f = Math.round(this.right * c) / c,
            c = Math.round(this.top * c) / c;
        return !0 === b ? e + "," + d + "," + c + "," + f : d +
            "," + e + "," + f + "," + c
    },
    toGeometry: function () {
        return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(this.left, this.bottom), new OpenLayers.Geometry.Point(this.right, this.bottom), new OpenLayers.Geometry.Point(this.right, this.top), new OpenLayers.Geometry.Point(this.left, this.top)])])
    },
    getWidth: function () {
        return this.right - this.left
    },
    getHeight: function () {
        return this.top - this.bottom
    },
    getSize: function () {
        return new OpenLayers.Size(this.getWidth(), this.getHeight())
    },
    getCenterPixel: function () {
        return new OpenLayers.Pixel((this.left + this.right) / 2, (this.bottom + this.top) / 2)
    },
    getCenterLonLat: function () {
        this.centerLonLat || (this.centerLonLat = new OpenLayers.LonLat((this.left + this.right) / 2, (this.bottom + this.top) / 2));
        return this.centerLonLat
    },
    scale: function (a, b) {
        null == b && (b = this.getCenterLonLat());
        var c, d;
        "OpenLayers.LonLat" == b.CLASS_NAME ? (c = b.lon, d = b.lat) : (c = b.x, d = b.y);
        return new OpenLayers.Bounds((this.left - c) * a + c, (this.bottom - d) * a + d, (this.right - c) * a + c, (this.top - d) * a +
            d)
    },
    add: function (a, b) {
        if (null == a || null == b) throw new TypeError("Bounds.add cannot receive null values");
        return new OpenLayers.Bounds(this.left + a, this.bottom + b, this.right + a, this.top + b)
    },
    extend: function (a) {
        if (a) switch (a.CLASS_NAME) {
            case "OpenLayers.LonLat":
                this.extendXY(a.lon, a.lat);
                break;
            case "OpenLayers.Geometry.Point":
                this.extendXY(a.x, a.y);
                break;
            case "OpenLayers.Bounds":
                this.centerLonLat = null;
                if (null == this.left || a.left < this.left) this.left = a.left;
                if (null == this.bottom || a.bottom < this.bottom) this.bottom =
                    a.bottom;
                if (null == this.right || a.right > this.right) this.right = a.right;
                if (null == this.top || a.top > this.top) this.top = a.top
        }
    },
    extendXY: function (a, b) {
        this.centerLonLat = null;
        if (null == this.left || a < this.left) this.left = a;
        if (null == this.bottom || b < this.bottom) this.bottom = b;
        if (null == this.right || a > this.right) this.right = a;
        if (null == this.top || b > this.top) this.top = b
    },
    containsLonLat: function (a, b) {
        "boolean" === typeof b && (b = {
            inclusive: b
        });
        b = b || {};
        var c = this.contains(a.lon, a.lat, b.inclusive),
            d = b.worldBounds;
        d && !c && (c = d.getWidth(),
            d = Math.round((a.lon - (d.left + d.right) / 2) / c), c = this.containsLonLat({
                lon: a.lon - d * c,
                lat: a.lat
            }, {
                inclusive: b.inclusive
            }));
        return c
    },
    containsPixel: function (a, b) {
        return this.contains(a.x, a.y, b)
    },
    contains: function (a, b, c) {
        null == c && (c = !0);
        if (null == a || null == b) return !1;
        a = OpenLayers.Util.toFloat(a);
        b = OpenLayers.Util.toFloat(b);
        var d = !1;
        return d = c ? a >= this.left && a <= this.right && b >= this.bottom && b <= this.top : a > this.left && a < this.right && b > this.bottom && b < this.top
    },
    intersectsBounds: function (a, b) {
        "boolean" === typeof b && (b = {
            inclusive: b
        });
        b = b || {};
        if (b.worldBounds) {
            var c = this.wrapDateLine(b.worldBounds);
            a = a.wrapDateLine(b.worldBounds)
        } else c = this;
        null == b.inclusive && (b.inclusive = !0);
        var d = !1,
            e = c.left == a.right || c.right == a.left || c.top == a.bottom || c.bottom == a.top;
        if (b.inclusive || !e) var d = a.top >= c.bottom && a.top <= c.top || c.top > a.bottom && c.top < a.top,
            e = a.left >= c.left && a.left <= c.right || c.left >= a.left && c.left <= a.right,
            f = a.right >= c.left && a.right <= c.right || c.right >= a.left && c.right <= a.right,
            d = (a.bottom >= c.bottom && a.bottom <= c.top || c.bottom >=
                a.bottom && c.bottom <= a.top || d) && (e || f);
        if (b.worldBounds && !d) {
            var g = b.worldBounds,
                e = g.getWidth(),
                f = !g.containsBounds(c),
                g = !g.containsBounds(a);
            f && !g ? (a = a.add(-e, 0), d = c.intersectsBounds(a, {
                inclusive: b.inclusive
            })) : g && !f && (c = c.add(-e, 0), d = a.intersectsBounds(c, {
                inclusive: b.inclusive
            }))
        }
        return d
    },
    containsBounds: function (a, b, c) {
        null == b && (b = !1);
        null == c && (c = !0);
        var d = this.contains(a.left, a.bottom, c),
            e = this.contains(a.right, a.bottom, c),
            f = this.contains(a.left, a.top, c);
        a = this.contains(a.right, a.top, c);
        return b ?
            d || e || f || a : d && e && f && a
    },
    determineQuadrant: function (a) {
        var b = "",
            c = this.getCenterLonLat(),
            b = b + (a.lat < c.lat ? "b" : "t");
        return b += a.lon < c.lon ? "l" : "r"
    },
    transform: function (a, b) {
        this.centerLonLat = null;
        var c = OpenLayers.Projection.transform({
                x: this.left,
                y: this.bottom
            }, a, b),
            d = OpenLayers.Projection.transform({
                x: this.right,
                y: this.bottom
            }, a, b),
            e = OpenLayers.Projection.transform({
                x: this.left,
                y: this.top
            }, a, b),
            f = OpenLayers.Projection.transform({
                x: this.right,
                y: this.top
            }, a, b);
        this.left = Math.min(c.x, e.x);
        this.bottom = Math.min(c.y,
            d.y);
        this.right = Math.max(d.x, f.x);
        this.top = Math.max(e.y, f.y);
        return this
    },
    wrapDateLine: function (a, b) {
        b = b || {};
        var c = b.leftTolerance || 0,
            d = b.rightTolerance || 0,
            e = this.clone();
        if (a) {
            for (var f = a.getWidth(); e.left < a.left && e.right - d <= a.left;) e = e.add(f, 0);
            for (; e.left + c >= a.right && e.right > a.right;) e = e.add(-f, 0);
            c = e.left + c;
            c < a.right && (c > a.left && e.right - d > a.right) && (e = e.add(-f, 0))
        }
        return e
    },
    CLASS_NAME: "OpenLayers.Bounds"
});
OpenLayers.Bounds.fromString = function (a, b) {
    var c = a.split(",");
    return OpenLayers.Bounds.fromArray(c, b)
};
OpenLayers.Bounds.fromArray = function (a, b) {
    return !0 === b ? new OpenLayers.Bounds(a[1], a[0], a[3], a[2]) : new OpenLayers.Bounds(a[0], a[1], a[2], a[3])
};
OpenLayers.Bounds.fromSize = function (a) {
    return new OpenLayers.Bounds(0, a.h, a.w, 0)
};
OpenLayers.Bounds.oppositeQuadrant = function (a) {
    var b;
    b = "" + ("t" == a.charAt(0) ? "b" : "t");
    return b += "l" == a.charAt(1) ? "r" : "l"
};
OpenLayers.Element = {
    visible: function (a) {
        return "none" != OpenLayers.Util.getElement(a).style.display
    },
    toggle: function () {
        for (var a = 0, b = arguments.length; a < b; a++) {
            var c = OpenLayers.Util.getElement(arguments[a]),
                d = OpenLayers.Element.visible(c) ? "none" : "";
            c.style.display = d
        }
    },
    remove: function (a) {
        a = OpenLayers.Util.getElement(a);
        a.parentNode.removeChild(a)
    },
    getHeight: function (a) {
        a = OpenLayers.Util.getElement(a);
        return a.offsetHeight
    },
    hasClass: function (a, b) {
        var c = a.className;
        return !!c && RegExp("(^|\\s)" + b + "(\\s|$)").test(c)
    },
    addClass: function (a, b) {
        OpenLayers.Element.hasClass(a, b) || (a.className += (a.className ? " " : "") + b);
        return a
    },
    removeClass: function (a, b) {
        var c = a.className;
        c && (a.className = OpenLayers.String.trim(c.replace(RegExp("(^|\\s+)" + b + "(\\s+|$)"), " ")));
        return a
    },
    toggleClass: function (a, b) {
        OpenLayers.Element.hasClass(a, b) ? OpenLayers.Element.removeClass(a, b) : OpenLayers.Element.addClass(a, b);
        return a
    },
    getStyle: function (a, b) {
        a = OpenLayers.Util.getElement(a);
        var c = null;
        if (a && a.style) {
            c = a.style[OpenLayers.String.camelize(b)];
            c || (document.defaultView && document.defaultView.getComputedStyle ? c = (c = document.defaultView.getComputedStyle(a, null)) ? c.getPropertyValue(b) : null : a.currentStyle && (c = a.currentStyle[OpenLayers.String.camelize(b)]));
            var d = ["left", "top", "right", "bottom"];
            window.opera && (-1 != OpenLayers.Util.indexOf(d, b) && "static" == OpenLayers.Element.getStyle(a, "position")) && (c = "auto")
        }
        return "auto" == c ? null : c
    }
};
OpenLayers.LonLat = OpenLayers.Class({
    lon: 0,
    lat: 0,
    initialize: function (a, b) {
        OpenLayers.Util.isArray(a) && (b = a[1], a = a[0]);
        this.lon = OpenLayers.Util.toFloat(a);
        this.lat = OpenLayers.Util.toFloat(b)
    },
    toString: function () {
        return "lon=" + this.lon + ",lat=" + this.lat
    },
    toShortString: function () {
        return this.lon + ", " + this.lat
    },
    clone: function () {
        return new OpenLayers.LonLat(this.lon, this.lat)
    },
    add: function (a, b) {
        if (null == a || null == b) throw new TypeError("LonLat.add cannot receive null values");
        return new OpenLayers.LonLat(this.lon +
            OpenLayers.Util.toFloat(a), this.lat + OpenLayers.Util.toFloat(b))
    },
    equals: function (a) {
        var b = !1;
        null != a && (b = this.lon == a.lon && this.lat == a.lat || isNaN(this.lon) && isNaN(this.lat) && isNaN(a.lon) && isNaN(a.lat));
        return b
    },
    transform: function (a, b) {
        var c = OpenLayers.Projection.transform({
            x: this.lon,
            y: this.lat
        }, a, b);
        this.lon = c.x;
        this.lat = c.y;
        return this
    },
    wrapDateLine: function (a) {
        var b = this.clone();
        if (a) {
            for (; b.lon < a.left;) b.lon += a.getWidth();
            for (; b.lon > a.right;) b.lon -= a.getWidth()
        }
        return b
    },
    CLASS_NAME: "OpenLayers.LonLat"
});
OpenLayers.LonLat.fromString = function (a) {
    a = a.split(",");
    return new OpenLayers.LonLat(a[0], a[1])
};
OpenLayers.LonLat.fromArray = function (a) {
    var b = OpenLayers.Util.isArray(a);
    return new OpenLayers.LonLat(b && a[0], b && a[1])
};
OpenLayers.Pixel = OpenLayers.Class({
    x: 0,
    y: 0,
    initialize: function (a, b) {
        this.x = parseFloat(a);
        this.y = parseFloat(b)
    },
    toString: function () {
        return "x=" + this.x + ",y=" + this.y
    },
    clone: function () {
        return new OpenLayers.Pixel(this.x, this.y)
    },
    equals: function (a) {
        var b = !1;
        null != a && (b = this.x == a.x && this.y == a.y || isNaN(this.x) && isNaN(this.y) && isNaN(a.x) && isNaN(a.y));
        return b
    },
    distanceTo: function (a) {
        return Math.sqrt(Math.pow(this.x - a.x, 2) + Math.pow(this.y - a.y, 2))
    },
    add: function (a, b) {
        if (null == a || null == b) throw new TypeError("Pixel.add cannot receive null values");
        return new OpenLayers.Pixel(this.x + a, this.y + b)
    },
    offset: function (a) {
        var b = this.clone();
        a && (b = this.add(a.x, a.y));
        return b
    },
    CLASS_NAME: "OpenLayers.Pixel"
});
OpenLayers.Size = OpenLayers.Class({
    w: 0,
    h: 0,
    initialize: function (a, b) {
        this.w = parseFloat(a);
        this.h = parseFloat(b)
    },
    toString: function () {
        return "w=" + this.w + ",h=" + this.h
    },
    clone: function () {
        return new OpenLayers.Size(this.w, this.h)
    },
    equals: function (a) {
        var b = !1;
        null != a && (b = this.w == a.w && this.h == a.h || isNaN(this.w) && isNaN(this.h) && isNaN(a.w) && isNaN(a.h));
        return b
    },
    CLASS_NAME: "OpenLayers.Size"
});
OpenLayers.Console = {
    log: function () {},
    debug: function () {},
    info: function () {},
    warn: function () {},
    error: function () {},
    userError: function (a) {
        alert(a)
    },
    assert: function () {},
    dir: function () {},
    dirxml: function () {},
    trace: function () {},
    group: function () {},
    groupEnd: function () {},
    time: function () {},
    timeEnd: function () {},
    profile: function () {},
    profileEnd: function () {},
    count: function () {},
    CLASS_NAME: "OpenLayers.Console"
};
(function () {
    for (var a = document.getElementsByTagName("script"), b = 0, c = a.length; b < c; ++b)
        if (-1 != a[b].src.indexOf("firebug.js") && console) {
            OpenLayers.Util.extend(OpenLayers.Console, console);
            break
        }
})();
OpenLayers.Lang = {
    code: null,
    defaultCode: "en",
    getCode: function () {
        OpenLayers.Lang.code || OpenLayers.Lang.setCode();
        return OpenLayers.Lang.code
    },
    setCode: function (a) {
        var b;
        a || (a = "msie" == OpenLayers.BROWSER_NAME ? navigator.userLanguage : navigator.language);
        a = a.split("-");
        a[0] = a[0].toLowerCase();
        "object" == typeof OpenLayers.Lang[a[0]] && (b = a[0]);
        if (a[1]) {
            var c = a[0] + "-" + a[1].toUpperCase();
            "object" == typeof OpenLayers.Lang[c] && (b = c)
        }
        b || (OpenLayers.Console.warn("Failed to find OpenLayers.Lang." + a.join("-") + " dictionary, falling back to default language"),
            b = OpenLayers.Lang.defaultCode);
        OpenLayers.Lang.code = b
    },
    translate: function (a, b) {
        var c = OpenLayers.Lang[OpenLayers.Lang.getCode()];
        (c = c && c[a]) || (c = a);
        b && (c = OpenLayers.String.format(c, b));
        return c
    }
};
OpenLayers.i18n = OpenLayers.Lang.translate;
OpenLayers.Util = OpenLayers.Util || {};
OpenLayers.Util.getElement = function () {
    for (var a = [], b = 0, c = arguments.length; b < c; b++) {
        var d = arguments[b];
        "string" == typeof d && (d = document.getElementById(d));
        if (1 == arguments.length) return d;
        a.push(d)
    }
    return a
};
OpenLayers.Util.isElement = function (a) {
    return !(!a || 1 !== a.nodeType)
};
OpenLayers.Util.isArray = function (a) {
    return "[object Array]" === Object.prototype.toString.call(a)
};
OpenLayers.Util.removeItem = function (a, b) {
    for (var c = a.length - 1; 0 <= c; c--) a[c] == b && a.splice(c, 1);
    return a
};
OpenLayers.Util.indexOf = function (a, b) {
    if ("function" == typeof a.indexOf) return a.indexOf(b);
    for (var c = 0, d = a.length; c < d; c++)
        if (a[c] == b) return c;
    return -1
};
OpenLayers.Util.dotless = /\./g;
OpenLayers.Util.modifyDOMElement = function (a, b, c, d, e, f, g, h) {
    b && (a.id = b.replace(OpenLayers.Util.dotless, "_"));
    c && (a.style.left = c.x + "px", a.style.top = c.y + "px");
    d && (a.style.width = d.w + "px", a.style.height = d.h + "px");
    e && (a.style.position = e);
    f && (a.style.border = f);
    g && (a.style.overflow = g);
    0 <= parseFloat(h) && 1 > parseFloat(h) ? (a.style.filter = "alpha(opacity=" + 100 * h + ")", a.style.opacity = h) : 1 == parseFloat(h) && (a.style.filter = "", a.style.opacity = "")
};
OpenLayers.Util.createDiv = function (a, b, c, d, e, f, g, h) {
    var k = document.createElement("div");
    d && (k.style.backgroundImage = "url(" + d + ")");
    a || (a = OpenLayers.Util.createUniqueID("OpenLayersDiv"));
    e || (e = "absolute");
    OpenLayers.Util.modifyDOMElement(k, a, b, c, e, f, g, h);
    return k
};
OpenLayers.Util.createImage = function (a, b, c, d, e, f, g, h) {
    var k = document.createElement("img");
    a || (a = OpenLayers.Util.createUniqueID("OpenLayersDiv"));
    e || (e = "relative");
    OpenLayers.Util.modifyDOMElement(k, a, b, c, e, f, null, g);
    h && (k.style.display = "none", b = function () {
        k.style.display = "";
        OpenLayers.Event.stopObservingElement(k)
    }, OpenLayers.Event.observe(k, "load", b), OpenLayers.Event.observe(k, "error", b));
    k.style.alt = a;
    k.galleryImg = "no";
    d && (k.src = d);
    return k
};
OpenLayers.IMAGE_RELOAD_ATTEMPTS = 0;
OpenLayers.Util.alphaHackNeeded = null;
OpenLayers.Util.alphaHack = function () {
    if (null == OpenLayers.Util.alphaHackNeeded) {
        var a = navigator.appVersion.split("MSIE"),
            a = parseFloat(a[1]),
            b = !1;
        try {
            b = !!document.body.filters
        } catch (c) {}
        OpenLayers.Util.alphaHackNeeded = b && 5.5 <= a && 7 > a
    }
    return OpenLayers.Util.alphaHackNeeded
};
OpenLayers.Util.modifyAlphaImageDiv = function (a, b, c, d, e, f, g, h, k) {
    OpenLayers.Util.modifyDOMElement(a, b, c, d, f, null, null, k);
    b = a.childNodes[0];
    e && (b.src = e);
    OpenLayers.Util.modifyDOMElement(b, a.id + "_innerImage", null, d, "relative", g);
    OpenLayers.Util.alphaHack() && ("none" != a.style.display && (a.style.display = "inline-block"), null == h && (h = "scale"), a.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + b.src + "', sizingMethod='" + h + "')", 0 <= parseFloat(a.style.opacity) && 1 > parseFloat(a.style.opacity) &&
        (a.style.filter += " alpha(opacity=" + 100 * a.style.opacity + ")"), b.style.filter = "alpha(opacity=0)")
};
OpenLayers.Util.createAlphaImageDiv = function (a, b, c, d, e, f, g, h, k) {
    var l = OpenLayers.Util.createDiv();
    k = OpenLayers.Util.createImage(null, null, null, null, null, null, null, k);
    k.className = "olAlphaImg";
    l.appendChild(k);
    OpenLayers.Util.modifyAlphaImageDiv(l, a, b, c, d, e, f, g, h);
    return l
};
OpenLayers.Util.upperCaseObject = function (a) {
    var b = {},
        c;
    for (c in a) b[c.toUpperCase()] = a[c];
    return b
};
OpenLayers.Util.applyDefaults = function (a, b) {
    a = a || {};
    var c = "function" == typeof window.Event && b instanceof window.Event,
        d;
    for (d in b)
        if (void 0 === a[d] || !c && b.hasOwnProperty && b.hasOwnProperty(d) && !a.hasOwnProperty(d)) a[d] = b[d];
    !c && (b && b.hasOwnProperty && b.hasOwnProperty("toString") && !a.hasOwnProperty("toString")) && (a.toString = b.toString);
    return a
};
OpenLayers.Util.getParameterString = function (a) {
    var b = [],
        c;
    for (c in a) {
        var d = a[c];
        if (null != d && "function" != typeof d) {
            if ("object" == typeof d && d.constructor == Array) {
                for (var e = [], f, g = 0, h = d.length; g < h; g++) f = d[g], e.push(encodeURIComponent(null === f || void 0 === f ? "" : f));
                d = e.join(",")
            } else d = encodeURIComponent(d);
            b.push(encodeURIComponent(c) + "=" + d)
        }
    }
    return b.join("&")
};
OpenLayers.Util.urlAppend = function (a, b) {
    var c = a;
    if (b) var d = (a + " ").split(/[?&]/),
        c = c + (" " === d.pop() ? b : d.length ? "&" + b : "?" + b);
    return c
};
OpenLayers.Util.getImagesLocation = function () {
    return OpenLayers.ImgPath || OpenLayers._getScriptLocation() + "img/"
};
OpenLayers.Util.getImageLocation = function (a) {
    return OpenLayers.Util.getImagesLocation() + a
};
OpenLayers.Util.Try = function () {
    for (var a = null, b = 0, c = arguments.length; b < c; b++) {
        var d = arguments[b];
        try {
            a = d();
            break
        } catch (e) {}
    }
    return a
};
OpenLayers.Util.getXmlNodeValue = function (a) {
    var b = null;
    OpenLayers.Util.Try(function () {
        b = a.text;
        b || (b = a.textContent);
        b || (b = a.firstChild.nodeValue)
    }, function () {
        b = a.textContent
    });
    return b
};
OpenLayers.Util.mouseLeft = function (a, b) {
    for (var c = a.relatedTarget ? a.relatedTarget : a.toElement; c != b && null != c;) c = c.parentNode;
    return c != b
};
OpenLayers.Util.DEFAULT_PRECISION = 14;
OpenLayers.Util.toFloat = function (a, b) {
    null == b && (b = OpenLayers.Util.DEFAULT_PRECISION);
    "number" !== typeof a && (a = parseFloat(a));
    return 0 === b ? a : parseFloat(a.toPrecision(b))
};
OpenLayers.Util.rad = function (a) {
    return a * Math.PI / 180
};
OpenLayers.Util.deg = function (a) {
    return 180 * a / Math.PI
};
OpenLayers.Util.VincentyConstants = {
    a: 6378137,
    b: 6356752.3142,
    f: 1 / 298.257223563
};
OpenLayers.Util.distVincenty = function (a, b) {
    for (var c = OpenLayers.Util.VincentyConstants, d = c.a, e = c.b, c = c.f, f = OpenLayers.Util.rad(b.lon - a.lon), g = Math.atan((1 - c) * Math.tan(OpenLayers.Util.rad(a.lat))), h = Math.atan((1 - c) * Math.tan(OpenLayers.Util.rad(b.lat))), k = Math.sin(g), g = Math.cos(g), l = Math.sin(h), h = Math.cos(h), m = f, n = 2 * Math.PI, p = 20; 1E-12 < Math.abs(m - n) && 0 < --p;) {
        var q = Math.sin(m),
            r = Math.cos(m),
            s = Math.sqrt(h * q * h * q + (g * l - k * h * r) * (g * l - k * h * r));
        if (0 == s) return 0;
        var r = k * l + g * h * r,
            t = Math.atan2(s, r),
            u = Math.asin(g * h *
                q / s),
            v = Math.cos(u) * Math.cos(u),
            q = r - 2 * k * l / v,
            w = c / 16 * v * (4 + c * (4 - 3 * v)),
            n = m,
            m = f + (1 - w) * c * Math.sin(u) * (t + w * s * (q + w * r * (-1 + 2 * q * q)))
    }
    if (0 == p) return NaN;
    d = v * (d * d - e * e) / (e * e);
    c = d / 1024 * (256 + d * (-128 + d * (74 - 47 * d)));
    return (e * (1 + d / 16384 * (4096 + d * (-768 + d * (320 - 175 * d)))) * (t - c * s * (q + c / 4 * (r * (-1 + 2 * q * q) - c / 6 * q * (-3 + 4 * s * s) * (-3 + 4 * q * q))))).toFixed(3) / 1E3
};
OpenLayers.Util.destinationVincenty = function (a, b, c) {
    var d = OpenLayers.Util,
        e = d.VincentyConstants,
        f = e.a,
        g = e.b,
        h = e.f,
        e = a.lon;
    a = a.lat;
    var k = d.rad(b);
    b = Math.sin(k);
    k = Math.cos(k);
    a = (1 - h) * Math.tan(d.rad(a));
    var l = 1 / Math.sqrt(1 + a * a),
        m = a * l,
        n = Math.atan2(a, k);
    a = l * b;
    for (var p = 1 - a * a, f = p * (f * f - g * g) / (g * g), q = 1 + f / 16384 * (4096 + f * (-768 + f * (320 - 175 * f))), r = f / 1024 * (256 + f * (-128 + f * (74 - 47 * f))), f = c / (g * q), s = 2 * Math.PI; 1E-12 < Math.abs(f - s);) var t = Math.cos(2 * n + f),
        u = Math.sin(f),
        v = Math.cos(f),
        w = r * u * (t + r / 4 * (v * (-1 + 2 * t * t) - r / 6 * t * (-3 + 4 *
            u * u) * (-3 + 4 * t * t))),
        s = f,
        f = c / (g * q) + w;
    c = m * u - l * v * k;
    g = Math.atan2(m * v + l * u * k, (1 - h) * Math.sqrt(a * a + c * c));
    b = Math.atan2(u * b, l * v - m * u * k);
    k = h / 16 * p * (4 + h * (4 - 3 * p));
    t = b - (1 - k) * h * a * (f + k * u * (t + k * v * (-1 + 2 * t * t)));
    Math.atan2(a, -c);
    return new OpenLayers.LonLat(e + d.deg(t), d.deg(g))
};
OpenLayers.Util.getParameters = function (a, b) {
    b = b || {};
    a = null === a || void 0 === a ? window.location.href : a;
    var c = "";
    if (OpenLayers.String.contains(a, "?")) var d = a.indexOf("?") + 1,
        c = OpenLayers.String.contains(a, "#") ? a.indexOf("#") : a.length,
        c = a.substring(d, c);
    for (var d = {}, c = c.split(/[&;]/), e = 0, f = c.length; e < f; ++e) {
        var g = c[e].split("=");
        if (g[0]) {
            var h = g[0];
            try {
                h = decodeURIComponent(h)
            } catch (k) {
                h = unescape(h)
            }
            g = (g[1] || "").replace(/\+/g, " ");
            try {
                g = decodeURIComponent(g)
            } catch (l) {
                g = unescape(g)
            }!1 !== b.splitArgs && (g = g.split(","));
            1 == g.length && (g = g[0]);
            d[h] = g
        }
    }
    return d
};
OpenLayers.Util.lastSeqID = 0;
OpenLayers.Util.createUniqueID = function (a) {
    a = null == a ? "id_" : a.replace(OpenLayers.Util.dotless, "_");
    OpenLayers.Util.lastSeqID += 1;
    return a + OpenLayers.Util.lastSeqID
};
OpenLayers.INCHES_PER_UNIT = {
    inches: 1,
    ft: 12,
    mi: 63360,
    m: 39.37,
    km: 39370,
    dd: 4374754,
    yd: 36
};
OpenLayers.INCHES_PER_UNIT["in"] = OpenLayers.INCHES_PER_UNIT.inches;
OpenLayers.INCHES_PER_UNIT.degrees = OpenLayers.INCHES_PER_UNIT.dd;
OpenLayers.INCHES_PER_UNIT.nmi = 1852 * OpenLayers.INCHES_PER_UNIT.m;
OpenLayers.METERS_PER_INCH = 0.0254000508001016;
OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT, {
    Inch: OpenLayers.INCHES_PER_UNIT.inches,
    Meter: 1 / OpenLayers.METERS_PER_INCH,
    Foot: 0.3048006096012192 / OpenLayers.METERS_PER_INCH,
    IFoot: 0.3048 / OpenLayers.METERS_PER_INCH,
    ClarkeFoot: 0.3047972651151 / OpenLayers.METERS_PER_INCH,
    SearsFoot: 0.30479947153867626 / OpenLayers.METERS_PER_INCH,
    GoldCoastFoot: 0.3047997101815088 / OpenLayers.METERS_PER_INCH,
    IInch: 0.0254 / OpenLayers.METERS_PER_INCH,
    MicroInch: 2.54E-5 / OpenLayers.METERS_PER_INCH,
    Mil: 2.54E-8 / OpenLayers.METERS_PER_INCH,
    Centimeter: 0.01 / OpenLayers.METERS_PER_INCH,
    Kilometer: 1E3 / OpenLayers.METERS_PER_INCH,
    Yard: 0.9144018288036576 / OpenLayers.METERS_PER_INCH,
    SearsYard: 0.914398414616029 / OpenLayers.METERS_PER_INCH,
    IndianYard: 0.9143985307444408 / OpenLayers.METERS_PER_INCH,
    IndianYd37: 0.91439523 / OpenLayers.METERS_PER_INCH,
    IndianYd62: 0.9143988 / OpenLayers.METERS_PER_INCH,
    IndianYd75: 0.9143985 / OpenLayers.METERS_PER_INCH,
    IndianFoot: 0.30479951 / OpenLayers.METERS_PER_INCH,
    IndianFt37: 0.30479841 / OpenLayers.METERS_PER_INCH,
    IndianFt62: 0.3047996 /
        OpenLayers.METERS_PER_INCH,
    IndianFt75: 0.3047995 / OpenLayers.METERS_PER_INCH,
    Mile: 1609.3472186944373 / OpenLayers.METERS_PER_INCH,
    IYard: 0.9144 / OpenLayers.METERS_PER_INCH,
    IMile: 1609.344 / OpenLayers.METERS_PER_INCH,
    NautM: 1852 / OpenLayers.METERS_PER_INCH,
    "Lat-66": 110943.31648893273 / OpenLayers.METERS_PER_INCH,
    "Lat-83": 110946.25736872235 / OpenLayers.METERS_PER_INCH,
    Decimeter: 0.1 / OpenLayers.METERS_PER_INCH,
    Millimeter: 0.001 / OpenLayers.METERS_PER_INCH,
    Dekameter: 10 / OpenLayers.METERS_PER_INCH,
    Decameter: 10 / OpenLayers.METERS_PER_INCH,
    Hectometer: 100 / OpenLayers.METERS_PER_INCH,
    GermanMeter: 1.0000135965 / OpenLayers.METERS_PER_INCH,
    CaGrid: 0.999738 / OpenLayers.METERS_PER_INCH,
    ClarkeChain: 20.1166194976 / OpenLayers.METERS_PER_INCH,
    GunterChain: 20.11684023368047 / OpenLayers.METERS_PER_INCH,
    BenoitChain: 20.116782494375872 / OpenLayers.METERS_PER_INCH,
    SearsChain: 20.11676512155 / OpenLayers.METERS_PER_INCH,
    ClarkeLink: 0.201166194976 / OpenLayers.METERS_PER_INCH,
    GunterLink: 0.2011684023368047 / OpenLayers.METERS_PER_INCH,
    BenoitLink: 0.20116782494375873 / OpenLayers.METERS_PER_INCH,
    SearsLink: 0.2011676512155 / OpenLayers.METERS_PER_INCH,
    Rod: 5.02921005842012 / OpenLayers.METERS_PER_INCH,
    IntnlChain: 20.1168 / OpenLayers.METERS_PER_INCH,
    IntnlLink: 0.201168 / OpenLayers.METERS_PER_INCH,
    Perch: 5.02921005842012 / OpenLayers.METERS_PER_INCH,
    Pole: 5.02921005842012 / OpenLayers.METERS_PER_INCH,
    Furlong: 201.1684023368046 / OpenLayers.METERS_PER_INCH,
    Rood: 3.778266898 / OpenLayers.METERS_PER_INCH,
    CapeFoot: 0.3047972615 / OpenLayers.METERS_PER_INCH,
    Brealey: 375 / OpenLayers.METERS_PER_INCH,
    ModAmFt: 0.304812252984506 /
        OpenLayers.METERS_PER_INCH,
    Fathom: 1.8288 / OpenLayers.METERS_PER_INCH,
    "NautM-UK": 1853.184 / OpenLayers.METERS_PER_INCH,
    "50kilometers": 5E4 / OpenLayers.METERS_PER_INCH,
    "150kilometers": 15E4 / OpenLayers.METERS_PER_INCH
});
OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT, {
    mm: OpenLayers.INCHES_PER_UNIT.Meter / 1E3,
    cm: OpenLayers.INCHES_PER_UNIT.Meter / 100,
    dm: 100 * OpenLayers.INCHES_PER_UNIT.Meter,
    km: 1E3 * OpenLayers.INCHES_PER_UNIT.Meter,
    kmi: OpenLayers.INCHES_PER_UNIT.nmi,
    fath: OpenLayers.INCHES_PER_UNIT.Fathom,
    ch: OpenLayers.INCHES_PER_UNIT.IntnlChain,
    link: OpenLayers.INCHES_PER_UNIT.IntnlLink,
    "us-in": OpenLayers.INCHES_PER_UNIT.inches,
    "us-ft": OpenLayers.INCHES_PER_UNIT.Foot,
    "us-yd": OpenLayers.INCHES_PER_UNIT.Yard,
    "us-ch": OpenLayers.INCHES_PER_UNIT.GunterChain,
    "us-mi": OpenLayers.INCHES_PER_UNIT.Mile,
    "ind-yd": OpenLayers.INCHES_PER_UNIT.IndianYd37,
    "ind-ft": OpenLayers.INCHES_PER_UNIT.IndianFt37,
    "ind-ch": 20.11669506 / OpenLayers.METERS_PER_INCH
});
OpenLayers.DOTS_PER_INCH = 72;
OpenLayers.Util.normalizeScale = function (a) {
    return 1 < a ? 1 / a : a
};
OpenLayers.Util.getResolutionFromScale = function (a, b) {
    var c;
    a && (null == b && (b = "degrees"), c = 1 / (OpenLayers.Util.normalizeScale(a) * OpenLayers.INCHES_PER_UNIT[b] * OpenLayers.DOTS_PER_INCH));
    return c
};
OpenLayers.Util.getScaleFromResolution = function (a, b) {
    null == b && (b = "degrees");
    return a * OpenLayers.INCHES_PER_UNIT[b] * OpenLayers.DOTS_PER_INCH
};
OpenLayers.Util.pagePosition = function (a) {
    var b = [0, 0],
        c = OpenLayers.Util.getViewportElement();
    if (!a || a == window || a == c) return b;
    var d = OpenLayers.IS_GECKO && document.getBoxObjectFor && "absolute" == OpenLayers.Element.getStyle(a, "position") && ("" == a.style.top || "" == a.style.left),
        e = null;
    if (a.getBoundingClientRect) a = a.getBoundingClientRect(), e = window.pageYOffset || c.scrollTop, b[0] = a.left + (window.pageXOffset || c.scrollLeft), b[1] = a.top + e;
    else if (document.getBoxObjectFor && !d) a = document.getBoxObjectFor(a), c = document.getBoxObjectFor(c),
        b[0] = a.screenX - c.screenX, b[1] = a.screenY - c.screenY;
    else {
        b[0] = a.offsetLeft;
        b[1] = a.offsetTop;
        e = a.offsetParent;
        if (e != a)
            for (; e;) b[0] += e.offsetLeft, b[1] += e.offsetTop, e = e.offsetParent;
        c = OpenLayers.BROWSER_NAME;
        if ("opera" == c || "safari" == c && "absolute" == OpenLayers.Element.getStyle(a, "position")) b[1] -= document.body.offsetTop;
        for (e = a.offsetParent; e && e != document.body;) {
            b[0] -= e.scrollLeft;
            if ("opera" != c || "TR" != e.tagName) b[1] -= e.scrollTop;
            e = e.offsetParent
        }
    }
    return b
};
OpenLayers.Util.getViewportElement = function () {
    var a = arguments.callee.viewportElement;
    void 0 == a && (a = "msie" == OpenLayers.BROWSER_NAME && "CSS1Compat" != document.compatMode ? document.body : document.documentElement, arguments.callee.viewportElement = a);
    return a
};
OpenLayers.Util.isEquivalentUrl = function (a, b, c) {
    c = c || {};
    OpenLayers.Util.applyDefaults(c, {
        ignoreCase: !0,
        ignorePort80: !0,
        ignoreHash: !0,
        splitArgs: !1
    });
    a = OpenLayers.Util.createUrlObject(a, c);
    b = OpenLayers.Util.createUrlObject(b, c);
    for (var d in a)
        if ("args" !== d && a[d] != b[d]) return !1;
    for (d in a.args) {
        if (a.args[d] != b.args[d]) return !1;
        delete b.args[d]
    }
    for (d in b.args) return !1;
    return !0
};
OpenLayers.Util.createUrlObject = function (a, b) {
    b = b || {};
    if (!/^\w+:\/\//.test(a)) {
        var c = window.location,
            d = c.port ? ":" + c.port : "",
            d = c.protocol + "//" + c.host.split(":").shift() + d;
        0 === a.indexOf("/") ? a = d + a : (c = c.pathname.split("/"), c.pop(), a = d + c.join("/") + "/" + a)
    }
    b.ignoreCase && (a = a.toLowerCase());
    c = document.createElement("a");
    c.href = a;
    d = {};
    d.host = c.host.split(":").shift();
    d.protocol = c.protocol;
    d.port = b.ignorePort80 ? "80" == c.port || "0" == c.port ? "" : c.port : "" == c.port || "0" == c.port ? "80" : c.port;
    d.hash = b.ignoreHash || "#" ===
        c.hash ? "" : c.hash;
    var e = c.search;
    e || (e = a.indexOf("?"), e = -1 != e ? a.substr(e) : "");
    d.args = OpenLayers.Util.getParameters(e, {
        splitArgs: b.splitArgs
    });
    d.pathname = "/" == c.pathname.charAt(0) ? c.pathname : "/" + c.pathname;
    return d
};
OpenLayers.Util.removeTail = function (a) {
    var b = null,
        b = a.indexOf("?"),
        c = a.indexOf("#");
    return b = -1 == b ? -1 != c ? a.substr(0, c) : a : -1 != c ? a.substr(0, Math.min(b, c)) : a.substr(0, b)
};
OpenLayers.IS_GECKO = function () {
    var a = navigator.userAgent.toLowerCase();
    return -1 == a.indexOf("webkit") && -1 != a.indexOf("gecko")
}();
OpenLayers.CANVAS_SUPPORTED = function () {
    var a = document.createElement("canvas");
    return !(!a.getContext || !a.getContext("2d"))
}();
OpenLayers.BROWSER_NAME = function () {
    var a = "",
        b = navigator.userAgent.toLowerCase(); - 1 != b.indexOf("opera") ? a = "opera" : -1 != b.indexOf("msie") ? a = "msie" : -1 != b.indexOf("safari") ? a = "safari" : -1 != b.indexOf("mozilla") && (a = -1 != b.indexOf("firefox") ? "firefox" : "mozilla");
    return a
}();
OpenLayers.Util.getBrowserName = function () {
    return OpenLayers.BROWSER_NAME
};
OpenLayers.Util.getRenderedDimensions = function (a, b, c) {
    var d, e, f = document.createElement("div");
    f.style.visibility = "hidden";
    for (var g = c && c.containerElement ? c.containerElement : document.body, h = !1, k = null, l = g; l && "body" != l.tagName.toLowerCase();) {
        var m = OpenLayers.Element.getStyle(l, "position");
        if ("absolute" == m) {
            h = !0;
            break
        } else if (m && "static" != m) break;
        l = l.parentNode
    }!h || 0 !== g.clientHeight && 0 !== g.clientWidth || (k = document.createElement("div"), k.style.visibility = "hidden", k.style.position = "absolute", k.style.overflow =
        "visible", k.style.width = document.body.clientWidth + "px", k.style.height = document.body.clientHeight + "px", k.appendChild(f));
    f.style.position = "absolute";
    b && (b.w ? (d = b.w, f.style.width = d + "px") : b.h && (e = b.h, f.style.height = e + "px"));
    c && c.displayClass && (f.className = c.displayClass);
    b = document.createElement("div");
    b.innerHTML = a;
    b.style.overflow = "visible";
    if (b.childNodes)
        for (a = 0, c = b.childNodes.length; a < c; a++) b.childNodes[a].style && (b.childNodes[a].style.overflow = "visible");
    f.appendChild(b);
    k ? g.appendChild(k) : g.appendChild(f);
    d || (d = parseInt(b.scrollWidth), f.style.width = d + "px");
    e || (e = parseInt(b.scrollHeight));
    f.removeChild(b);
    k ? (k.removeChild(f), g.removeChild(k)) : g.removeChild(f);
    return new OpenLayers.Size(d, e)
};
OpenLayers.Util.getScrollbarWidth = function () {
    var a = OpenLayers.Util._scrollbarWidth;
    if (null == a) {
        var b = null,
            c = null,
            b = a = 0,
            b = document.createElement("div");
        b.style.position = "absolute";
        b.style.top = "-1000px";
        b.style.left = "-1000px";
        b.style.width = "100px";
        b.style.height = "50px";
        b.style.overflow = "hidden";
        c = document.createElement("div");
        c.style.width = "100%";
        c.style.height = "200px";
        b.appendChild(c);
        document.body.appendChild(b);
        a = c.offsetWidth;
        b.style.overflow = "scroll";
        b = c.offsetWidth;
        document.body.removeChild(document.body.lastChild);
        OpenLayers.Util._scrollbarWidth = a - b;
        a = OpenLayers.Util._scrollbarWidth
    }
    return a
};
OpenLayers.Util.getFormattedLonLat = function (a, b, c) {
    c || (c = "dms");
    a = (a + 540) % 360 - 180;
    var d = Math.abs(a),
        e = Math.floor(d),
        f = d = (d - e) / (1 / 60),
        d = Math.floor(d),
        f = Math.round(10 * ((f - d) / (1 / 60))),
        f = f / 10;
    60 <= f && (f -= 60, d += 1, 60 <= d && (d -= 60, e += 1));
    10 > e && (e = "0" + e);
    e += "\u00b0";
    0 <= c.indexOf("dm") && (10 > d && (d = "0" + d), e += d + "'", 0 <= c.indexOf("dms") && (10 > f && (f = "0" + f), e += f + '"'));
    return e = "lon" == b ? e + (0 > a ? OpenLayers.i18n("W") : OpenLayers.i18n("E")) : e + (0 > a ? OpenLayers.i18n("S") : OpenLayers.i18n("N"))
};
OpenLayers.Format = OpenLayers.Class({
    options: null,
    externalProjection: null,
    internalProjection: null,
    data: null,
    keepData: !1,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.options = a
    },
    destroy: function () {},
    read: function (a) {
        throw Error("Read not implemented.");
    },
    write: function (a) {
        throw Error("Write not implemented.");
    },
    CLASS_NAME: "OpenLayers.Format"
});
OpenLayers.Format.CSWGetRecords = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Format.CSWGetRecords.DEFAULTS);
    var b = OpenLayers.Format.CSWGetRecords["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported CSWGetRecords version: " + a.version;
    return new b(a)
};
OpenLayers.Format.CSWGetRecords.DEFAULTS = {
    version: "2.0.2"
};
OpenLayers.Control = OpenLayers.Class({
    id: null,
    map: null,
    div: null,
    type: null,
    allowSelection: !1,
    displayClass: "",
    title: "",
    autoActivate: !1,
    active: null,
    handlerOptions: null,
    handler: null,
    eventListeners: null,
    events: null,
    initialize: function (a) {
        this.displayClass = this.CLASS_NAME.replace("OpenLayers.", "ol").replace(/\./g, "");
        OpenLayers.Util.extend(this, a);
        this.events = new OpenLayers.Events(this);
        if (this.eventListeners instanceof Object) this.events.on(this.eventListeners);
        null == this.id && (this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME +
            "_"))
    },
    destroy: function () {
        this.events && (this.eventListeners && this.events.un(this.eventListeners), this.events.destroy(), this.events = null);
        this.eventListeners = null;
        this.handler && (this.handler.destroy(), this.handler = null);
        if (this.handlers) {
            for (var a in this.handlers) this.handlers.hasOwnProperty(a) && "function" == typeof this.handlers[a].destroy && this.handlers[a].destroy();
            this.handlers = null
        }
        this.map && (this.map.removeControl(this), this.map = null);
        this.div = null
    },
    setMap: function (a) {
        this.map = a;
        this.handler &&
            this.handler.setMap(a)
    },
    draw: function (a) {
        null == this.div && (this.div = OpenLayers.Util.createDiv(this.id), this.div.className = this.displayClass, this.allowSelection || (this.div.className += " olControlNoSelect", this.div.setAttribute("unselectable", "on", 0), this.div.onselectstart = OpenLayers.Function.False), "" != this.title && (this.div.title = this.title));
        null != a && (this.position = a.clone());
        this.moveTo(this.position);
        return this.div
    },
    moveTo: function (a) {
        null != a && null != this.div && (this.div.style.left = a.x + "px", this.div.style.top =
            a.y + "px")
    },
    activate: function () {
        if (this.active) return !1;
        this.handler && this.handler.activate();
        this.active = !0;
        this.map && OpenLayers.Element.addClass(this.map.viewPortDiv, this.displayClass.replace(/ /g, "") + "Active");
        this.events.triggerEvent("activate");
        return !0
    },
    deactivate: function () {
        return this.active ? (this.handler && this.handler.deactivate(), this.active = !1, this.map && OpenLayers.Element.removeClass(this.map.viewPortDiv, this.displayClass.replace(/ /g, "") + "Active"), this.events.triggerEvent("deactivate"),
            !0) : !1
    },
    CLASS_NAME: "OpenLayers.Control"
});
OpenLayers.Control.TYPE_BUTTON = 1;
OpenLayers.Control.TYPE_TOGGLE = 2;
OpenLayers.Control.TYPE_TOOL = 3;
OpenLayers.Event = {
    observers: !1,
    KEY_SPACE: 32,
    KEY_BACKSPACE: 8,
    KEY_TAB: 9,
    KEY_RETURN: 13,
    KEY_ESC: 27,
    KEY_LEFT: 37,
    KEY_UP: 38,
    KEY_RIGHT: 39,
    KEY_DOWN: 40,
    KEY_DELETE: 46,
    element: function (a) {
        return a.target || a.srcElement
    },
    isSingleTouch: function (a) {
        return a.touches && 1 == a.touches.length
    },
    isMultiTouch: function (a) {
        return a.touches && 1 < a.touches.length
    },
    isLeftClick: function (a) {
        return a.which && 1 == a.which || a.button && 1 == a.button
    },
    isRightClick: function (a) {
        return a.which && 3 == a.which || a.button && 2 == a.button
    },
    stop: function (a,
        b) {
        b || OpenLayers.Event.preventDefault(a);
        a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
    },
    preventDefault: function (a) {
        a.preventDefault ? a.preventDefault() : a.returnValue = !1
    },
    findElement: function (a, b) {
        for (var c = OpenLayers.Event.element(a); c.parentNode && (!c.tagName || c.tagName.toUpperCase() != b.toUpperCase());) c = c.parentNode;
        return c
    },
    observe: function (a, b, c, d) {
        a = OpenLayers.Util.getElement(a);
        d = d || !1;
        "keypress" == b && (navigator.appVersion.match(/Konqueror|Safari|KHTML/) || a.attachEvent) && (b = "keydown");
        this.observers || (this.observers = {});
        if (!a._eventCacheID) {
            var e = "eventCacheID_";
            a.id && (e = a.id + "_" + e);
            a._eventCacheID = OpenLayers.Util.createUniqueID(e)
        }
        e = a._eventCacheID;
        this.observers[e] || (this.observers[e] = []);
        this.observers[e].push({
            element: a,
            name: b,
            observer: c,
            useCapture: d
        });
        a.addEventListener ? a.addEventListener(b, c, d) : a.attachEvent && a.attachEvent("on" + b, c)
    },
    stopObservingElement: function (a) {
        a = OpenLayers.Util.getElement(a)._eventCacheID;
        this._removeElementObservers(OpenLayers.Event.observers[a])
    },
    _removeElementObservers: function (a) {
        if (a)
            for (var b = a.length - 1; 0 <= b; b--) {
                var c = a[b];
                OpenLayers.Event.stopObserving.apply(this, [c.element, c.name, c.observer, c.useCapture])
            }
    },
    stopObserving: function (a, b, c, d) {
        d = d || !1;
        a = OpenLayers.Util.getElement(a);
        var e = a._eventCacheID;
        "keypress" == b && (navigator.appVersion.match(/Konqueror|Safari|KHTML/) || a.detachEvent) && (b = "keydown");
        var f = !1,
            g = OpenLayers.Event.observers[e];
        if (g)
            for (var h = 0; !f && h < g.length;) {
                var k = g[h];
                if (k.name == b && k.observer == c && k.useCapture == d) {
                    g.splice(h,
                        1);
                    0 == g.length && delete OpenLayers.Event.observers[e];
                    f = !0;
                    break
                }
                h++
            }
        f && (a.removeEventListener ? a.removeEventListener(b, c, d) : a && a.detachEvent && a.detachEvent("on" + b, c));
        return f
    },
    unloadCache: function () {
        if (OpenLayers.Event && OpenLayers.Event.observers) {
            for (var a in OpenLayers.Event.observers) OpenLayers.Event._removeElementObservers.apply(this, [OpenLayers.Event.observers[a]]);
            OpenLayers.Event.observers = !1
        }
    },
    CLASS_NAME: "OpenLayers.Event"
};
OpenLayers.Event.observe(window, "unload", OpenLayers.Event.unloadCache, !1);
OpenLayers.Events = OpenLayers.Class({
    BROWSER_EVENTS: "mouseover mouseout mousedown mouseup mousemove click dblclick rightclick dblrightclick resize focus blur touchstart touchmove touchend keydown".split(" "),
    listeners: null,
    object: null,
    element: null,
    eventHandler: null,
    fallThrough: null,
    includeXY: !1,
    extensions: null,
    extensionCount: null,
    clearMouseListener: null,
    initialize: function (a, b, c, d, e) {
        OpenLayers.Util.extend(this, e);
        this.object = a;
        this.fallThrough = d;
        this.listeners = {};
        this.extensions = {};
        this.extensionCount = {};
        this._msTouches = [];
        null != b && this.attachToElement(b)
    },
    destroy: function () {
        for (var a in this.extensions) "boolean" !== typeof this.extensions[a] && this.extensions[a].destroy();
        this.extensions = null;
        this.element && (OpenLayers.Event.stopObservingElement(this.element), this.element.hasScrollEvent && OpenLayers.Event.stopObserving(window, "scroll", this.clearMouseListener));
        this.eventHandler = this.fallThrough = this.object = this.listeners = this.element = null
    },
    addEventType: function (a) {},
    attachToElement: function (a) {
        this.element ?
            OpenLayers.Event.stopObservingElement(this.element) : (this.eventHandler = OpenLayers.Function.bindAsEventListener(this.handleBrowserEvent, this), this.clearMouseListener = OpenLayers.Function.bind(this.clearMouseCache, this));
        this.element = a;
        for (var b = !!window.navigator.msMaxTouchPoints, c, d = 0, e = this.BROWSER_EVENTS.length; d < e; d++) c = this.BROWSER_EVENTS[d], OpenLayers.Event.observe(a, c, this.eventHandler), b && 0 === c.indexOf("touch") && this.addMsTouchListener(a, c, this.eventHandler);
        OpenLayers.Event.observe(a, "dragstart",
            OpenLayers.Event.stop)
    },
    on: function (a) {
        for (var b in a) "scope" != b && a.hasOwnProperty(b) && this.register(b, a.scope, a[b])
    },
    register: function (a, b, c, d) {
        a in OpenLayers.Events && !this.extensions[a] && (this.extensions[a] = new OpenLayers.Events[a](this));
        if (null != c) {
            null == b && (b = this.object);
            var e = this.listeners[a];
            e || (e = [], this.listeners[a] = e, this.extensionCount[a] = 0);
            b = {
                obj: b,
                func: c
            };
            d ? (e.splice(this.extensionCount[a], 0, b), "object" === typeof d && d.extension && this.extensionCount[a]++) : e.push(b)
        }
    },
    registerPriority: function (a,
        b, c) {
        this.register(a, b, c, !0)
    },
    un: function (a) {
        for (var b in a) "scope" != b && a.hasOwnProperty(b) && this.unregister(b, a.scope, a[b])
    },
    unregister: function (a, b, c) {
        null == b && (b = this.object);
        a = this.listeners[a];
        if (null != a)
            for (var d = 0, e = a.length; d < e; d++)
                if (a[d].obj == b && a[d].func == c) {
                    a.splice(d, 1);
                    break
                }
    },
    remove: function (a) {
        null != this.listeners[a] && (this.listeners[a] = [])
    },
    triggerEvent: function (a, b) {
        var c = this.listeners[a];
        if (c && 0 != c.length) {
            null == b && (b = {});
            b.object = this.object;
            b.element = this.element;
            b.type || (b.type =
                a);
            for (var c = c.slice(), d, e = 0, f = c.length; e < f && (d = c[e], d = d.func.apply(d.obj, [b]), void 0 == d || !1 != d); e++);
            this.fallThrough || OpenLayers.Event.stop(b, !0);
            return d
        }
    },
    handleBrowserEvent: function (a) {
        var b = a.type,
            c = this.listeners[b];
        if (c && 0 != c.length) {
            if ((c = a.touches) && c[0]) {
                for (var d = 0, e = 0, f = c.length, g, h = 0; h < f; ++h) g = this.getTouchClientXY(c[h]), d += g.clientX, e += g.clientY;
                a.clientX = d / f;
                a.clientY = e / f
            }
            this.includeXY && (a.xy = this.getMousePosition(a));
            this.triggerEvent(b, a)
        }
    },
    getTouchClientXY: function (a) {
        var b = window.olMockWin ||
            window,
            c = b.pageXOffset,
            b = b.pageYOffset,
            d = a.clientX,
            e = a.clientY;
        if (0 === a.pageY && Math.floor(e) > Math.floor(a.pageY) || 0 === a.pageX && Math.floor(d) > Math.floor(a.pageX)) d -= c, e -= b;
        else if (e < a.pageY - b || d < a.pageX - c) d = a.pageX - c, e = a.pageY - b;
        a.olClientX = d;
        a.olClientY = e;
        return {
            clientX: d,
            clientY: e
        }
    },
    clearMouseCache: function () {
        this.element.scrolls = null;
        this.element.lefttop = null;
        this.element.offsets = null
    },
    getMousePosition: function (a) {
        this.includeXY ? this.element.hasScrollEvent || (OpenLayers.Event.observe(window, "scroll",
            this.clearMouseListener), this.element.hasScrollEvent = !0) : this.clearMouseCache();
        if (!this.element.scrolls) {
            var b = OpenLayers.Util.getViewportElement();
            this.element.scrolls = [window.pageXOffset || b.scrollLeft, window.pageYOffset || b.scrollTop]
        }
        this.element.lefttop || (this.element.lefttop = [document.documentElement.clientLeft || 0, document.documentElement.clientTop || 0]);
        this.element.offsets || (this.element.offsets = OpenLayers.Util.pagePosition(this.element));
        return new OpenLayers.Pixel(a.clientX + this.element.scrolls[0] -
            this.element.offsets[0] - this.element.lefttop[0], a.clientY + this.element.scrolls[1] - this.element.offsets[1] - this.element.lefttop[1])
    },
    addMsTouchListener: function (a, b, c) {
        function d(a) {
            c(OpenLayers.Util.applyDefaults({
                stopPropagation: function () {
                    for (var a = e.length - 1; 0 <= a; --a) e[a].stopPropagation()
                },
                preventDefault: function () {
                    for (var a = e.length - 1; 0 <= a; --a) e[a].preventDefault()
                },
                type: b
            }, a))
        }
        var e = this._msTouches;
        switch (b) {
            case "touchstart":
                return this.addMsTouchListenerStart(a, b, d);
            case "touchend":
                return this.addMsTouchListenerEnd(a,
                    b, d);
            case "touchmove":
                return this.addMsTouchListenerMove(a, b, d);
            default:
                throw "Unknown touch event type";
        }
    },
    addMsTouchListenerStart: function (a, b, c) {
        var d = this._msTouches;
        OpenLayers.Event.observe(a, "MSPointerDown", function (a) {
            for (var b = !1, g = 0, h = d.length; g < h; ++g)
                if (d[g].pointerId == a.pointerId) {
                    b = !0;
                    break
                } b || d.push(a);
            a.touches = d.slice();
            c(a)
        });
        OpenLayers.Event.observe(a, "MSPointerUp", function (a) {
            for (var b = 0, c = d.length; b < c; ++b)
                if (d[b].pointerId == a.pointerId) {
                    d.splice(b, 1);
                    break
                }
        })
    },
    addMsTouchListenerMove: function (a,
        b, c) {
        var d = this._msTouches;
        OpenLayers.Event.observe(a, "MSPointerMove", function (a) {
            if (a.pointerType != a.MSPOINTER_TYPE_MOUSE || 0 != a.buttons)
                if (1 != d.length || d[0].pageX != a.pageX || d[0].pageY != a.pageY) {
                    for (var b = 0, g = d.length; b < g; ++b)
                        if (d[b].pointerId == a.pointerId) {
                            d[b] = a;
                            break
                        } a.touches = d.slice();
                    c(a)
                }
        })
    },
    addMsTouchListenerEnd: function (a, b, c) {
        var d = this._msTouches;
        OpenLayers.Event.observe(a, "MSPointerUp", function (a) {
            for (var b = 0, g = d.length; b < g; ++b)
                if (d[b].pointerId == a.pointerId) {
                    d.splice(b, 1);
                    break
                } a.touches =
                d.slice();
            c(a)
        })
    },
    CLASS_NAME: "OpenLayers.Events"
});
OpenLayers.Events.buttonclick = OpenLayers.Class({
    target: null,
    events: "mousedown mouseup click dblclick touchstart touchmove touchend keydown".split(" "),
    startRegEx: /^mousedown|touchstart$/,
    cancelRegEx: /^touchmove$/,
    completeRegEx: /^mouseup|touchend$/,
    initialize: function (a) {
        this.target = a;
        for (a = this.events.length - 1; 0 <= a; --a) this.target.register(this.events[a], this, this.buttonClick, {
            extension: !0
        })
    },
    destroy: function () {
        for (var a = this.events.length - 1; 0 <= a; --a) this.target.unregister(this.events[a], this, this.buttonClick);
        delete this.target
    },
    getPressedButton: function (a) {
        var b = 3,
            c;
        do {
            if (OpenLayers.Element.hasClass(a, "olButton")) {
                c = a;
                break
            }
            a = a.parentNode
        } while (0 < --b && a);
        return c
    },
    ignore: function (a) {
        var b = 3,
            c = !1;
        do {
            if ("a" === a.nodeName.toLowerCase()) {
                c = !0;
                break
            }
            a = a.parentNode
        } while (0 < --b && a);
        return c
    },
    buttonClick: function (a) {
        var b = !0,
            c = OpenLayers.Event.element(a);
        if (c && (OpenLayers.Event.isLeftClick(a) || !~a.type.indexOf("mouse")))
            if (c = this.getPressedButton(c)) {
                if ("keydown" === a.type) switch (a.keyCode) {
                    case OpenLayers.Event.KEY_RETURN:
                    case OpenLayers.Event.KEY_SPACE:
                        this.target.triggerEvent("buttonclick", {
                            buttonElement: c
                        }), OpenLayers.Event.stop(a), b = !1
                } else if (this.startEvt) {
                    if (this.completeRegEx.test(a.type)) {
                        var b = OpenLayers.Util.pagePosition(c),
                            d = OpenLayers.Util.getViewportElement(),
                            e = window.pageYOffset || d.scrollTop;
                        b[0] -= window.pageXOffset || d.scrollLeft;
                        b[1] -= e;
                        this.target.triggerEvent("buttonclick", {
                            buttonElement: c,
                            buttonXY: {
                                x: this.startEvt.clientX - b[0],
                                y: this.startEvt.clientY - b[1]
                            }
                        })
                    }
                    this.cancelRegEx.test(a.type) && delete this.startEvt;
                    OpenLayers.Event.stop(a);
                    b = !1
                } this.startRegEx.test(a.type) &&
                    (this.startEvt = a, OpenLayers.Event.stop(a), b = !1)
            } else b = !this.ignore(OpenLayers.Event.element(a)), delete this.startEvt;
        return b
    }
});
OpenLayers.Util = OpenLayers.Util || {};
OpenLayers.Util.vendorPrefix = function () {
    function a(a) {
        return a ? a.replace(/([A-Z])/g, function (a) {
            return "-" + a.toLowerCase()
        }).replace(/^ms-/, "-ms-") : null
    }

    function b(a, b) {
        if (void 0 === g[b]) {
            var c, e = 0,
                f = d.length,
                p = "undefined" !== typeof a.cssText;
            for (g[b] = null; e < f; e++)
                if ((c = d[e]) ? (p || (c = c.toLowerCase()), c = c + b.charAt(0).toUpperCase() + b.slice(1)) : c = b, void 0 !== a[c]) {
                    g[b] = c;
                    break
                }
        }
        return g[b]
    }

    function c(a) {
        return b(e, a)
    }
    var d = ["", "O", "ms", "Moz", "Webkit"],
        e = document.createElement("div").style,
        f = {},
        g = {};
    return {
        css: function (b) {
            if (void 0 ===
                f[b]) {
                var d = b.replace(/(-[\s\S])/g, function (a) {
                        return a.charAt(1).toUpperCase()
                    }),
                    d = c(d);
                f[b] = a(d)
            }
            return f[b]
        },
        js: b,
        style: c,
        cssCache: f,
        jsCache: g
    }
}();
OpenLayers.Animation = function (a) {
    var b = OpenLayers.Util.vendorPrefix.js(a, "requestAnimationFrame"),
        c = !!b,
        d = function () {
            var c = a[b] || function (b, c) {
                a.setTimeout(b, 16)
            };
            return function (b, d) {
                c.apply(a, [b, d])
            }
        }(),
        e = 0,
        f = {};
    return {
        isNative: c,
        requestFrame: d,
        start: function (a, b, c) {
            b = 0 < b ? b : Number.POSITIVE_INFINITY;
            var l = ++e,
                m = +new Date;
            f[l] = function () {
                f[l] && +new Date - m <= b ? (a(), f[l] && d(f[l], c)) : delete f[l]
            };
            d(f[l], c);
            return l
        },
        stop: function (a) {
            delete f[a]
        }
    }
}(window);
OpenLayers.Tween = OpenLayers.Class({
    easing: null,
    begin: null,
    finish: null,
    duration: null,
    callbacks: null,
    time: null,
    minFrameRate: null,
    startTime: null,
    animationId: null,
    playing: !1,
    initialize: function (a) {
        this.easing = a ? a : OpenLayers.Easing.Expo.easeOut
    },
    start: function (a, b, c, d) {
        this.playing = !0;
        this.begin = a;
        this.finish = b;
        this.duration = c;
        this.callbacks = d.callbacks;
        this.minFrameRate = d.minFrameRate || 30;
        this.time = 0;
        this.startTime = (new Date).getTime();
        OpenLayers.Animation.stop(this.animationId);
        this.animationId = null;
        this.callbacks && this.callbacks.start && this.callbacks.start.call(this, this.begin);
        this.animationId = OpenLayers.Animation.start(OpenLayers.Function.bind(this.play, this))
    },
    stop: function () {
        this.playing && (this.callbacks && this.callbacks.done && this.callbacks.done.call(this, this.finish), OpenLayers.Animation.stop(this.animationId), this.animationId = null, this.playing = !1)
    },
    play: function () {
        var a = {},
            b;
        for (b in this.begin) {
            var c = this.begin[b],
                d = this.finish[b];
            if (null == c || null == d || isNaN(c) || isNaN(d)) throw new TypeError("invalid value for Tween");
            a[b] = this.easing.apply(this, [this.time, c, d - c, this.duration])
        }
        this.time++;
        this.callbacks && this.callbacks.eachStep && ((new Date).getTime() - this.startTime) / this.time <= 1E3 / this.minFrameRate && this.callbacks.eachStep.call(this, a);
        this.time > this.duration && this.stop()
    },
    CLASS_NAME: "OpenLayers.Tween"
});
OpenLayers.Easing = {
    CLASS_NAME: "OpenLayers.Easing"
};
OpenLayers.Easing.Linear = {
    easeIn: function (a, b, c, d) {
        return c * a / d + b
    },
    easeOut: function (a, b, c, d) {
        return c * a / d + b
    },
    easeInOut: function (a, b, c, d) {
        return c * a / d + b
    },
    CLASS_NAME: "OpenLayers.Easing.Linear"
};
OpenLayers.Easing.Expo = {
    easeIn: function (a, b, c, d) {
        return 0 == a ? b : c * Math.pow(2, 10 * (a / d - 1)) + b
    },
    easeOut: function (a, b, c, d) {
        return a == d ? b + c : c * (-Math.pow(2, -10 * a / d) + 1) + b
    },
    easeInOut: function (a, b, c, d) {
        return 0 == a ? b : a == d ? b + c : 1 > (a /= d / 2) ? c / 2 * Math.pow(2, 10 * (a - 1)) + b : c / 2 * (-Math.pow(2, -10 * --a) + 2) + b
    },
    CLASS_NAME: "OpenLayers.Easing.Expo"
};
OpenLayers.Easing.Quad = {
    easeIn: function (a, b, c, d) {
        return c * (a /= d) * a + b
    },
    easeOut: function (a, b, c, d) {
        return -c * (a /= d) * (a - 2) + b
    },
    easeInOut: function (a, b, c, d) {
        return 1 > (a /= d / 2) ? c / 2 * a * a + b : -c / 2 * (--a * (a - 2) - 1) + b
    },
    CLASS_NAME: "OpenLayers.Easing.Quad"
};
OpenLayers.Projection = OpenLayers.Class({
    proj: null,
    projCode: null,
    titleRegEx: /\+title=[^\+]*/,
    initialize: function (a, b) {
        OpenLayers.Util.extend(this, b);
        this.projCode = a;
        "object" == typeof Proj4js && (this.proj = new Proj4js.Proj(a))
    },
    getCode: function () {
        return this.proj ? this.proj.srsCode : this.projCode
    },
    getUnits: function () {
        return this.proj ? this.proj.units : null
    },
    toString: function () {
        return this.getCode()
    },
    equals: function (a) {
        var b = !1;
        a && (a instanceof OpenLayers.Projection || (a = new OpenLayers.Projection(a)), "object" ==
            typeof Proj4js && this.proj.defData && a.proj.defData ? b = this.proj.defData.replace(this.titleRegEx, "") == a.proj.defData.replace(this.titleRegEx, "") : a.getCode && (b = this.getCode(), a = a.getCode(), b = b == a || !!OpenLayers.Projection.transforms[b] && OpenLayers.Projection.transforms[b][a] === OpenLayers.Projection.nullTransform));
        return b
    },
    destroy: function () {
        delete this.proj;
        delete this.projCode
    },
    CLASS_NAME: "OpenLayers.Projection"
});
OpenLayers.Projection.transforms = {};
OpenLayers.Projection.defaults = {
    "EPSG:4326": {
        units: "degrees",
        maxExtent: [-180, -90, 180, 90],
        yx: !0
    },
    "CRS:84": {
        units: "degrees",
        maxExtent: [-180, -90, 180, 90]
    },
    "EPSG:900913": {
        units: "m",
        maxExtent: [-2.003750834E7, -2.003750834E7, 2.003750834E7, 2.003750834E7]
    }
};
OpenLayers.Projection.addTransform = function (a, b, c) {
    if (c === OpenLayers.Projection.nullTransform) {
        var d = OpenLayers.Projection.defaults[a];
        d && !OpenLayers.Projection.defaults[b] && (OpenLayers.Projection.defaults[b] = d)
    }
    OpenLayers.Projection.transforms[a] || (OpenLayers.Projection.transforms[a] = {});
    OpenLayers.Projection.transforms[a][b] = c
};
OpenLayers.Projection.transform = function (a, b, c) {
    if (b && c)
        if (b instanceof OpenLayers.Projection || (b = new OpenLayers.Projection(b)), c instanceof OpenLayers.Projection || (c = new OpenLayers.Projection(c)), b.proj && c.proj) a = Proj4js.transform(b.proj, c.proj, a);
        else {
            b = b.getCode();
            c = c.getCode();
            var d = OpenLayers.Projection.transforms;
            if (d[b] && d[b][c]) d[b][c](a)
        } return a
};
OpenLayers.Projection.nullTransform = function (a) {
    return a
};
(function () {
    function a(a) {
        a.x = 180 * a.x / d;
        a.y = 180 / Math.PI * (2 * Math.atan(Math.exp(a.y / d * Math.PI)) - Math.PI / 2);
        return a
    }

    function b(a) {
        a.x = a.x * d / 180;
        var b = Math.log(Math.tan((90 + a.y) * Math.PI / 360)) / Math.PI * d;
        a.y = Math.max(-2.003750834E7, Math.min(b, 2.003750834E7));
        return a
    }

    function c(c, d) {
        var e = OpenLayers.Projection.addTransform,
            f = OpenLayers.Projection.nullTransform,
            g, p, q, r, s;
        g = 0;
        for (p = d.length; g < p; ++g)
            for (q = d[g], e(c, q, b), e(q, c, a), s = g + 1; s < p; ++s) r = d[s], e(q, r, f), e(r, q, f)
    }
    var d = 2.003750834E7,
        e = ["EPSG:900913", "EPSG:3857",
            "EPSG:102113", "EPSG:102100"
        ],
        f = ["CRS:84", "urn:ogc:def:crs:EPSG:6.6:4326", "EPSG:4326"],
        g;
    for (g = e.length - 1; 0 <= g; --g) c(e[g], f);
    for (g = f.length - 1; 0 <= g; --g) c(f[g], e)
})();
OpenLayers.Map = OpenLayers.Class({
    Z_INDEX_BASE: {
        BaseLayer: 100,
        Overlay: 325,
        Feature: 725,
        Popup: 750,
        Control: 1E3
    },
    id: null,
    fractionalZoom: !1,
    events: null,
    allOverlays: !1,
    div: null,
    dragging: !1,
    size: null,
    viewPortDiv: null,
    layerContainerOrigin: null,
    layerContainerDiv: null,
    layers: null,
    controls: null,
    popups: null,
    baseLayer: null,
    center: null,
    resolution: null,
    zoom: 0,
    panRatio: 1.5,
    options: null,
    tileSize: null,
    projection: "EPSG:4326",
    units: null,
    resolutions: null,
    maxResolution: null,
    minResolution: null,
    maxScale: null,
    minScale: null,
    maxExtent: null,
    minExtent: null,
    restrictedExtent: null,
    numZoomLevels: 16,
    theme: null,
    displayProjection: null,
    fallThrough: !1,
    autoUpdateSize: !0,
    eventListeners: null,
    panTween: null,
    panMethod: OpenLayers.Easing.Expo.easeOut,
    panDuration: 50,
    zoomTween: null,
    zoomMethod: OpenLayers.Easing.Quad.easeOut,
    zoomDuration: 20,
    paddingForPopups: null,
    layerContainerOriginPx: null,
    minPx: null,
    maxPx: null,
    initialize: function (a, b) {
        1 === arguments.length && "object" === typeof a && (a = (b = a) && b.div);
        this.tileSize = new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH,
            OpenLayers.Map.TILE_HEIGHT);
        this.paddingForPopups = new OpenLayers.Bounds(15, 15, 15, 15);
        this.theme = OpenLayers._getScriptLocation() + "theme/default/style.css";
        this.options = OpenLayers.Util.extend({}, b);
        OpenLayers.Util.extend(this, b);
        OpenLayers.Util.applyDefaults(this, OpenLayers.Projection.defaults[this.projection instanceof OpenLayers.Projection ? this.projection.projCode : this.projection]);
        !this.maxExtent || this.maxExtent instanceof OpenLayers.Bounds || (this.maxExtent = new OpenLayers.Bounds(this.maxExtent));
        !this.minExtent || this.minExtent instanceof OpenLayers.Bounds || (this.minExtent = new OpenLayers.Bounds(this.minExtent));
        !this.restrictedExtent || this.restrictedExtent instanceof OpenLayers.Bounds || (this.restrictedExtent = new OpenLayers.Bounds(this.restrictedExtent));
        !this.center || this.center instanceof OpenLayers.LonLat || (this.center = new OpenLayers.LonLat(this.center));
        this.layers = [];
        this.id = OpenLayers.Util.createUniqueID("OpenLayers.Map_");
        this.div = OpenLayers.Util.getElement(a);
        this.div || (this.div = document.createElement("div"),
            this.div.style.height = "1px", this.div.style.width = "1px");
        OpenLayers.Element.addClass(this.div, "olMap");
        var c = this.id + "_OpenLayers_ViewPort";
        this.viewPortDiv = OpenLayers.Util.createDiv(c, null, null, null, "relative", null, "hidden");
        this.viewPortDiv.style.width = "100%";
        this.viewPortDiv.style.height = "100%";
        this.viewPortDiv.className = "olMapViewport";
        this.div.appendChild(this.viewPortDiv);
        this.events = new OpenLayers.Events(this, this.viewPortDiv, null, this.fallThrough, {
            includeXY: !0
        });
        OpenLayers.TileManager && null !==
            this.tileManager && (this.tileManager instanceof OpenLayers.TileManager || (this.tileManager = new OpenLayers.TileManager(this.tileManager)), this.tileManager.addMap(this));
        c = this.id + "_OpenLayers_Container";
        this.layerContainerDiv = OpenLayers.Util.createDiv(c);
        this.layerContainerDiv.style.zIndex = this.Z_INDEX_BASE.Popup - 1;
        this.layerContainerOriginPx = {
            x: 0,
            y: 0
        };
        this.applyTransform();
        this.viewPortDiv.appendChild(this.layerContainerDiv);
        this.updateSize();
        if (this.eventListeners instanceof Object) this.events.on(this.eventListeners);
        !0 === this.autoUpdateSize && (this.updateSizeDestroy = OpenLayers.Function.bind(this.updateSize, this), OpenLayers.Event.observe(window, "resize", this.updateSizeDestroy));
        if (this.theme) {
            for (var c = !0, d = document.getElementsByTagName("link"), e = 0, f = d.length; e < f; ++e)
                if (OpenLayers.Util.isEquivalentUrl(d.item(e).href, this.theme)) {
                    c = !1;
                    break
                } c && (c = document.createElement("link"), c.setAttribute("rel", "stylesheet"), c.setAttribute("type", "text/css"), c.setAttribute("href", this.theme), document.getElementsByTagName("head")[0].appendChild(c))
        }
        null ==
            this.controls && (this.controls = [], null != OpenLayers.Control && (OpenLayers.Control.Navigation ? this.controls.push(new OpenLayers.Control.Navigation) : OpenLayers.Control.TouchNavigation && this.controls.push(new OpenLayers.Control.TouchNavigation), OpenLayers.Control.Zoom ? this.controls.push(new OpenLayers.Control.Zoom) : OpenLayers.Control.PanZoom && this.controls.push(new OpenLayers.Control.PanZoom), OpenLayers.Control.ArgParser && this.controls.push(new OpenLayers.Control.ArgParser), OpenLayers.Control.Attribution &&
                this.controls.push(new OpenLayers.Control.Attribution)));
        e = 0;
        for (f = this.controls.length; e < f; e++) this.addControlToMap(this.controls[e]);
        this.popups = [];
        this.unloadDestroy = OpenLayers.Function.bind(this.destroy, this);
        OpenLayers.Event.observe(window, "unload", this.unloadDestroy);
        b && b.layers && (delete this.center, delete this.zoom, this.addLayers(b.layers), b.center && !this.getCenter() && this.setCenter(b.center, b.zoom));
        this.panMethod && (this.panTween = new OpenLayers.Tween(this.panMethod));
        this.zoomMethod && this.applyTransform.transform &&
            (this.zoomTween = new OpenLayers.Tween(this.zoomMethod))
    },
    getViewport: function () {
        return this.viewPortDiv
    },
    render: function (a) {
        this.div = OpenLayers.Util.getElement(a);
        OpenLayers.Element.addClass(this.div, "olMap");
        this.viewPortDiv.parentNode.removeChild(this.viewPortDiv);
        this.div.appendChild(this.viewPortDiv);
        this.updateSize()
    },
    unloadDestroy: null,
    updateSizeDestroy: null,
    destroy: function () {
        if (!this.unloadDestroy) return !1;
        this.panTween && (this.panTween.stop(), this.panTween = null);
        this.zoomTween && (this.zoomTween.stop(),
            this.zoomTween = null);
        OpenLayers.Event.stopObserving(window, "unload", this.unloadDestroy);
        this.unloadDestroy = null;
        this.updateSizeDestroy && OpenLayers.Event.stopObserving(window, "resize", this.updateSizeDestroy);
        this.paddingForPopups = null;
        if (null != this.controls) {
            for (var a = this.controls.length - 1; 0 <= a; --a) this.controls[a].destroy();
            this.controls = null
        }
        if (null != this.layers) {
            for (a = this.layers.length - 1; 0 <= a; --a) this.layers[a].destroy(!1);
            this.layers = null
        }
        this.viewPortDiv && this.viewPortDiv.parentNode && this.viewPortDiv.parentNode.removeChild(this.viewPortDiv);
        this.viewPortDiv = null;
        this.tileManager && (this.tileManager.removeMap(this), this.tileManager = null);
        this.eventListeners && (this.events.un(this.eventListeners), this.eventListeners = null);
        this.events.destroy();
        this.options = this.events = null
    },
    setOptions: function (a) {
        var b = this.minPx && a.restrictedExtent != this.restrictedExtent;
        OpenLayers.Util.extend(this, a);
        b && this.moveTo(this.getCachedCenter(), this.zoom, {
            forceZoomChange: !0
        })
    },
    getTileSize: function () {
        return this.tileSize
    },
    getBy: function (a, b, c) {
        var d = "function" ==
            typeof c.test;
        return OpenLayers.Array.filter(this[a], function (a) {
            return a[b] == c || d && c.test(a[b])
        })
    },
    getLayersBy: function (a, b) {
        return this.getBy("layers", a, b)
    },
    getLayersByName: function (a) {
        return this.getLayersBy("name", a)
    },
    getLayersByClass: function (a) {
        return this.getLayersBy("CLASS_NAME", a)
    },
    getControlsBy: function (a, b) {
        return this.getBy("controls", a, b)
    },
    getControlsByClass: function (a) {
        return this.getControlsBy("CLASS_NAME", a)
    },
    getLayer: function (a) {
        for (var b = null, c = 0, d = this.layers.length; c < d; c++) {
            var e =
                this.layers[c];
            if (e.id == a) {
                b = e;
                break
            }
        }
        return b
    },
    setLayerZIndex: function (a, b) {
        a.setZIndex(this.Z_INDEX_BASE[a.isBaseLayer ? "BaseLayer" : "Overlay"] + 5 * b)
    },
    resetLayersZIndex: function () {
        for (var a = 0, b = this.layers.length; a < b; a++) this.setLayerZIndex(this.layers[a], a)
    },
    addLayer: function (a) {
        for (var b = 0, c = this.layers.length; b < c; b++)
            if (this.layers[b] == a) return !1;
        if (!1 === this.events.triggerEvent("preaddlayer", {
                layer: a
            })) return !1;
        this.allOverlays && (a.isBaseLayer = !1);
        a.div.className = "olLayerDiv";
        a.div.style.overflow =
            "";
        this.setLayerZIndex(a, this.layers.length);
        a.isFixed ? this.viewPortDiv.appendChild(a.div) : this.layerContainerDiv.appendChild(a.div);
        this.layers.push(a);
        a.setMap(this);
        a.isBaseLayer || this.allOverlays && !this.baseLayer ? null == this.baseLayer ? this.setBaseLayer(a) : a.setVisibility(!1) : a.redraw();
        this.events.triggerEvent("addlayer", {
            layer: a
        });
        a.events.triggerEvent("added", {
            map: this,
            layer: a
        });
        a.afterAdd();
        return !0
    },
    addLayers: function (a) {
        for (var b = 0, c = a.length; b < c; b++) this.addLayer(a[b])
    },
    removeLayer: function (a,
        b) {
        if (!1 !== this.events.triggerEvent("preremovelayer", {
                layer: a
            })) {
            null == b && (b = !0);
            a.isFixed ? this.viewPortDiv.removeChild(a.div) : this.layerContainerDiv.removeChild(a.div);
            OpenLayers.Util.removeItem(this.layers, a);
            a.removeMap(this);
            a.map = null;
            if (this.baseLayer == a && (this.baseLayer = null, b))
                for (var c = 0, d = this.layers.length; c < d; c++) {
                    var e = this.layers[c];
                    if (e.isBaseLayer || this.allOverlays) {
                        this.setBaseLayer(e);
                        break
                    }
                }
            this.resetLayersZIndex();
            this.events.triggerEvent("removelayer", {
                layer: a
            });
            a.events.triggerEvent("removed", {
                map: this,
                layer: a
            })
        }
    },
    getNumLayers: function () {
        return this.layers.length
    },
    getLayerIndex: function (a) {
        return OpenLayers.Util.indexOf(this.layers, a)
    },
    setLayerIndex: function (a, b) {
        var c = this.getLayerIndex(a);
        0 > b ? b = 0 : b > this.layers.length && (b = this.layers.length);
        if (c != b) {
            this.layers.splice(c, 1);
            this.layers.splice(b, 0, a);
            for (var c = 0, d = this.layers.length; c < d; c++) this.setLayerZIndex(this.layers[c], c);
            this.events.triggerEvent("changelayer", {
                layer: a,
                property: "order"
            });
            this.allOverlays && (0 === b ? this.setBaseLayer(a) :
                this.baseLayer !== this.layers[0] && this.setBaseLayer(this.layers[0]))
        }
    },
    raiseLayer: function (a, b) {
        var c = this.getLayerIndex(a) + b;
        this.setLayerIndex(a, c)
    },
    setBaseLayer: function (a) {
        if (a != this.baseLayer && -1 != OpenLayers.Util.indexOf(this.layers, a)) {
            var b = this.getCachedCenter(),
                c = OpenLayers.Util.getResolutionFromScale(this.getScale(), a.units);
            null == this.baseLayer || this.allOverlays || this.baseLayer.setVisibility(!1);
            this.baseLayer = a;
            if (!this.allOverlays || this.baseLayer.visibility) this.baseLayer.setVisibility(!0),
                !1 === this.baseLayer.inRange && this.baseLayer.redraw();
            null != b && (a = this.getZoomForResolution(c || this.resolution, !0), this.setCenter(b, a, !1, !0));
            this.events.triggerEvent("changebaselayer", {
                layer: this.baseLayer
            })
        }
    },
    addControl: function (a, b) {
        this.controls.push(a);
        this.addControlToMap(a, b)
    },
    addControls: function (a, b) {
        for (var c = 1 === arguments.length ? [] : b, d = 0, e = a.length; d < e; d++) this.addControl(a[d], c[d] ? c[d] : null)
    },
    addControlToMap: function (a, b) {
        a.outsideViewport = null != a.div;
        this.displayProjection && !a.displayProjection &&
            (a.displayProjection = this.displayProjection);
        a.setMap(this);
        var c = a.draw(b);
        c && !a.outsideViewport && (c.style.zIndex = this.Z_INDEX_BASE.Control + this.controls.length, this.viewPortDiv.appendChild(c));
        a.autoActivate && a.activate()
    },
    getControl: function (a) {
        for (var b = null, c = 0, d = this.controls.length; c < d; c++) {
            var e = this.controls[c];
            if (e.id == a) {
                b = e;
                break
            }
        }
        return b
    },
    removeControl: function (a) {
        a && a == this.getControl(a.id) && (a.div && a.div.parentNode == this.viewPortDiv && this.viewPortDiv.removeChild(a.div), OpenLayers.Util.removeItem(this.controls,
            a))
    },
    addPopup: function (a, b) {
        if (b)
            for (var c = this.popups.length - 1; 0 <= c; --c) this.removePopup(this.popups[c]);
        a.map = this;
        this.popups.push(a);
        if (c = a.draw()) c.style.zIndex = this.Z_INDEX_BASE.Popup + this.popups.length, this.layerContainerDiv.appendChild(c)
    },
    removePopup: function (a) {
        OpenLayers.Util.removeItem(this.popups, a);
        if (a.div) try {
            this.layerContainerDiv.removeChild(a.div)
        } catch (b) {}
        a.map = null
    },
    getSize: function () {
        var a = null;
        null != this.size && (a = this.size.clone());
        return a
    },
    updateSize: function () {
        var a = this.getCurrentSize();
        if (a && !isNaN(a.h) && !isNaN(a.w)) {
            this.events.clearMouseCache();
            var b = this.getSize();
            null == b && (this.size = b = a);
            if (!a.equals(b)) {
                this.size = a;
                a = 0;
                for (b = this.layers.length; a < b; a++) this.layers[a].onMapResize();
                a = this.getCachedCenter();
                null != this.baseLayer && null != a && (b = this.getZoom(), this.zoom = null, this.setCenter(a, b))
            }
        }
        this.events.triggerEvent("updatesize")
    },
    getCurrentSize: function () {
        var a = new OpenLayers.Size(this.div.clientWidth, this.div.clientHeight);
        if (0 == a.w && 0 == a.h || isNaN(a.w) && isNaN(a.h)) a.w = this.div.offsetWidth,
            a.h = this.div.offsetHeight;
        if (0 == a.w && 0 == a.h || isNaN(a.w) && isNaN(a.h)) a.w = parseInt(this.div.style.width), a.h = parseInt(this.div.style.height);
        return a
    },
    calculateBounds: function (a, b) {
        var c = null;
        null == a && (a = this.getCachedCenter());
        null == b && (b = this.getResolution());
        if (null != a && null != b) var c = this.size.w * b / 2,
            d = this.size.h * b / 2,
            c = new OpenLayers.Bounds(a.lon - c, a.lat - d, a.lon + c, a.lat + d);
        return c
    },
    getCenter: function () {
        var a = null,
            b = this.getCachedCenter();
        b && (a = b.clone());
        return a
    },
    getCachedCenter: function () {
        !this.center &&
            this.size && (this.center = this.getLonLatFromViewPortPx({
                x: this.size.w / 2,
                y: this.size.h / 2
            }));
        return this.center
    },
    getZoom: function () {
        return this.zoom
    },
    pan: function (a, b, c) {
        c = OpenLayers.Util.applyDefaults(c, {
            animate: !0,
            dragging: !1
        });
        if (c.dragging) 0 == a && 0 == b || this.moveByPx(a, b);
        else {
            var d = this.getViewPortPxFromLonLat(this.getCachedCenter());
            a = d.add(a, b);
            if (this.dragging || !a.equals(d)) d = this.getLonLatFromViewPortPx(a), c.animate ? this.panTo(d) : (this.moveTo(d), this.dragging && (this.dragging = !1, this.events.triggerEvent("moveend")))
        }
    },
    panTo: function (a) {
        if (this.panTween && this.getExtent().scale(this.panRatio).containsLonLat(a)) {
            var b = this.getCachedCenter();
            if (!a.equals(b)) {
                var b = this.getPixelFromLonLat(b),
                    c = this.getPixelFromLonLat(a),
                    d = 0,
                    e = 0;
                this.panTween.start({
                    x: 0,
                    y: 0
                }, {
                    x: c.x - b.x,
                    y: c.y - b.y
                }, this.panDuration, {
                    callbacks: {
                        eachStep: OpenLayers.Function.bind(function (a) {
                            this.moveByPx(a.x - d, a.y - e);
                            d = Math.round(a.x);
                            e = Math.round(a.y)
                        }, this),
                        done: OpenLayers.Function.bind(function (b) {
                                this.moveTo(a);
                                this.dragging = !1;
                                this.events.triggerEvent("moveend")
                            },
                            this)
                    }
                })
            }
        } else this.setCenter(a)
    },
    setCenter: function (a, b, c, d) {
        this.panTween && this.panTween.stop();
        this.zoomTween && this.zoomTween.stop();
        this.moveTo(a, b, {
            dragging: c,
            forceZoomChange: d
        })
    },
    moveByPx: function (a, b) {
        var c = this.size.w / 2,
            d = this.size.h / 2,
            e = c + a,
            f = d + b,
            g = this.baseLayer.wrapDateLine,
            h = 0,
            k = 0;
        this.restrictedExtent && (h = c, k = d, g = !1);
        a = g || e <= this.maxPx.x - h && e >= this.minPx.x + h ? Math.round(a) : 0;
        b = f <= this.maxPx.y - k && f >= this.minPx.y + k ? Math.round(b) : 0;
        if (a || b) {
            this.dragging || (this.dragging = !0, this.events.triggerEvent("movestart"));
            this.center = null;
            a && (this.layerContainerOriginPx.x -= a, this.minPx.x -= a, this.maxPx.x -= a);
            b && (this.layerContainerOriginPx.y -= b, this.minPx.y -= b, this.maxPx.y -= b);
            this.applyTransform();
            d = 0;
            for (e = this.layers.length; d < e; ++d) c = this.layers[d], c.visibility && (c === this.baseLayer || c.inRange) && (c.moveByPx(a, b), c.events.triggerEvent("move"));
            this.events.triggerEvent("move")
        }
    },
    adjustZoom: function (a) {
        if (this.baseLayer && this.baseLayer.wrapDateLine) {
            var b = this.baseLayer.resolutions,
                c = this.getMaxExtent().getWidth() / this.size.w;
            if (this.getResolutionForZoom(a) > c)
                if (this.fractionalZoom) a = this.getZoomForResolution(c);
                else
                    for (var d = a | 0, e = b.length; d < e; ++d)
                        if (b[d] <= c) {
                            a = d;
                            break
                        }
        }
        return a
    },
    getMinZoom: function () {
        return this.adjustZoom(0)
    },
    moveTo: function (a, b, c) {
        null == a || a instanceof OpenLayers.LonLat || (a = new OpenLayers.LonLat(a));
        c || (c = {});
        null != b && (b = parseFloat(b), this.fractionalZoom || (b = Math.round(b)));
        var d = b;
        b = this.adjustZoom(b);
        b !== d && (a = this.getCenter());
        var d = c.dragging || this.dragging,
            e = c.forceZoomChange;
        this.getCachedCenter() ||
            this.isValidLonLat(a) || (a = this.maxExtent.getCenterLonLat(), this.center = a.clone());
        if (null != this.restrictedExtent) {
            null == a && (a = this.center);
            null == b && (b = this.getZoom());
            var f = this.getResolutionForZoom(b),
                f = this.calculateBounds(a, f);
            if (!this.restrictedExtent.containsBounds(f)) {
                var g = this.restrictedExtent.getCenterLonLat();
                f.getWidth() > this.restrictedExtent.getWidth() ? a = new OpenLayers.LonLat(g.lon, a.lat) : f.left < this.restrictedExtent.left ? a = a.add(this.restrictedExtent.left - f.left, 0) : f.right > this.restrictedExtent.right &&
                    (a = a.add(this.restrictedExtent.right - f.right, 0));
                f.getHeight() > this.restrictedExtent.getHeight() ? a = new OpenLayers.LonLat(a.lon, g.lat) : f.bottom < this.restrictedExtent.bottom ? a = a.add(0, this.restrictedExtent.bottom - f.bottom) : f.top > this.restrictedExtent.top && (a = a.add(0, this.restrictedExtent.top - f.top))
            }
        }
        e = e || this.isValidZoomLevel(b) && b != this.getZoom();
        f = this.isValidLonLat(a) && !a.equals(this.center);
        if (e || f || d) {
            d || this.events.triggerEvent("movestart", {
                zoomChanged: e
            });
            f && (!e && this.center && this.centerLayerContainer(a),
                this.center = a.clone());
            a = e ? this.getResolutionForZoom(b) : this.getResolution();
            if (e || null == this.layerContainerOrigin) {
                this.layerContainerOrigin = this.getCachedCenter();
                this.layerContainerOriginPx.x = 0;
                this.layerContainerOriginPx.y = 0;
                this.applyTransform();
                var f = this.getMaxExtent({
                        restricted: !0
                    }),
                    h = f.getCenterLonLat(),
                    g = this.center.lon - h.lon,
                    h = h.lat - this.center.lat,
                    k = Math.round(f.getWidth() / a),
                    l = Math.round(f.getHeight() / a);
                this.minPx = {
                    x: (this.size.w - k) / 2 - g / a,
                    y: (this.size.h - l) / 2 - h / a
                };
                this.maxPx = {
                    x: this.minPx.x +
                        Math.round(f.getWidth() / a),
                    y: this.minPx.y + Math.round(f.getHeight() / a)
                }
            }
            e && (this.zoom = b, this.resolution = a);
            a = this.getExtent();
            this.baseLayer.visibility && (this.baseLayer.moveTo(a, e, c.dragging), c.dragging || this.baseLayer.events.triggerEvent("moveend", {
                zoomChanged: e
            }));
            a = this.baseLayer.getExtent();
            for (b = this.layers.length - 1; 0 <= b; --b) f = this.layers[b], f === this.baseLayer || f.isBaseLayer || (g = f.calculateInRange(), f.inRange != g && ((f.inRange = g) || f.display(!1), this.events.triggerEvent("changelayer", {
                    layer: f,
                    property: "visibility"
                })),
                g && f.visibility && (f.moveTo(a, e, c.dragging), c.dragging || f.events.triggerEvent("moveend", {
                    zoomChanged: e
                })));
            this.events.triggerEvent("move");
            d || this.events.triggerEvent("moveend");
            if (e) {
                b = 0;
                for (c = this.popups.length; b < c; b++) this.popups[b].updatePosition();
                this.events.triggerEvent("zoomend")
            }
        }
    },
    centerLayerContainer: function (a) {
        var b = this.getViewPortPxFromLonLat(this.layerContainerOrigin),
            c = this.getViewPortPxFromLonLat(a);
        if (null != b && null != c) {
            var d = this.layerContainerOriginPx.x;
            a = this.layerContainerOriginPx.y;
            var e = Math.round(b.x - c.x),
                b = Math.round(b.y - c.y);
            this.applyTransform(this.layerContainerOriginPx.x = e, this.layerContainerOriginPx.y = b);
            d -= e;
            a -= b;
            this.minPx.x -= d;
            this.maxPx.x -= d;
            this.minPx.y -= a;
            this.maxPx.y -= a
        }
    },
    isValidZoomLevel: function (a) {
        return null != a && 0 <= a && a < this.getNumZoomLevels()
    },
    isValidLonLat: function (a) {
        var b = !1;
        null != a && (b = this.getMaxExtent(), b = b.containsLonLat(a, {
            worldBounds: this.baseLayer.wrapDateLine && b
        }));
        return b
    },
    getProjection: function () {
        var a = this.getProjectionObject();
        return a ? a.getCode() :
            null
    },
    getProjectionObject: function () {
        var a = null;
        null != this.baseLayer && (a = this.baseLayer.projection);
        return a
    },
    getMaxResolution: function () {
        var a = null;
        null != this.baseLayer && (a = this.baseLayer.maxResolution);
        return a
    },
    getMaxExtent: function (a) {
        var b = null;
        a && a.restricted && this.restrictedExtent ? b = this.restrictedExtent : null != this.baseLayer && (b = this.baseLayer.maxExtent);
        return b
    },
    getNumZoomLevels: function () {
        var a = null;
        null != this.baseLayer && (a = this.baseLayer.numZoomLevels);
        return a
    },
    getExtent: function () {
        var a =
            null;
        null != this.baseLayer && (a = this.baseLayer.getExtent());
        return a
    },
    getResolution: function () {
        var a = null;
        null != this.baseLayer ? a = this.baseLayer.getResolution() : !0 === this.allOverlays && 0 < this.layers.length && (a = this.layers[0].getResolution());
        return a
    },
    getUnits: function () {
        var a = null;
        null != this.baseLayer && (a = this.baseLayer.units);
        return a
    },
    getScale: function () {
        var a = null;
        null != this.baseLayer && (a = this.getResolution(), a = OpenLayers.Util.getScaleFromResolution(a, this.baseLayer.units));
        return a
    },
    getZoomForExtent: function (a,
        b) {
        var c = null;
        null != this.baseLayer && (c = this.baseLayer.getZoomForExtent(a, b));
        return c
    },
    getResolutionForZoom: function (a) {
        var b = null;
        this.baseLayer && (b = this.baseLayer.getResolutionForZoom(a));
        return b
    },
    getZoomForResolution: function (a, b) {
        var c = null;
        null != this.baseLayer && (c = this.baseLayer.getZoomForResolution(a, b));
        return c
    },
    zoomTo: function (a, b) {
        var c = this;
        if (c.isValidZoomLevel(a))
            if (c.baseLayer.wrapDateLine && (a = c.adjustZoom(a)), c.zoomTween) {
                var d = c.getResolution(),
                    e = c.getResolutionForZoom(a),
                    f = {
                        scale: 1
                    },
                    d = {
                        scale: d / e
                    };
                c.zoomTween.playing && c.zoomTween.duration < 3 * c.zoomDuration ? c.zoomTween.finish = {
                    scale: c.zoomTween.finish.scale * d.scale
                } : (b || (e = c.getSize(), b = {
                    x: e.w / 2,
                    y: e.h / 2
                }), c.zoomTween.start(f, d, c.zoomDuration, {
                    minFrameRate: 50,
                    callbacks: {
                        eachStep: function (a) {
                            var d = c.layerContainerOriginPx;
                            a = a.scale;
                            c.applyTransform(d.x + ((a - 1) * (d.x - b.x) | 0), d.y + ((a - 1) * (d.y - b.y) | 0), a)
                        },
                        done: function (a) {
                            c.applyTransform();
                            a = c.getResolution() / a.scale;
                            var d = c.getZoomForResolution(a, !0);
                            c.moveTo(c.getZoomTargetCenter(b,
                                a), d, !0)
                        }
                    }
                }))
            } else f = b ? c.getZoomTargetCenter(b, c.getResolutionForZoom(a)) : null, c.setCenter(f, a)
    },
    zoomIn: function () {
        this.zoomTo(this.getZoom() + 1)
    },
    zoomOut: function () {
        this.zoomTo(this.getZoom() - 1)
    },
    zoomToExtent: function (a, b) {
        a instanceof OpenLayers.Bounds || (a = new OpenLayers.Bounds(a));
        var c = a.getCenterLonLat();
        if (this.baseLayer.wrapDateLine) {
            c = this.getMaxExtent();
            for (a = a.clone(); a.right < a.left;) a.right += c.getWidth();
            c = a.getCenterLonLat().wrapDateLine(c)
        }
        this.setCenter(c, this.getZoomForExtent(a, b))
    },
    zoomToMaxExtent: function (a) {
        a = this.getMaxExtent({
            restricted: a ? a.restricted : !0
        });
        this.zoomToExtent(a)
    },
    zoomToScale: function (a, b) {
        var c = OpenLayers.Util.getResolutionFromScale(a, this.baseLayer.units),
            d = this.size.w * c / 2,
            c = this.size.h * c / 2,
            e = this.getCachedCenter(),
            d = new OpenLayers.Bounds(e.lon - d, e.lat - c, e.lon + d, e.lat + c);
        this.zoomToExtent(d, b)
    },
    getLonLatFromViewPortPx: function (a) {
        var b = null;
        null != this.baseLayer && (b = this.baseLayer.getLonLatFromViewPortPx(a));
        return b
    },
    getViewPortPxFromLonLat: function (a) {
        var b =
            null;
        null != this.baseLayer && (b = this.baseLayer.getViewPortPxFromLonLat(a));
        return b
    },
    getZoomTargetCenter: function (a, b) {
        var c = null,
            d = this.getSize(),
            e = d.w / 2 - a.x,
            d = a.y - d.h / 2,
            f = this.getLonLatFromPixel(a);
        f && (c = new OpenLayers.LonLat(f.lon + e * b, f.lat + d * b));
        return c
    },
    getLonLatFromPixel: function (a) {
        return this.getLonLatFromViewPortPx(a)
    },
    getPixelFromLonLat: function (a) {
        a = this.getViewPortPxFromLonLat(a);
        a.x = Math.round(a.x);
        a.y = Math.round(a.y);
        return a
    },
    getGeodesicPixelSize: function (a) {
        var b = a ? this.getLonLatFromPixel(a) :
            this.getCachedCenter() || new OpenLayers.LonLat(0, 0),
            c = this.getResolution();
        a = b.add(-c / 2, 0);
        var d = b.add(c / 2, 0),
            e = b.add(0, -c / 2),
            b = b.add(0, c / 2),
            c = new OpenLayers.Projection("EPSG:4326"),
            f = this.getProjectionObject() || c;
        f.equals(c) || (a.transform(f, c), d.transform(f, c), e.transform(f, c), b.transform(f, c));
        return new OpenLayers.Size(OpenLayers.Util.distVincenty(a, d), OpenLayers.Util.distVincenty(e, b))
    },
    getViewPortPxFromLayerPx: function (a) {
        var b = null;
        null != a && (b = a.add(this.layerContainerOriginPx.x, this.layerContainerOriginPx.y));
        return b
    },
    getLayerPxFromViewPortPx: function (a) {
        var b = null;
        null != a && (b = a.add(-this.layerContainerOriginPx.x, -this.layerContainerOriginPx.y), isNaN(b.x) || isNaN(b.y)) && (b = null);
        return b
    },
    getLonLatFromLayerPx: function (a) {
        a = this.getViewPortPxFromLayerPx(a);
        return this.getLonLatFromViewPortPx(a)
    },
    getLayerPxFromLonLat: function (a) {
        a = this.getPixelFromLonLat(a);
        return this.getLayerPxFromViewPortPx(a)
    },
    applyTransform: function (a, b, c) {
        c = c || 1;
        var d = this.layerContainerOriginPx,
            e = 1 !== c;
        a = a || d.x;
        b = b || d.y;
        var f = this.layerContainerDiv.style,
            g = this.applyTransform.transform,
            h = this.applyTransform.template;
        if (void 0 === g && (g = OpenLayers.Util.vendorPrefix.style("transform"), this.applyTransform.transform = g)) {
            var k = OpenLayers.Element.getStyle(this.viewPortDiv, OpenLayers.Util.vendorPrefix.css("transform"));
            k && "none" === k || (h = ["translate3d(", ",0) ", "scale3d(", ",1)"], f[g] = [h[0], "0,0", h[1]].join(""));
            h && ~f[g].indexOf(h[0]) || (h = ["translate(", ") ", "scale(", ")"]);
            this.applyTransform.template = h
        }
        null === g || "translate3d(" !== h[0] && !0 !== e ? (f.left = a + "px", f.top =
            b + "px", null !== g && (f[g] = "")) : (!0 === e && "translate(" === h[0] && (a -= d.x, b -= d.y, f.left = d.x + "px", f.top = d.y + "px"), f[g] = [h[0], a, "px,", b, "px", h[1], h[2], c, ",", c, h[3]].join(""))
    },
    CLASS_NAME: "OpenLayers.Map"
});
OpenLayers.Map.TILE_WIDTH = 256;
OpenLayers.Map.TILE_HEIGHT = 256;
OpenLayers.Handler = OpenLayers.Class({
    id: null,
    control: null,
    map: null,
    keyMask: null,
    active: !1,
    evt: null,
    touch: !1,
    initialize: function (a, b, c) {
        OpenLayers.Util.extend(this, c);
        this.control = a;
        this.callbacks = b;
        (a = this.map || a.map) && this.setMap(a);
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    setMap: function (a) {
        this.map = a
    },
    checkModifiers: function (a) {
        return null == this.keyMask ? !0 : ((a.shiftKey ? OpenLayers.Handler.MOD_SHIFT : 0) | (a.ctrlKey ? OpenLayers.Handler.MOD_CTRL : 0) | (a.altKey ? OpenLayers.Handler.MOD_ALT :
            0) | (a.metaKey ? OpenLayers.Handler.MOD_META : 0)) == this.keyMask
    },
    activate: function () {
        if (this.active) return !1;
        for (var a = OpenLayers.Events.prototype.BROWSER_EVENTS, b = 0, c = a.length; b < c; b++) this[a[b]] && this.register(a[b], this[a[b]]);
        return this.active = !0
    },
    deactivate: function () {
        if (!this.active) return !1;
        for (var a = OpenLayers.Events.prototype.BROWSER_EVENTS, b = 0, c = a.length; b < c; b++) this[a[b]] && this.unregister(a[b], this[a[b]]);
        this.active = this.touch = !1;
        return !0
    },
    startTouch: function () {
        if (!this.touch) {
            this.touch = !0;
            for (var a = "mousedown mouseup mousemove click dblclick mouseout".split(" "), b = 0, c = a.length; b < c; b++) this[a[b]] && this.unregister(a[b], this[a[b]])
        }
    },
    callback: function (a, b) {
        a && this.callbacks[a] && this.callbacks[a].apply(this.control, b)
    },
    register: function (a, b) {
        this.map.events.registerPriority(a, this, b);
        this.map.events.registerPriority(a, this, this.setEvent)
    },
    unregister: function (a, b) {
        this.map.events.unregister(a, this, b);
        this.map.events.unregister(a, this, this.setEvent)
    },
    setEvent: function (a) {
        this.evt = a;
        return !0
    },
    destroy: function () {
        this.deactivate();
        this.control = this.map = null
    },
    CLASS_NAME: "OpenLayers.Handler"
});
OpenLayers.Handler.MOD_NONE = 0;
OpenLayers.Handler.MOD_SHIFT = 1;
OpenLayers.Handler.MOD_CTRL = 2;
OpenLayers.Handler.MOD_ALT = 4;
OpenLayers.Handler.MOD_META = 8;
OpenLayers.Handler.Click = OpenLayers.Class(OpenLayers.Handler, {
    delay: 300,
    single: !0,
    "double": !1,
    pixelTolerance: 0,
    dblclickTolerance: 13,
    stopSingle: !1,
    stopDouble: !1,
    timerId: null,
    down: null,
    last: null,
    first: null,
    rightclickTimerId: null,
    touchstart: function (a) {
        this.startTouch();
        this.down = this.getEventInfo(a);
        this.last = this.getEventInfo(a);
        return !0
    },
    touchmove: function (a) {
        this.last = this.getEventInfo(a);
        return !0
    },
    touchend: function (a) {
        this.down && (a.xy = this.last.xy, a.lastTouches = this.last.touches, this.handleSingle(a),
            this.down = null);
        return !0
    },
    mousedown: function (a) {
        this.down = this.getEventInfo(a);
        this.last = this.getEventInfo(a);
        return !0
    },
    mouseup: function (a) {
        var b = !0;
        this.checkModifiers(a) && (this.control.handleRightClicks && OpenLayers.Event.isRightClick(a)) && (b = this.rightclick(a));
        return b
    },
    rightclick: function (a) {
        if (this.passesTolerance(a)) {
            if (null != this.rightclickTimerId) return this.clearTimer(), this.callback("dblrightclick", [a]), !this.stopDouble;
            a = this["double"] ? OpenLayers.Util.extend({}, a) : this.callback("rightclick",
                [a]);
            a = OpenLayers.Function.bind(this.delayedRightCall, this, a);
            this.rightclickTimerId = window.setTimeout(a, this.delay)
        }
        return !this.stopSingle
    },
    delayedRightCall: function (a) {
        this.rightclickTimerId = null;
        a && this.callback("rightclick", [a])
    },
    click: function (a) {
        this.last || (this.last = this.getEventInfo(a));
        this.handleSingle(a);
        return !this.stopSingle
    },
    dblclick: function (a) {
        this.handleDouble(a);
        return !this.stopDouble
    },
    handleDouble: function (a) {
        this.passesDblclickTolerance(a) && (this["double"] && this.callback("dblclick",
            [a]), this.clearTimer())
    },
    handleSingle: function (a) {
        this.passesTolerance(a) && (null != this.timerId ? (this.last.touches && 1 === this.last.touches.length && (this["double"] && OpenLayers.Event.preventDefault(a), this.handleDouble(a)), this.last.touches && 2 === this.last.touches.length || this.clearTimer()) : (this.first = this.getEventInfo(a), a = this.single ? OpenLayers.Util.extend({}, a) : null, this.queuePotentialClick(a)))
    },
    queuePotentialClick: function (a) {
        this.timerId = window.setTimeout(OpenLayers.Function.bind(this.delayedCall,
            this, a), this.delay)
    },
    passesTolerance: function (a) {
        var b = !0;
        if (null != this.pixelTolerance && this.down && this.down.xy && (b = this.pixelTolerance >= this.down.xy.distanceTo(a.xy)) && this.touch && this.down.touches.length === this.last.touches.length) {
            a = 0;
            for (var c = this.down.touches.length; a < c; ++a)
                if (this.getTouchDistance(this.down.touches[a], this.last.touches[a]) > this.pixelTolerance) {
                    b = !1;
                    break
                }
        }
        return b
    },
    getTouchDistance: function (a, b) {
        return Math.sqrt(Math.pow(a.clientX - b.clientX, 2) + Math.pow(a.clientY - b.clientY,
            2))
    },
    passesDblclickTolerance: function (a) {
        a = !0;
        this.down && this.first && (a = this.down.xy.distanceTo(this.first.xy) <= this.dblclickTolerance);
        return a
    },
    clearTimer: function () {
        null != this.timerId && (window.clearTimeout(this.timerId), this.timerId = null);
        null != this.rightclickTimerId && (window.clearTimeout(this.rightclickTimerId), this.rightclickTimerId = null)
    },
    delayedCall: function (a) {
        this.timerId = null;
        a && this.callback("click", [a])
    },
    getEventInfo: function (a) {
        var b;
        if (a.touches) {
            var c = a.touches.length;
            b = Array(c);
            for (var d,
                    e = 0; e < c; e++) d = a.touches[e], b[e] = {
                clientX: d.olClientX,
                clientY: d.olClientY
            }
        }
        return {
            xy: a.xy,
            touches: b
        }
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.clearTimer(), this.last = this.first = this.down = null, a = !0);
        return a
    },
    CLASS_NAME: "OpenLayers.Handler.Click"
});
OpenLayers.Handler.Drag = OpenLayers.Class(OpenLayers.Handler, {
    started: !1,
    stopDown: !0,
    dragging: !1,
    last: null,
    start: null,
    lastMoveEvt: null,
    oldOnselectstart: null,
    interval: 0,
    timeoutId: null,
    documentDrag: !1,
    documentEvents: null,
    initialize: function (a, b, c) {
        OpenLayers.Handler.prototype.initialize.apply(this, arguments);
        if (!0 === this.documentDrag) {
            var d = this;
            this._docMove = function (a) {
                d.mousemove({
                    xy: {
                        x: a.clientX,
                        y: a.clientY
                    },
                    element: document
                })
            };
            this._docUp = function (a) {
                d.mouseup({
                    xy: {
                        x: a.clientX,
                        y: a.clientY
                    }
                })
            }
        }
    },
    dragstart: function (a) {
        var b = !0;
        this.dragging = !1;
        this.checkModifiers(a) && (OpenLayers.Event.isLeftClick(a) || OpenLayers.Event.isSingleTouch(a)) ? (this.started = !0, this.last = this.start = a.xy, OpenLayers.Element.addClass(this.map.viewPortDiv, "olDragDown"), this.down(a), this.callback("down", [a.xy]), OpenLayers.Event.preventDefault(a), this.oldOnselectstart || (this.oldOnselectstart = document.onselectstart ? document.onselectstart : OpenLayers.Function.True), document.onselectstart = OpenLayers.Function.False, b = !this.stopDown) :
            (this.started = !1, this.last = this.start = null);
        return b
    },
    dragmove: function (a) {
        this.lastMoveEvt = a;
        !this.started || (this.timeoutId || a.xy.x == this.last.x && a.xy.y == this.last.y) || (!0 === this.documentDrag && this.documentEvents && (a.element === document ? (this.adjustXY(a), this.setEvent(a)) : this.removeDocumentEvents()), 0 < this.interval && (this.timeoutId = setTimeout(OpenLayers.Function.bind(this.removeTimeout, this), this.interval)), this.dragging = !0, this.move(a), this.callback("move", [a.xy]), this.oldOnselectstart || (this.oldOnselectstart =
            document.onselectstart, document.onselectstart = OpenLayers.Function.False), this.last = a.xy);
        return !0
    },
    dragend: function (a) {
        if (this.started) {
            !0 === this.documentDrag && this.documentEvents && (this.adjustXY(a), this.removeDocumentEvents());
            var b = this.start != this.last;
            this.dragging = this.started = !1;
            OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown");
            this.up(a);
            this.callback("up", [a.xy]);
            b && this.callback("done", [a.xy]);
            document.onselectstart = this.oldOnselectstart
        }
        return !0
    },
    down: function (a) {},
    move: function (a) {},
    up: function (a) {},
    out: function (a) {},
    mousedown: function (a) {
        return this.dragstart(a)
    },
    touchstart: function (a) {
        this.startTouch();
        return this.dragstart(a)
    },
    mousemove: function (a) {
        return this.dragmove(a)
    },
    touchmove: function (a) {
        return this.dragmove(a)
    },
    removeTimeout: function () {
        this.timeoutId = null;
        this.dragging && this.mousemove(this.lastMoveEvt)
    },
    mouseup: function (a) {
        return this.dragend(a)
    },
    touchend: function (a) {
        a.xy = this.last;
        return this.dragend(a)
    },
    mouseout: function (a) {
        if (this.started && OpenLayers.Util.mouseLeft(a,
                this.map.viewPortDiv))
            if (!0 === this.documentDrag) this.addDocumentEvents();
            else {
                var b = this.start != this.last;
                this.dragging = this.started = !1;
                OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown");
                this.out(a);
                this.callback("out", []);
                b && this.callback("done", [a.xy]);
                document.onselectstart && (document.onselectstart = this.oldOnselectstart)
            } return !0
    },
    click: function (a) {
        return this.start == this.last
    },
    activate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.dragging = !1, a = !0);
        return a
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.dragging = this.started = !1, this.last = this.start = null, a = !0, OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDragDown"));
        return a
    },
    adjustXY: function (a) {
        var b = OpenLayers.Util.pagePosition(this.map.viewPortDiv);
        a.xy.x -= b[0];
        a.xy.y -= b[1]
    },
    addDocumentEvents: function () {
        OpenLayers.Element.addClass(document.body, "olDragDown");
        this.documentEvents = !0;
        OpenLayers.Event.observe(document, "mousemove",
            this._docMove);
        OpenLayers.Event.observe(document, "mouseup", this._docUp)
    },
    removeDocumentEvents: function () {
        OpenLayers.Element.removeClass(document.body, "olDragDown");
        this.documentEvents = !1;
        OpenLayers.Event.stopObserving(document, "mousemove", this._docMove);
        OpenLayers.Event.stopObserving(document, "mouseup", this._docUp)
    },
    CLASS_NAME: "OpenLayers.Handler.Drag"
});
OpenLayers.Control.OverviewMap = OpenLayers.Class(OpenLayers.Control, {
    element: null,
    ovmap: null,
    size: {
        w: 180,
        h: 90
    },
    layers: null,
    minRectSize: 15,
    minRectDisplayClass: "RectReplacement",
    minRatio: 8,
    maxRatio: 32,
    mapOptions: null,
    autoPan: !1,
    handlers: null,
    resolutionFactor: 1,
    maximized: !1,
    maximizeTitle: "",
    minimizeTitle: "",
    initialize: function (a) {
        this.layers = [];
        this.handlers = {};
        OpenLayers.Control.prototype.initialize.apply(this, [a])
    },
    destroy: function () {
        this.mapDiv && (this.handlers.click && this.handlers.click.destroy(),
            this.handlers.drag && this.handlers.drag.destroy(), this.ovmap && this.ovmap.viewPortDiv.removeChild(this.extentRectangle), this.extentRectangle = null, this.rectEvents && (this.rectEvents.destroy(), this.rectEvents = null), this.ovmap && (this.ovmap.destroy(), this.ovmap = null), this.element.removeChild(this.mapDiv), this.mapDiv = null, this.div.removeChild(this.element), this.element = null, this.maximizeDiv && (this.div.removeChild(this.maximizeDiv), this.maximizeDiv = null), this.minimizeDiv && (this.div.removeChild(this.minimizeDiv),
                this.minimizeDiv = null), this.map.events.un({
                buttonclick: this.onButtonClick,
                moveend: this.update,
                changebaselayer: this.baseLayerDraw,
                scope: this
            }), OpenLayers.Control.prototype.destroy.apply(this, arguments))
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        if (0 === this.layers.length)
            if (this.map.baseLayer) this.layers = [this.map.baseLayer.clone()];
            else return this.map.events.register("changebaselayer", this, this.baseLayerDraw), this.div;
        this.element = document.createElement("div");
        this.element.className =
            this.displayClass + "Element";
        this.element.style.display = "none";
        this.mapDiv = document.createElement("div");
        this.mapDiv.style.width = this.size.w + "px";
        this.mapDiv.style.height = this.size.h + "px";
        this.mapDiv.style.position = "relative";
        this.mapDiv.style.overflow = "hidden";
        this.mapDiv.id = OpenLayers.Util.createUniqueID("overviewMap");
        this.extentRectangle = document.createElement("div");
        this.extentRectangle.style.position = "absolute";
        this.extentRectangle.style.zIndex = 1E3;
        this.extentRectangle.className = this.displayClass +
            "ExtentRectangle";
        this.element.appendChild(this.mapDiv);
        this.div.appendChild(this.element);
        if (this.outsideViewport) this.element.style.display = "";
        else {
            this.div.className += " " + this.displayClass + "Container";
            var a = OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");
            this.maximizeDiv = OpenLayers.Util.createAlphaImageDiv(this.displayClass + "MaximizeButton", null, null, a, "absolute");
            this.maximizeDiv.style.display = "none";
            this.maximizeDiv.className = this.displayClass + "MaximizeButton olButton";
            this.maximizeTitle &&
                (this.maximizeDiv.title = this.maximizeTitle);
            this.div.appendChild(this.maximizeDiv);
            a = OpenLayers.Util.getImageLocation("layer-switcher-minimize.png");
            this.minimizeDiv = OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_minimizeDiv", null, null, a, "absolute");
            this.minimizeDiv.style.display = "none";
            this.minimizeDiv.className = this.displayClass + "MinimizeButton olButton";
            this.minimizeTitle && (this.minimizeDiv.title = this.minimizeTitle);
            this.div.appendChild(this.minimizeDiv);
            this.minimizeControl()
        }
        this.map.getExtent() &&
            this.update();
        this.map.events.on({
            buttonclick: this.onButtonClick,
            moveend: this.update,
            scope: this
        });
        this.maximized && this.maximizeControl();
        return this.div
    },
    baseLayerDraw: function () {
        this.draw();
        this.map.events.unregister("changebaselayer", this, this.baseLayerDraw)
    },
    rectDrag: function (a) {
        var b = this.handlers.drag.last.x - a.x,
            c = this.handlers.drag.last.y - a.y;
        if (0 != b || 0 != c) {
            var d = this.rectPxBounds.top,
                e = this.rectPxBounds.left;
            a = Math.abs(this.rectPxBounds.getHeight());
            var f = this.rectPxBounds.getWidth(),
                c = Math.max(0,
                    d - c),
                c = Math.min(c, this.ovmap.size.h - this.hComp - a),
                b = Math.max(0, e - b),
                b = Math.min(b, this.ovmap.size.w - this.wComp - f);
            this.setRectPxBounds(new OpenLayers.Bounds(b, c + a, b + f, c))
        }
    },
    mapDivClick: function (a) {
        var b = this.rectPxBounds.getCenterPixel(),
            c = a.xy.x - b.x,
            d = a.xy.y - b.y,
            e = this.rectPxBounds.top,
            f = this.rectPxBounds.left;
        a = Math.abs(this.rectPxBounds.getHeight());
        b = this.rectPxBounds.getWidth();
        d = Math.max(0, e + d);
        d = Math.min(d, this.ovmap.size.h - a);
        c = Math.max(0, f + c);
        c = Math.min(c, this.ovmap.size.w - b);
        this.setRectPxBounds(new OpenLayers.Bounds(c,
            d + a, c + b, d));
        this.updateMapToRect()
    },
    onButtonClick: function (a) {
        a.buttonElement === this.minimizeDiv ? this.minimizeControl() : a.buttonElement === this.maximizeDiv && this.maximizeControl()
    },
    maximizeControl: function (a) {
        this.element.style.display = "";
        this.showToggle(!1);
        null != a && OpenLayers.Event.stop(a)
    },
    minimizeControl: function (a) {
        this.element.style.display = "none";
        this.showToggle(!0);
        null != a && OpenLayers.Event.stop(a)
    },
    showToggle: function (a) {
        this.maximizeDiv && (this.maximizeDiv.style.display = a ? "" : "none");
        this.minimizeDiv &&
            (this.minimizeDiv.style.display = a ? "none" : "")
    },
    update: function () {
        null == this.ovmap && this.createMap();
        !this.autoPan && this.isSuitableOverview() || this.updateOverview();
        this.updateRectToMap()
    },
    isSuitableOverview: function () {
        var a = this.map.getExtent(),
            b = this.map.getMaxExtent(),
            a = new OpenLayers.Bounds(Math.max(a.left, b.left), Math.max(a.bottom, b.bottom), Math.min(a.right, b.right), Math.min(a.top, b.top));
        this.ovmap.getProjection() != this.map.getProjection() && (a = a.transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject()));
        b = this.ovmap.getResolution() / this.map.getResolution();
        return b > this.minRatio && b <= this.maxRatio && this.ovmap.getExtent().containsBounds(a)
    },
    updateOverview: function () {
        var a = this.map.getResolution(),
            b = this.ovmap.getResolution(),
            c = b / a;
        c > this.maxRatio ? b = this.minRatio * a : c <= this.minRatio && (b = this.maxRatio * a);
        this.ovmap.getProjection() != this.map.getProjection() ? (a = this.map.center.clone(), a.transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject())) : a = this.map.center;
        this.ovmap.setCenter(a,
            this.ovmap.getZoomForResolution(b * this.resolutionFactor));
        this.updateRectToMap()
    },
    createMap: function () {
        var a = OpenLayers.Util.extend({
            controls: [],
            maxResolution: "auto",
            fallThrough: !1
        }, this.mapOptions);
        this.ovmap = new OpenLayers.Map(this.mapDiv, a);
        this.ovmap.viewPortDiv.appendChild(this.extentRectangle);
        OpenLayers.Event.stopObserving(window, "unload", this.ovmap.unloadDestroy);
        this.ovmap.addLayers(this.layers);
        this.ovmap.zoomToMaxExtent();
        this.wComp = (this.wComp = parseInt(OpenLayers.Element.getStyle(this.extentRectangle,
            "border-left-width")) + parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-right-width"))) ? this.wComp : 2;
        this.hComp = (this.hComp = parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-top-width")) + parseInt(OpenLayers.Element.getStyle(this.extentRectangle, "border-bottom-width"))) ? this.hComp : 2;
        this.handlers.drag = new OpenLayers.Handler.Drag(this, {
            move: this.rectDrag,
            done: this.updateMapToRect
        }, {
            map: this.ovmap
        });
        this.handlers.click = new OpenLayers.Handler.Click(this, {
            click: this.mapDivClick
        }, {
            single: !0,
            "double": !1,
            stopSingle: !0,
            stopDouble: !0,
            pixelTolerance: 1,
            map: this.ovmap
        });
        this.handlers.click.activate();
        this.rectEvents = new OpenLayers.Events(this, this.extentRectangle, null, !0);
        this.rectEvents.register("mouseover", this, function (a) {
            this.handlers.drag.active || this.map.dragging || this.handlers.drag.activate()
        });
        this.rectEvents.register("mouseout", this, function (a) {
            this.handlers.drag.dragging || this.handlers.drag.deactivate()
        });
        if (this.ovmap.getProjection() != this.map.getProjection()) {
            var a = this.map.getProjectionObject().getUnits() ||
                this.map.units || this.map.baseLayer.units,
                b = this.ovmap.getProjectionObject().getUnits() || this.ovmap.units || this.ovmap.baseLayer.units;
            this.resolutionFactor = a && b ? OpenLayers.INCHES_PER_UNIT[a] / OpenLayers.INCHES_PER_UNIT[b] : 1
        }
    },
    updateRectToMap: function () {
        var a;
        a = this.ovmap.getProjection() != this.map.getProjection() ? this.map.getExtent().transform(this.map.getProjectionObject(), this.ovmap.getProjectionObject()) : this.map.getExtent();
        (a = this.getRectBoundsFromMapBounds(a)) && this.setRectPxBounds(a)
    },
    updateMapToRect: function () {
        var a =
            this.getMapBoundsFromRectBounds(this.rectPxBounds);
        this.ovmap.getProjection() != this.map.getProjection() && (a = a.transform(this.ovmap.getProjectionObject(), this.map.getProjectionObject()));
        this.map.panTo(a.getCenterLonLat())
    },
    setRectPxBounds: function (a) {
        var b = Math.max(a.top, 0),
            c = Math.max(a.left, 0),
            d = Math.min(a.top + Math.abs(a.getHeight()), this.ovmap.size.h - this.hComp);
        a = Math.min(a.left + a.getWidth(), this.ovmap.size.w - this.wComp);
        var e = Math.max(a - c, 0),
            f = Math.max(d - b, 0);
        e < this.minRectSize || f < this.minRectSize ?
            (this.extentRectangle.className = this.displayClass + this.minRectDisplayClass, e = c + e / 2 - this.minRectSize / 2, this.extentRectangle.style.top = Math.round(b + f / 2 - this.minRectSize / 2) + "px", this.extentRectangle.style.left = Math.round(e) + "px", this.extentRectangle.style.height = this.minRectSize + "px", this.extentRectangle.style.width = this.minRectSize + "px") : (this.extentRectangle.className = this.displayClass + "ExtentRectangle", this.extentRectangle.style.top = Math.round(b) + "px", this.extentRectangle.style.left = Math.round(c) +
                "px", this.extentRectangle.style.height = Math.round(f) + "px", this.extentRectangle.style.width = Math.round(e) + "px");
        this.rectPxBounds = new OpenLayers.Bounds(Math.round(c), Math.round(d), Math.round(a), Math.round(b))
    },
    getRectBoundsFromMapBounds: function (a) {
        var b = this.getOverviewPxFromLonLat({
            lon: a.left,
            lat: a.bottom
        });
        a = this.getOverviewPxFromLonLat({
            lon: a.right,
            lat: a.top
        });
        var c = null;
        b && a && (c = new OpenLayers.Bounds(b.x, b.y, a.x, a.y));
        return c
    },
    getMapBoundsFromRectBounds: function (a) {
        var b = this.getLonLatFromOverviewPx({
            x: a.left,
            y: a.bottom
        });
        a = this.getLonLatFromOverviewPx({
            x: a.right,
            y: a.top
        });
        return new OpenLayers.Bounds(b.lon, b.lat, a.lon, a.lat)
    },
    getLonLatFromOverviewPx: function (a) {
        var b = this.ovmap.size,
            c = this.ovmap.getResolution(),
            d = this.ovmap.getExtent().getCenterLonLat();
        return {
            lon: d.lon + (a.x - b.w / 2) * c,
            lat: d.lat - (a.y - b.h / 2) * c
        }
    },
    getOverviewPxFromLonLat: function (a) {
        var b = this.ovmap.getResolution(),
            c = this.ovmap.getExtent();
        if (c) return {
            x: Math.round(1 / b * (a.lon - c.left)),
            y: Math.round(1 / b * (c.top - a.lat))
        }
    },
    CLASS_NAME: "OpenLayers.Control.OverviewMap"
});
OpenLayers.Layer = OpenLayers.Class({
    id: null,
    name: null,
    div: null,
    opacity: 1,
    alwaysInRange: null,
    RESOLUTION_PROPERTIES: "scales resolutions maxScale minScale maxResolution minResolution numZoomLevels maxZoomLevel".split(" "),
    events: null,
    map: null,
    isBaseLayer: !1,
    alpha: !1,
    displayInLayerSwitcher: !0,
    visibility: !0,
    attribution: null,
    inRange: !1,
    imageSize: null,
    options: null,
    eventListeners: null,
    gutter: 0,
    projection: null,
    units: null,
    scales: null,
    resolutions: null,
    maxExtent: null,
    minExtent: null,
    maxResolution: null,
    minResolution: null,
    numZoomLevels: null,
    minScale: null,
    maxScale: null,
    displayOutsideMaxExtent: !1,
    wrapDateLine: !1,
    metadata: null,
    initialize: function (a, b) {
        this.metadata = {};
        b = OpenLayers.Util.extend({}, b);
        null != this.alwaysInRange && (b.alwaysInRange = this.alwaysInRange);
        this.addOptions(b);
        this.name = a;
        if (null == this.id && (this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_"), this.div = OpenLayers.Util.createDiv(this.id), this.div.style.width = "100%", this.div.style.height = "100%", this.div.dir = "ltr", this.events = new OpenLayers.Events(this,
                this.div), this.eventListeners instanceof Object)) this.events.on(this.eventListeners)
    },
    destroy: function (a) {
        null == a && (a = !0);
        null != this.map && this.map.removeLayer(this, a);
        this.options = this.div = this.name = this.map = this.projection = null;
        this.events && (this.eventListeners && this.events.un(this.eventListeners), this.events.destroy());
        this.events = this.eventListeners = null
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer(this.name, this.getOptions()));
        OpenLayers.Util.applyDefaults(a, this);
        a.map = null;
        return a
    },
    getOptions: function () {
        var a = {},
            b;
        for (b in this.options) a[b] = this[b];
        return a
    },
    setName: function (a) {
        a != this.name && (this.name = a, null != this.map && this.map.events.triggerEvent("changelayer", {
            layer: this,
            property: "name"
        }))
    },
    addOptions: function (a, b) {
        null == this.options && (this.options = {});
        a && ("string" == typeof a.projection && (a.projection = new OpenLayers.Projection(a.projection)), a.projection && OpenLayers.Util.applyDefaults(a, OpenLayers.Projection.defaults[a.projection.getCode()]), !a.maxExtent || a.maxExtent instanceof OpenLayers.Bounds || (a.maxExtent = new OpenLayers.Bounds(a.maxExtent)), !a.minExtent || a.minExtent instanceof OpenLayers.Bounds || (a.minExtent = new OpenLayers.Bounds(a.minExtent)));
        OpenLayers.Util.extend(this.options, a);
        OpenLayers.Util.extend(this, a);
        this.projection && this.projection.getUnits() && (this.units = this.projection.getUnits());
        if (this.map) {
            var c = this.map.getResolution(),
                d = this.RESOLUTION_PROPERTIES.concat(["projection", "units", "minExtent", "maxExtent"]),
                e;
            for (e in a)
                if (a.hasOwnProperty(e) && 0 <= OpenLayers.Util.indexOf(d,
                        e)) {
                    this.initResolutions();
                    b && this.map.baseLayer === this && (this.map.setCenter(this.map.getCenter(), this.map.getZoomForResolution(c), !1, !0), this.map.events.triggerEvent("changebaselayer", {
                        layer: this
                    }));
                    break
                }
        }
    },
    onMapResize: function () {},
    redraw: function () {
        var a = !1;
        if (this.map) {
            this.inRange = this.calculateInRange();
            var b = this.getExtent();
            b && (this.inRange && this.visibility) && (this.moveTo(b, !0, !1), this.events.triggerEvent("moveend", {
                zoomChanged: !0
            }), a = !0)
        }
        return a
    },
    moveTo: function (a, b, c) {
        a = this.visibility;
        this.isBaseLayer || (a = a && this.inRange);
        this.display(a)
    },
    moveByPx: function (a, b) {},
    setMap: function (a) {
        null == this.map && (this.map = a, this.maxExtent = this.maxExtent || this.map.maxExtent, this.minExtent = this.minExtent || this.map.minExtent, this.projection = this.projection || this.map.projection, "string" == typeof this.projection && (this.projection = new OpenLayers.Projection(this.projection)), this.units = this.projection.getUnits() || this.units || this.map.units, this.initResolutions(), this.isBaseLayer || (this.inRange = this.calculateInRange(),
            this.div.style.display = this.visibility && this.inRange ? "" : "none"), this.setTileSize())
    },
    afterAdd: function () {},
    removeMap: function (a) {},
    getImageSize: function (a) {
        return this.imageSize || this.tileSize
    },
    setTileSize: function (a) {
        this.tileSize = a = a ? a : this.tileSize ? this.tileSize : this.map.getTileSize();
        this.gutter && (this.imageSize = new OpenLayers.Size(a.w + 2 * this.gutter, a.h + 2 * this.gutter))
    },
    getVisibility: function () {
        return this.visibility
    },
    setVisibility: function (a) {
        a != this.visibility && (this.visibility = a, this.display(a),
            this.redraw(), null != this.map && this.map.events.triggerEvent("changelayer", {
                layer: this,
                property: "visibility"
            }), this.events.triggerEvent("visibilitychanged"))
    },
    display: function (a) {
        a != ("none" != this.div.style.display) && (this.div.style.display = a && this.calculateInRange() ? "block" : "none")
    },
    calculateInRange: function () {
        var a = !1;
        this.alwaysInRange ? a = !0 : this.map && (a = this.map.getResolution(), a = a >= this.minResolution && a <= this.maxResolution);
        return a
    },
    setIsBaseLayer: function (a) {
        a != this.isBaseLayer && (this.isBaseLayer =
            a, null != this.map && this.map.events.triggerEvent("changebaselayer", {
                layer: this
            }))
    },
    initResolutions: function () {
        var a, b, c, d = {},
            e = !0;
        a = 0;
        for (b = this.RESOLUTION_PROPERTIES.length; a < b; a++) c = this.RESOLUTION_PROPERTIES[a], d[c] = this.options[c], e && this.options[c] && (e = !1);
        null == this.options.alwaysInRange && (this.alwaysInRange = e);
        null == d.resolutions && (d.resolutions = this.resolutionsFromScales(d.scales));
        null == d.resolutions && (d.resolutions = this.calculateResolutions(d));
        if (null == d.resolutions) {
            a = 0;
            for (b = this.RESOLUTION_PROPERTIES.length; a <
                b; a++) c = this.RESOLUTION_PROPERTIES[a], d[c] = null != this.options[c] ? this.options[c] : this.map[c];
            null == d.resolutions && (d.resolutions = this.resolutionsFromScales(d.scales));
            null == d.resolutions && (d.resolutions = this.calculateResolutions(d))
        }
        var f;
        this.options.maxResolution && "auto" !== this.options.maxResolution && (f = this.options.maxResolution);
        this.options.minScale && (f = OpenLayers.Util.getResolutionFromScale(this.options.minScale, this.units));
        var g;
        this.options.minResolution && "auto" !== this.options.minResolution &&
            (g = this.options.minResolution);
        this.options.maxScale && (g = OpenLayers.Util.getResolutionFromScale(this.options.maxScale, this.units));
        d.resolutions && (d.resolutions.sort(function (a, b) {
            return b - a
        }), f || (f = d.resolutions[0]), g || (g = d.resolutions[d.resolutions.length - 1]));
        if (this.resolutions = d.resolutions) {
            b = this.resolutions.length;
            this.scales = Array(b);
            for (a = 0; a < b; a++) this.scales[a] = OpenLayers.Util.getScaleFromResolution(this.resolutions[a], this.units);
            this.numZoomLevels = b
        }
        if (this.minResolution = g) this.maxScale =
            OpenLayers.Util.getScaleFromResolution(g, this.units);
        if (this.maxResolution = f) this.minScale = OpenLayers.Util.getScaleFromResolution(f, this.units)
    },
    resolutionsFromScales: function (a) {
        if (null != a) {
            var b, c, d;
            d = a.length;
            b = Array(d);
            for (c = 0; c < d; c++) b[c] = OpenLayers.Util.getResolutionFromScale(a[c], this.units);
            return b
        }
    },
    calculateResolutions: function (a) {
        var b, c, d = a.maxResolution;
        null != a.minScale ? d = OpenLayers.Util.getResolutionFromScale(a.minScale, this.units) : "auto" == d && null != this.maxExtent && (b = this.map.getSize(),
            c = this.maxExtent.getWidth() / b.w, b = this.maxExtent.getHeight() / b.h, d = Math.max(c, b));
        c = a.minResolution;
        null != a.maxScale ? c = OpenLayers.Util.getResolutionFromScale(a.maxScale, this.units) : "auto" == a.minResolution && null != this.minExtent && (b = this.map.getSize(), c = this.minExtent.getWidth() / b.w, b = this.minExtent.getHeight() / b.h, c = Math.max(c, b));
        "number" !== typeof d && ("number" !== typeof c && null != this.maxExtent) && (d = this.map.getTileSize(), d = Math.max(this.maxExtent.getWidth() / d.w, this.maxExtent.getHeight() / d.h));
        b = a.maxZoomLevel;
        a = a.numZoomLevels;
        "number" === typeof c && "number" === typeof d && void 0 === a ? a = Math.floor(Math.log(d / c) / Math.log(2)) + 1 : void 0 === a && null != b && (a = b + 1);
        if (!("number" !== typeof a || 0 >= a || "number" !== typeof d && "number" !== typeof c)) {
            b = Array(a);
            var e = 2;
            "number" == typeof c && "number" == typeof d && (e = Math.pow(d / c, 1 / (a - 1)));
            var f;
            if ("number" === typeof d)
                for (f = 0; f < a; f++) b[f] = d / Math.pow(e, f);
            else
                for (f = 0; f < a; f++) b[a - 1 - f] = c * Math.pow(e, f);
            return b
        }
    },
    getResolution: function () {
        var a = this.map.getZoom();
        return this.getResolutionForZoom(a)
    },
    getExtent: function () {
        return this.map.calculateBounds()
    },
    getZoomForExtent: function (a, b) {
        var c = this.map.getSize(),
            c = Math.max(a.getWidth() / c.w, a.getHeight() / c.h);
        return this.getZoomForResolution(c, b)
    },
    getDataExtent: function () {},
    getResolutionForZoom: function (a) {
        a = Math.max(0, Math.min(a, this.resolutions.length - 1));
        if (this.map.fractionalZoom) {
            var b = Math.floor(a),
                c = Math.ceil(a);
            a = this.resolutions[b] - (a - b) * (this.resolutions[b] - this.resolutions[c])
        } else a = this.resolutions[Math.round(a)];
        return a
    },
    getZoomForResolution: function (a,
        b) {
        var c, d;
        if (this.map.fractionalZoom) {
            var e = 0,
                f = this.resolutions[e],
                g = this.resolutions[this.resolutions.length - 1],
                h;
            c = 0;
            for (d = this.resolutions.length; c < d; ++c)
                if (h = this.resolutions[c], h >= a && (f = h, e = c), h <= a) {
                    g = h;
                    break
                } c = f - g;
            c = 0 < c ? e + (f - a) / c : e
        } else {
            f = Number.POSITIVE_INFINITY;
            c = 0;
            for (d = this.resolutions.length; c < d; c++)
                if (b) {
                    e = Math.abs(this.resolutions[c] - a);
                    if (e > f) break;
                    f = e
                } else if (this.resolutions[c] < a) break;
            c = Math.max(0, c - 1)
        }
        return c
    },
    getLonLatFromViewPortPx: function (a) {
        var b = null,
            c = this.map;
        if (null !=
            a && c.minPx) {
            var b = c.getResolution(),
                d = c.getMaxExtent({
                    restricted: !0
                }),
                b = new OpenLayers.LonLat((a.x - c.minPx.x) * b + d.left, (c.minPx.y - a.y) * b + d.top);
            this.wrapDateLine && (b = b.wrapDateLine(this.maxExtent))
        }
        return b
    },
    getViewPortPxFromLonLat: function (a, b) {
        var c = null;
        null != a && (b = b || this.map.getResolution(), c = this.map.calculateBounds(null, b), c = new OpenLayers.Pixel(1 / b * (a.lon - c.left), 1 / b * (c.top - a.lat)));
        return c
    },
    setOpacity: function (a) {
        if (a != this.opacity) {
            this.opacity = a;
            for (var b = this.div.childNodes, c = 0, d = b.length; c <
                d; ++c) {
                var e = b[c].firstChild || b[c],
                    f = b[c].lastChild;
                f && "iframe" === f.nodeName.toLowerCase() && (e = f.parentNode);
                OpenLayers.Util.modifyDOMElement(e, null, null, null, null, null, null, a)
            }
            null != this.map && this.map.events.triggerEvent("changelayer", {
                layer: this,
                property: "opacity"
            })
        }
    },
    getZIndex: function () {
        return this.div.style.zIndex
    },
    setZIndex: function (a) {
        this.div.style.zIndex = a
    },
    adjustBounds: function (a) {
        if (this.gutter) {
            var b = this.gutter * this.map.getResolution();
            a = new OpenLayers.Bounds(a.left - b, a.bottom - b, a.right +
                b, a.top + b)
        }
        this.wrapDateLine && (b = {
            rightTolerance: this.getResolution(),
            leftTolerance: this.getResolution()
        }, a = a.wrapDateLine(this.maxExtent, b));
        return a
    },
    CLASS_NAME: "OpenLayers.Layer"
});
OpenLayers.Layer.SphericalMercator = {
    getExtent: function () {
        var a = null;
        return a = this.sphericalMercator ? this.map.calculateBounds() : OpenLayers.Layer.FixedZoomLevels.prototype.getExtent.apply(this)
    },
    getLonLatFromViewPortPx: function (a) {
        return OpenLayers.Layer.prototype.getLonLatFromViewPortPx.apply(this, arguments)
    },
    getViewPortPxFromLonLat: function (a) {
        return OpenLayers.Layer.prototype.getViewPortPxFromLonLat.apply(this, arguments)
    },
    initMercatorParameters: function () {
        this.RESOLUTIONS = [];
        for (var a = 0; a <= this.MAX_ZOOM_LEVEL; ++a) this.RESOLUTIONS[a] =
            156543.03390625 / Math.pow(2, a);
        this.units = "m";
        this.projection = this.projection || "EPSG:900913"
    },
    forwardMercator: function () {
        var a = new OpenLayers.Projection("EPSG:4326"),
            b = new OpenLayers.Projection("EPSG:900913");
        return function (c, d) {
            var e = OpenLayers.Projection.transform({
                x: c,
                y: d
            }, a, b);
            return new OpenLayers.LonLat(e.x, e.y)
        }
    }(),
    inverseMercator: function () {
        var a = new OpenLayers.Projection("EPSG:4326"),
            b = new OpenLayers.Projection("EPSG:900913");
        return function (c, d) {
            var e = OpenLayers.Projection.transform({
                x: c,
                y: d
            }, b, a);
            return new OpenLayers.LonLat(e.x, e.y)
        }
    }()
};
OpenLayers.Layer.EventPane = OpenLayers.Class(OpenLayers.Layer, {
    smoothDragPan: !0,
    isBaseLayer: !0,
    isFixed: !0,
    pane: null,
    mapObject: null,
    initialize: function (a, b) {
        OpenLayers.Layer.prototype.initialize.apply(this, arguments);
        null == this.pane && (this.pane = OpenLayers.Util.createDiv(this.div.id + "_EventPane"))
    },
    destroy: function () {
        this.pane = this.mapObject = null;
        OpenLayers.Layer.prototype.destroy.apply(this, arguments)
    },
    setMap: function (a) {
        OpenLayers.Layer.prototype.setMap.apply(this, arguments);
        this.pane.style.zIndex =
            parseInt(this.div.style.zIndex) + 1;
        this.pane.style.display = this.div.style.display;
        this.pane.style.width = "100%";
        this.pane.style.height = "100%";
        "msie" == OpenLayers.BROWSER_NAME && (this.pane.style.background = "url(" + OpenLayers.Util.getImageLocation("blank.gif") + ")");
        this.isFixed ? this.map.viewPortDiv.appendChild(this.pane) : this.map.layerContainerDiv.appendChild(this.pane);
        this.loadMapObject();
        null == this.mapObject && this.loadWarningMessage()
    },
    removeMap: function (a) {
        this.pane && this.pane.parentNode && this.pane.parentNode.removeChild(this.pane);
        OpenLayers.Layer.prototype.removeMap.apply(this, arguments)
    },
    loadWarningMessage: function () {
        this.div.style.backgroundColor = "darkblue";
        var a = this.map.getSize(),
            b = Math.min(a.w, 300),
            c = Math.min(a.h, 200),
            b = new OpenLayers.Size(b, c),
            a = (new OpenLayers.Pixel(a.w / 2, a.h / 2)).add(-b.w / 2, -b.h / 2),
            a = OpenLayers.Util.createDiv(this.name + "_warning", a, b, null, null, null, "auto");
        a.style.padding = "7px";
        a.style.backgroundColor = "yellow";
        a.innerHTML = this.getWarningHTML();
        this.div.appendChild(a)
    },
    getWarningHTML: function () {
        return ""
    },
    display: function (a) {
        OpenLayers.Layer.prototype.display.apply(this, arguments);
        this.pane.style.display = this.div.style.display
    },
    setZIndex: function (a) {
        OpenLayers.Layer.prototype.setZIndex.apply(this, arguments);
        this.pane.style.zIndex = parseInt(this.div.style.zIndex) + 1
    },
    moveByPx: function (a, b) {
        OpenLayers.Layer.prototype.moveByPx.apply(this, arguments);
        this.dragPanMapObject ? this.dragPanMapObject(a, -b) : this.moveTo(this.map.getCachedCenter())
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.prototype.moveTo.apply(this,
            arguments);
        if (null != this.mapObject) {
            var d = this.map.getCenter(),
                e = this.map.getZoom();
            if (null != d) {
                var f = this.getMapObjectCenter(),
                    f = this.getOLLonLatFromMapObjectLonLat(f),
                    g = this.getMapObjectZoom(),
                    g = this.getOLZoomFromMapObjectZoom(g);
                d.equals(f) && e == g || (!b && f && this.dragPanMapObject && this.smoothDragPan ? (e = this.map.getViewPortPxFromLonLat(f), d = this.map.getViewPortPxFromLonLat(d), this.dragPanMapObject(d.x - e.x, e.y - d.y)) : (d = this.getMapObjectLonLatFromOLLonLat(d), e = this.getMapObjectZoomFromOLZoom(e), this.setMapObjectCenter(d,
                    e, c)))
            }
        }
    },
    getLonLatFromViewPortPx: function (a) {
        var b = null;
        null != this.mapObject && null != this.getMapObjectCenter() && (a = this.getMapObjectPixelFromOLPixel(a), a = this.getMapObjectLonLatFromMapObjectPixel(a), b = this.getOLLonLatFromMapObjectLonLat(a));
        return b
    },
    getViewPortPxFromLonLat: function (a) {
        var b = null;
        null != this.mapObject && null != this.getMapObjectCenter() && (a = this.getMapObjectLonLatFromOLLonLat(a), a = this.getMapObjectPixelFromMapObjectLonLat(a), b = this.getOLPixelFromMapObjectPixel(a));
        return b
    },
    getOLLonLatFromMapObjectLonLat: function (a) {
        var b =
            null;
        null != a && (b = this.getLongitudeFromMapObjectLonLat(a), a = this.getLatitudeFromMapObjectLonLat(a), b = new OpenLayers.LonLat(b, a));
        return b
    },
    getMapObjectLonLatFromOLLonLat: function (a) {
        var b = null;
        null != a && (b = this.getMapObjectLonLatFromLonLat(a.lon, a.lat));
        return b
    },
    getOLPixelFromMapObjectPixel: function (a) {
        var b = null;
        null != a && (b = this.getXFromMapObjectPixel(a), a = this.getYFromMapObjectPixel(a), b = new OpenLayers.Pixel(b, a));
        return b
    },
    getMapObjectPixelFromOLPixel: function (a) {
        var b = null;
        null != a && (b = this.getMapObjectPixelFromXY(a.x,
            a.y));
        return b
    },
    CLASS_NAME: "OpenLayers.Layer.EventPane"
});
OpenLayers.Layer.FixedZoomLevels = OpenLayers.Class({
    initialize: function () {},
    initResolutions: function () {
        for (var a = ["minZoomLevel", "maxZoomLevel", "numZoomLevels"], b = 0, c = a.length; b < c; b++) {
            var d = a[b];
            this[d] = null != this.options[d] ? this.options[d] : this.map[d]
        }
        if (null == this.minZoomLevel || this.minZoomLevel < this.MIN_ZOOM_LEVEL) this.minZoomLevel = this.MIN_ZOOM_LEVEL;
        a = this.MAX_ZOOM_LEVEL - this.minZoomLevel + 1;
        b = null == this.options.numZoomLevels && null != this.options.maxZoomLevel || null == this.numZoomLevels && null != this.maxZoomLevel ?
            this.maxZoomLevel - this.minZoomLevel + 1 : this.numZoomLevels;
        this.numZoomLevels = null != b ? Math.min(b, a) : a;
        this.maxZoomLevel = this.minZoomLevel + this.numZoomLevels - 1;
        if (null != this.RESOLUTIONS) {
            a = 0;
            this.resolutions = [];
            for (b = this.minZoomLevel; b <= this.maxZoomLevel; b++) this.resolutions[a++] = this.RESOLUTIONS[b];
            this.maxResolution = this.resolutions[0];
            this.minResolution = this.resolutions[this.resolutions.length - 1]
        }
    },
    getResolution: function () {
        if (null != this.resolutions) return OpenLayers.Layer.prototype.getResolution.apply(this,
            arguments);
        var a = null,
            b = this.map.getSize(),
            c = this.getExtent();
        null != b && null != c && (a = Math.max(c.getWidth() / b.w, c.getHeight() / b.h));
        return a
    },
    getExtent: function () {
        var a = this.map.getSize(),
            b = this.getLonLatFromViewPortPx({
                x: 0,
                y: 0
            }),
            a = this.getLonLatFromViewPortPx({
                x: a.w,
                y: a.h
            });
        return null != b && null != a ? new OpenLayers.Bounds(b.lon, a.lat, a.lon, b.lat) : null
    },
    getZoomForResolution: function (a) {
        if (null != this.resolutions) return OpenLayers.Layer.prototype.getZoomForResolution.apply(this, arguments);
        var b = OpenLayers.Layer.prototype.getExtent.apply(this,
            []);
        return this.getZoomForExtent(b)
    },
    getOLZoomFromMapObjectZoom: function (a) {
        var b = null;
        null != a && (b = a - this.minZoomLevel, this.map.baseLayer !== this && (b = this.map.baseLayer.getZoomForResolution(this.getResolutionForZoom(b))));
        return b
    },
    getMapObjectZoomFromOLZoom: function (a) {
        var b = null;
        null != a && (b = a + this.minZoomLevel, this.map.baseLayer !== this && (b = this.getZoomForResolution(this.map.baseLayer.getResolutionForZoom(b))));
        return b
    },
    CLASS_NAME: "OpenLayers.Layer.FixedZoomLevels"
});
OpenLayers.Layer.Google = OpenLayers.Class(OpenLayers.Layer.EventPane, OpenLayers.Layer.FixedZoomLevels, {
    MIN_ZOOM_LEVEL: 0,
    MAX_ZOOM_LEVEL: 21,
    RESOLUTIONS: [1.40625, 0.703125, 0.3515625, 0.17578125, 0.087890625, 0.0439453125, 0.02197265625, 0.010986328125, 0.0054931640625, 0.00274658203125, 0.001373291015625, 6.866455078125E-4, 3.4332275390625E-4, 1.71661376953125E-4, 8.58306884765625E-5, 4.291534423828125E-5, 2.145767211914062E-5, 1.072883605957031E-5, 5.36441802978515E-6, 2.68220901489257E-6, 1.341104507446289E-6, 6.705522537231445E-7],
    type: null,
    wrapDateLine: !0,
    sphericalMercator: !1,
    version: null,
    initialize: function (a, b) {
        b = b || {};
        b.version || (b.version = "function" === typeof GMap2 ? "2" : "3");
        var c = OpenLayers.Layer.Google["v" + b.version.replace(/\./g, "_")];
        if (c) OpenLayers.Util.applyDefaults(b, c);
        else throw "Unsupported Google Maps API version: " + b.version;
        OpenLayers.Util.applyDefaults(b, c.DEFAULTS);
        b.maxExtent && (b.maxExtent = b.maxExtent.clone());
        OpenLayers.Layer.EventPane.prototype.initialize.apply(this, [a, b]);
        OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,
            [a, b]);
        this.sphericalMercator && (OpenLayers.Util.extend(this, OpenLayers.Layer.SphericalMercator), this.initMercatorParameters())
    },
    clone: function () {
        return new OpenLayers.Layer.Google(this.name, this.getOptions())
    },
    setVisibility: function (a) {
        var b = null == this.opacity ? 1 : this.opacity;
        OpenLayers.Layer.EventPane.prototype.setVisibility.apply(this, arguments);
        this.setOpacity(b)
    },
    display: function (a) {
        this._dragging || this.setGMapVisibility(a);
        OpenLayers.Layer.EventPane.prototype.display.apply(this, arguments)
    },
    moveTo: function (a,
        b, c) {
        this._dragging = c;
        OpenLayers.Layer.EventPane.prototype.moveTo.apply(this, arguments);
        delete this._dragging
    },
    setOpacity: function (a) {
        a !== this.opacity && (null != this.map && this.map.events.triggerEvent("changelayer", {
            layer: this,
            property: "opacity"
        }), this.opacity = a);
        if (this.getVisibility()) {
            var b = this.getMapContainer();
            OpenLayers.Util.modifyDOMElement(b, null, null, null, null, null, null, a)
        }
    },
    destroy: function () {
        if (this.map) {
            this.setGMapVisibility(!1);
            var a = OpenLayers.Layer.Google.cache[this.map.id];
            a && 1 >= a.count &&
                this.removeGMapElements()
        }
        OpenLayers.Layer.EventPane.prototype.destroy.apply(this, arguments)
    },
    removeGMapElements: function () {
        var a = OpenLayers.Layer.Google.cache[this.map.id];
        if (a) {
            var b = this.mapObject && this.getMapContainer();
            b && b.parentNode && b.parentNode.removeChild(b);
            (b = a.termsOfUse) && b.parentNode && b.parentNode.removeChild(b);
            (a = a.poweredBy) && a.parentNode && a.parentNode.removeChild(a);
            this.mapObject && (window.google && google.maps && google.maps.event && google.maps.event.clearListeners) && google.maps.event.clearListeners(this.mapObject,
                "tilesloaded")
        }
    },
    removeMap: function (a) {
        this.visibility && this.mapObject && this.setGMapVisibility(!1);
        var b = OpenLayers.Layer.Google.cache[a.id];
        b && (1 >= b.count ? (this.removeGMapElements(), delete OpenLayers.Layer.Google.cache[a.id]) : --b.count);
        delete this.termsOfUse;
        delete this.poweredBy;
        delete this.mapObject;
        delete this.dragObject;
        OpenLayers.Layer.EventPane.prototype.removeMap.apply(this, arguments)
    },
    getOLBoundsFromMapObjectBounds: function (a) {
        var b = null;
        null != a && (b = a.getSouthWest(), a = a.getNorthEast(), this.sphericalMercator ?
            (b = this.forwardMercator(b.lng(), b.lat()), a = this.forwardMercator(a.lng(), a.lat())) : (b = new OpenLayers.LonLat(b.lng(), b.lat()), a = new OpenLayers.LonLat(a.lng(), a.lat())), b = new OpenLayers.Bounds(b.lon, b.lat, a.lon, a.lat));
        return b
    },
    getWarningHTML: function () {
        return OpenLayers.i18n("googleWarning")
    },
    getMapObjectCenter: function () {
        return this.mapObject.getCenter()
    },
    getMapObjectZoom: function () {
        return this.mapObject.getZoom()
    },
    getLongitudeFromMapObjectLonLat: function (a) {
        return this.sphericalMercator ? this.forwardMercator(a.lng(),
            a.lat()).lon : a.lng()
    },
    getLatitudeFromMapObjectLonLat: function (a) {
        return this.sphericalMercator ? this.forwardMercator(a.lng(), a.lat()).lat : a.lat()
    },
    getXFromMapObjectPixel: function (a) {
        return a.x
    },
    getYFromMapObjectPixel: function (a) {
        return a.y
    },
    CLASS_NAME: "OpenLayers.Layer.Google"
});
OpenLayers.Layer.Google.cache = {};
OpenLayers.Layer.Google.v2 = {
    termsOfUse: null,
    poweredBy: null,
    dragObject: null,
    loadMapObject: function () {
        this.type || (this.type = G_NORMAL_MAP);
        var a, b, c, d = OpenLayers.Layer.Google.cache[this.map.id];
        if (d) a = d.mapObject, b = d.termsOfUse, c = d.poweredBy, ++d.count;
        else {
            var d = this.map.viewPortDiv,
                e = document.createElement("div");
            e.id = this.map.id + "_GMap2Container";
            e.style.position = "absolute";
            e.style.width = "100%";
            e.style.height = "100%";
            d.appendChild(e);
            try {
                a = new GMap2(e), b = e.lastChild, d.appendChild(b), b.style.zIndex =
                    "1100", b.style.right = "", b.style.bottom = "", b.className = "olLayerGoogleCopyright", c = e.lastChild, d.appendChild(c), c.style.zIndex = "1100", c.style.right = "", c.style.bottom = "", c.className = "olLayerGooglePoweredBy gmnoprint"
            } catch (f) {
                throw f;
            }
            OpenLayers.Layer.Google.cache[this.map.id] = {
                mapObject: a,
                termsOfUse: b,
                poweredBy: c,
                count: 1
            }
        }
        this.mapObject = a;
        this.termsOfUse = b;
        this.poweredBy = c; - 1 === OpenLayers.Util.indexOf(this.mapObject.getMapTypes(), this.type) && this.mapObject.addMapType(this.type);
        "function" == typeof a.getDragObject ?
            this.dragObject = a.getDragObject() : this.dragPanMapObject = null;
        !1 === this.isBaseLayer && this.setGMapVisibility("none" !== this.div.style.display)
    },
    onMapResize: function () {
        if (this.visibility && this.mapObject.isLoaded()) this.mapObject.checkResize();
        else {
            if (!this._resized) var a = this,
                b = GEvent.addListener(this.mapObject, "load", function () {
                    GEvent.removeListener(b);
                    delete a._resized;
                    a.mapObject.checkResize();
                    a.moveTo(a.map.getCenter(), a.map.getZoom())
                });
            this._resized = !0
        }
    },
    setGMapVisibility: function (a) {
        var b = OpenLayers.Layer.Google.cache[this.map.id];
        if (b) {
            var c = this.mapObject.getContainer();
            !0 === a ? (this.mapObject.setMapType(this.type), c.style.display = "", this.termsOfUse.style.left = "", this.termsOfUse.style.display = "", this.poweredBy.style.display = "", b.displayed = this.id) : (b.displayed === this.id && delete b.displayed, b.displayed || (c.style.display = "none", this.termsOfUse.style.display = "none", this.termsOfUse.style.left = "-9999px", this.poweredBy.style.display = "none"))
        }
    },
    getMapContainer: function () {
        return this.mapObject.getContainer()
    },
    getMapObjectBoundsFromOLBounds: function (a) {
        var b =
            null;
        null != a && (b = this.sphericalMercator ? this.inverseMercator(a.bottom, a.left) : new OpenLayers.LonLat(a.bottom, a.left), a = this.sphericalMercator ? this.inverseMercator(a.top, a.right) : new OpenLayers.LonLat(a.top, a.right), b = new GLatLngBounds(new GLatLng(b.lat, b.lon), new GLatLng(a.lat, a.lon)));
        return b
    },
    setMapObjectCenter: function (a, b) {
        this.mapObject.setCenter(a, b)
    },
    dragPanMapObject: function (a, b) {
        this.dragObject.moveBy(new GSize(-a, b))
    },
    getMapObjectLonLatFromMapObjectPixel: function (a) {
        return this.mapObject.fromContainerPixelToLatLng(a)
    },
    getMapObjectPixelFromMapObjectLonLat: function (a) {
        return this.mapObject.fromLatLngToContainerPixel(a)
    },
    getMapObjectZoomFromMapObjectBounds: function (a) {
        return this.mapObject.getBoundsZoomLevel(a)
    },
    getMapObjectLonLatFromLonLat: function (a, b) {
        var c;
        this.sphericalMercator ? (c = this.inverseMercator(a, b), c = new GLatLng(c.lat, c.lon)) : c = new GLatLng(b, a);
        return c
    },
    getMapObjectPixelFromXY: function (a, b) {
        return new GPoint(a, b)
    }
};
OpenLayers.Format.XML = OpenLayers.Class(OpenLayers.Format, {
    namespaces: null,
    namespaceAlias: null,
    defaultPrefix: null,
    readers: {},
    writers: {},
    xmldom: null,
    initialize: function (a) {
        window.ActiveXObject && (this.xmldom = new ActiveXObject("Microsoft.XMLDOM"));
        OpenLayers.Format.prototype.initialize.apply(this, [a]);
        this.namespaces = OpenLayers.Util.extend({}, this.namespaces);
        this.namespaceAlias = {};
        for (var b in this.namespaces) this.namespaceAlias[this.namespaces[b]] = b
    },
    destroy: function () {
        this.xmldom = null;
        OpenLayers.Format.prototype.destroy.apply(this,
            arguments)
    },
    setNamespace: function (a, b) {
        this.namespaces[a] = b;
        this.namespaceAlias[b] = a
    },
    read: function (a) {
        var b = a.indexOf("<");
        0 < b && (a = a.substring(b));
        b = OpenLayers.Util.Try(OpenLayers.Function.bind(function () {
            var b;
            b = window.ActiveXObject && !this.xmldom ? new ActiveXObject("Microsoft.XMLDOM") : this.xmldom;
            b.loadXML(a);
            return b
        }, this), function () {
            return (new DOMParser).parseFromString(a, "text/xml")
        }, function () {
            var b = new XMLHttpRequest;
            b.open("GET", "data:text/xml;charset=utf-8," + encodeURIComponent(a), !1);
            b.overrideMimeType &&
                b.overrideMimeType("text/xml");
            b.send(null);
            return b.responseXML
        });
        this.keepData && (this.data = b);
        return b
    },
    write: function (a) {
        if (this.xmldom) a = a.xml;
        else {
            var b = new XMLSerializer;
            if (1 == a.nodeType) {
                var c = document.implementation.createDocument("", "", null);
                c.importNode && (a = c.importNode(a, !0));
                c.appendChild(a);
                a = b.serializeToString(c)
            } else a = b.serializeToString(a)
        }
        return a
    },
    createElementNS: function (a, b) {
        return this.xmldom ? "string" == typeof a ? this.xmldom.createNode(1, b, a) : this.xmldom.createNode(1, b, "") : document.createElementNS(a,
            b)
    },
    createDocumentFragment: function () {
        return this.xmldom ? this.xmldom.createDocumentFragment() : document.createDocumentFragment()
    },
    createTextNode: function (a) {
        "string" !== typeof a && (a = String(a));
        return this.xmldom ? this.xmldom.createTextNode(a) : document.createTextNode(a)
    },
    getElementsByTagNameNS: function (a, b, c) {
        var d = [];
        if (a.getElementsByTagNameNS) d = a.getElementsByTagNameNS(b, c);
        else {
            a = a.getElementsByTagName("*");
            for (var e, f, g = 0, h = a.length; g < h; ++g)
                if (e = a[g], f = e.prefix ? e.prefix + ":" + c : c, "*" == c || f == e.nodeName) "*" !=
                    b && b != e.namespaceURI || d.push(e)
        }
        return d
    },
    getAttributeNodeNS: function (a, b, c) {
        var d = null;
        if (a.getAttributeNodeNS) d = a.getAttributeNodeNS(b, c);
        else {
            a = a.attributes;
            for (var e, f, g = 0, h = a.length; g < h; ++g)
                if (e = a[g], e.namespaceURI == b && (f = e.prefix ? e.prefix + ":" + c : c, f == e.nodeName)) {
                    d = e;
                    break
                }
        }
        return d
    },
    getAttributeNS: function (a, b, c) {
        var d = "";
        if (a.getAttributeNS) d = a.getAttributeNS(b, c) || "";
        else if (a = this.getAttributeNodeNS(a, b, c)) d = a.nodeValue;
        return d
    },
    getChildValue: function (a, b) {
        var c = b || "";
        if (a)
            for (var d = a.firstChild; d; d =
                d.nextSibling) switch (d.nodeType) {
                case 3:
                case 4:
                    c += d.nodeValue
            }
        return c
    },
    isSimpleContent: function (a) {
        var b = !0;
        for (a = a.firstChild; a; a = a.nextSibling)
            if (1 === a.nodeType) {
                b = !1;
                break
            } return b
    },
    contentType: function (a) {
        var b = !1,
            c = !1,
            d = OpenLayers.Format.XML.CONTENT_TYPE.EMPTY;
        for (a = a.firstChild; a; a = a.nextSibling) {
            switch (a.nodeType) {
                case 1:
                    c = !0;
                    break;
                case 8:
                    break;
                default:
                    b = !0
            }
            if (c && b) break
        }
        if (c && b) d = OpenLayers.Format.XML.CONTENT_TYPE.MIXED;
        else {
            if (c) return OpenLayers.Format.XML.CONTENT_TYPE.COMPLEX;
            if (b) return OpenLayers.Format.XML.CONTENT_TYPE.SIMPLE
        }
        return d
    },
    hasAttributeNS: function (a, b, c) {
        var d = !1;
        return d = a.hasAttributeNS ? a.hasAttributeNS(b, c) : !!this.getAttributeNodeNS(a, b, c)
    },
    setAttributeNS: function (a, b, c, d) {
        if (a.setAttributeNS) a.setAttributeNS(b, c, d);
        else if (this.xmldom) b ? (b = a.ownerDocument.createNode(2, c, b), b.nodeValue = d, a.setAttributeNode(b)) : a.setAttribute(c, d);
        else throw "setAttributeNS not implemented";
    },
    createElementNSPlus: function (a, b) {
        b = b || {};
        var c = b.uri || this.namespaces[b.prefix];
        c || (c = a.indexOf(":"), c = this.namespaces[a.substring(0, c)]);
        c ||
            (c = this.namespaces[this.defaultPrefix]);
        c = this.createElementNS(c, a);
        b.attributes && this.setAttributes(c, b.attributes);
        var d = b.value;
        null != d && c.appendChild(this.createTextNode(d));
        return c
    },
    setAttributes: function (a, b) {
        var c, d, e;
        for (e in b) null != b[e] && b[e].toString && (c = b[e].toString(), d = this.namespaces[e.substring(0, e.indexOf(":"))] || null, this.setAttributeNS(a, d, e, c))
    },
    readNode: function (a, b) {
        b || (b = {});
        var c = this.readers[a.namespaceURI ? this.namespaceAlias[a.namespaceURI] : this.defaultPrefix];
        if (c) {
            var d =
                a.localName || a.nodeName.split(":").pop();
            (c = c[d] || c["*"]) && c.apply(this, [a, b])
        }
        return b
    },
    readChildNodes: function (a, b) {
        b || (b = {});
        for (var c = a.childNodes, d, e = 0, f = c.length; e < f; ++e) d = c[e], 1 == d.nodeType && this.readNode(d, b);
        return b
    },
    writeNode: function (a, b, c) {
        var d, e = a.indexOf(":");
        0 < e ? (d = a.substring(0, e), a = a.substring(e + 1)) : d = c ? this.namespaceAlias[c.namespaceURI] : this.defaultPrefix;
        b = this.writers[d][a].apply(this, [b]);
        c && c.appendChild(b);
        return b
    },
    getChildEl: function (a, b, c) {
        return a && this.getThisOrNextEl(a.firstChild,
            b, c)
    },
    getNextEl: function (a, b, c) {
        return a && this.getThisOrNextEl(a.nextSibling, b, c)
    },
    getThisOrNextEl: function (a, b, c) {
        a: for (; a; a = a.nextSibling) switch (a.nodeType) {
            case 1:
                if (!(b && b !== (a.localName || a.nodeName.split(":").pop()) || c && c !== a.namespaceURI)) break a;
                a = null;
                break a;
            case 3:
                if (/^\s*$/.test(a.nodeValue)) break;
            case 4:
            case 6:
            case 12:
            case 10:
            case 11:
                a = null;
                break a
        }
        return a || null
    },
    lookupNamespaceURI: function (a, b) {
        var c = null;
        if (a)
            if (a.lookupNamespaceURI) c = a.lookupNamespaceURI(b);
            else a: switch (a.nodeType) {
                case 1:
                    if (null !==
                        a.namespaceURI && a.prefix === b) {
                        c = a.namespaceURI;
                        break a
                    }
                    if (c = a.attributes.length)
                        for (var d, e = 0; e < c; ++e)
                            if (d = a.attributes[e], "xmlns" === d.prefix && d.name === "xmlns:" + b) {
                                c = d.value || null;
                                break a
                            } else if ("xmlns" === d.name && null === b) {
                        c = d.value || null;
                        break a
                    }
                    c = this.lookupNamespaceURI(a.parentNode, b);
                    break a;
                case 2:
                    c = this.lookupNamespaceURI(a.ownerElement, b);
                    break a;
                case 9:
                    c = this.lookupNamespaceURI(a.documentElement, b);
                    break a;
                case 6:
                case 12:
                case 10:
                case 11:
                    break a;
                default:
                    c = this.lookupNamespaceURI(a.parentNode,
                        b)
            }
        return c
    },
    getXMLDoc: function () {
        OpenLayers.Format.XML.document || this.xmldom || (document.implementation && document.implementation.createDocument ? OpenLayers.Format.XML.document = document.implementation.createDocument("", "", null) : !this.xmldom && window.ActiveXObject && (this.xmldom = new ActiveXObject("Microsoft.XMLDOM")));
        return OpenLayers.Format.XML.document || this.xmldom
    },
    CLASS_NAME: "OpenLayers.Format.XML"
});
OpenLayers.Format.XML.CONTENT_TYPE = {
    EMPTY: 0,
    SIMPLE: 1,
    COMPLEX: 2,
    MIXED: 3
};
OpenLayers.Format.XML.lookupNamespaceURI = OpenLayers.Function.bind(OpenLayers.Format.XML.prototype.lookupNamespaceURI, OpenLayers.Format.XML.prototype);
OpenLayers.Format.XML.document = null;
OpenLayers.Format.WFST = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Format.WFST.DEFAULTS);
    var b = OpenLayers.Format.WFST["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported WFST version: " + a.version;
    return new b(a)
};
OpenLayers.Format.WFST.DEFAULTS = {
    version: "1.0.0"
};
OpenLayers.Feature = OpenLayers.Class({
    layer: null,
    id: null,
    lonlat: null,
    data: null,
    marker: null,
    popupClass: null,
    popup: null,
    initialize: function (a, b, c) {
        this.layer = a;
        this.lonlat = b;
        this.data = null != c ? c : {};
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    destroy: function () {
        null != this.layer && null != this.layer.map && null != this.popup && this.layer.map.removePopup(this.popup);
        null != this.layer && null != this.marker && this.layer.removeMarker(this.marker);
        this.data = this.lonlat = this.id = this.layer = null;
        null != this.marker &&
            (this.destroyMarker(this.marker), this.marker = null);
        null != this.popup && (this.destroyPopup(this.popup), this.popup = null)
    },
    onScreen: function () {
        var a = !1;
        null != this.layer && null != this.layer.map && (a = this.layer.map.getExtent().containsLonLat(this.lonlat));
        return a
    },
    createMarker: function () {
        null != this.lonlat && (this.marker = new OpenLayers.Marker(this.lonlat, this.data.icon));
        return this.marker
    },
    destroyMarker: function () {
        this.marker.destroy()
    },
    createPopup: function (a) {
        null != this.lonlat && (this.popup || (this.popup = new(this.popupClass ?
            this.popupClass : OpenLayers.Popup.Anchored)(this.id + "_popup", this.lonlat, this.data.popupSize, this.data.popupContentHTML, this.marker ? this.marker.icon : null, a)), null != this.data.overflow && (this.popup.contentDiv.style.overflow = this.data.overflow), this.popup.feature = this);
        return this.popup
    },
    destroyPopup: function () {
        this.popup && (this.popup.feature = null, this.popup.destroy(), this.popup = null)
    },
    CLASS_NAME: "OpenLayers.Feature"
});
OpenLayers.State = {
    UNKNOWN: "Unknown",
    INSERT: "Insert",
    UPDATE: "Update",
    DELETE: "Delete"
};
OpenLayers.Feature.Vector = OpenLayers.Class(OpenLayers.Feature, {
    fid: null,
    geometry: null,
    attributes: null,
    bounds: null,
    state: null,
    style: null,
    url: null,
    renderIntent: "default",
    modified: null,
    initialize: function (a, b, c) {
        OpenLayers.Feature.prototype.initialize.apply(this, [null, null, b]);
        this.lonlat = null;
        this.geometry = a ? a : null;
        this.state = null;
        this.attributes = {};
        b && (this.attributes = OpenLayers.Util.extend(this.attributes, b));
        this.style = c ? c : null
    },
    destroy: function () {
        this.layer && (this.layer.removeFeatures(this), this.layer =
            null);
        this.modified = this.geometry = null;
        OpenLayers.Feature.prototype.destroy.apply(this, arguments)
    },
    clone: function () {
        return new OpenLayers.Feature.Vector(this.geometry ? this.geometry.clone() : null, this.attributes, this.style)
    },
    onScreen: function (a) {
        var b = !1;
        this.layer && this.layer.map && (b = this.layer.map.getExtent(), a ? (a = this.geometry.getBounds(), b = b.intersectsBounds(a)) : b = b.toGeometry().intersects(this.geometry));
        return b
    },
    getVisibility: function () {
        return !(this.style && "none" == this.style.display || !this.layer ||
            this.layer && this.layer.styleMap && "none" == this.layer.styleMap.createSymbolizer(this, this.renderIntent).display || this.layer && !this.layer.getVisibility())
    },
    createMarker: function () {
        return null
    },
    destroyMarker: function () {},
    createPopup: function () {
        return null
    },
    atPoint: function (a, b, c) {
        var d = !1;
        this.geometry && (d = this.geometry.atPoint(a, b, c));
        return d
    },
    destroyPopup: function () {},
    move: function (a) {
        if (this.layer && this.geometry.move) {
            a = "OpenLayers.LonLat" == a.CLASS_NAME ? this.layer.getViewPortPxFromLonLat(a) : a;
            var b =
                this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat()),
                c = this.layer.map.getResolution();
            this.geometry.move(c * (a.x - b.x), c * (b.y - a.y));
            this.layer.drawFeature(this);
            return b
        }
    },
    toState: function (a) {
        if (a == OpenLayers.State.UPDATE) switch (this.state) {
            case OpenLayers.State.UNKNOWN:
            case OpenLayers.State.DELETE:
                this.state = a
        } else if (a == OpenLayers.State.INSERT) switch (this.state) {
            case OpenLayers.State.UNKNOWN:
                break;
            default:
                this.state = a
        } else if (a == OpenLayers.State.DELETE) switch (this.state) {
            case OpenLayers.State.UNKNOWN:
            case OpenLayers.State.UPDATE:
                this.state =
                    a
        } else a == OpenLayers.State.UNKNOWN && (this.state = a)
    },
    CLASS_NAME: "OpenLayers.Feature.Vector"
});
OpenLayers.Feature.Vector.style = {
    "default": {
        fillColor: "#ee9900",
        fillOpacity: 0.4,
        hoverFillColor: "white",
        hoverFillOpacity: 0.8,
        strokeColor: "#ee9900",
        strokeOpacity: 1,
        strokeWidth: 1,
        strokeLinecap: "round",
        strokeDashstyle: "solid",
        hoverStrokeColor: "red",
        hoverStrokeOpacity: 1,
        hoverStrokeWidth: 0.2,
        pointRadius: 6,
        hoverPointRadius: 1,
        hoverPointUnit: "%",
        pointerEvents: "visiblePainted",
        cursor: "inherit",
        fontColor: "#000000",
        labelAlign: "cm",
        labelOutlineColor: "white",
        labelOutlineWidth: 3
    },
    select: {
        fillColor: "blue",
        fillOpacity: 0.4,
        hoverFillColor: "white",
        hoverFillOpacity: 0.8,
        strokeColor: "blue",
        strokeOpacity: 1,
        strokeWidth: 2,
        strokeLinecap: "round",
        strokeDashstyle: "solid",
        hoverStrokeColor: "red",
        hoverStrokeOpacity: 1,
        hoverStrokeWidth: 0.2,
        pointRadius: 6,
        hoverPointRadius: 1,
        hoverPointUnit: "%",
        pointerEvents: "visiblePainted",
        cursor: "pointer",
        fontColor: "#000000",
        labelAlign: "cm",
        labelOutlineColor: "white",
        labelOutlineWidth: 3
    },
    temporary: {
        fillColor: "#66cccc",
        fillOpacity: 0.2,
        hoverFillColor: "white",
        hoverFillOpacity: 0.8,
        strokeColor: "#66cccc",
        strokeOpacity: 1,
        strokeLinecap: "round",
        strokeWidth: 2,
        strokeDashstyle: "solid",
        hoverStrokeColor: "red",
        hoverStrokeOpacity: 1,
        hoverStrokeWidth: 0.2,
        pointRadius: 6,
        hoverPointRadius: 1,
        hoverPointUnit: "%",
        pointerEvents: "visiblePainted",
        cursor: "inherit",
        fontColor: "#000000",
        labelAlign: "cm",
        labelOutlineColor: "white",
        labelOutlineWidth: 3
    },
    "delete": {
        display: "none"
    }
};
OpenLayers.Style = OpenLayers.Class({
    id: null,
    name: null,
    title: null,
    description: null,
    layerName: null,
    isDefault: !1,
    rules: null,
    context: null,
    defaultStyle: null,
    defaultsPerSymbolizer: !1,
    propertyStyles: null,
    initialize: function (a, b) {
        OpenLayers.Util.extend(this, b);
        this.rules = [];
        b && b.rules && this.addRules(b.rules);
        this.setDefaultStyle(a || OpenLayers.Feature.Vector.style["default"]);
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    destroy: function () {
        for (var a = 0, b = this.rules.length; a < b; a++) this.rules[a].destroy(),
            this.rules[a] = null;
        this.defaultStyle = this.rules = null
    },
    createSymbolizer: function (a) {
        for (var b = this.defaultsPerSymbolizer ? {} : this.createLiterals(OpenLayers.Util.extend({}, this.defaultStyle), a), c = this.rules, d, e = [], f = !1, g = 0, h = c.length; g < h; g++) d = c[g], d.evaluate(a) && (d instanceof OpenLayers.Rule && d.elseFilter ? e.push(d) : (f = !0, this.applySymbolizer(d, b, a)));
        if (!1 == f && 0 < e.length)
            for (f = !0, g = 0, h = e.length; g < h; g++) this.applySymbolizer(e[g], b, a);
        0 < c.length && !1 == f && (b.display = "none");
        null != b.label && "string" !== typeof b.label &&
            (b.label = String(b.label));
        return b
    },
    applySymbolizer: function (a, b, c) {
        var d = c.geometry ? this.getSymbolizerPrefix(c.geometry) : OpenLayers.Style.SYMBOLIZER_PREFIXES[0];
        a = a.symbolizer[d] || a.symbolizer;
        !0 === this.defaultsPerSymbolizer && (d = this.defaultStyle, OpenLayers.Util.applyDefaults(a, {
                pointRadius: d.pointRadius
            }), !0 !== a.stroke && !0 !== a.graphic || OpenLayers.Util.applyDefaults(a, {
                strokeWidth: d.strokeWidth,
                strokeColor: d.strokeColor,
                strokeOpacity: d.strokeOpacity,
                strokeDashstyle: d.strokeDashstyle,
                strokeLinecap: d.strokeLinecap
            }),
            !0 !== a.fill && !0 !== a.graphic || OpenLayers.Util.applyDefaults(a, {
                fillColor: d.fillColor,
                fillOpacity: d.fillOpacity
            }), !0 === a.graphic && OpenLayers.Util.applyDefaults(a, {
                pointRadius: this.defaultStyle.pointRadius,
                externalGraphic: this.defaultStyle.externalGraphic,
                graphicName: this.defaultStyle.graphicName,
                graphicOpacity: this.defaultStyle.graphicOpacity,
                graphicWidth: this.defaultStyle.graphicWidth,
                graphicHeight: this.defaultStyle.graphicHeight,
                graphicXOffset: this.defaultStyle.graphicXOffset,
                graphicYOffset: this.defaultStyle.graphicYOffset
            }));
        return this.createLiterals(OpenLayers.Util.extend(b, a), c)
    },
    createLiterals: function (a, b) {
        var c = OpenLayers.Util.extend({}, b.attributes || b.data);
        OpenLayers.Util.extend(c, this.context);
        for (var d in this.propertyStyles) a[d] = OpenLayers.Style.createLiteral(a[d], c, b, d);
        return a
    },
    findPropertyStyles: function () {
        var a = {};
        this.addPropertyStyles(a, this.defaultStyle);
        for (var b = this.rules, c, d, e = 0, f = b.length; e < f; e++) {
            c = b[e].symbolizer;
            for (var g in c)
                if (d = c[g], "object" == typeof d) this.addPropertyStyles(a, d);
                else {
                    this.addPropertyStyles(a,
                        c);
                    break
                }
        }
        return a
    },
    addPropertyStyles: function (a, b) {
        var c, d;
        for (d in b) c = b[d], "string" == typeof c && c.match(/\$\{\w+\}/) && (a[d] = !0);
        return a
    },
    addRules: function (a) {
        Array.prototype.push.apply(this.rules, a);
        this.propertyStyles = this.findPropertyStyles()
    },
    setDefaultStyle: function (a) {
        this.defaultStyle = a;
        this.propertyStyles = this.findPropertyStyles()
    },
    getSymbolizerPrefix: function (a) {
        for (var b = OpenLayers.Style.SYMBOLIZER_PREFIXES, c = 0, d = b.length; c < d; c++)
            if (-1 != a.CLASS_NAME.indexOf(b[c])) return b[c]
    },
    clone: function () {
        var a =
            OpenLayers.Util.extend({}, this);
        if (this.rules) {
            a.rules = [];
            for (var b = 0, c = this.rules.length; b < c; ++b) a.rules.push(this.rules[b].clone())
        }
        a.context = this.context && OpenLayers.Util.extend({}, this.context);
        b = OpenLayers.Util.extend({}, this.defaultStyle);
        return new OpenLayers.Style(b, a)
    },
    CLASS_NAME: "OpenLayers.Style"
});
OpenLayers.Style.createLiteral = function (a, b, c, d) {
    "string" == typeof a && -1 != a.indexOf("${") && (a = OpenLayers.String.format(a, b, [c, d]), a = isNaN(a) || !a ? a : parseFloat(a));
    return a
};
OpenLayers.Style.SYMBOLIZER_PREFIXES = ["Point", "Line", "Polygon", "Text", "Raster"];
OpenLayers.Filter = OpenLayers.Class({
    initialize: function (a) {
        OpenLayers.Util.extend(this, a)
    },
    destroy: function () {},
    evaluate: function (a) {
        return !0
    },
    clone: function () {
        return null
    },
    toString: function () {
        return OpenLayers.Format && OpenLayers.Format.CQL ? OpenLayers.Format.CQL.prototype.write(this) : Object.prototype.toString.call(this)
    },
    CLASS_NAME: "OpenLayers.Filter"
});
OpenLayers.Filter.Spatial = OpenLayers.Class(OpenLayers.Filter, {
    type: null,
    property: null,
    value: null,
    distance: null,
    distanceUnits: null,
    evaluate: function (a) {
        var b = !1;
        switch (this.type) {
            case OpenLayers.Filter.Spatial.BBOX:
            case OpenLayers.Filter.Spatial.INTERSECTS:
                if (a.geometry) {
                    var c = this.value;
                    "OpenLayers.Bounds" == this.value.CLASS_NAME && (c = this.value.toGeometry());
                    a.geometry.intersects(c) && (b = !0)
                }
                break;
            default:
                throw Error("evaluate is not implemented for this filter type.");
        }
        return b
    },
    clone: function () {
        var a =
            OpenLayers.Util.applyDefaults({
                value: this.value && this.value.clone && this.value.clone()
            }, this);
        return new OpenLayers.Filter.Spatial(a)
    },
    CLASS_NAME: "OpenLayers.Filter.Spatial"
});
OpenLayers.Filter.Spatial.BBOX = "BBOX";
OpenLayers.Filter.Spatial.INTERSECTS = "INTERSECTS";
OpenLayers.Filter.Spatial.DWITHIN = "DWITHIN";
OpenLayers.Filter.Spatial.WITHIN = "WITHIN";
OpenLayers.Filter.Spatial.CONTAINS = "CONTAINS";
OpenLayers.Filter.FeatureId = OpenLayers.Class(OpenLayers.Filter, {
    fids: null,
    type: "FID",
    initialize: function (a) {
        this.fids = [];
        OpenLayers.Filter.prototype.initialize.apply(this, [a])
    },
    evaluate: function (a) {
        for (var b = 0, c = this.fids.length; b < c; b++)
            if ((a.fid || a.id) == this.fids[b]) return !0;
        return !1
    },
    clone: function () {
        var a = new OpenLayers.Filter.FeatureId;
        OpenLayers.Util.extend(a, this);
        a.fids = this.fids.slice();
        return a
    },
    CLASS_NAME: "OpenLayers.Filter.FeatureId"
});
OpenLayers.Format.WFST.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        wfs: "https://www.opengis.net/wfs",
        gml: "https://www.opengis.net/gml",
        ogc: "https://www.opengis.net/ogc",
        ows: "https://www.opengis.net/ows"
    },
    defaultPrefix: "wfs",
    version: null,
    schemaLocations: null,
    srsName: null,
    extractAttributes: !0,
    xy: !0,
    stateName: null,
    initialize: function (a) {
        this.stateName = {};
        this.stateName[OpenLayers.State.INSERT] = "wfs:Insert";
        this.stateName[OpenLayers.State.UPDATE] =
            "wfs:Update";
        this.stateName[OpenLayers.State.DELETE] = "wfs:Delete";
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    getSrsName: function (a, b) {
        var c = b && b.srsName;
        c || (c = a && a.layer ? a.layer.projection.getCode() : this.srsName);
        return c
    },
    read: function (a, b) {
        b = b || {};
        OpenLayers.Util.applyDefaults(b, {
            output: "features"
        });
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var c = {};
        a && this.readNode(a, c, !0);
        c.features && "features" === b.output &&
            (c = c.features);
        return c
    },
    readers: {
        wfs: {
            FeatureCollection: function (a, b) {
                b.features = [];
                this.readChildNodes(a, b)
            }
        }
    },
    write: function (a, b) {
        var c = this.writeNode("wfs:Transaction", {
                features: a,
                options: b
            }),
            d = this.schemaLocationAttr();
        d && this.setAttributeNS(c, this.namespaces.xsi, "xsi:schemaLocation", d);
        return OpenLayers.Format.XML.prototype.write.apply(this, [c])
    },
    writers: {
        wfs: {
            GetFeature: function (a) {
                var b = this.createElementNSPlus("wfs:GetFeature", {
                    attributes: {
                        service: "WFS",
                        version: this.version,
                        handle: a && a.handle,
                        outputFormat: a && a.outputFormat,
                        maxFeatures: a && a.maxFeatures,
                        "xsi:schemaLocation": this.schemaLocationAttr(a)
                    }
                });
                if ("string" == typeof this.featureType) this.writeNode("Query", a, b);
                else
                    for (var c = 0, d = this.featureType.length; c < d; c++) a.featureType = this.featureType[c], this.writeNode("Query", a, b);
                return b
            },
            Transaction: function (a) {
                a = a || {};
                var b = a.options || {},
                    c = this.createElementNSPlus("wfs:Transaction", {
                        attributes: {
                            service: "WFS",
                            version: this.version,
                            handle: b.handle
                        }
                    }),
                    d, e = a.features;
                if (e) {
                    !0 === b.multi && OpenLayers.Util.extend(this.geometryTypes, {
                        "OpenLayers.Geometry.Point": "MultiPoint",
                        "OpenLayers.Geometry.LineString": !0 === this.multiCurve ? "MultiCurve" : "MultiLineString",
                        "OpenLayers.Geometry.Polygon": !0 === this.multiSurface ? "MultiSurface" : "MultiPolygon"
                    });
                    var f, g;
                    a = 0;
                    for (d = e.length; a < d; ++a) g = e[a], (f = this.stateName[g.state]) && this.writeNode(f, {
                        feature: g,
                        options: b
                    }, c);
                    !0 === b.multi && this.setGeometryTypes()
                }
                if (b.nativeElements)
                    for (a = 0, d = b.nativeElements.length; a < d; ++a) this.writeNode("wfs:Native", b.nativeElements[a], c);
                return c
            },
            Native: function (a) {
                return this.createElementNSPlus("wfs:Native", {
                    attributes: {
                        vendorId: a.vendorId,
                        safeToIgnore: a.safeToIgnore
                    },
                    value: a.value
                })
            },
            Insert: function (a) {
                var b = a.feature;
                a = a.options;
                a = this.createElementNSPlus("wfs:Insert", {
                    attributes: {
                        handle: a && a.handle
                    }
                });
                this.srsName = this.getSrsName(b);
                this.writeNode("feature:_typeName", b, a);
                return a
            },
            Update: function (a) {
                var b = a.feature;
                a = a.options;
                a = this.createElementNSPlus("wfs:Update", {
                    attributes: {
                        handle: a && a.handle,
                        typeName: (this.featureNS ? this.featurePrefix + ":" : "") + this.featureType
                    }
                });
                this.featureNS && a.setAttribute("xmlns:" +
                    this.featurePrefix, this.featureNS);
                var c = b.modified;
                null === this.geometryName || c && void 0 === c.geometry || (this.srsName = this.getSrsName(b), this.writeNode("Property", {
                    name: this.geometryName,
                    value: b.geometry
                }, a));
                for (var d in b.attributes) void 0 === b.attributes[d] || c && c.attributes && (!c.attributes || void 0 === c.attributes[d]) || this.writeNode("Property", {
                    name: d,
                    value: b.attributes[d]
                }, a);
                this.writeNode("ogc:Filter", new OpenLayers.Filter.FeatureId({
                    fids: [b.fid]
                }), a);
                return a
            },
            Property: function (a) {
                var b = this.createElementNSPlus("wfs:Property");
                this.writeNode("Name", a.name, b);
                null !== a.value && this.writeNode("Value", a.value, b);
                return b
            },
            Name: function (a) {
                return this.createElementNSPlus("wfs:Name", {
                    value: a
                })
            },
            Value: function (a) {
                var b;
                a instanceof OpenLayers.Geometry ? (b = this.createElementNSPlus("wfs:Value"), a = this.writeNode("feature:_geometry", a).firstChild, b.appendChild(a)) : b = this.createElementNSPlus("wfs:Value", {
                    value: a
                });
                return b
            },
            Delete: function (a) {
                var b = a.feature;
                a = a.options;
                a = this.createElementNSPlus("wfs:Delete", {
                    attributes: {
                        handle: a &&
                            a.handle,
                        typeName: (this.featureNS ? this.featurePrefix + ":" : "") + this.featureType
                    }
                });
                this.featureNS && a.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
                this.writeNode("ogc:Filter", new OpenLayers.Filter.FeatureId({
                    fids: [b.fid]
                }), a);
                return a
            }
        }
    },
    schemaLocationAttr: function (a) {
        a = OpenLayers.Util.extend({
            featurePrefix: this.featurePrefix,
            schema: this.schema
        }, a);
        var b = OpenLayers.Util.extend({}, this.schemaLocations);
        a.schema && (b[a.featurePrefix] = a.schema);
        a = [];
        var c, d;
        for (d in b)(c = this.namespaces[d]) &&
            a.push(c + " " + b[d]);
        return a.join(" ") || void 0
    },
    setFilterProperty: function (a) {
        if (a.filters)
            for (var b = 0, c = a.filters.length; b < c; ++b) OpenLayers.Format.WFST.v1.prototype.setFilterProperty.call(this, a.filters[b]);
        else a instanceof OpenLayers.Filter.Spatial && !a.property && (a.property = this.geometryName)
    },
    CLASS_NAME: "OpenLayers.Format.WFST.v1"
});
OpenLayers.Format.OGCExceptionReport = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ogc: "https://www.opengis.net/ogc"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    defaultPrefix: "ogc",
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = {
            exceptionReport: null
        };
        a.documentElement && (this.readChildNodes(a, b), null === b.exceptionReport && (b = (new OpenLayers.Format.OWSCommon).read(a)));
        return b
    },
    readers: {
        ogc: {
            ServiceExceptionReport: function (a,
                b) {
                b.exceptionReport = {
                    exceptions: []
                };
                this.readChildNodes(a, b.exceptionReport)
            },
            ServiceException: function (a, b) {
                var c = {
                    code: a.getAttribute("code"),
                    locator: a.getAttribute("locator"),
                    text: this.getChildValue(a)
                };
                b.exceptions.push(c)
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.OGCExceptionReport"
});
OpenLayers.Format.XML.VersionedOGC = OpenLayers.Class(OpenLayers.Format.XML, {
    defaultVersion: null,
    version: null,
    profile: null,
    allowFallback: !1,
    name: null,
    stringifyOutput: !1,
    parser: null,
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a]);
        a = this.CLASS_NAME;
        this.name = a.substring(a.lastIndexOf(".") + 1)
    },
    getVersion: function (a, b) {
        var c;
        a ? (c = this.version, c || (c = a.getAttribute("version"), c || (c = this.defaultVersion))) : c = b && b.version || this.version || this.defaultVersion;
        return c
    },
    getParser: function (a) {
        a =
            a || this.defaultVersion;
        var b = this.profile ? "_" + this.profile : "";
        if (!this.parser || this.parser.VERSION != a) {
            var c = OpenLayers.Format[this.name]["v" + a.replace(/\./g, "_") + b];
            if (!c && ("" !== b && this.allowFallback && (b = "", c = OpenLayers.Format[this.name]["v" + a.replace(/\./g, "_")]), !c)) throw "Can't find a " + this.name + " parser for version " + a + b;
            this.parser = new c(this.options)
        }
        return this.parser
    },
    write: function (a, b) {
        var c = this.getVersion(null, b);
        this.parser = this.getParser(c);
        c = this.parser.write(a, b);
        return !1 === this.stringifyOutput ?
            c : OpenLayers.Format.XML.prototype.write.apply(this, [c])
    },
    read: function (a, b) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var c = this.getVersion(a.documentElement);
        this.parser = this.getParser(c);
        var d = this.parser.read(a, b),
            e = this.parser.errorProperty || null;
        null !== e && void 0 === d[e] && (e = new OpenLayers.Format.OGCExceptionReport, d.error = e.read(a));
        d.version = c;
        return d
    },
    CLASS_NAME: "OpenLayers.Format.XML.VersionedOGC"
});
OpenLayers.Filter.Logical = OpenLayers.Class(OpenLayers.Filter, {
    filters: null,
    type: null,
    initialize: function (a) {
        this.filters = [];
        OpenLayers.Filter.prototype.initialize.apply(this, [a])
    },
    destroy: function () {
        this.filters = null;
        OpenLayers.Filter.prototype.destroy.apply(this)
    },
    evaluate: function (a) {
        var b, c;
        switch (this.type) {
            case OpenLayers.Filter.Logical.AND:
                b = 0;
                for (c = this.filters.length; b < c; b++)
                    if (!1 == this.filters[b].evaluate(a)) return !1;
                return !0;
            case OpenLayers.Filter.Logical.OR:
                b = 0;
                for (c = this.filters.length; b <
                    c; b++)
                    if (!0 == this.filters[b].evaluate(a)) return !0;
                return !1;
            case OpenLayers.Filter.Logical.NOT:
                return !this.filters[0].evaluate(a)
        }
    },
    clone: function () {
        for (var a = [], b = 0, c = this.filters.length; b < c; ++b) a.push(this.filters[b].clone());
        return new OpenLayers.Filter.Logical({
            type: this.type,
            filters: a
        })
    },
    CLASS_NAME: "OpenLayers.Filter.Logical"
});
OpenLayers.Filter.Logical.AND = "&&";
OpenLayers.Filter.Logical.OR = "||";
OpenLayers.Filter.Logical.NOT = "!";
OpenLayers.Filter.Comparison = OpenLayers.Class(OpenLayers.Filter, {
    type: null,
    property: null,
    value: null,
    matchCase: !0,
    lowerBoundary: null,
    upperBoundary: null,
    initialize: function (a) {
        OpenLayers.Filter.prototype.initialize.apply(this, [a]);
        this.type === OpenLayers.Filter.Comparison.LIKE && void 0 === a.matchCase && (this.matchCase = null)
    },
    evaluate: function (a) {
        a instanceof OpenLayers.Feature.Vector && (a = a.attributes);
        var b = !1;
        a = a[this.property];
        switch (this.type) {
            case OpenLayers.Filter.Comparison.EQUAL_TO:
                b = this.value;
                b = this.matchCase || "string" != typeof a || "string" != typeof b ? a == b : a.toUpperCase() == b.toUpperCase();
                break;
            case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:
                b = this.value;
                b = this.matchCase || "string" != typeof a || "string" != typeof b ? a != b : a.toUpperCase() != b.toUpperCase();
                break;
            case OpenLayers.Filter.Comparison.LESS_THAN:
                b = a < this.value;
                break;
            case OpenLayers.Filter.Comparison.GREATER_THAN:
                b = a > this.value;
                break;
            case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:
                b = a <= this.value;
                break;
            case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:
                b =
                    a >= this.value;
                break;
            case OpenLayers.Filter.Comparison.BETWEEN:
                b = a >= this.lowerBoundary && a <= this.upperBoundary;
                break;
            case OpenLayers.Filter.Comparison.LIKE:
                b = RegExp(this.value, "gi").test(a);
                break;
            case OpenLayers.Filter.Comparison.IS_NULL:
                b = null === a
        }
        return b
    },
    value2regex: function (a, b, c) {
        if ("." == a) throw Error("'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison");
        a = a ? a : "*";
        b = b ? b : ".";
        this.value = this.value.replace(RegExp("\\" + (c ? c : "!") + "(.|$)", "g"), "\\$1");
        this.value = this.value.replace(RegExp("\\" +
            b, "g"), ".");
        this.value = this.value.replace(RegExp("\\" + a, "g"), ".*");
        this.value = this.value.replace(RegExp("\\\\.\\*", "g"), "\\" + a);
        return this.value = this.value.replace(RegExp("\\\\\\.", "g"), "\\" + b)
    },
    regex2value: function () {
        var a = this.value,
            a = a.replace(/!/g, "!!"),
            a = a.replace(/(\\)?\\\./g, function (a, c) {
                return c ? a : "!."
            }),
            a = a.replace(/(\\)?\\\*/g, function (a, c) {
                return c ? a : "!*"
            }),
            a = a.replace(/\\\\/g, "\\");
        return a = a.replace(/\.\*/g, "*")
    },
    clone: function () {
        return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison,
            this)
    },
    CLASS_NAME: "OpenLayers.Filter.Comparison"
});
OpenLayers.Filter.Comparison.EQUAL_TO = "==";
OpenLayers.Filter.Comparison.NOT_EQUAL_TO = "!=";
OpenLayers.Filter.Comparison.LESS_THAN = "<";
OpenLayers.Filter.Comparison.GREATER_THAN = ">";
OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO = "<=";
OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO = ">=";
OpenLayers.Filter.Comparison.BETWEEN = "..";
OpenLayers.Filter.Comparison.LIKE = "~";
OpenLayers.Filter.Comparison.IS_NULL = "NULL";
OpenLayers.Format.Filter = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.0.0",
    CLASS_NAME: "OpenLayers.Format.Filter"
});
OpenLayers.Filter.Function = OpenLayers.Class(OpenLayers.Filter, {
    name: null,
    params: null,
    CLASS_NAME: "OpenLayers.Filter.Function"
});
OpenLayers.Date = {
    dateRegEx: /^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/,
    toISOString: function () {
        return "toISOString" in Date.prototype ? function (a) {
            return a.toISOString()
        } : function (a) {
            return isNaN(a.getTime()) ? "Invalid Date" : a.getUTCFullYear() + "-" + OpenLayers.Number.zeroPad(a.getUTCMonth() + 1, 2) + "-" + OpenLayers.Number.zeroPad(a.getUTCDate(), 2) + "T" + OpenLayers.Number.zeroPad(a.getUTCHours(), 2) + ":" + OpenLayers.Number.zeroPad(a.getUTCMinutes(),
                2) + ":" + OpenLayers.Number.zeroPad(a.getUTCSeconds(), 2) + "." + OpenLayers.Number.zeroPad(a.getUTCMilliseconds(), 3) + "Z"
        }
    }(),
    parse: function (a) {
        var b;
        if ((a = a.match(this.dateRegEx)) && (a[1] || a[7])) {
            b = parseInt(a[1], 10) || 0;
            var c = parseInt(a[2], 10) - 1 || 0,
                d = parseInt(a[3], 10) || 1;
            b = new Date(Date.UTC(b, c, d));
            if (c = a[7]) {
                var d = parseInt(a[4], 10),
                    e = parseInt(a[5], 10),
                    f = parseFloat(a[6]),
                    g = f | 0,
                    f = Math.round(1E3 * (f - g));
                b.setUTCHours(d, e, g, f);
                "Z" !== c && (c = parseInt(c, 10), a = parseInt(a[8], 10) || 0, a = -1E3 * (60 * 60 * c + 60 * a), b = new Date(b.getTime() +
                    a))
            }
        } else b = new Date("invalid");
        return b
    }
};
OpenLayers.Format.Filter.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ogc: "https://www.opengis.net/ogc",
        gml: "https://www.opengis.net/gml",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    defaultPrefix: "ogc",
    schemaLocation: null,
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        var b = {};
        this.readers.ogc.Filter.apply(this, [a, b]);
        return b.filter
    },
    readers: {
        ogc: {
            _expression: function (a) {
                for (var b = "", c = a.firstChild; c; c =
                    c.nextSibling) switch (c.nodeType) {
                    case 1:
                        a = this.readNode(c);
                        a.property ? b += "${" + a.property + "}" : void 0 !== a.value && (b += a.value);
                        break;
                    case 3:
                    case 4:
                        b += c.nodeValue
                }
                return b
            },
            Filter: function (a, b) {
                var c = {
                    fids: [],
                    filters: []
                };
                this.readChildNodes(a, c);
                0 < c.fids.length ? b.filter = new OpenLayers.Filter.FeatureId({
                    fids: c.fids
                }) : 0 < c.filters.length && (b.filter = c.filters[0])
            },
            FeatureId: function (a, b) {
                var c = a.getAttribute("fid");
                c && b.fids.push(c)
            },
            And: function (a, b) {
                var c = new OpenLayers.Filter.Logical({
                    type: OpenLayers.Filter.Logical.AND
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            Or: function (a, b) {
                var c = new OpenLayers.Filter.Logical({
                    type: OpenLayers.Filter.Logical.OR
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            Not: function (a, b) {
                var c = new OpenLayers.Filter.Logical({
                    type: OpenLayers.Filter.Logical.NOT
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsLessThan: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.LESS_THAN
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsGreaterThan: function (a,
                b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.GREATER_THAN
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsLessThanOrEqualTo: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsGreaterThanOrEqualTo: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsBetween: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.BETWEEN
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            Literal: function (a, b) {
                b.value = OpenLayers.String.numericIf(this.getChildValue(a), !0)
            },
            PropertyName: function (a, b) {
                b.property = this.getChildValue(a)
            },
            LowerBoundary: function (a, b) {
                b.lowerBoundary = OpenLayers.String.numericIf(this.readers.ogc._expression.call(this, a), !0)
            },
            UpperBoundary: function (a, b) {
                b.upperBoundary = OpenLayers.String.numericIf(this.readers.ogc._expression.call(this,
                    a), !0)
            },
            Intersects: function (a, b) {
                this.readSpatial(a, b, OpenLayers.Filter.Spatial.INTERSECTS)
            },
            Within: function (a, b) {
                this.readSpatial(a, b, OpenLayers.Filter.Spatial.WITHIN)
            },
            Contains: function (a, b) {
                this.readSpatial(a, b, OpenLayers.Filter.Spatial.CONTAINS)
            },
            DWithin: function (a, b) {
                this.readSpatial(a, b, OpenLayers.Filter.Spatial.DWITHIN)
            },
            Distance: function (a, b) {
                b.distance = parseInt(this.getChildValue(a));
                b.distanceUnits = a.getAttribute("units")
            },
            Function: function (a, b) {},
            PropertyIsNull: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.IS_NULL
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            }
        }
    },
    readSpatial: function (a, b, c) {
        c = new OpenLayers.Filter.Spatial({
            type: c
        });
        this.readChildNodes(a, c);
        c.value = c.components[0];
        delete c.components;
        b.filters.push(c)
    },
    encodeLiteral: function (a) {
        a instanceof Date && (a = OpenLayers.Date.toISOString(a));
        return a
    },
    writeOgcExpression: function (a, b) {
        a instanceof OpenLayers.Filter.Function ? this.writeNode("Function", a, b) : this.writeNode("Literal", a, b);
        return b
    },
    write: function (a) {
        return this.writers.ogc.Filter.apply(this, [a])
    },
    writers: {
        ogc: {
            Filter: function (a) {
                var b = this.createElementNSPlus("ogc:Filter");
                this.writeNode(this.getFilterType(a), a, b);
                return b
            },
            _featureIds: function (a) {
                for (var b = this.createDocumentFragment(), c = 0, d = a.fids.length; c < d; ++c) this.writeNode("ogc:FeatureId", a.fids[c], b);
                return b
            },
            FeatureId: function (a) {
                return this.createElementNSPlus("ogc:FeatureId", {
                    attributes: {
                        fid: a
                    }
                })
            },
            And: function (a) {
                for (var b = this.createElementNSPlus("ogc:And"), c, d = 0, e = a.filters.length; d < e; ++d) c = a.filters[d], this.writeNode(this.getFilterType(c),
                    c, b);
                return b
            },
            Or: function (a) {
                for (var b = this.createElementNSPlus("ogc:Or"), c, d = 0, e = a.filters.length; d < e; ++d) c = a.filters[d], this.writeNode(this.getFilterType(c), c, b);
                return b
            },
            Not: function (a) {
                var b = this.createElementNSPlus("ogc:Not");
                a = a.filters[0];
                this.writeNode(this.getFilterType(a), a, b);
                return b
            },
            PropertyIsLessThan: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsLessThan");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsGreaterThan: function (a) {
                var b =
                    this.createElementNSPlus("ogc:PropertyIsGreaterThan");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsLessThanOrEqualTo: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsLessThanOrEqualTo");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsGreaterThanOrEqualTo: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsGreaterThanOrEqualTo");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsBetween: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsBetween");
                this.writeNode("PropertyName", a, b);
                this.writeNode("LowerBoundary", a, b);
                this.writeNode("UpperBoundary", a, b);
                return b
            },
            PropertyName: function (a) {
                return this.createElementNSPlus("ogc:PropertyName", {
                    value: a.property
                })
            },
            Literal: function (a) {
                return this.createElementNSPlus("ogc:Literal", {
                    value: (this.encodeLiteral || OpenLayers.Format.Filter.v1.prototype.encodeLiteral)(a)
                })
            },
            LowerBoundary: function (a) {
                var b = this.createElementNSPlus("ogc:LowerBoundary");
                this.writeOgcExpression(a.lowerBoundary, b);
                return b
            },
            UpperBoundary: function (a) {
                var b = this.createElementNSPlus("ogc:UpperBoundary");
                this.writeNode("Literal", a.upperBoundary, b);
                return b
            },
            INTERSECTS: function (a) {
                return this.writeSpatial(a, "Intersects")
            },
            WITHIN: function (a) {
                return this.writeSpatial(a, "Within")
            },
            CONTAINS: function (a) {
                return this.writeSpatial(a, "Contains")
            },
            DWITHIN: function (a) {
                var b = this.writeSpatial(a, "DWithin");
                this.writeNode("Distance", a, b);
                return b
            },
            Distance: function (a) {
                return this.createElementNSPlus("ogc:Distance", {
                    attributes: {
                        units: a.distanceUnits
                    },
                    value: a.distance
                })
            },
            Function: function (a) {
                var b = this.createElementNSPlus("ogc:Function", {
                    attributes: {
                        name: a.name
                    }
                });
                a = a.params;
                for (var c = 0, d = a.length; c < d; c++) this.writeOgcExpression(a[c], b);
                return b
            },
            PropertyIsNull: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsNull");
                this.writeNode("PropertyName", a, b);
                return b
            }
        }
    },
    getFilterType: function (a) {
        var b = this.filterMap[a.type];
        if (!b) throw "Filter writing not supported for rule type: " + a.type;
        return b
    },
    filterMap: {
        "&&": "And",
        "||": "Or",
        "!": "Not",
        "==": "PropertyIsEqualTo",
        "!=": "PropertyIsNotEqualTo",
        "<": "PropertyIsLessThan",
        ">": "PropertyIsGreaterThan",
        "<=": "PropertyIsLessThanOrEqualTo",
        ">=": "PropertyIsGreaterThanOrEqualTo",
        "..": "PropertyIsBetween",
        "~": "PropertyIsLike",
        NULL: "PropertyIsNull",
        BBOX: "BBOX",
        DWITHIN: "DWITHIN",
        WITHIN: "WITHIN",
        CONTAINS: "CONTAINS",
        INTERSECTS: "INTERSECTS",
        FID: "_featureIds"
    },
    CLASS_NAME: "OpenLayers.Format.Filter.v1"
});
OpenLayers.Geometry = OpenLayers.Class({
    id: null,
    parent: null,
    bounds: null,
    initialize: function () {
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    destroy: function () {
        this.bounds = this.id = null
    },
    clone: function () {
        return new OpenLayers.Geometry
    },
    setBounds: function (a) {
        a && (this.bounds = a.clone())
    },
    clearBounds: function () {
        this.bounds = null;
        this.parent && this.parent.clearBounds()
    },
    extendBounds: function (a) {
        this.getBounds() ? this.bounds.extend(a) : this.setBounds(a)
    },
    getBounds: function () {
        null == this.bounds && this.calculateBounds();
        return this.bounds
    },
    calculateBounds: function () {},
    distanceTo: function (a, b) {},
    getVertices: function (a) {},
    atPoint: function (a, b, c) {
        var d = !1;
        null != this.getBounds() && null != a && (b = null != b ? b : 0, c = null != c ? c : 0, d = (new OpenLayers.Bounds(this.bounds.left - b, this.bounds.bottom - c, this.bounds.right + b, this.bounds.top + c)).containsLonLat(a));
        return d
    },
    getLength: function () {
        return 0
    },
    getArea: function () {
        return 0
    },
    getCentroid: function () {
        return null
    },
    toString: function () {
        return OpenLayers.Format && OpenLayers.Format.WKT ? OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this)) :
            Object.prototype.toString.call(this)
    },
    CLASS_NAME: "OpenLayers.Geometry"
});
OpenLayers.Geometry.fromWKT = function (a) {
    var b;
    if (OpenLayers.Format && OpenLayers.Format.WKT) {
        var c = OpenLayers.Geometry.fromWKT.format;
        c || (c = new OpenLayers.Format.WKT, OpenLayers.Geometry.fromWKT.format = c);
        a = c.read(a);
        if (a instanceof OpenLayers.Feature.Vector) b = a.geometry;
        else if (OpenLayers.Util.isArray(a)) {
            b = a.length;
            for (var c = Array(b), d = 0; d < b; ++d) c[d] = a[d].geometry;
            b = new OpenLayers.Geometry.Collection(c)
        }
    }
    return b
};
OpenLayers.Geometry.segmentsIntersect = function (a, b, c) {
    var d = c && c.point;
    c = c && c.tolerance;
    var e = !1,
        f = a.x1 - b.x1,
        g = a.y1 - b.y1,
        h = a.x2 - a.x1,
        k = a.y2 - a.y1,
        l = b.y2 - b.y1,
        m = b.x2 - b.x1,
        n = l * h - m * k,
        l = m * g - l * f,
        g = h * g - k * f;
    0 == n ? 0 == l && 0 == g && (e = !0) : (f = l / n, n = g / n, 0 <= f && (1 >= f && 0 <= n && 1 >= n) && (d ? (h = a.x1 + f * h, n = a.y1 + f * k, e = new OpenLayers.Geometry.Point(h, n)) : e = !0));
    if (c)
        if (e) {
            if (d) a: for (a = [a, b], b = 0; 2 > b; ++b)
                for (f = a[b], k = 1; 3 > k; ++k)
                    if (h = f["x" + k], n = f["y" + k], d = Math.sqrt(Math.pow(h - e.x, 2) + Math.pow(n - e.y, 2)), d < c) {
                        e.x = h;
                        e.y = n;
                        break a
                    }
        } else a: for (a = [a, b], b = 0; 2 > b; ++b)
            for (h = a[b], n = a[(b + 1) % 2], k = 1; 3 > k; ++k)
                if (f = {
                        x: h["x" + k],
                        y: h["y" + k]
                    }, g = OpenLayers.Geometry.distanceToSegment(f, n), g.distance < c) {
                    e = d ? new OpenLayers.Geometry.Point(f.x, f.y) : !0;
                    break a
                } return e
};
OpenLayers.Geometry.distanceToSegment = function (a, b) {
    var c = OpenLayers.Geometry.distanceSquaredToSegment(a, b);
    c.distance = Math.sqrt(c.distance);
    return c
};
OpenLayers.Geometry.distanceSquaredToSegment = function (a, b) {
    var c = a.x,
        d = a.y,
        e = b.x1,
        f = b.y1,
        g = b.x2,
        h = b.y2,
        k = g - e,
        l = h - f,
        m = (k * (c - e) + l * (d - f)) / (Math.pow(k, 2) + Math.pow(l, 2));
    0 >= m || (1 <= m ? (e = g, f = h) : (e += m * k, f += m * l));
    return {
        distance: Math.pow(e - c, 2) + Math.pow(f - d, 2),
        x: e,
        y: f,
        along: m
    }
};
OpenLayers.Geometry.Point = OpenLayers.Class(OpenLayers.Geometry, {
    x: null,
    y: null,
    initialize: function (a, b) {
        OpenLayers.Geometry.prototype.initialize.apply(this, arguments);
        this.x = parseFloat(a);
        this.y = parseFloat(b)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Geometry.Point(this.x, this.y));
        OpenLayers.Util.applyDefaults(a, this);
        return a
    },
    calculateBounds: function () {
        this.bounds = new OpenLayers.Bounds(this.x, this.y, this.x, this.y)
    },
    distanceTo: function (a, b) {
        var c = !(b && !1 === b.edge) && b && b.details,
            d, e, f, g, h;
        a instanceof
        OpenLayers.Geometry.Point ? (e = this.x, f = this.y, g = a.x, h = a.y, d = Math.sqrt(Math.pow(e - g, 2) + Math.pow(f - h, 2)), d = c ? {
            x0: e,
            y0: f,
            x1: g,
            y1: h,
            distance: d
        } : d) : (d = a.distanceTo(this, b), c && (d = {
            x0: d.x1,
            y0: d.y1,
            x1: d.x0,
            y1: d.y0,
            distance: d.distance
        }));
        return d
    },
    equals: function (a) {
        var b = !1;
        null != a && (b = this.x == a.x && this.y == a.y || isNaN(this.x) && isNaN(this.y) && isNaN(a.x) && isNaN(a.y));
        return b
    },
    toShortString: function () {
        return this.x + ", " + this.y
    },
    move: function (a, b) {
        this.x += a;
        this.y += b;
        this.clearBounds()
    },
    rotate: function (a, b) {
        a *=
            Math.PI / 180;
        var c = this.distanceTo(b),
            d = a + Math.atan2(this.y - b.y, this.x - b.x);
        this.x = b.x + c * Math.cos(d);
        this.y = b.y + c * Math.sin(d);
        this.clearBounds()
    },
    getCentroid: function () {
        return new OpenLayers.Geometry.Point(this.x, this.y)
    },
    resize: function (a, b, c) {
        this.x = b.x + a * (void 0 == c ? 1 : c) * (this.x - b.x);
        this.y = b.y + a * (this.y - b.y);
        this.clearBounds();
        return this
    },
    intersects: function (a) {
        var b = !1;
        return b = "OpenLayers.Geometry.Point" == a.CLASS_NAME ? this.equals(a) : a.intersects(this)
    },
    transform: function (a, b) {
        a && b && (OpenLayers.Projection.transform(this,
            a, b), this.bounds = null);
        return this
    },
    getVertices: function (a) {
        return [this]
    },
    CLASS_NAME: "OpenLayers.Geometry.Point"
});
OpenLayers.Geometry.Collection = OpenLayers.Class(OpenLayers.Geometry, {
    components: null,
    componentTypes: null,
    initialize: function (a) {
        OpenLayers.Geometry.prototype.initialize.apply(this, arguments);
        this.components = [];
        null != a && this.addComponents(a)
    },
    destroy: function () {
        this.components.length = 0;
        this.components = null;
        OpenLayers.Geometry.prototype.destroy.apply(this, arguments)
    },
    clone: function () {
        for (var a = eval("new " + this.CLASS_NAME + "()"), b = 0, c = this.components.length; b < c; b++) a.addComponent(this.components[b].clone());
        OpenLayers.Util.applyDefaults(a, this);
        return a
    },
    getComponentsString: function () {
        for (var a = [], b = 0, c = this.components.length; b < c; b++) a.push(this.components[b].toShortString());
        return a.join(",")
    },
    calculateBounds: function () {
        this.bounds = null;
        var a = new OpenLayers.Bounds,
            b = this.components;
        if (b)
            for (var c = 0, d = b.length; c < d; c++) a.extend(b[c].getBounds());
        null != a.left && (null != a.bottom && null != a.right && null != a.top) && this.setBounds(a)
    },
    addComponents: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var b = 0, c = a.length; b <
            c; b++) this.addComponent(a[b])
    },
    addComponent: function (a, b) {
        var c = !1;
        if (a && (null == this.componentTypes || -1 < OpenLayers.Util.indexOf(this.componentTypes, a.CLASS_NAME))) {
            if (null != b && b < this.components.length) {
                var c = this.components.slice(0, b),
                    d = this.components.slice(b, this.components.length);
                c.push(a);
                this.components = c.concat(d)
            } else this.components.push(a);
            a.parent = this;
            this.clearBounds();
            c = !0
        }
        return c
    },
    removeComponents: function (a) {
        var b = !1;
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var c = a.length - 1; 0 <= c; --c) b =
            this.removeComponent(a[c]) || b;
        return b
    },
    removeComponent: function (a) {
        OpenLayers.Util.removeItem(this.components, a);
        this.clearBounds();
        return !0
    },
    getLength: function () {
        for (var a = 0, b = 0, c = this.components.length; b < c; b++) a += this.components[b].getLength();
        return a
    },
    getArea: function () {
        for (var a = 0, b = 0, c = this.components.length; b < c; b++) a += this.components[b].getArea();
        return a
    },
    getGeodesicArea: function (a) {
        for (var b = 0, c = 0, d = this.components.length; c < d; c++) b += this.components[c].getGeodesicArea(a);
        return b
    },
    getCentroid: function (a) {
        if (!a) return this.components.length &&
            this.components[0].getCentroid();
        a = this.components.length;
        if (!a) return !1;
        for (var b = [], c = [], d = 0, e = Number.MAX_VALUE, f, g = 0; g < a; ++g) {
            f = this.components[g];
            var h = f.getArea();
            f = f.getCentroid(!0);
            isNaN(h) || (isNaN(f.x) || isNaN(f.y)) || (b.push(h), d += h, e = h < e && 0 < h ? h : e, c.push(f))
        }
        a = b.length;
        if (0 === d) {
            for (g = 0; g < a; ++g) b[g] = 1;
            d = b.length
        } else {
            for (g = 0; g < a; ++g) b[g] /= e;
            d /= e
        }
        for (var k = e = 0, g = 0; g < a; ++g) f = c[g], h = b[g], e += f.x * h, k += f.y * h;
        return new OpenLayers.Geometry.Point(e / d, k / d)
    },
    getGeodesicLength: function (a) {
        for (var b = 0,
                c = 0, d = this.components.length; c < d; c++) b += this.components[c].getGeodesicLength(a);
        return b
    },
    move: function (a, b) {
        for (var c = 0, d = this.components.length; c < d; c++) this.components[c].move(a, b)
    },
    rotate: function (a, b) {
        for (var c = 0, d = this.components.length; c < d; ++c) this.components[c].rotate(a, b)
    },
    resize: function (a, b, c) {
        for (var d = 0; d < this.components.length; ++d) this.components[d].resize(a, b, c);
        return this
    },
    distanceTo: function (a, b) {
        for (var c = !(b && !1 === b.edge) && b && b.details, d, e, f, g = Number.POSITIVE_INFINITY, h = 0, k = this.components.length; h <
            k && !(d = this.components[h].distanceTo(a, b), f = c ? d.distance : d, f < g && (g = f, e = d, 0 == g)); ++h);
        return e
    },
    equals: function (a) {
        var b = !0;
        if (a && a.CLASS_NAME && this.CLASS_NAME == a.CLASS_NAME)
            if (OpenLayers.Util.isArray(a.components) && a.components.length == this.components.length)
                for (var c = 0, d = this.components.length; c < d; ++c) {
                    if (!this.components[c].equals(a.components[c])) {
                        b = !1;
                        break
                    }
                } else b = !1;
            else b = !1;
        return b
    },
    transform: function (a, b) {
        if (a && b) {
            for (var c = 0, d = this.components.length; c < d; c++) this.components[c].transform(a,
                b);
            this.bounds = null
        }
        return this
    },
    intersects: function (a) {
        for (var b = !1, c = 0, d = this.components.length; c < d && !(b = a.intersects(this.components[c])); ++c);
        return b
    },
    getVertices: function (a) {
        for (var b = [], c = 0, d = this.components.length; c < d; ++c) Array.prototype.push.apply(b, this.components[c].getVertices(a));
        return b
    },
    CLASS_NAME: "OpenLayers.Geometry.Collection"
});
OpenLayers.Geometry.MultiPoint = OpenLayers.Class(OpenLayers.Geometry.Collection, {
    componentTypes: ["OpenLayers.Geometry.Point"],
    addPoint: function (a, b) {
        this.addComponent(a, b)
    },
    removePoint: function (a) {
        this.removeComponent(a)
    },
    CLASS_NAME: "OpenLayers.Geometry.MultiPoint"
});
OpenLayers.Geometry.Curve = OpenLayers.Class(OpenLayers.Geometry.MultiPoint, {
    componentTypes: ["OpenLayers.Geometry.Point"],
    getLength: function () {
        var a = 0;
        if (this.components && 1 < this.components.length)
            for (var b = 1, c = this.components.length; b < c; b++) a += this.components[b - 1].distanceTo(this.components[b]);
        return a
    },
    getGeodesicLength: function (a) {
        var b = this;
        if (a) {
            var c = new OpenLayers.Projection("EPSG:4326");
            c.equals(a) || (b = this.clone().transform(a, c))
        }
        a = 0;
        if (b.components && 1 < b.components.length)
            for (var d, e = 1, f = b.components.length; e <
                f; e++) c = b.components[e - 1], d = b.components[e], a += OpenLayers.Util.distVincenty({
                lon: c.x,
                lat: c.y
            }, {
                lon: d.x,
                lat: d.y
            });
        return 1E3 * a
    },
    CLASS_NAME: "OpenLayers.Geometry.Curve"
});
OpenLayers.Geometry.LineString = OpenLayers.Class(OpenLayers.Geometry.Curve, {
    removeComponent: function (a) {
        var b = this.components && 2 < this.components.length;
        b && OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this, arguments);
        return b
    },
    intersects: function (a) {
        var b = !1,
            c = a.CLASS_NAME;
        if ("OpenLayers.Geometry.LineString" == c || "OpenLayers.Geometry.LinearRing" == c || "OpenLayers.Geometry.Point" == c) {
            var d = this.getSortedSegments();
            a = "OpenLayers.Geometry.Point" == c ? [{
                x1: a.x,
                y1: a.y,
                x2: a.x,
                y2: a.y
            }] : a.getSortedSegments();
            var e, f, g, h, k, l, m, n = 0,
                p = d.length;
            a: for (; n < p; ++n) {
                c = d[n];
                e = c.x1;
                f = c.x2;
                g = c.y1;
                h = c.y2;
                var q = 0,
                    r = a.length;
                for (; q < r; ++q) {
                    k = a[q];
                    if (k.x1 > f) break;
                    if (!(k.x2 < e || (l = k.y1, m = k.y2, Math.min(l, m) > Math.max(g, h) || Math.max(l, m) < Math.min(g, h) || !OpenLayers.Geometry.segmentsIntersect(c, k)))) {
                        b = !0;
                        break a
                    }
                }
            }
        } else b = a.intersects(this);
        return b
    },
    getSortedSegments: function () {
        for (var a = this.components.length - 1, b = Array(a), c, d, e = 0; e < a; ++e) c = this.components[e], d = this.components[e + 1], b[e] = c.x < d.x ? {
            x1: c.x,
            y1: c.y,
            x2: d.x,
            y2: d.y
        } : {
            x1: d.x,
            y1: d.y,
            x2: c.x,
            y2: c.y
        };
        return b.sort(function (a, b) {
            return a.x1 - b.x1
        })
    },
    splitWithSegment: function (a, b) {
        for (var c = !(b && !1 === b.edge), d = b && b.tolerance, e = [], f = this.getVertices(), g = [], h = [], k = !1, l, m, n, p = {
                point: !0,
                tolerance: d
            }, q = null, r = 0, s = f.length - 2; r <= s; ++r)
            if (d = f[r], g.push(d.clone()), l = f[r + 1], m = {
                    x1: d.x,
                    y1: d.y,
                    x2: l.x,
                    y2: l.y
                }, m = OpenLayers.Geometry.segmentsIntersect(a, m, p), m instanceof OpenLayers.Geometry.Point && ((n = m.x === a.x1 && m.y === a.y1 || m.x === a.x2 && m.y === a.y2 || m.equals(d) || m.equals(l) ? !0 : !1) || c)) m.equals(h[h.length -
                1]) || h.push(m.clone()), 0 === r && m.equals(d) || m.equals(l) || (k = !0, m.equals(d) || g.push(m), e.push(new OpenLayers.Geometry.LineString(g)), g = [m.clone()]);
        k && (g.push(l.clone()), e.push(new OpenLayers.Geometry.LineString(g)));
        if (0 < h.length) var t = a.x1 < a.x2 ? 1 : -1,
            u = a.y1 < a.y2 ? 1 : -1,
            q = {
                lines: e,
                points: h.sort(function (a, b) {
                    return t * a.x - t * b.x || u * a.y - u * b.y
                })
            };
        return q
    },
    split: function (a, b) {
        var c = null,
            d = b && b.mutual,
            e, f, g, h;
        if (a instanceof OpenLayers.Geometry.LineString) {
            var k = this.getVertices(),
                l, m, n, p, q, r = [];
            g = [];
            for (var s =
                    0, t = k.length - 2; s <= t; ++s) {
                l = k[s];
                m = k[s + 1];
                n = {
                    x1: l.x,
                    y1: l.y,
                    x2: m.x,
                    y2: m.y
                };
                h = h || [a];
                d && r.push(l.clone());
                for (var u = 0; u < h.length; ++u)
                    if (p = h[u].splitWithSegment(n, b))
                        if (q = p.lines, 0 < q.length && (q.unshift(u, 1), Array.prototype.splice.apply(h, q), u += q.length - 2), d)
                            for (var v = 0, w = p.points.length; v < w; ++v) q = p.points[v], q.equals(l) || (r.push(q), g.push(new OpenLayers.Geometry.LineString(r)), r = q.equals(m) ? [] : [q.clone()])
            }
            d && (0 < g.length && 0 < r.length) && (r.push(m.clone()), g.push(new OpenLayers.Geometry.LineString(r)))
        } else c =
            a.splitWith(this, b);
        h && 1 < h.length ? f = !0 : h = [];
        g && 1 < g.length ? e = !0 : g = [];
        if (f || e) c = d ? [g, h] : h;
        return c
    },
    splitWith: function (a, b) {
        return a.split(this, b)
    },
    getVertices: function (a) {
        return !0 === a ? [this.components[0], this.components[this.components.length - 1]] : !1 === a ? this.components.slice(1, this.components.length - 1) : this.components.slice()
    },
    distanceTo: function (a, b) {
        var c = !(b && !1 === b.edge) && b && b.details,
            d, e = {},
            f = Number.POSITIVE_INFINITY;
        if (a instanceof OpenLayers.Geometry.Point) {
            for (var g = this.getSortedSegments(),
                    h = a.x, k = a.y, l, m = 0, n = g.length; m < n; ++m)
                if (l = g[m], d = OpenLayers.Geometry.distanceToSegment(a, l), d.distance < f) {
                    if (f = d.distance, e = d, 0 === f) break
                } else if (l.x2 > h && (k > l.y1 && k < l.y2 || k < l.y1 && k > l.y2)) break;
            e = c ? {
                distance: e.distance,
                x0: e.x,
                y0: e.y,
                x1: h,
                y1: k
            } : e.distance
        } else if (a instanceof OpenLayers.Geometry.LineString) {
            var g = this.getSortedSegments(),
                h = a.getSortedSegments(),
                p, q, r = h.length,
                s = {
                    point: !0
                },
                m = 0,
                n = g.length;
            a: for (; m < n; ++m) {
                k = g[m];
                l = k.x1;
                q = k.y1;
                for (var t = 0; t < r; ++t)
                    if (d = h[t], p = OpenLayers.Geometry.segmentsIntersect(k,
                            d, s)) {
                        f = 0;
                        e = {
                            distance: 0,
                            x0: p.x,
                            y0: p.y,
                            x1: p.x,
                            y1: p.y
                        };
                        break a
                    } else d = OpenLayers.Geometry.distanceToSegment({
                        x: l,
                        y: q
                    }, d), d.distance < f && (f = d.distance, e = {
                        distance: f,
                        x0: l,
                        y0: q,
                        x1: d.x,
                        y1: d.y
                    })
            }
            c || (e = e.distance);
            0 !== f && k && (d = a.distanceTo(new OpenLayers.Geometry.Point(k.x2, k.y2), b), m = c ? d.distance : d, m < f && (e = c ? {
                distance: f,
                x0: d.x1,
                y0: d.y1,
                x1: d.x0,
                y1: d.y0
            } : m))
        } else e = a.distanceTo(this, b), c && (e = {
            distance: e.distance,
            x0: e.x1,
            y0: e.y1,
            x1: e.x0,
            y1: e.y0
        });
        return e
    },
    simplify: function (a) {
        if (this && null !== this) {
            var b = this.getVertices();
            if (3 > b.length) return this;
            var c = function (a, b, d, k) {
                    for (var l = 0, m = 0, n = b, p; n < d; n++) {
                        p = a[b];
                        var q = a[d],
                            r = a[n],
                            r = Math.abs(0.5 * (p.x * q.y + q.x * r.y + r.x * p.y - q.x * p.y - r.x * q.y - p.x * r.y));
                        p = Math.sqrt(Math.pow(p.x - q.x, 2) + Math.pow(p.y - q.y, 2));
                        p = 2 * (r / p);
                        p > l && (l = p, m = n)
                    }
                    l > k && m != b && (e.push(m), c(a, b, m, k), c(a, m, d, k))
                },
                d = b.length - 1,
                e = [];
            e.push(0);
            for (e.push(d); b[0].equals(b[d]);) d--, e.push(d);
            c(b, 0, d, a);
            a = [];
            e.sort(function (a, b) {
                return a - b
            });
            for (d = 0; d < e.length; d++) a.push(b[e[d]]);
            return new OpenLayers.Geometry.LineString(a)
        }
        return this
    },
    CLASS_NAME: "OpenLayers.Geometry.LineString"
});
OpenLayers.Geometry.MultiLineString = OpenLayers.Class(OpenLayers.Geometry.Collection, {
    componentTypes: ["OpenLayers.Geometry.LineString"],
    split: function (a, b) {
        for (var c = null, d = b && b.mutual, e, f, g, h, k = [], l = [a], m = 0, n = this.components.length; m < n; ++m) {
            f = this.components[m];
            g = !1;
            for (var p = 0; p < l.length; ++p)
                if (e = f.split(l[p], b)) {
                    if (d) {
                        g = e[0];
                        for (var q = 0, r = g.length; q < r; ++q) 0 === q && k.length ? k[k.length - 1].addComponent(g[q]) : k.push(new OpenLayers.Geometry.MultiLineString([g[q]]));
                        g = !0;
                        e = e[1]
                    }
                    if (e.length) {
                        e.unshift(p,
                            1);
                        Array.prototype.splice.apply(l, e);
                        break
                    }
                } g || (k.length ? k[k.length - 1].addComponent(f.clone()) : k = [new OpenLayers.Geometry.MultiLineString(f.clone())])
        }
        k && 1 < k.length ? g = !0 : k = [];
        l && 1 < l.length ? h = !0 : l = [];
        if (g || h) c = d ? [k, l] : l;
        return c
    },
    splitWith: function (a, b) {
        var c = null,
            d = b && b.mutual,
            e, f, g, h, k, l;
        if (a instanceof OpenLayers.Geometry.LineString) {
            l = [];
            k = [a];
            for (var m = 0, n = this.components.length; m < n; ++m) {
                g = !1;
                f = this.components[m];
                for (var p = 0; p < k.length; ++p)
                    if (e = k[p].split(f, b)) {
                        d && (g = e[0], g.length && (g.unshift(p,
                            1), Array.prototype.splice.apply(k, g), p += g.length - 2), e = e[1], 0 === e.length && (e = [f.clone()]));
                        g = 0;
                        for (var q = e.length; g < q; ++g) 0 === g && l.length ? l[l.length - 1].addComponent(e[g]) : l.push(new OpenLayers.Geometry.MultiLineString([e[g]]));
                        g = !0
                    } g || (l.length ? l[l.length - 1].addComponent(f.clone()) : l = [new OpenLayers.Geometry.MultiLineString([f.clone()])])
            }
        } else c = a.split(this);
        k && 1 < k.length ? h = !0 : k = [];
        l && 1 < l.length ? g = !0 : l = [];
        if (h || g) c = d ? [k, l] : l;
        return c
    },
    CLASS_NAME: "OpenLayers.Geometry.MultiLineString"
});
OpenLayers.Geometry.LinearRing = OpenLayers.Class(OpenLayers.Geometry.LineString, {
    componentTypes: ["OpenLayers.Geometry.Point"],
    addComponent: function (a, b) {
        var c = !1,
            d = this.components.pop();
        null == b && a.equals(d) || (c = OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, arguments));
        OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, [this.components[0]]);
        return c
    },
    removeComponent: function (a) {
        var b = this.components && 3 < this.components.length;
        b && (this.components.pop(), OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,
            arguments), OpenLayers.Geometry.Collection.prototype.addComponent.apply(this, [this.components[0]]));
        return b
    },
    move: function (a, b) {
        for (var c = 0, d = this.components.length; c < d - 1; c++) this.components[c].move(a, b)
    },
    rotate: function (a, b) {
        for (var c = 0, d = this.components.length; c < d - 1; ++c) this.components[c].rotate(a, b)
    },
    resize: function (a, b, c) {
        for (var d = 0, e = this.components.length; d < e - 1; ++d) this.components[d].resize(a, b, c);
        return this
    },
    transform: function (a, b) {
        if (a && b) {
            for (var c = 0, d = this.components.length; c < d - 1; c++) this.components[c].transform(a,
                b);
            this.bounds = null
        }
        return this
    },
    getCentroid: function () {
        if (this.components) {
            var a = this.components.length;
            if (0 < a && 2 >= a) return this.components[0].clone();
            if (2 < a) {
                var b = 0,
                    c = 0,
                    d = this.components[0].x,
                    e = this.components[0].y,
                    f = -1 * this.getArea();
                if (0 != f) {
                    for (var g = 0; g < a - 1; g++) var h = this.components[g],
                        k = this.components[g + 1],
                        b = b + (h.x + k.x - 2 * d) * ((h.x - d) * (k.y - e) - (k.x - d) * (h.y - e)),
                        c = c + (h.y + k.y - 2 * e) * ((h.x - d) * (k.y - e) - (k.x - d) * (h.y - e));
                    b = d + b / (6 * f);
                    a = e + c / (6 * f)
                } else {
                    for (g = 0; g < a - 1; g++) b += this.components[g].x, c += this.components[g].y;
                    b /= a - 1;
                    a = c / (a - 1)
                }
                return new OpenLayers.Geometry.Point(b, a)
            }
            return null
        }
    },
    getArea: function () {
        var a = 0;
        if (this.components && 2 < this.components.length) {
            for (var b = a = 0, c = this.components.length; b < c - 1; b++) var d = this.components[b],
                e = this.components[b + 1],
                a = a + (d.x + e.x) * (e.y - d.y);
            a = -a / 2
        }
        return a
    },
    getGeodesicArea: function (a) {
        var b = this;
        if (a) {
            var c = new OpenLayers.Projection("EPSG:4326");
            c.equals(a) || (b = this.clone().transform(a, c))
        }
        a = 0;
        c = b.components && b.components.length;
        if (2 < c) {
            for (var d, e, f = 0; f < c - 1; f++) d = b.components[f],
                e = b.components[f + 1], a += OpenLayers.Util.rad(e.x - d.x) * (2 + Math.sin(OpenLayers.Util.rad(d.y)) + Math.sin(OpenLayers.Util.rad(e.y)));
            a = 40680631590769 * a / 2
        }
        return a
    },
    containsPoint: function (a) {
        var b = OpenLayers.Number.limitSigDigs,
            c = b(a.x, 14);
        a = b(a.y, 14);
        for (var d = this.components.length - 1, e, f, g, h, k, l = 0, m = 0; m < d; ++m)
            if (e = this.components[m], g = b(e.x, 14), e = b(e.y, 14), f = this.components[m + 1], h = b(f.x, 14), f = b(f.y, 14), e == f) {
                if (a == e && (g <= h && c >= g && c <= h || g >= h && c <= g && c >= h)) {
                    l = -1;
                    break
                }
            } else {
                k = b((a - f) * ((h - g) / (f - e)) + h, 14);
                if (k ==
                    c && (e < f && a >= e && a <= f || e > f && a <= e && a >= f)) {
                    l = -1;
                    break
                }
                k <= c || g != h && (k < Math.min(g, h) || k > Math.max(g, h)) || (e < f && a >= e && a < f || e > f && a < e && a >= f) && ++l
            } return -1 == l ? 1 : !!(l & 1)
    },
    intersects: function (a) {
        var b = !1;
        if ("OpenLayers.Geometry.Point" == a.CLASS_NAME) b = this.containsPoint(a);
        else if ("OpenLayers.Geometry.LineString" == a.CLASS_NAME) b = a.intersects(this);
        else if ("OpenLayers.Geometry.LinearRing" == a.CLASS_NAME) b = OpenLayers.Geometry.LineString.prototype.intersects.apply(this, [a]);
        else
            for (var c = 0, d = a.components.length; c <
                d && !(b = a.components[c].intersects(this)); ++c);
        return b
    },
    getVertices: function (a) {
        return !0 === a ? [] : this.components.slice(0, this.components.length - 1)
    },
    CLASS_NAME: "OpenLayers.Geometry.LinearRing"
});
OpenLayers.Geometry.Polygon = OpenLayers.Class(OpenLayers.Geometry.Collection, {
    componentTypes: ["OpenLayers.Geometry.LinearRing"],
    getArea: function () {
        var a = 0;
        if (this.components && 0 < this.components.length)
            for (var a = a + Math.abs(this.components[0].getArea()), b = 1, c = this.components.length; b < c; b++) a -= Math.abs(this.components[b].getArea());
        return a
    },
    getGeodesicArea: function (a) {
        var b = 0;
        if (this.components && 0 < this.components.length)
            for (var b = b + Math.abs(this.components[0].getGeodesicArea(a)), c = 1, d = this.components.length; c <
                d; c++) b -= Math.abs(this.components[c].getGeodesicArea(a));
        return b
    },
    containsPoint: function (a) {
        var b = this.components.length,
            c = !1;
        if (0 < b && (c = this.components[0].containsPoint(a), 1 !== c && c && 1 < b))
            for (var d, e = 1; e < b; ++e)
                if (d = this.components[e].containsPoint(a)) {
                    c = 1 === d ? 1 : !1;
                    break
                } return c
    },
    intersects: function (a) {
        var b = !1,
            c, d;
        if ("OpenLayers.Geometry.Point" == a.CLASS_NAME) b = this.containsPoint(a);
        else if ("OpenLayers.Geometry.LineString" == a.CLASS_NAME || "OpenLayers.Geometry.LinearRing" == a.CLASS_NAME) {
            c = 0;
            for (d =
                this.components.length; c < d && !(b = a.intersects(this.components[c])); ++c);
            if (!b)
                for (c = 0, d = a.components.length; c < d && !(b = this.containsPoint(a.components[c])); ++c);
        } else
            for (c = 0, d = a.components.length; c < d && !(b = this.intersects(a.components[c])); ++c);
        if (!b && "OpenLayers.Geometry.Polygon" == a.CLASS_NAME) {
            var e = this.components[0];
            c = 0;
            for (d = e.components.length; c < d && !(b = a.containsPoint(e.components[c])); ++c);
        }
        return b
    },
    distanceTo: function (a, b) {
        return b && !1 === b.edge && this.intersects(a) ? 0 : OpenLayers.Geometry.Collection.prototype.distanceTo.apply(this,
            [a, b])
    },
    CLASS_NAME: "OpenLayers.Geometry.Polygon"
});
OpenLayers.Geometry.Polygon.createRegularPolygon = function (a, b, c, d) {
    var e = Math.PI * (1 / c - 0.5);
    d && (e += d / 180 * Math.PI);
    for (var f, g = [], h = 0; h < c; ++h) f = e + 2 * h * Math.PI / c, d = a.x + b * Math.cos(f), f = a.y + b * Math.sin(f), g.push(new OpenLayers.Geometry.Point(d, f));
    a = new OpenLayers.Geometry.LinearRing(g);
    return new OpenLayers.Geometry.Polygon([a])
};
OpenLayers.Geometry.MultiPolygon = OpenLayers.Class(OpenLayers.Geometry.Collection, {
    componentTypes: ["OpenLayers.Geometry.Polygon"],
    CLASS_NAME: "OpenLayers.Geometry.MultiPolygon"
});
OpenLayers.Format.GML = OpenLayers.Class(OpenLayers.Format.XML, {
    featureNS: "https://mapserver.gis.umn.edu/mapserver",
    featurePrefix: "feature",
    featureName: "featureMember",
    layerName: "features",
    geometryName: "geometry",
    collectionName: "FeatureCollection",
    gmlns: "https://www.opengis.net/gml",
    extractAttributes: !0,
    xy: !0,
    initialize: function (a) {
        this.regExes = {
            trimSpace: /^\s*|\s*$/g,
            removeSpace: /\s*/g,
            splitSpace: /\s+/,
            trimComma: /\s*,\s*/g
        };
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        "string" ==
        typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a = this.getElementsByTagNameNS(a.documentElement, this.gmlns, this.featureName);
        for (var b = [], c = 0; c < a.length; c++) {
            var d = this.parseFeature(a[c]);
            d && b.push(d)
        }
        return b
    },
    parseFeature: function (a) {
        for (var b = "MultiPolygon Polygon MultiLineString LineString MultiPoint Point Envelope".split(" "), c, d, e, f = 0; f < b.length; ++f)
            if (c = b[f], d = this.getElementsByTagNameNS(a, this.gmlns, c), 0 < d.length) {
                if (e = this.parseGeometry[c.toLowerCase()]) e = e.apply(this,
                    [d[0]]), this.internalProjection && this.externalProjection && e.transform(this.externalProjection, this.internalProjection);
                else throw new TypeError("Unsupported geometry type: " + c);
                break
            } var g;
        c = this.getElementsByTagNameNS(a, this.gmlns, "Box");
        for (f = 0; f < c.length; ++f) b = c[f], d = this.parseGeometry.box.apply(this, [b]), b = b.parentNode, "boundedBy" === (b.localName || b.nodeName.split(":").pop()) ? g = d : e = d.toGeometry();
        var h;
        this.extractAttributes && (h = this.parseAttributes(a));
        h = new OpenLayers.Feature.Vector(e, h);
        h.bounds =
            g;
        h.gml = {
            featureType: a.firstChild.nodeName.split(":")[1],
            featureNS: a.firstChild.namespaceURI,
            featureNSPrefix: a.firstChild.prefix
        };
        a = a.firstChild;
        for (var k; a && (1 != a.nodeType || !(k = a.getAttribute("fid") || a.getAttribute("id")));) a = a.nextSibling;
        h.fid = k;
        return h
    },
    parseGeometry: {
        point: function (a) {
            var b, c;
            c = [];
            b = this.getElementsByTagNameNS(a, this.gmlns, "pos");
            0 < b.length && (c = b[0].firstChild.nodeValue, c = c.replace(this.regExes.trimSpace, ""), c = c.split(this.regExes.splitSpace));
            0 == c.length && (b = this.getElementsByTagNameNS(a,
                this.gmlns, "coordinates"), 0 < b.length && (c = b[0].firstChild.nodeValue, c = c.replace(this.regExes.removeSpace, ""), c = c.split(",")));
            0 == c.length && (b = this.getElementsByTagNameNS(a, this.gmlns, "coord"), 0 < b.length && (a = this.getElementsByTagNameNS(b[0], this.gmlns, "X"), b = this.getElementsByTagNameNS(b[0], this.gmlns, "Y"), 0 < a.length && 0 < b.length && (c = [a[0].firstChild.nodeValue, b[0].firstChild.nodeValue])));
            2 == c.length && (c[2] = null);
            return this.xy ? new OpenLayers.Geometry.Point(c[0], c[1], c[2]) : new OpenLayers.Geometry.Point(c[1],
                c[0], c[2])
        },
        multipoint: function (a) {
            a = this.getElementsByTagNameNS(a, this.gmlns, "Point");
            var b = [];
            if (0 < a.length)
                for (var c, d = 0; d < a.length; ++d)(c = this.parseGeometry.point.apply(this, [a[d]])) && b.push(c);
            return new OpenLayers.Geometry.MultiPoint(b)
        },
        linestring: function (a, b) {
            var c, d;
            d = [];
            var e = [];
            c = this.getElementsByTagNameNS(a, this.gmlns, "posList");
            if (0 < c.length) {
                d = this.getChildValue(c[0]);
                d = d.replace(this.regExes.trimSpace, "");
                d = d.split(this.regExes.splitSpace);
                var f = parseInt(c[0].getAttribute("dimension")),
                    g, h, k;
                for (c = 0; c < d.length / f; ++c) g = c * f, h = d[g], k = d[g + 1], g = 2 == f ? null : d[g + 2], this.xy ? e.push(new OpenLayers.Geometry.Point(h, k, g)) : e.push(new OpenLayers.Geometry.Point(k, h, g))
            }
            if (0 == d.length && (c = this.getElementsByTagNameNS(a, this.gmlns, "coordinates"), 0 < c.length))
                for (d = this.getChildValue(c[0]), d = d.replace(this.regExes.trimSpace, ""), d = d.replace(this.regExes.trimComma, ","), f = d.split(this.regExes.splitSpace), c = 0; c < f.length; ++c) d = f[c].split(","), 2 == d.length && (d[2] = null), this.xy ? e.push(new OpenLayers.Geometry.Point(d[0],
                    d[1], d[2])) : e.push(new OpenLayers.Geometry.Point(d[1], d[0], d[2]));
            d = null;
            0 != e.length && (d = b ? new OpenLayers.Geometry.LinearRing(e) : new OpenLayers.Geometry.LineString(e));
            return d
        },
        multilinestring: function (a) {
            a = this.getElementsByTagNameNS(a, this.gmlns, "LineString");
            var b = [];
            if (0 < a.length)
                for (var c, d = 0; d < a.length; ++d)(c = this.parseGeometry.linestring.apply(this, [a[d]])) && b.push(c);
            return new OpenLayers.Geometry.MultiLineString(b)
        },
        polygon: function (a) {
            a = this.getElementsByTagNameNS(a, this.gmlns, "LinearRing");
            var b = [];
            if (0 < a.length)
                for (var c, d = 0; d < a.length; ++d)(c = this.parseGeometry.linestring.apply(this, [a[d], !0])) && b.push(c);
            return new OpenLayers.Geometry.Polygon(b)
        },
        multipolygon: function (a) {
            a = this.getElementsByTagNameNS(a, this.gmlns, "Polygon");
            var b = [];
            if (0 < a.length)
                for (var c, d = 0; d < a.length; ++d)(c = this.parseGeometry.polygon.apply(this, [a[d]])) && b.push(c);
            return new OpenLayers.Geometry.MultiPolygon(b)
        },
        envelope: function (a) {
            var b = [],
                c, d, e = this.getElementsByTagNameNS(a, this.gmlns, "lowerCorner");
            if (0 < e.length) {
                c = [];
                0 < e.length && (c = e[0].firstChild.nodeValue, c = c.replace(this.regExes.trimSpace, ""), c = c.split(this.regExes.splitSpace));
                2 == c.length && (c[2] = null);
                var f = this.xy ? new OpenLayers.Geometry.Point(c[0], c[1], c[2]) : new OpenLayers.Geometry.Point(c[1], c[0], c[2])
            }
            a = this.getElementsByTagNameNS(a, this.gmlns, "upperCorner");
            if (0 < a.length) {
                c = [];
                0 < a.length && (c = a[0].firstChild.nodeValue, c = c.replace(this.regExes.trimSpace, ""), c = c.split(this.regExes.splitSpace));
                2 == c.length && (c[2] = null);
                var g = this.xy ? new OpenLayers.Geometry.Point(c[0],
                    c[1], c[2]) : new OpenLayers.Geometry.Point(c[1], c[0], c[2])
            }
            f && g && (b.push(new OpenLayers.Geometry.Point(f.x, f.y)), b.push(new OpenLayers.Geometry.Point(g.x, f.y)), b.push(new OpenLayers.Geometry.Point(g.x, g.y)), b.push(new OpenLayers.Geometry.Point(f.x, g.y)), b.push(new OpenLayers.Geometry.Point(f.x, f.y)), b = new OpenLayers.Geometry.LinearRing(b), d = new OpenLayers.Geometry.Polygon([b]));
            return d
        },
        box: function (a) {
            var b = this.getElementsByTagNameNS(a, this.gmlns, "coordinates"),
                c = a = null;
            0 < b.length && (b = b[0].firstChild.nodeValue,
                b = b.split(" "), 2 == b.length && (a = b[0].split(","), c = b[1].split(",")));
            if (null !== a && null !== c) return new OpenLayers.Bounds(parseFloat(a[0]), parseFloat(a[1]), parseFloat(c[0]), parseFloat(c[1]))
        }
    },
    parseAttributes: function (a) {
        var b = {};
        a = a.firstChild;
        for (var c, d, e; a;) {
            if (1 == a.nodeType) {
                a = a.childNodes;
                for (c = 0; c < a.length; ++c)
                    if (d = a[c], 1 == d.nodeType)
                        if (e = d.childNodes, 1 == e.length) {
                            if (e = e[0], 3 == e.nodeType || 4 == e.nodeType) d = d.prefix ? d.nodeName.split(":")[1] : d.nodeName, e = e.nodeValue.replace(this.regExes.trimSpace,
                                ""), b[d] = e
                        } else b[d.nodeName.split(":").pop()] = null;
                break
            }
            a = a.nextSibling
        }
        return b
    },
    write: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var b = this.createElementNS("https://www.opengis.net/wfs", "wfs:" + this.collectionName), c = 0; c < a.length; c++) b.appendChild(this.createFeatureXML(a[c]));
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    createFeatureXML: function (a) {
        var b = this.buildGeometryNode(a.geometry),
            c = this.createElementNS(this.featureNS, this.featurePrefix + ":" + this.geometryName);
        c.appendChild(b);
        var b = this.createElementNS(this.gmlns, "gml:" + this.featureName),
            d = this.createElementNS(this.featureNS, this.featurePrefix + ":" + this.layerName);
        d.setAttribute("fid", a.fid || a.id);
        d.appendChild(c);
        for (var e in a.attributes) {
            var c = this.createTextNode(a.attributes[e]),
                f = e.substring(e.lastIndexOf(":") + 1),
                f = this.createElementNS(this.featureNS, this.featurePrefix + ":" + f);
            f.appendChild(c);
            d.appendChild(f)
        }
        b.appendChild(d);
        return b
    },
    buildGeometryNode: function (a) {
        this.externalProjection && this.internalProjection &&
            (a = a.clone(), a.transform(this.internalProjection, this.externalProjection));
        var b = a.CLASS_NAME,
            b = b.substring(b.lastIndexOf(".") + 1);
        return this.buildGeometry[b.toLowerCase()].apply(this, [a])
    },
    buildGeometry: {
        point: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:Point");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        multipoint: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:MultiPoint");
            a = a.components;
            for (var c, d, e = 0; e < a.length; e++) c = this.createElementNS(this.gmlns, "gml:pointMember"),
                d = this.buildGeometry.point.apply(this, [a[e]]), c.appendChild(d), b.appendChild(c);
            return b
        },
        linestring: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:LineString");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        multilinestring: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:MultiLineString");
            a = a.components;
            for (var c, d, e = 0; e < a.length; ++e) c = this.createElementNS(this.gmlns, "gml:lineStringMember"), d = this.buildGeometry.linestring.apply(this, [a[e]]), c.appendChild(d), b.appendChild(c);
            return b
        },
        linearring: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:LinearRing");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        polygon: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:Polygon");
            a = a.components;
            for (var c, d, e = 0; e < a.length; ++e) c = 0 == e ? "outerBoundaryIs" : "innerBoundaryIs", c = this.createElementNS(this.gmlns, "gml:" + c), d = this.buildGeometry.linearring.apply(this, [a[e]]), c.appendChild(d), b.appendChild(c);
            return b
        },
        multipolygon: function (a) {
            var b = this.createElementNS(this.gmlns,
                "gml:MultiPolygon");
            a = a.components;
            for (var c, d, e = 0; e < a.length; ++e) c = this.createElementNS(this.gmlns, "gml:polygonMember"), d = this.buildGeometry.polygon.apply(this, [a[e]]), c.appendChild(d), b.appendChild(c);
            return b
        },
        bounds: function (a) {
            var b = this.createElementNS(this.gmlns, "gml:Box");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        }
    },
    buildCoordinatesNode: function (a) {
        var b = this.createElementNS(this.gmlns, "gml:coordinates");
        b.setAttribute("decimal", ".");
        b.setAttribute("cs", ",");
        b.setAttribute("ts",
            " ");
        var c = [];
        if (a instanceof OpenLayers.Bounds) c.push(a.left + "," + a.bottom), c.push(a.right + "," + a.top);
        else {
            a = a.components ? a.components : [a];
            for (var d = 0; d < a.length; d++) c.push(a[d].x + "," + a[d].y)
        }
        c = this.createTextNode(c.join(" "));
        b.appendChild(c);
        return b
    },
    CLASS_NAME: "OpenLayers.Format.GML"
});
OpenLayers.Format.GML || (OpenLayers.Format.GML = {});
OpenLayers.Format.GML.Base = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        gml: "https://www.opengis.net/gml",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        wfs: "https://www.opengis.net/wfs"
    },
    defaultPrefix: "gml",
    schemaLocation: null,
    featureType: null,
    featureNS: null,
    geometryName: "geometry",
    extractAttributes: !0,
    srsName: null,
    xy: !0,
    geometryTypes: null,
    singleFeatureType: null,
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g,
        featureMember: /^(.*:)?featureMembers?$/
    },
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a]);
        this.setGeometryTypes();
        a && a.featureNS && this.setNamespace("feature", a.featureNS);
        this.singleFeatureType = !a || "string" === typeof a.featureType
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = [];
        this.readNode(a, {
            features: b
        }, !0);
        if (0 == b.length) {
            var c = this.getElementsByTagNameNS(a, this.namespaces.gml, "featureMember");
            if (c.length) {
                a =
                    0;
                for (var d = c.length; a < d; ++a) this.readNode(c[a], {
                    features: b
                }, !0)
            } else c = this.getElementsByTagNameNS(a, this.namespaces.gml, "featureMembers"), c.length && this.readNode(c[0], {
                features: b
            }, !0)
        }
        return b
    },
    readNode: function (a, b, c) {
        !0 === c && !0 === this.autoConfig && (this.featureType = null, delete this.namespaceAlias[this.featureNS], delete this.namespaces.feature, this.featureNS = null);
        this.featureNS || (a.prefix in this.namespaces || a.parentNode.namespaceURI != this.namespaces.gml || !this.regExes.featureMember.test(a.parentNode.nodeName)) ||
            (this.featureType = a.nodeName.split(":").pop(), this.setNamespace("feature", a.namespaceURI), this.featureNS = a.namespaceURI, this.autoConfig = !0);
        return OpenLayers.Format.XML.prototype.readNode.apply(this, [a, b])
    },
    readers: {
        gml: {
            _inherit: function (a, b, c) {},
            featureMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            featureMembers: function (a, b) {
                this.readChildNodes(a, b)
            },
            name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            boundedBy: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                c.components && 0 < c.components.length &&
                    (b.bounds = c.components[0])
            },
            Point: function (a, b) {
                var c = {
                    points: []
                };
                this.readChildNodes(a, c);
                b.components || (b.components = []);
                b.components.push(c.points[0])
            },
            coordinates: function (a, b) {
                for (var c = this.getChildValue(a).replace(this.regExes.trimSpace, ""), c = c.replace(this.regExes.trimComma, ","), c = c.split(this.regExes.splitSpace), d, e = c.length, f = Array(e), g = 0; g < e; ++g) d = c[g].split(","), f[g] = this.xy ? new OpenLayers.Geometry.Point(d[0], d[1], d[2]) : new OpenLayers.Geometry.Point(d[1], d[0], d[2]);
                b.points = f
            },
            coord: function (a,
                b) {
                var c = {};
                this.readChildNodes(a, c);
                b.points || (b.points = []);
                b.points.push(new OpenLayers.Geometry.Point(c.x, c.y, c.z))
            },
            X: function (a, b) {
                b.x = this.getChildValue(a)
            },
            Y: function (a, b) {
                b.y = this.getChildValue(a)
            },
            Z: function (a, b) {
                b.z = this.getChildValue(a)
            },
            MultiPoint: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components = [new OpenLayers.Geometry.MultiPoint(c.components)]
            },
            pointMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            LineString: function (a,
                b) {
                var c = {};
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components || (b.components = []);
                b.components.push(new OpenLayers.Geometry.LineString(c.points))
            },
            MultiLineString: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components = [new OpenLayers.Geometry.MultiLineString(c.components)]
            },
            lineStringMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            Polygon: function (a, b) {
                var c = {
                    outer: null,
                    inner: []
                };
                this.readers.gml._inherit.apply(this,
                    [a, c, b]);
                this.readChildNodes(a, c);
                c.inner.unshift(c.outer);
                b.components || (b.components = []);
                b.components.push(new OpenLayers.Geometry.Polygon(c.inner))
            },
            LinearRing: function (a, b) {
                var c = {};
                this.readers.gml._inherit.apply(this, [a, c]);
                this.readChildNodes(a, c);
                b.components = [new OpenLayers.Geometry.LinearRing(c.points)]
            },
            MultiPolygon: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components = [new OpenLayers.Geometry.MultiPolygon(c.components)]
            },
            polygonMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            GeometryCollection: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components = [new OpenLayers.Geometry.Collection(c.components)]
            },
            geometryMember: function (a, b) {
                this.readChildNodes(a, b)
            }
        },
        feature: {
            "*": function (a, b) {
                var c, d = a.localName || a.nodeName.split(":").pop();
                b.features ? this.singleFeatureType || -1 === OpenLayers.Util.indexOf(this.featureType, d) ? d === this.featureType && (c = "_typeName") : c =
                    "_typeName" : 0 == a.childNodes.length || 1 == a.childNodes.length && 3 == a.firstChild.nodeType ? this.extractAttributes && (c = "_attribute") : c = "_geometry";
                c && this.readers.feature[c].apply(this, [a, b])
            },
            _typeName: function (a, b) {
                var c = {
                    components: [],
                    attributes: {}
                };
                this.readChildNodes(a, c);
                c.name && (c.attributes.name = c.name);
                var d = new OpenLayers.Feature.Vector(c.components[0], c.attributes);
                this.singleFeatureType || (d.type = a.nodeName.split(":").pop(), d.namespace = a.namespaceURI);
                var e = a.getAttribute("fid") || this.getAttributeNS(a,
                    this.namespaces.gml, "id");
                e && (d.fid = e);
                this.internalProjection && (this.externalProjection && d.geometry) && d.geometry.transform(this.externalProjection, this.internalProjection);
                c.bounds && (d.bounds = c.bounds);
                b.features.push(d)
            },
            _geometry: function (a, b) {
                this.geometryName || (this.geometryName = a.nodeName.split(":").pop());
                this.readChildNodes(a, b)
            },
            _attribute: function (a, b) {
                var c = a.localName || a.nodeName.split(":").pop(),
                    d = this.getChildValue(a);
                b.attributes[c] = d
            }
        },
        wfs: {
            FeatureCollection: function (a, b) {
                this.readChildNodes(a,
                    b)
            }
        }
    },
    write: function (a) {
        var b;
        b = OpenLayers.Util.isArray(a) ? "featureMembers" : "featureMember";
        a = this.writeNode("gml:" + b, a);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    writers: {
        gml: {
            featureMember: function (a) {
                var b = this.createElementNSPlus("gml:featureMember");
                this.writeNode("feature:_typeName", a, b);
                return b
            },
            MultiPoint: function (a) {
                var b = this.createElementNSPlus("gml:MultiPoint");
                a = a.components || [a];
                for (var c = 0, d = a.length; c < d; ++c) this.writeNode("pointMember", a[c], b);
                return b
            },
            pointMember: function (a) {
                var b = this.createElementNSPlus("gml:pointMember");
                this.writeNode("Point", a, b);
                return b
            },
            MultiLineString: function (a) {
                var b = this.createElementNSPlus("gml:MultiLineString");
                a = a.components || [a];
                for (var c = 0, d = a.length; c < d; ++c) this.writeNode("lineStringMember", a[c], b);
                return b
            },
            lineStringMember: function (a) {
                var b = this.createElementNSPlus("gml:lineStringMember");
                this.writeNode("LineString", a, b);
                return b
            },
            MultiPolygon: function (a) {
                var b = this.createElementNSPlus("gml:MultiPolygon");
                a = a.components || [a];
                for (var c = 0, d = a.length; c < d; ++c) this.writeNode("polygonMember", a[c], b);
                return b
            },
            polygonMember: function (a) {
                var b = this.createElementNSPlus("gml:polygonMember");
                this.writeNode("Polygon", a, b);
                return b
            },
            GeometryCollection: function (a) {
                for (var b = this.createElementNSPlus("gml:GeometryCollection"), c = 0, d = a.components.length; c < d; ++c) this.writeNode("geometryMember", a.components[c], b);
                return b
            },
            geometryMember: function (a) {
                var b =
                    this.createElementNSPlus("gml:geometryMember");
                a = this.writeNode("feature:_geometry", a);
                b.appendChild(a.firstChild);
                return b
            }
        },
        feature: {
            _typeName: function (a) {
                var b = this.createElementNSPlus("feature:" + this.featureType, {
                    attributes: {
                        fid: a.fid
                    }
                });
                a.geometry && this.writeNode("feature:_geometry", a.geometry, b);
                for (var c in a.attributes) {
                    var d = a.attributes[c];
                    null != d && this.writeNode("feature:_attribute", {
                        name: c,
                        value: d
                    }, b)
                }
                return b
            },
            _geometry: function (a) {
                this.externalProjection && this.internalProjection && (a =
                    a.clone().transform(this.internalProjection, this.externalProjection));
                var b = this.createElementNSPlus("feature:" + this.geometryName);
                a = this.writeNode("gml:" + this.geometryTypes[a.CLASS_NAME], a, b);
                this.srsName && a.setAttribute("srsName", this.srsName);
                return b
            },
            _attribute: function (a) {
                return this.createElementNSPlus("feature:" + a.name, {
                    value: a.value
                })
            }
        },
        wfs: {
            FeatureCollection: function (a) {
                for (var b = this.createElementNSPlus("wfs:FeatureCollection"), c = 0, d = a.length; c < d; ++c) this.writeNode("gml:featureMember",
                    a[c], b);
                return b
            }
        }
    },
    setGeometryTypes: function () {
        this.geometryTypes = {
            "OpenLayers.Geometry.Point": "Point",
            "OpenLayers.Geometry.MultiPoint": "MultiPoint",
            "OpenLayers.Geometry.LineString": "LineString",
            "OpenLayers.Geometry.MultiLineString": "MultiLineString",
            "OpenLayers.Geometry.Polygon": "Polygon",
            "OpenLayers.Geometry.MultiPolygon": "MultiPolygon",
            "OpenLayers.Geometry.Collection": "GeometryCollection"
        }
    },
    CLASS_NAME: "OpenLayers.Format.GML.Base"
});
OpenLayers.Format.GML.v3 = OpenLayers.Class(OpenLayers.Format.GML.Base, {
    schemaLocation: "https://www.opengis.net/gml https://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",
    curve: !1,
    multiCurve: !0,
    surface: !1,
    multiSurface: !0,
    initialize: function (a) {
        OpenLayers.Format.GML.Base.prototype.initialize.apply(this, [a])
    },
    readers: {
        gml: OpenLayers.Util.applyDefaults({
            _inherit: function (a, b, c) {
                if (a = parseInt(a.getAttribute("srsDimension"), 10) || c && c.srsDimension) b.srsDimension = a
            },
            featureMembers: function (a,
                b) {
                this.readChildNodes(a, b)
            },
            Curve: function (a, b) {
                var c = {
                    points: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                b.components || (b.components = []);
                b.components.push(new OpenLayers.Geometry.LineString(c.points))
            },
            segments: function (a, b) {
                this.readChildNodes(a, b)
            },
            LineStringSegment: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                c.points && Array.prototype.push.apply(b.points, c.points)
            },
            pos: function (a, b) {
                var c = this.getChildValue(a).replace(this.regExes.trimSpace, "").split(this.regExes.splitSpace),
                    c = this.xy ? new OpenLayers.Geometry.Point(c[0], c[1], c[2]) : new OpenLayers.Geometry.Point(c[1], c[0], c[2]);
                b.points = [c]
            },
            posList: function (a, b) {
                for (var c = this.getChildValue(a).replace(this.regExes.trimSpace, "").split(this.regExes.splitSpace), d = b.srsDimension || parseInt(a.getAttribute("srsDimension") || a.getAttribute("dimension"), 10) || 2, e, f, g, h = Array(c.length / d), k = 0, l = c.length; k < l; k += d) e = c[k], f = c[k + 1], g = 2 == d ? void 0 : c[k + 2], h[k / d] = this.xy ? new OpenLayers.Geometry.Point(e, f, g) : new OpenLayers.Geometry.Point(f,
                    e, g);
                b.points = h
            },
            Surface: function (a, b) {
                this.readChildNodes(a, b)
            },
            patches: function (a, b) {
                this.readChildNodes(a, b)
            },
            PolygonPatch: function (a, b) {
                this.readers.gml.Polygon.apply(this, [a, b])
            },
            exterior: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.outer = c.components[0]
            },
            interior: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.inner.push(c.components[0])
            },
            MultiCurve: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                0 < c.components.length && (b.components = [new OpenLayers.Geometry.MultiLineString(c.components)])
            },
            curveMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            MultiSurface: function (a, b) {
                var c = {
                    components: []
                };
                this.readers.gml._inherit.apply(this, [a, c, b]);
                this.readChildNodes(a, c);
                0 < c.components.length && (b.components = [new OpenLayers.Geometry.MultiPolygon(c.components)])
            },
            surfaceMember: function (a, b) {
                this.readChildNodes(a, b)
            },
            surfaceMembers: function (a, b) {
                this.readChildNodes(a, b)
            },
            pointMembers: function (a, b) {
                this.readChildNodes(a, b)
            },
            lineStringMembers: function (a,
                b) {
                this.readChildNodes(a, b)
            },
            polygonMembers: function (a, b) {
                this.readChildNodes(a, b)
            },
            geometryMembers: function (a, b) {
                this.readChildNodes(a, b)
            },
            Envelope: function (a, b) {
                var c = {
                    points: Array(2)
                };
                this.readChildNodes(a, c);
                b.components || (b.components = []);
                var d = c.points[0],
                    c = c.points[1];
                b.components.push(new OpenLayers.Bounds(d.x, d.y, c.x, c.y))
            },
            lowerCorner: function (a, b) {
                var c = {};
                this.readers.gml.pos.apply(this, [a, c]);
                b.points[0] = c.points[0]
            },
            upperCorner: function (a, b) {
                var c = {};
                this.readers.gml.pos.apply(this,
                    [a, c]);
                b.points[1] = c.points[0]
            }
        }, OpenLayers.Format.GML.Base.prototype.readers.gml),
        feature: OpenLayers.Format.GML.Base.prototype.readers.feature,
        wfs: OpenLayers.Format.GML.Base.prototype.readers.wfs
    },
    write: function (a) {
        var b;
        b = OpenLayers.Util.isArray(a) ? "featureMembers" : "featureMember";
        a = this.writeNode("gml:" + b, a);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    writers: {
        gml: OpenLayers.Util.applyDefaults({
            featureMembers: function (a) {
                for (var b =
                        this.createElementNSPlus("gml:featureMembers"), c = 0, d = a.length; c < d; ++c) this.writeNode("feature:_typeName", a[c], b);
                return b
            },
            Point: function (a) {
                var b = this.createElementNSPlus("gml:Point");
                this.writeNode("pos", a, b);
                return b
            },
            pos: function (a) {
                return this.createElementNSPlus("gml:pos", {
                    value: this.xy ? a.x + " " + a.y : a.y + " " + a.x
                })
            },
            LineString: function (a) {
                var b = this.createElementNSPlus("gml:LineString");
                this.writeNode("posList", a.components, b);
                return b
            },
            Curve: function (a) {
                var b = this.createElementNSPlus("gml:Curve");
                this.writeNode("segments", a, b);
                return b
            },
            segments: function (a) {
                var b = this.createElementNSPlus("gml:segments");
                this.writeNode("LineStringSegment", a, b);
                return b
            },
            LineStringSegment: function (a) {
                var b = this.createElementNSPlus("gml:LineStringSegment");
                this.writeNode("posList", a.components, b);
                return b
            },
            posList: function (a) {
                for (var b = a.length, c = Array(b), d, e = 0; e < b; ++e) d = a[e], c[e] = this.xy ? d.x + " " + d.y : d.y + " " + d.x;
                return this.createElementNSPlus("gml:posList", {
                    value: c.join(" ")
                })
            },
            Surface: function (a) {
                var b = this.createElementNSPlus("gml:Surface");
                this.writeNode("patches", a, b);
                return b
            },
            patches: function (a) {
                var b = this.createElementNSPlus("gml:patches");
                this.writeNode("PolygonPatch", a, b);
                return b
            },
            PolygonPatch: function (a) {
                var b = this.createElementNSPlus("gml:PolygonPatch", {
                    attributes: {
                        interpolation: "planar"
                    }
                });
                this.writeNode("exterior", a.components[0], b);
                for (var c = 1, d = a.components.length; c < d; ++c) this.writeNode("interior", a.components[c], b);
                return b
            },
            Polygon: function (a) {
                var b = this.createElementNSPlus("gml:Polygon");
                this.writeNode("exterior", a.components[0],
                    b);
                for (var c = 1, d = a.components.length; c < d; ++c) this.writeNode("interior", a.components[c], b);
                return b
            },
            exterior: function (a) {
                var b = this.createElementNSPlus("gml:exterior");
                this.writeNode("LinearRing", a, b);
                return b
            },
            interior: function (a) {
                var b = this.createElementNSPlus("gml:interior");
                this.writeNode("LinearRing", a, b);
                return b
            },
            LinearRing: function (a) {
                var b = this.createElementNSPlus("gml:LinearRing");
                this.writeNode("posList", a.components, b);
                return b
            },
            MultiCurve: function (a) {
                var b = this.createElementNSPlus("gml:MultiCurve");
                a = a.components || [a];
                for (var c = 0, d = a.length; c < d; ++c) this.writeNode("curveMember", a[c], b);
                return b
            },
            curveMember: function (a) {
                var b = this.createElementNSPlus("gml:curveMember");
                this.curve ? this.writeNode("Curve", a, b) : this.writeNode("LineString", a, b);
                return b
            },
            MultiSurface: function (a) {
                var b = this.createElementNSPlus("gml:MultiSurface");
                a = a.components || [a];
                for (var c = 0, d = a.length; c < d; ++c) this.writeNode("surfaceMember", a[c], b);
                return b
            },
            surfaceMember: function (a) {
                var b = this.createElementNSPlus("gml:surfaceMember");
                this.surface ? this.writeNode("Surface", a, b) : this.writeNode("Polygon", a, b);
                return b
            },
            Envelope: function (a) {
                var b = this.createElementNSPlus("gml:Envelope");
                this.writeNode("lowerCorner", a, b);
                this.writeNode("upperCorner", a, b);
                this.srsName && b.setAttribute("srsName", this.srsName);
                return b
            },
            lowerCorner: function (a) {
                return this.createElementNSPlus("gml:lowerCorner", {
                    value: this.xy ? a.left + " " + a.bottom : a.bottom + " " + a.left
                })
            },
            upperCorner: function (a) {
                return this.createElementNSPlus("gml:upperCorner", {
                    value: this.xy ?
                        a.right + " " + a.top : a.top + " " + a.right
                })
            }
        }, OpenLayers.Format.GML.Base.prototype.writers.gml),
        feature: OpenLayers.Format.GML.Base.prototype.writers.feature,
        wfs: OpenLayers.Format.GML.Base.prototype.writers.wfs
    },
    setGeometryTypes: function () {
        this.geometryTypes = {
            "OpenLayers.Geometry.Point": "Point",
            "OpenLayers.Geometry.MultiPoint": "MultiPoint",
            "OpenLayers.Geometry.LineString": !0 === this.curve ? "Curve" : "LineString",
            "OpenLayers.Geometry.MultiLineString": !1 === this.multiCurve ? "MultiLineString" : "MultiCurve",
            "OpenLayers.Geometry.Polygon": !0 ===
                this.surface ? "Surface" : "Polygon",
            "OpenLayers.Geometry.MultiPolygon": !1 === this.multiSurface ? "MultiPolygon" : "MultiSurface",
            "OpenLayers.Geometry.Collection": "GeometryCollection"
        }
    },
    CLASS_NAME: "OpenLayers.Format.GML.v3"
});
OpenLayers.Format.Filter.v1_1_0 = OpenLayers.Class(OpenLayers.Format.GML.v3, OpenLayers.Format.Filter.v1, {
    VERSION: "1.1.0",
    schemaLocation: "https://www.opengis.net/ogc/filter/1.1.0/filter.xsd",
    initialize: function (a) {
        OpenLayers.Format.GML.v3.prototype.initialize.apply(this, [a])
    },
    readers: {
        ogc: OpenLayers.Util.applyDefaults({
            PropertyIsEqualTo: function (a, b) {
                var c = a.getAttribute("matchCase"),
                    c = new OpenLayers.Filter.Comparison({
                        type: OpenLayers.Filter.Comparison.EQUAL_TO,
                        matchCase: !("false" === c || "0" === c)
                    });
                this.readChildNodes(a,
                    c);
                b.filters.push(c)
            },
            PropertyIsNotEqualTo: function (a, b) {
                var c = a.getAttribute("matchCase"),
                    c = new OpenLayers.Filter.Comparison({
                        type: OpenLayers.Filter.Comparison.NOT_EQUAL_TO,
                        matchCase: !("false" === c || "0" === c)
                    });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsLike: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.LIKE
                });
                this.readChildNodes(a, c);
                var d = a.getAttribute("wildCard"),
                    e = a.getAttribute("singleChar"),
                    f = a.getAttribute("escapeChar");
                c.value2regex(d, e,
                    f);
                b.filters.push(c)
            }
        }, OpenLayers.Format.Filter.v1.prototype.readers.ogc),
        gml: OpenLayers.Format.GML.v3.prototype.readers.gml,
        feature: OpenLayers.Format.GML.v3.prototype.readers.feature
    },
    writers: {
        ogc: OpenLayers.Util.applyDefaults({
                PropertyIsEqualTo: function (a) {
                    var b = this.createElementNSPlus("ogc:PropertyIsEqualTo", {
                        attributes: {
                            matchCase: a.matchCase
                        }
                    });
                    this.writeNode("PropertyName", a, b);
                    this.writeOgcExpression(a.value, b);
                    return b
                },
                PropertyIsNotEqualTo: function (a) {
                    var b = this.createElementNSPlus("ogc:PropertyIsNotEqualTo", {
                        attributes: {
                            matchCase: a.matchCase
                        }
                    });
                    this.writeNode("PropertyName", a, b);
                    this.writeOgcExpression(a.value, b);
                    return b
                },
                PropertyIsLike: function (a) {
                    var b = this.createElementNSPlus("ogc:PropertyIsLike", {
                        attributes: {
                            matchCase: a.matchCase,
                            wildCard: "*",
                            singleChar: ".",
                            escapeChar: "!"
                        }
                    });
                    this.writeNode("PropertyName", a, b);
                    this.writeNode("Literal", a.regex2value(), b);
                    return b
                },
                BBOX: function (a) {
                    var b = this.createElementNSPlus("ogc:BBOX");
                    a.property && this.writeNode("PropertyName", a, b);
                    var c = this.writeNode("gml:Envelope",
                        a.value);
                    a.projection && c.setAttribute("srsName", a.projection);
                    b.appendChild(c);
                    return b
                },
                SortBy: function (a) {
                    for (var b = this.createElementNSPlus("ogc:SortBy"), c = 0, d = a.length; c < d; c++) this.writeNode("ogc:SortProperty", a[c], b);
                    return b
                },
                SortProperty: function (a) {
                    var b = this.createElementNSPlus("ogc:SortProperty");
                    this.writeNode("ogc:PropertyName", a, b);
                    this.writeNode("ogc:SortOrder", "DESC" == a.order ? "DESC" : "ASC", b);
                    return b
                },
                SortOrder: function (a) {
                    return this.createElementNSPlus("ogc:SortOrder", {
                        value: a
                    })
                }
            },
            OpenLayers.Format.Filter.v1.prototype.writers.ogc),
        gml: OpenLayers.Format.GML.v3.prototype.writers.gml,
        feature: OpenLayers.Format.GML.v3.prototype.writers.feature
    },
    writeSpatial: function (a, b) {
        var c = this.createElementNSPlus("ogc:" + b);
        this.writeNode("PropertyName", a, c);
        if (a.value instanceof OpenLayers.Filter.Function) this.writeNode("Function", a.value, c);
        else {
            var d;
            d = a.value instanceof OpenLayers.Geometry ? this.writeNode("feature:_geometry", a.value).firstChild : this.writeNode("gml:Envelope", a.value);
            a.projection &&
                d.setAttribute("srsName", a.projection);
            c.appendChild(d)
        }
        return c
    },
    CLASS_NAME: "OpenLayers.Format.Filter.v1_1_0"
});
OpenLayers.Format.OWSCommon = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.0.0",
    getVersion: function (a, b) {
        var c = this.version;
        if (!c) {
            var d = a.getAttribute("xmlns:ows");
            d && "1.1" === d.substring(d.lastIndexOf("/") + 1) && (c = "1.1.0");
            c || (c = this.defaultVersion)
        }
        return c
    },
    CLASS_NAME: "OpenLayers.Format.OWSCommon"
});
OpenLayers.Format.OWSCommon.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    read: function (a, b) {
        OpenLayers.Util.applyDefaults(b, this.options);
        var c = {};
        this.readChildNodes(a, c);
        return c
    },
    readers: {
        ows: {
            Exception: function (a, b) {
                var c = {
                    code: a.getAttribute("exceptionCode"),
                    locator: a.getAttribute("locator"),
                    texts: []
                };
                b.exceptions.push(c);
                this.readChildNodes(a, c)
            },
            ExceptionText: function (a, b) {
                var c = this.getChildValue(a);
                b.texts.push(c)
            },
            ServiceIdentification: function (a, b) {
                b.serviceIdentification = {};
                this.readChildNodes(a, b.serviceIdentification)
            },
            Title: function (a, b) {
                b.title = this.getChildValue(a)
            },
            Abstract: function (a, b) {
                b["abstract"] = this.getChildValue(a)
            },
            Keywords: function (a, b) {
                b.keywords = {};
                this.readChildNodes(a, b.keywords)
            },
            Keyword: function (a, b) {
                b[this.getChildValue(a)] = !0
            },
            ServiceType: function (a, b) {
                b.serviceType = {
                    codeSpace: a.getAttribute("codeSpace"),
                    value: this.getChildValue(a)
                }
            },
            ServiceTypeVersion: function (a, b) {
                b.serviceTypeVersion =
                    this.getChildValue(a)
            },
            Fees: function (a, b) {
                b.fees = this.getChildValue(a)
            },
            AccessConstraints: function (a, b) {
                b.accessConstraints = this.getChildValue(a)
            },
            ServiceProvider: function (a, b) {
                b.serviceProvider = {};
                this.readChildNodes(a, b.serviceProvider)
            },
            ProviderName: function (a, b) {
                b.providerName = this.getChildValue(a)
            },
            ProviderSite: function (a, b) {
                b.providerSite = this.getAttributeNS(a, this.namespaces.xlink, "href")
            },
            ServiceContact: function (a, b) {
                b.serviceContact = {};
                this.readChildNodes(a, b.serviceContact)
            },
            IndividualName: function (a,
                b) {
                b.individualName = this.getChildValue(a)
            },
            PositionName: function (a, b) {
                b.positionName = this.getChildValue(a)
            },
            ContactInfo: function (a, b) {
                b.contactInfo = {};
                this.readChildNodes(a, b.contactInfo)
            },
            Phone: function (a, b) {
                b.phone = {};
                this.readChildNodes(a, b.phone)
            },
            Voice: function (a, b) {
                b.voice = this.getChildValue(a)
            },
            Address: function (a, b) {
                b.address = {};
                this.readChildNodes(a, b.address)
            },
            DeliveryPoint: function (a, b) {
                b.deliveryPoint = this.getChildValue(a)
            },
            City: function (a, b) {
                b.city = this.getChildValue(a)
            },
            AdministrativeArea: function (a,
                b) {
                b.administrativeArea = this.getChildValue(a)
            },
            PostalCode: function (a, b) {
                b.postalCode = this.getChildValue(a)
            },
            Country: function (a, b) {
                b.country = this.getChildValue(a)
            },
            ElectronicMailAddress: function (a, b) {
                b.electronicMailAddress = this.getChildValue(a)
            },
            Role: function (a, b) {
                b.role = this.getChildValue(a)
            },
            OperationsMetadata: function (a, b) {
                b.operationsMetadata = {};
                this.readChildNodes(a, b.operationsMetadata)
            },
            Operation: function (a, b) {
                var c = a.getAttribute("name");
                b[c] = {};
                this.readChildNodes(a, b[c])
            },
            DCP: function (a,
                b) {
                b.dcp = {};
                this.readChildNodes(a, b.dcp)
            },
            https: function (a, b) {
                b.http = {};
                this.readChildNodes(a, b.http)
            },
            Get: function (a, b) {
                b.get || (b.get = []);
                var c = {
                    url: this.getAttributeNS(a, this.namespaces.xlink, "href")
                };
                this.readChildNodes(a, c);
                b.get.push(c)
            },
            Post: function (a, b) {
                b.post || (b.post = []);
                var c = {
                    url: this.getAttributeNS(a, this.namespaces.xlink, "href")
                };
                this.readChildNodes(a, c);
                b.post.push(c)
            },
            Parameter: function (a, b) {
                b.parameters || (b.parameters = {});
                var c = a.getAttribute("name");
                b.parameters[c] = {};
                this.readChildNodes(a,
                    b.parameters[c])
            },
            Constraint: function (a, b) {
                b.constraints || (b.constraints = {});
                var c = a.getAttribute("name");
                b.constraints[c] = {};
                this.readChildNodes(a, b.constraints[c])
            },
            Value: function (a, b) {
                b[this.getChildValue(a)] = !0
            },
            OutputFormat: function (a, b) {
                b.formats.push({
                    value: this.getChildValue(a)
                });
                this.readChildNodes(a, b)
            },
            WGS84BoundingBox: function (a, b) {
                var c = {};
                c.crs = a.getAttribute("crs");
                b.BoundingBox ? b.BoundingBox.push(c) : (b.projection = c.crs, c = b);
                this.readChildNodes(a, c)
            },
            BoundingBox: function (a, b) {
                this.readers.ows.WGS84BoundingBox.apply(this,
                    [a, b])
            },
            LowerCorner: function (a, b) {
                var c = this.getChildValue(a).replace(this.regExes.trimSpace, ""),
                    c = c.replace(this.regExes.trimComma, ","),
                    c = c.split(this.regExes.splitSpace);
                b.left = c[0];
                b.bottom = c[1]
            },
            UpperCorner: function (a, b) {
                var c = this.getChildValue(a).replace(this.regExes.trimSpace, ""),
                    c = c.replace(this.regExes.trimComma, ","),
                    c = c.split(this.regExes.splitSpace);
                b.right = c[0];
                b.top = c[1];
                b.bounds = new OpenLayers.Bounds(b.left, b.bottom, b.right, b.top);
                delete b.left;
                delete b.bottom;
                delete b.right;
                delete b.top
            },
            Language: function (a, b) {
                b.language = this.getChildValue(a)
            }
        }
    },
    writers: {
        ows: {
            BoundingBox: function (a, b) {
                var c = this.createElementNSPlus(b || "ows:BoundingBox", {
                    attributes: {
                        crs: a.projection
                    }
                });
                this.writeNode("ows:LowerCorner", a, c);
                this.writeNode("ows:UpperCorner", a, c);
                return c
            },
            LowerCorner: function (a) {
                return this.createElementNSPlus("ows:LowerCorner", {
                    value: a.bounds.left + " " + a.bounds.bottom
                })
            },
            UpperCorner: function (a) {
                return this.createElementNSPlus("ows:UpperCorner", {
                    value: a.bounds.right + " " + a.bounds.top
                })
            },
            Identifier: function (a) {
                return this.createElementNSPlus("ows:Identifier", {
                    value: a
                })
            },
            Title: function (a) {
                return this.createElementNSPlus("ows:Title", {
                    value: a
                })
            },
            Abstract: function (a) {
                return this.createElementNSPlus("ows:Abstract", {
                    value: a
                })
            },
            OutputFormat: function (a) {
                return this.createElementNSPlus("ows:OutputFormat", {
                    value: a
                })
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.OWSCommon.v1"
});
OpenLayers.Format.OWSCommon.v1_0_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1, {
    namespaces: {
        ows: "https://www.opengis.net/ows",
        xlink: "https://www.w3.org/1999/xlink"
    },
    readers: {
        ows: OpenLayers.Util.applyDefaults({
            ExceptionReport: function (a, b) {
                b.success = !1;
                b.exceptionReport = {
                    version: a.getAttribute("version"),
                    language: a.getAttribute("language"),
                    exceptions: []
                };
                this.readChildNodes(a, b.exceptionReport)
            }
        }, OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)
    },
    writers: {
        ows: OpenLayers.Format.OWSCommon.v1.prototype.writers.ows
    },
    CLASS_NAME: "OpenLayers.Format.OWSCommon.v1_0_0"
});
OpenLayers.Format.WFST.v1_1_0 = OpenLayers.Class(OpenLayers.Format.Filter.v1_1_0, OpenLayers.Format.WFST.v1, {
    version: "1.1.0",
    schemaLocations: {
        wfs: "https://schemas.opengis.net/wfs/1.1.0/wfs.xsd"
    },
    initialize: function (a) {
        OpenLayers.Format.Filter.v1_1_0.prototype.initialize.apply(this, [a]);
        OpenLayers.Format.WFST.v1.prototype.initialize.apply(this, [a])
    },
    readNode: function (a, b, c) {
        return OpenLayers.Format.GML.v3.prototype.readNode.apply(this, arguments)
    },
    readers: {
        wfs: OpenLayers.Util.applyDefaults({
            FeatureCollection: function (a,
                b) {
                b.numberOfFeatures = parseInt(a.getAttribute("numberOfFeatures"));
                OpenLayers.Format.WFST.v1.prototype.readers.wfs.FeatureCollection.apply(this, arguments)
            },
            TransactionResponse: function (a, b) {
                b.insertIds = [];
                b.success = !1;
                this.readChildNodes(a, b)
            },
            TransactionSummary: function (a, b) {
                b.success = !0
            },
            InsertResults: function (a, b) {
                this.readChildNodes(a, b)
            },
            Feature: function (a, b) {
                var c = {
                    fids: []
                };
                this.readChildNodes(a, c);
                b.insertIds.push(c.fids[0])
            }
        }, OpenLayers.Format.WFST.v1.prototype.readers.wfs),
        gml: OpenLayers.Format.GML.v3.prototype.readers.gml,
        feature: OpenLayers.Format.GML.v3.prototype.readers.feature,
        ogc: OpenLayers.Format.Filter.v1_1_0.prototype.readers.ogc,
        ows: OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows
    },
    writers: {
        wfs: OpenLayers.Util.applyDefaults({
            GetFeature: function (a) {
                var b = OpenLayers.Format.WFST.v1.prototype.writers.wfs.GetFeature.apply(this, arguments);
                a && this.setAttributes(b, {
                    resultType: a.resultType,
                    startIndex: a.startIndex,
                    count: a.count
                });
                return b
            },
            Query: function (a) {
                a = OpenLayers.Util.extend({
                    featureNS: this.featureNS,
                    featurePrefix: this.featurePrefix,
                    featureType: this.featureType,
                    srsName: this.srsName
                }, a);
                var b = a.featurePrefix,
                    c = this.createElementNSPlus("wfs:Query", {
                        attributes: {
                            typeName: (b ? b + ":" : "") + a.featureType,
                            srsName: a.srsName
                        }
                    });
                a.featureNS && c.setAttribute("xmlns:" + b, a.featureNS);
                if (a.propertyNames)
                    for (var b = 0, d = a.propertyNames.length; b < d; b++) this.writeNode("wfs:PropertyName", {
                        property: a.propertyNames[b]
                    }, c);
                a.filter && (OpenLayers.Format.WFST.v1_1_0.prototype.setFilterProperty.call(this, a.filter), this.writeNode("ogc:Filter",
                    a.filter, c));
                return c
            },
            PropertyName: function (a) {
                return this.createElementNSPlus("wfs:PropertyName", {
                    value: a.property
                })
            }
        }, OpenLayers.Format.WFST.v1.prototype.writers.wfs),
        gml: OpenLayers.Format.GML.v3.prototype.writers.gml,
        feature: OpenLayers.Format.GML.v3.prototype.writers.feature,
        ogc: OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc
    },
    CLASS_NAME: "OpenLayers.Format.WFST.v1_1_0"
});
OpenLayers.Protocol = OpenLayers.Class({
    format: null,
    options: null,
    autoDestroy: !0,
    defaultFilter: null,
    initialize: function (a) {
        a = a || {};
        OpenLayers.Util.extend(this, a);
        this.options = a
    },
    mergeWithDefaultFilter: function (a) {
        return a && this.defaultFilter ? new OpenLayers.Filter.Logical({
            type: OpenLayers.Filter.Logical.AND,
            filters: [this.defaultFilter, a]
        }) : a || this.defaultFilter || void 0
    },
    destroy: function () {
        this.format = this.options = null
    },
    read: function (a) {
        a = a || {};
        a.filter = this.mergeWithDefaultFilter(a.filter)
    },
    create: function () {},
    update: function () {},
    "delete": function () {},
    commit: function () {},
    abort: function (a) {},
    createCallback: function (a, b, c) {
        return OpenLayers.Function.bind(function () {
            a.apply(this, [b, c])
        }, this)
    },
    CLASS_NAME: "OpenLayers.Protocol"
});
OpenLayers.Protocol.Response = OpenLayers.Class({
    code: null,
    requestType: null,
    last: !0,
    features: null,
    data: null,
    reqFeatures: null,
    priv: null,
    error: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a)
    },
    success: function () {
        return 0 < this.code
    },
    CLASS_NAME: "OpenLayers.Protocol.Response"
});
OpenLayers.Protocol.Response.SUCCESS = 1;
OpenLayers.Protocol.Response.FAILURE = 0;
OpenLayers.Format.JSON = OpenLayers.Class(OpenLayers.Format, {
    indent: "    ",
    space: " ",
    newline: "\n",
    level: 0,
    pretty: !1,
    nativeJSON: function () {
        return !(!window.JSON || "function" != typeof JSON.parse || "function" != typeof JSON.stringify)
    }(),
    read: function (a, b) {
        var c;
        if (this.nativeJSON) c = JSON.parse(a, b);
        else try {
            if (/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")) && (c = eval("(" + a + ")"), "function" ===
                    typeof b)) {
                var d = function (a, c) {
                    if (c && "object" === typeof c)
                        for (var e in c) c.hasOwnProperty(e) && (c[e] = d(e, c[e]));
                    return b(a, c)
                };
                c = d("", c)
            }
        } catch (e) {}
        this.keepData && (this.data = c);
        return c
    },
    write: function (a, b) {
        this.pretty = !!b;
        var c = null,
            d = typeof a;
        if (this.serialize[d]) try {
            c = !this.pretty && this.nativeJSON ? JSON.stringify(a) : this.serialize[d].apply(this, [a])
        } catch (e) {
            OpenLayers.Console.error("Trouble serializing: " + e)
        }
        return c
    },
    writeIndent: function () {
        var a = [];
        if (this.pretty)
            for (var b = 0; b < this.level; ++b) a.push(this.indent);
        return a.join("")
    },
    writeNewline: function () {
        return this.pretty ? this.newline : ""
    },
    writeSpace: function () {
        return this.pretty ? this.space : ""
    },
    serialize: {
        object: function (a) {
            if (null == a) return "null";
            if (a.constructor == Date) return this.serialize.date.apply(this, [a]);
            if (a.constructor == Array) return this.serialize.array.apply(this, [a]);
            var b = ["{"];
            this.level += 1;
            var c, d, e, f = !1;
            for (c in a) a.hasOwnProperty(c) && (d = OpenLayers.Format.JSON.prototype.write.apply(this, [c, this.pretty]), e = OpenLayers.Format.JSON.prototype.write.apply(this,
                [a[c], this.pretty]), null != d && null != e && (f && b.push(","), b.push(this.writeNewline(), this.writeIndent(), d, ":", this.writeSpace(), e), f = !0));
            this.level -= 1;
            b.push(this.writeNewline(), this.writeIndent(), "}");
            return b.join("")
        },
        array: function (a) {
            var b, c = ["["];
            this.level += 1;
            for (var d = 0, e = a.length; d < e; ++d) b = OpenLayers.Format.JSON.prototype.write.apply(this, [a[d], this.pretty]), null != b && (0 < d && c.push(","), c.push(this.writeNewline(), this.writeIndent(), b));
            this.level -= 1;
            c.push(this.writeNewline(), this.writeIndent(),
                "]");
            return c.join("")
        },
        string: function (a) {
            var b = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            };
            return /["\\\x00-\x1f]/.test(a) ? '"' + a.replace(/([\x00-\x1f\\"])/g, function (a, d) {
                var e = b[d];
                if (e) return e;
                e = d.charCodeAt();
                return "\\u00" + Math.floor(e / 16).toString(16) + (e % 16).toString(16)
            }) + '"' : '"' + a + '"'
        },
        number: function (a) {
            return isFinite(a) ? String(a) : "null"
        },
        "boolean": function (a) {
            return String(a)
        },
        date: function (a) {
            function b(a) {
                return 10 > a ? "0" + a : a
            }
            return '"' + a.getFullYear() +
                "-" + b(a.getMonth() + 1) + "-" + b(a.getDate()) + "T" + b(a.getHours()) + ":" + b(a.getMinutes()) + ":" + b(a.getSeconds()) + '"'
        }
    },
    CLASS_NAME: "OpenLayers.Format.JSON"
});
OpenLayers.Format.GeoJSON = OpenLayers.Class(OpenLayers.Format.JSON, {
    ignoreExtraDims: !1,
    read: function (a, b, c) {
        b = b ? b : "FeatureCollection";
        var d = null,
            e = null,
            e = "string" == typeof a ? OpenLayers.Format.JSON.prototype.read.apply(this, [a, c]) : a;
        if (!e) OpenLayers.Console.error("Bad JSON: " + a);
        else if ("string" != typeof e.type) OpenLayers.Console.error("Bad GeoJSON - no type: " + a);
        else if (this.isValidType(e, b)) switch (b) {
            case "Geometry":
                try {
                    d = this.parseGeometry(e)
                } catch (f) {
                    OpenLayers.Console.error(f)
                }
                break;
            case "Feature":
                try {
                    d =
                        this.parseFeature(e), d.type = "Feature"
                } catch (g) {
                    OpenLayers.Console.error(g)
                }
                break;
            case "FeatureCollection":
                switch (d = [], e.type) {
                    case "Feature":
                        try {
                            d.push(this.parseFeature(e))
                        } catch (h) {
                            d = null, OpenLayers.Console.error(h)
                        }
                        break;
                    case "FeatureCollection":
                        a = 0;
                        for (b = e.features.length; a < b; ++a) try {
                            d.push(this.parseFeature(e.features[a]))
                        } catch (k) {
                            d = null, OpenLayers.Console.error(k)
                        }
                        break;
                    default:
                        try {
                            var l = this.parseGeometry(e);
                            d.push(new OpenLayers.Feature.Vector(l))
                        } catch (m) {
                            d = null, OpenLayers.Console.error(m)
                        }
                }
        }
        return d
    },
    isValidType: function (a, b) {
        var c = !1;
        switch (b) {
            case "Geometry":
                -1 == OpenLayers.Util.indexOf("Point MultiPoint LineString MultiLineString Polygon MultiPolygon Box GeometryCollection".split(" "), a.type) ? OpenLayers.Console.error("Unsupported geometry type: " + a.type) : c = !0;
                break;
            case "FeatureCollection":
                c = !0;
                break;
            default:
                a.type == b ? c = !0 : OpenLayers.Console.error("Cannot convert types from " + a.type + " to " + b)
        }
        return c
    },
    parseFeature: function (a) {
        var b, c, d;
        c = a.properties ? a.properties : {};
        d = a.geometry && a.geometry.bbox ||
            a.bbox;
        try {
            b = this.parseGeometry(a.geometry)
        } catch (e) {
            throw e;
        }
        b = new OpenLayers.Feature.Vector(b, c);
        d && (b.bounds = OpenLayers.Bounds.fromArray(d));
        a.id && (b.fid = a.id);
        return b
    },
    parseGeometry: function (a) {
        if (null == a) return null;
        var b, c = !1;
        if ("GeometryCollection" == a.type) {
            if (!OpenLayers.Util.isArray(a.geometries)) throw "GeometryCollection must have geometries array: " + a;
            b = a.geometries.length;
            for (var c = Array(b), d = 0; d < b; ++d) c[d] = this.parseGeometry.apply(this, [a.geometries[d]]);
            b = new OpenLayers.Geometry.Collection(c);
            c = !0
        } else {
            if (!OpenLayers.Util.isArray(a.coordinates)) throw "Geometry must have coordinates array: " + a;
            if (!this.parseCoords[a.type.toLowerCase()]) throw "Unsupported geometry type: " + a.type;
            try {
                b = this.parseCoords[a.type.toLowerCase()].apply(this, [a.coordinates])
            } catch (e) {
                throw e;
            }
        }
        this.internalProjection && (this.externalProjection && !c) && b.transform(this.externalProjection, this.internalProjection);
        return b
    },
    parseCoords: {
        point: function (a) {
            if (!1 == this.ignoreExtraDims && 2 != a.length) throw "Only 2D points are supported: " +
                a;
            return new OpenLayers.Geometry.Point(a[0], a[1])
        },
        multipoint: function (a) {
            for (var b = [], c = null, d = 0, e = a.length; d < e; ++d) {
                try {
                    c = this.parseCoords.point.apply(this, [a[d]])
                } catch (f) {
                    throw f;
                }
                b.push(c)
            }
            return new OpenLayers.Geometry.MultiPoint(b)
        },
        linestring: function (a) {
            for (var b = [], c = null, d = 0, e = a.length; d < e; ++d) {
                try {
                    c = this.parseCoords.point.apply(this, [a[d]])
                } catch (f) {
                    throw f;
                }
                b.push(c)
            }
            return new OpenLayers.Geometry.LineString(b)
        },
        multilinestring: function (a) {
            for (var b = [], c = null, d = 0, e = a.length; d < e; ++d) {
                try {
                    c =
                        this.parseCoords.linestring.apply(this, [a[d]])
                } catch (f) {
                    throw f;
                }
                b.push(c)
            }
            return new OpenLayers.Geometry.MultiLineString(b)
        },
        polygon: function (a) {
            for (var b = [], c, d, e = 0, f = a.length; e < f; ++e) {
                try {
                    d = this.parseCoords.linestring.apply(this, [a[e]])
                } catch (g) {
                    throw g;
                }
                c = new OpenLayers.Geometry.LinearRing(d.components);
                b.push(c)
            }
            return new OpenLayers.Geometry.Polygon(b)
        },
        multipolygon: function (a) {
            for (var b = [], c = null, d = 0, e = a.length; d < e; ++d) {
                try {
                    c = this.parseCoords.polygon.apply(this, [a[d]])
                } catch (f) {
                    throw f;
                }
                b.push(c)
            }
            return new OpenLayers.Geometry.MultiPolygon(b)
        },
        box: function (a) {
            if (2 != a.length) throw "GeoJSON box coordinates must have 2 elements";
            return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(a[0][0], a[0][1]), new OpenLayers.Geometry.Point(a[1][0], a[0][1]), new OpenLayers.Geometry.Point(a[1][0], a[1][1]), new OpenLayers.Geometry.Point(a[0][0], a[1][1]), new OpenLayers.Geometry.Point(a[0][0], a[0][1])])])
        }
    },
    write: function (a, b) {
        var c = {
            type: null
        };
        if (OpenLayers.Util.isArray(a)) {
            c.type = "FeatureCollection";
            var d =
                a.length;
            c.features = Array(d);
            for (var e = 0; e < d; ++e) {
                var f = a[e];
                if (!f instanceof OpenLayers.Feature.Vector) throw "FeatureCollection only supports collections of features: " + f;
                c.features[e] = this.extract.feature.apply(this, [f])
            }
        } else 0 == a.CLASS_NAME.indexOf("OpenLayers.Geometry") ? c = this.extract.geometry.apply(this, [a]) : a instanceof OpenLayers.Feature.Vector && (c = this.extract.feature.apply(this, [a]), a.layer && a.layer.projection && (c.crs = this.createCRSObject(a)));
        return OpenLayers.Format.JSON.prototype.write.apply(this,
            [c, b])
    },
    createCRSObject: function (a) {
        a = a.layer.projection.toString();
        var b = {};
        a.match(/epsg:/i) && (a = parseInt(a.substring(a.indexOf(":") + 1)), b = 4326 == a ? {
            type: "name",
            properties: {
                name: "urn:ogc:def:crs:OGC:1.3:CRS84"
            }
        } : {
            type: "name",
            properties: {
                name: "EPSG:" + a
            }
        });
        return b
    },
    extract: {
        feature: function (a) {
            var b = this.extract.geometry.apply(this, [a.geometry]),
                b = {
                    type: "Feature",
                    properties: a.attributes,
                    geometry: b
                };
            null != a.fid && (b.id = a.fid);
            return b
        },
        geometry: function (a) {
            if (null == a) return null;
            this.internalProjection &&
                this.externalProjection && (a = a.clone(), a.transform(this.internalProjection, this.externalProjection));
            var b = a.CLASS_NAME.split(".")[2];
            a = this.extract[b.toLowerCase()].apply(this, [a]);
            return "Collection" == b ? {
                type: "GeometryCollection",
                geometries: a
            } : {
                type: b,
                coordinates: a
            }
        },
        point: function (a) {
            return [a.x, a.y]
        },
        multipoint: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extract.point.apply(this, [a.components[c]]));
            return b
        },
        linestring: function (a) {
            for (var b = [], c = 0, d = a.components.length; c <
                d; ++c) b.push(this.extract.point.apply(this, [a.components[c]]));
            return b
        },
        multilinestring: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extract.linestring.apply(this, [a.components[c]]));
            return b
        },
        polygon: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extract.linestring.apply(this, [a.components[c]]));
            return b
        },
        multipolygon: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extract.polygon.apply(this, [a.components[c]]));
            return b
        },
        collection: function (a) {
            for (var b =
                    a.components.length, c = Array(b), d = 0; d < b; ++d) c[d] = this.extract.geometry.apply(this, [a.components[d]]);
            return c
        }
    },
    CLASS_NAME: "OpenLayers.Format.GeoJSON"
});
OpenLayers.Protocol.Script = OpenLayers.Class(OpenLayers.Protocol, {
    url: null,
    params: null,
    callback: null,
    callbackTemplate: "OpenLayers.Protocol.Script.registry.${id}",
    callbackKey: "callback",
    callbackPrefix: "",
    scope: null,
    format: null,
    pendingRequests: null,
    srsInBBOX: !1,
    initialize: function (a) {
        a = a || {};
        this.params = {};
        this.pendingRequests = {};
        OpenLayers.Protocol.prototype.initialize.apply(this, arguments);
        this.format || (this.format = new OpenLayers.Format.GeoJSON);
        if (!this.filterToParams && OpenLayers.Format.QueryStringFilter) {
            var b =
                new OpenLayers.Format.QueryStringFilter({
                    srsInBBOX: this.srsInBBOX
                });
            this.filterToParams = function (a, d) {
                return b.write(a, d)
            }
        }
    },
    read: function (a) {
        OpenLayers.Protocol.prototype.read.apply(this, arguments);
        a = OpenLayers.Util.applyDefaults(a, this.options);
        a.params = OpenLayers.Util.applyDefaults(a.params, this.options.params);
        a.filter && this.filterToParams && (a.params = this.filterToParams(a.filter, a.params));
        var b = new OpenLayers.Protocol.Response({
                requestType: "read"
            }),
            c = this.createRequest(a.url, a.params, OpenLayers.Function.bind(function (c) {
                b.data =
                    c;
                this.handleRead(b, a)
            }, this));
        b.priv = c;
        return b
    },
    createRequest: function (a, b, c) {
        c = OpenLayers.Protocol.Script.register(c);
        var d = OpenLayers.String.format(this.callbackTemplate, {
            id: c
        });
        b = OpenLayers.Util.extend({}, b);
        b[this.callbackKey] = this.callbackPrefix + d;
        a = OpenLayers.Util.urlAppend(a, OpenLayers.Util.getParameterString(b));
        b = document.createElement("script");
        b.type = "text/javascript";
        b.src = a;
        b.id = "OpenLayers_Protocol_Script_" + c;
        this.pendingRequests[b.id] = b;
        document.getElementsByTagName("head")[0].appendChild(b);
        return b
    },
    destroyRequest: function (a) {
        OpenLayers.Protocol.Script.unregister(a.id.split("_").pop());
        delete this.pendingRequests[a.id];
        a.parentNode && a.parentNode.removeChild(a)
    },
    handleRead: function (a, b) {
        this.handleResponse(a, b)
    },
    handleResponse: function (a, b) {
        b.callback && (a.data ? (a.features = this.parseFeatures(a.data), a.code = OpenLayers.Protocol.Response.SUCCESS) : a.code = OpenLayers.Protocol.Response.FAILURE, this.destroyRequest(a.priv), b.callback.call(b.scope, a))
    },
    parseFeatures: function (a) {
        return this.format.read(a)
    },
    abort: function (a) {
        if (a) this.destroyRequest(a.priv);
        else
            for (var b in this.pendingRequests) this.destroyRequest(this.pendingRequests[b])
    },
    destroy: function () {
        this.abort();
        delete this.params;
        delete this.format;
        OpenLayers.Protocol.prototype.destroy.apply(this)
    },
    CLASS_NAME: "OpenLayers.Protocol.Script"
});
(function () {
    var a = OpenLayers.Protocol.Script,
        b = 0;
    a.registry = {};
    a.register = function (c) {
        var d = "c" + ++b;
        a.registry[d] = function () {
            c.apply(this, arguments)
        };
        return d
    };
    a.unregister = function (b) {
        delete a.registry[b]
    }
})();
OpenLayers.Format.EncodedPolyline = OpenLayers.Class(OpenLayers.Format, {
    geometryType: "linestring",
    initialize: function (a) {
        OpenLayers.Format.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        var b;
        if ("linestring" == this.geometryType) b = OpenLayers.Geometry.LineString;
        else if ("linearring" == this.geometryType) b = OpenLayers.Geometry.LinearRing;
        else if ("multipoint" == this.geometryType) b = OpenLayers.Geometry.MultiPoint;
        else if ("point" != this.geometryType && "polygon" != this.geometryType) return null;
        a = this.decodeDeltas(a,
            2);
        for (var c = a.length, d = [], e = 0; e + 1 < c;) {
            var f = a[e++],
                g = a[e++];
            d.push(new OpenLayers.Geometry.Point(g, f))
        }
        return "point" == this.geometryType ? new OpenLayers.Feature.Vector(d[0]) : "polygon" == this.geometryType ? new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)])) : new OpenLayers.Feature.Vector(new b(d))
    },
    decode: function (a, b, c) {
        a = this.decodeDeltas(a, b, c || 1E5);
        c = a.length;
        for (var d = [], e = 0; e + (b - 1) < c;) {
            for (var f = [], g = 0; g < b; ++g) f.push(a[e++]);
            d.push(f)
        }
        return d
    },
    write: function (a) {
        a = (a.constructor == Array ? a[0] : a).geometry;
        var b = a.CLASS_NAME.split(".")[2].toLowerCase();
        if ("point" == b) a = Array(a);
        else if ("linestring" == b || "linearring" == b || "multipoint" == b) a = a.components;
        else if ("polygon" == b) a = a.components[0].components;
        else return null;
        for (var b = [], c = a.length, d = 0; d < c; ++d) {
            var e = a[d];
            b.push(e.y);
            b.push(e.x)
        }
        return this.encodeDeltas(b, 2)
    },
    encode: function (a, b, c) {
        c = c || 1E5;
        for (var d = [], e = a.length, f = 0; f < e; ++f)
            for (var g = a[f], h = 0; h < b; ++h) d.push(g[h]);
        return this.encodeDeltas(d,
            b, c)
    },
    encodeDeltas: function (a, b, c) {
        var d, e = Array(b);
        for (d = 0; d < b; ++d) e[d] = 0;
        for (var f = a.length, g = 0; g < f;)
            for (d = 0; d < b; ++d, ++g) {
                var h = a[g],
                    k = h - e[d];
                e[d] = h;
                a[g] = k
            }
        return this.encodeFloats(a, c || 1E5)
    },
    decodeDeltas: function (a, b, c) {
        var d, e = Array(b);
        for (d = 0; d < b; ++d) e[d] = 0;
        a = this.decodeFloats(a, c || 1E5);
        c = a.length;
        for (var f = 0; f < c;)
            for (d = 0; d < b; ++d, ++f) e[d] += a[f], a[f] = e[d];
        return a
    },
    encodeFloats: function (a, b) {
        for (var c = b || 1E5, d = a.length, e = 0; e < d; ++e) a[e] = Math.round(a[e] * c);
        return this.encodeSignedIntegers(a)
    },
    decodeFloats: function (a,
        b) {
        for (var c = b || 1E5, d = this.decodeSignedIntegers(a), e = d.length, f = 0; f < e; ++f) d[f] /= c;
        return d
    },
    encodeSignedIntegers: function (a) {
        for (var b = a.length, c = 0; c < b; ++c) {
            var d = a[c],
                e = d << 1;
            0 > d && (e = ~e);
            a[c] = e
        }
        return this.encodeUnsignedIntegers(a)
    },
    decodeSignedIntegers: function (a) {
        a = this.decodeUnsignedIntegers(a);
        for (var b = a.length, c = 0; c < b; ++c) {
            var d = a[c];
            a[c] = d & 1 ? ~(d >> 1) : d >> 1
        }
        return a
    },
    encodeUnsignedIntegers: function (a) {
        for (var b = "", c = a.length, d = 0; d < c; ++d) b += this.encodeUnsignedInteger(a[d]);
        return b
    },
    decodeUnsignedIntegers: function (a) {
        for (var b = [], c = 0, d = 0, e = a.length, f = 0; f < e; ++f) {
            var g = a.charCodeAt(f) - 63,
                c = c | (g & 31) << d;
            32 > g ? (b.push(c), d = c = 0) : d += 5
        }
        return b
    },
    encodeFloat: function (a, b) {
        a = Math.round(a * (b || 1E5));
        return this.encodeSignedInteger(a)
    },
    decodeFloat: function (a, b) {
        return this.decodeSignedInteger(a) / (b || 1E5)
    },
    encodeSignedInteger: function (a) {
        var b = a << 1;
        0 > a && (b = ~b);
        return this.encodeUnsignedInteger(b)
    },
    decodeSignedInteger: function (a) {
        a = this.decodeUnsignedInteger(a);
        return a & 1 ? ~(a >> 1) : a >> 1
    },
    encodeUnsignedInteger: function (a) {
        for (var b, c = ""; 32 <=
            a;) b = (32 | a & 31) + 63, c += String.fromCharCode(b), a >>= 5;
        return c += String.fromCharCode(a + 63)
    },
    decodeUnsignedInteger: function (a) {
        for (var b = 0, c = 0, d = a.length, e = 0; e < d; ++e) {
            var f = a.charCodeAt(e) - 63,
                b = b | (f & 31) << c;
            if (32 > f) break;
            c += 5
        }
        return b
    },
    CLASS_NAME: "OpenLayers.Format.EncodedPolyline"
});
OpenLayers.Control.Panel = OpenLayers.Class(OpenLayers.Control, {
    controls: null,
    autoActivate: !0,
    defaultControl: null,
    saveState: !1,
    allowDepress: !1,
    activeState: null,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.controls = [];
        this.activeState = {}
    },
    destroy: function () {
        this.map && this.map.events.unregister("buttonclick", this, this.onButtonClick);
        OpenLayers.Control.prototype.destroy.apply(this, arguments);
        for (var a, b = this.controls.length - 1; 0 <= b; b--) a = this.controls[b], a.events &&
            a.events.un({
                activate: this.iconOn,
                deactivate: this.iconOff
            }), a.panel_div = null;
        this.activeState = null
    },
    activate: function () {
        if (OpenLayers.Control.prototype.activate.apply(this, arguments)) {
            for (var a, b = 0, c = this.controls.length; b < c; b++) a = this.controls[b], (a === this.defaultControl || this.saveState && this.activeState[a.id]) && a.activate();
            !0 === this.saveState && (this.defaultControl = null);
            this.redraw();
            return !0
        }
        return !1
    },
    deactivate: function () {
        if (OpenLayers.Control.prototype.deactivate.apply(this, arguments)) {
            for (var a,
                    b = 0, c = this.controls.length; b < c; b++) a = this.controls[b], this.activeState[a.id] = a.deactivate();
            this.redraw();
            return !0
        }
        return !1
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.outsideViewport ? (this.events.attachToElement(this.div), this.events.register("buttonclick", this, this.onButtonClick)) : this.map.events.register("buttonclick", this, this.onButtonClick);
        this.addControlsToMap(this.controls);
        return this.div
    },
    redraw: function () {
        for (var a = this.div.childNodes.length - 1; 0 <= a; a--) this.div.removeChild(this.div.childNodes[a]);
        this.div.innerHTML = "";
        if (this.active)
            for (var a = 0, b = this.controls.length; a < b; a++) this.div.appendChild(this.controls[a].panel_div)
    },
    activateControl: function (a) {
        if (!this.active) return !1;
        if (a.type == OpenLayers.Control.TYPE_BUTTON) a.trigger();
        else if (a.type == OpenLayers.Control.TYPE_TOGGLE) a.active ? a.deactivate() : a.activate();
        else if (this.allowDepress && a.active) a.deactivate();
        else {
            for (var b, c = 0, d = this.controls.length; c < d; c++) b = this.controls[c], b == a || b.type !== OpenLayers.Control.TYPE_TOOL && null != b.type || b.deactivate();
            a.activate()
        }
    },
    addControls: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        this.controls = this.controls.concat(a);
        for (var b = 0, c = a.length; b < c; b++) {
            var d = a[b],
                e = this.createControlMarkup(d);
            OpenLayers.Element.addClass(e, d.displayClass + "ItemInactive");
            OpenLayers.Element.addClass(e, "olButton");
            "" == d.title || e.title || (e.title = d.title);
            d.panel_div = e
        }
        this.map && (this.addControlsToMap(a), this.redraw())
    },
    createControlMarkup: function (a) {
        return document.createElement("div")
    },
    addControlsToMap: function (a) {
        for (var b,
                c = 0, d = a.length; c < d; c++) b = a[c], !0 === b.autoActivate ? (b.autoActivate = !1, this.map.addControl(b), b.autoActivate = !0) : (this.map.addControl(b), b.deactivate()), b.events.on({
            activate: this.iconOn,
            deactivate: this.iconOff
        })
    },
    iconOn: function () {
        var a = this.panel_div;
        a.className = a.className.replace(RegExp("\\b(" + this.displayClass + "Item)Inactive\\b"), "$1Active")
    },
    iconOff: function () {
        var a = this.panel_div;
        a.className = a.className.replace(RegExp("\\b(" + this.displayClass + "Item)Active\\b"), "$1Inactive")
    },
    onButtonClick: function (a) {
        var b =
            this.controls;
        a = a.buttonElement;
        for (var c = b.length - 1; 0 <= c; --c)
            if (b[c].panel_div === a) {
                this.activateControl(b[c]);
                break
            }
    },
    getControlsBy: function (a, b) {
        var c = "function" == typeof b.test;
        return OpenLayers.Array.filter(this.controls, function (d) {
            return d[a] == b || c && b.test(d[a])
        })
    },
    getControlsByName: function (a) {
        return this.getControlsBy("name", a)
    },
    getControlsByClass: function (a) {
        return this.getControlsBy("CLASS_NAME", a)
    },
    CLASS_NAME: "OpenLayers.Control.Panel"
});
OpenLayers.Control.Button = OpenLayers.Class(OpenLayers.Control, {
    type: OpenLayers.Control.TYPE_BUTTON,
    trigger: function () {},
    CLASS_NAME: "OpenLayers.Control.Button"
});
OpenLayers.Control.ZoomIn = OpenLayers.Class(OpenLayers.Control.Button, {
    trigger: function () {
        this.map && this.map.zoomIn()
    },
    CLASS_NAME: "OpenLayers.Control.ZoomIn"
});
OpenLayers.Control.ZoomOut = OpenLayers.Class(OpenLayers.Control.Button, {
    trigger: function () {
        this.map && this.map.zoomOut()
    },
    CLASS_NAME: "OpenLayers.Control.ZoomOut"
});
OpenLayers.Control.ZoomToMaxExtent = OpenLayers.Class(OpenLayers.Control.Button, {
    trigger: function () {
        this.map && this.map.zoomToMaxExtent()
    },
    CLASS_NAME: "OpenLayers.Control.ZoomToMaxExtent"
});
OpenLayers.Control.ZoomPanel = OpenLayers.Class(OpenLayers.Control.Panel, {
    initialize: function (a) {
        OpenLayers.Control.Panel.prototype.initialize.apply(this, [a]);
        this.addControls([new OpenLayers.Control.ZoomIn, new OpenLayers.Control.ZoomToMaxExtent, new OpenLayers.Control.ZoomOut])
    },
    CLASS_NAME: "OpenLayers.Control.ZoomPanel"
});
OpenLayers.Layer.HTTPRequest = OpenLayers.Class(OpenLayers.Layer, {
    URL_HASH_FACTOR: (Math.sqrt(5) - 1) / 2,
    url: null,
    params: null,
    reproject: !1,
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.prototype.initialize.apply(this, [a, d]);
        this.url = b;
        this.params || (this.params = OpenLayers.Util.extend({}, c))
    },
    destroy: function () {
        this.params = this.url = null;
        OpenLayers.Layer.prototype.destroy.apply(this, arguments)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.HTTPRequest(this.name, this.url, this.params, this.getOptions()));
        return a = OpenLayers.Layer.prototype.clone.apply(this, [a])
    },
    setUrl: function (a) {
        this.url = a
    },
    mergeNewParams: function (a) {
        this.params = OpenLayers.Util.extend(this.params, a);
        a = this.redraw();
        null != this.map && this.map.events.triggerEvent("changelayer", {
            layer: this,
            property: "params"
        });
        return a
    },
    redraw: function (a) {
        return a ? this.mergeNewParams({
            _olSalt: Math.random()
        }) : OpenLayers.Layer.prototype.redraw.apply(this, [])
    },
    selectUrl: function (a, b) {
        for (var c = 1, d = 0, e = a.length; d < e; d++) c *= a.charCodeAt(d) * this.URL_HASH_FACTOR,
            c -= Math.floor(c);
        return b[Math.floor(c * b.length)]
    },
    getFullRequestString: function (a, b) {
        var c = b || this.url,
            d = OpenLayers.Util.extend({}, this.params),
            d = OpenLayers.Util.extend(d, a),
            e = OpenLayers.Util.getParameterString(d);
        OpenLayers.Util.isArray(c) && (c = this.selectUrl(e, c));
        var e = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c)),
            f;
        for (f in d) f.toUpperCase() in e && delete d[f];
        e = OpenLayers.Util.getParameterString(d);
        return OpenLayers.Util.urlAppend(c, e)
    },
    CLASS_NAME: "OpenLayers.Layer.HTTPRequest"
});
OpenLayers.Tile = OpenLayers.Class({
    events: null,
    eventListeners: null,
    id: null,
    layer: null,
    url: null,
    bounds: null,
    size: null,
    position: null,
    isLoading: !1,
    initialize: function (a, b, c, d, e, f) {
        this.layer = a;
        this.position = b.clone();
        this.setBounds(c);
        this.url = d;
        e && (this.size = e.clone());
        this.id = OpenLayers.Util.createUniqueID("Tile_");
        OpenLayers.Util.extend(this, f);
        this.events = new OpenLayers.Events(this);
        if (this.eventListeners instanceof Object) this.events.on(this.eventListeners)
    },
    unload: function () {
        this.isLoading && (this.isLoading = !1, this.events.triggerEvent("unload"))
    },
    destroy: function () {
        this.position = this.size = this.bounds = this.layer = null;
        this.eventListeners && this.events.un(this.eventListeners);
        this.events.destroy();
        this.events = this.eventListeners = null
    },
    draw: function (a) {
        a || this.clear();
        var b = this.shouldDraw();
        b && (!a && !1 === this.events.triggerEvent("beforedraw")) && (b = null);
        return b
    },
    shouldDraw: function () {
        var a = !1,
            b = this.layer.maxExtent;
        if (b) {
            var c = this.layer.map,
                c = c.baseLayer.wrapDateLine && c.getMaxExtent();
            this.bounds.intersectsBounds(b, {
                inclusive: !1,
                worldBounds: c
            }) && (a = !0)
        }
        return a || this.layer.displayOutsideMaxExtent
    },
    setBounds: function (a) {
        a = a.clone();
        if (this.layer.map.baseLayer.wrapDateLine) {
            var b = this.layer.map.getMaxExtent(),
                c = this.layer.map.getResolution();
            a = a.wrapDateLine(b, {
                leftTolerance: c,
                rightTolerance: c
            })
        }
        this.bounds = a
    },
    moveTo: function (a, b, c) {
        null == c && (c = !0);
        this.setBounds(a);
        this.position = b.clone();
        c && this.draw()
    },
    clear: function (a) {},
    CLASS_NAME: "OpenLayers.Tile"
});
OpenLayers.Tile.Image = OpenLayers.Class(OpenLayers.Tile, {
    url: null,
    imgDiv: null,
    frame: null,
    imageReloadAttempts: null,
    layerAlphaHack: null,
    asyncRequestId: null,
    maxGetUrlLength: null,
    canvasContext: null,
    crossOriginKeyword: null,
    initialize: function (a, b, c, d, e, f) {
        OpenLayers.Tile.prototype.initialize.apply(this, arguments);
        this.url = d;
        this.layerAlphaHack = this.layer.alpha && OpenLayers.Util.alphaHack();
        if (null != this.maxGetUrlLength || this.layer.gutter || this.layerAlphaHack) this.frame = document.createElement("div"), this.frame.style.position =
            "absolute", this.frame.style.overflow = "hidden";
        null != this.maxGetUrlLength && OpenLayers.Util.extend(this, OpenLayers.Tile.Image.IFrame)
    },
    destroy: function () {
        this.imgDiv && (this.clear(), this.frame = this.imgDiv = null);
        this.asyncRequestId = null;
        OpenLayers.Tile.prototype.destroy.apply(this, arguments)
    },
    draw: function () {
        var a = OpenLayers.Tile.prototype.draw.apply(this, arguments);
        a ? (this.layer != this.layer.map.baseLayer && this.layer.reproject && (this.bounds = this.getBoundsFromBaseLayer(this.position)), this.isLoading ? this._loadEvent =
            "reload" : (this.isLoading = !0, this._loadEvent = "loadstart"), this.renderTile(), this.positionTile()) : !1 === a && this.unload();
        return a
    },
    renderTile: function () {
        if (this.layer.async) {
            var a = this.asyncRequestId = (this.asyncRequestId || 0) + 1;
            this.layer.getURLasync(this.bounds, function (b) {
                a == this.asyncRequestId && (this.url = b, this.initImage())
            }, this)
        } else this.url = this.layer.getURL(this.bounds), this.initImage()
    },
    positionTile: function () {
        var a = this.getTile().style,
            b = this.frame ? this.size : this.layer.getImageSize(this.bounds),
            c = 1;
        this.layer instanceof OpenLayers.Layer.Grid && (c = this.layer.getServerResolution() / this.layer.map.getResolution());
        a.left = this.position.x + "px";
        a.top = this.position.y + "px";
        a.width = Math.round(c * b.w) + "px";
        a.height = Math.round(c * b.h) + "px"
    },
    clear: function () {
        OpenLayers.Tile.prototype.clear.apply(this, arguments);
        var a = this.imgDiv;
        if (a) {
            var b = this.getTile();
            b.parentNode === this.layer.div && this.layer.div.removeChild(b);
            this.setImgSrc();
            !0 === this.layerAlphaHack && (a.style.filter = "");
            OpenLayers.Element.removeClass(a,
                "olImageLoadError")
        }
        this.canvasContext = null
    },
    getImage: function () {
        if (!this.imgDiv) {
            this.imgDiv = OpenLayers.Tile.Image.IMAGE.cloneNode(!1);
            var a = this.imgDiv.style;
            if (this.frame) {
                var b = 0,
                    c = 0;
                this.layer.gutter && (b = 100 * (this.layer.gutter / this.layer.tileSize.w), c = 100 * (this.layer.gutter / this.layer.tileSize.h));
                a.left = -b + "%";
                a.top = -c + "%";
                a.width = 2 * b + 100 + "%";
                a.height = 2 * c + 100 + "%"
            }
            a.visibility = "hidden";
            a.opacity = 0;
            1 > this.layer.opacity && (a.filter = "alpha(opacity=" + 100 * this.layer.opacity + ")");
            a.position = "absolute";
            this.layerAlphaHack && (a.paddingTop = a.height, a.height = "0", a.width = "100%");
            this.frame && this.frame.appendChild(this.imgDiv)
        }
        return this.imgDiv
    },
    setImage: function (a) {
        this.imgDiv = a
    },
    initImage: function () {
        if (this.url || this.imgDiv) {
            this.events.triggerEvent("beforeload");
            this.layer.div.appendChild(this.getTile());
            this.events.triggerEvent(this._loadEvent);
            var a = this.getImage(),
                b = a.getAttribute("src") || "";
            this.url && OpenLayers.Util.isEquivalentUrl(b, this.url) ? this._loadTimeout = window.setTimeout(OpenLayers.Function.bind(this.onImageLoad,
                this), 0) : (this.stopLoading(), this.crossOriginKeyword && a.removeAttribute("crossorigin"), OpenLayers.Event.observe(a, "load", OpenLayers.Function.bind(this.onImageLoad, this)), OpenLayers.Event.observe(a, "error", OpenLayers.Function.bind(this.onImageError, this)), this.imageReloadAttempts = 0, this.setImgSrc(this.url))
        } else this.isLoading = !1
    },
    setImgSrc: function (a) {
        var b = this.imgDiv;
        a ? (b.style.visibility = "hidden", b.style.opacity = 0, this.crossOriginKeyword && ("data:" !== a.substr(0, 5) ? b.setAttribute("crossorigin", this.crossOriginKeyword) :
            b.removeAttribute("crossorigin")), b.src = a) : (this.stopLoading(), this.imgDiv = null, b.parentNode && b.parentNode.removeChild(b))
    },
    getTile: function () {
        return this.frame ? this.frame : this.getImage()
    },
    createBackBuffer: function () {
        if (this.imgDiv && !this.isLoading) {
            var a;
            this.frame ? (a = this.frame.cloneNode(!1), a.appendChild(this.imgDiv)) : a = this.imgDiv;
            this.imgDiv = null;
            return a
        }
    },
    onImageLoad: function () {
        var a = this.imgDiv;
        this.stopLoading();
        a.style.visibility = "inherit";
        a.style.opacity = this.layer.opacity;
        this.isLoading = !1;
        this.canvasContext = null;
        this.events.triggerEvent("loadend");
        !0 === this.layerAlphaHack && (a.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + a.src + "', sizingMethod='scale')")
    },
    onImageError: function () {
        var a = this.imgDiv;
        null != a.src && (this.imageReloadAttempts++, this.imageReloadAttempts <= OpenLayers.IMAGE_RELOAD_ATTEMPTS ? this.setImgSrc(this.layer.getURL(this.bounds)) : (OpenLayers.Element.addClass(a, "olImageLoadError"), this.events.triggerEvent("loaderror"), this.onImageLoad()))
    },
    stopLoading: function () {
        OpenLayers.Event.stopObservingElement(this.imgDiv);
        window.clearTimeout(this._loadTimeout);
        delete this._loadTimeout
    },
    getCanvasContext: function () {
        if (OpenLayers.CANVAS_SUPPORTED && this.imgDiv && !this.isLoading) {
            if (!this.canvasContext) {
                var a = document.createElement("canvas");
                a.width = this.size.w;
                a.height = this.size.h;
                this.canvasContext = a.getContext("2d");
                this.canvasContext.drawImage(this.imgDiv, 0, 0)
            }
            return this.canvasContext
        }
    },
    CLASS_NAME: "OpenLayers.Tile.Image"
});
OpenLayers.Tile.Image.IMAGE = function () {
    var a = new Image;
    a.className = "olTileImage";
    a.galleryImg = "no";
    return a
}();
OpenLayers.Layer.Grid = OpenLayers.Class(OpenLayers.Layer.HTTPRequest, {
    tileSize: null,
    tileOriginCorner: "bl",
    tileOrigin: null,
    tileOptions: null,
    tileClass: OpenLayers.Tile.Image,
    grid: null,
    singleTile: !1,
    ratio: 1.5,
    buffer: 0,
    transitionEffect: "resize",
    numLoadingTiles: 0,
    serverResolutions: null,
    loading: !1,
    backBuffer: null,
    gridResolution: null,
    backBufferResolution: null,
    backBufferLonLat: null,
    backBufferTimerId: null,
    removeBackBufferDelay: null,
    className: null,
    gridLayout: null,
    rowSign: null,
    transitionendEvents: ["transitionend",
        "webkitTransitionEnd", "otransitionend", "oTransitionEnd"
    ],
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.HTTPRequest.prototype.initialize.apply(this, arguments);
        this.grid = [];
        this._removeBackBuffer = OpenLayers.Function.bind(this.removeBackBuffer, this);
        this.initProperties();
        this.rowSign = "t" === this.tileOriginCorner.substr(0, 1) ? 1 : -1
    },
    initProperties: function () {
        void 0 === this.options.removeBackBufferDelay && (this.removeBackBufferDelay = this.singleTile ? 0 : 2500);
        void 0 === this.options.className && (this.className = this.singleTile ?
            "olLayerGridSingleTile" : "olLayerGrid")
    },
    setMap: function (a) {
        OpenLayers.Layer.HTTPRequest.prototype.setMap.call(this, a);
        OpenLayers.Element.addClass(this.div, this.className)
    },
    removeMap: function (a) {
        this.removeBackBuffer()
    },
    destroy: function () {
        this.removeBackBuffer();
        this.clearGrid();
        this.tileSize = this.grid = null;
        OpenLayers.Layer.HTTPRequest.prototype.destroy.apply(this, arguments)
    },
    clearGrid: function () {
        if (this.grid) {
            for (var a = 0, b = this.grid.length; a < b; a++)
                for (var c = this.grid[a], d = 0, e = c.length; d < e; d++) this.destroyTile(c[d]);
            this.grid = [];
            this.gridLayout = this.gridResolution = null
        }
    },
    addOptions: function (a, b) {
        var c = void 0 !== a.singleTile && a.singleTile !== this.singleTile;
        OpenLayers.Layer.HTTPRequest.prototype.addOptions.apply(this, arguments);
        this.map && c && (this.initProperties(), this.clearGrid(), this.tileSize = this.options.tileSize, this.setTileSize(), this.moveTo(null, !0))
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.Grid(this.name, this.url, this.params, this.getOptions()));
        a = OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this,
            [a]);
        null != this.tileSize && (a.tileSize = this.tileSize.clone());
        a.grid = [];
        a.gridResolution = null;
        a.backBuffer = null;
        a.backBufferTimerId = null;
        a.loading = !1;
        a.numLoadingTiles = 0;
        return a
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this, arguments);
        a = a || this.map.getExtent();
        if (null != a) {
            var d = !this.grid.length || b,
                e = this.getTilesBounds(),
                f = this.map.getResolution();
            this.getServerResolution(f);
            if (this.singleTile) {
                if (d || !c && !e.containsBounds(a)) b && "resize" !== this.transitionEffect &&
                    this.removeBackBuffer(), b && "resize" !== this.transitionEffect || this.applyBackBuffer(f), this.initSingleTile(a)
            } else(d = d || !e.intersectsBounds(a, {
                worldBounds: this.map.baseLayer.wrapDateLine && this.map.getMaxExtent()
            })) ? (!b || "resize" !== this.transitionEffect && this.gridResolution !== f || this.applyBackBuffer(f), this.initGriddedTiles(a)) : this.moveGriddedTiles()
        }
    },
    getTileData: function (a) {
        var b = null,
            c = a.lon,
            d = a.lat,
            e = this.grid.length;
        if (this.map && e) {
            var f = this.map.getResolution();
            a = this.tileSize.w;
            var g = this.tileSize.h,
                h = this.grid[0][0].bounds,
                k = h.left,
                h = h.top;
            if (c < k && this.map.baseLayer.wrapDateLine) var l = this.map.getMaxExtent().getWidth(),
                m = Math.ceil((k - c) / l),
                c = c + l * m;
            c = (c - k) / (f * a);
            d = (h - d) / (f * g);
            f = Math.floor(c);
            k = Math.floor(d);
            0 <= k && k < e && (e = this.grid[k][f]) && (b = {
                tile: e,
                i: Math.floor((c - f) * a),
                j: Math.floor((d - k) * g)
            })
        }
        return b
    },
    destroyTile: function (a) {
        this.removeTileMonitoringHooks(a);
        a.destroy()
    },
    getServerResolution: function (a) {
        var b = Number.POSITIVE_INFINITY;
        a = a || this.map.getResolution();
        if (this.serverResolutions &&
            -1 === OpenLayers.Util.indexOf(this.serverResolutions, a)) {
            var c, d, e, f;
            for (c = this.serverResolutions.length - 1; 0 <= c; c--) {
                e = this.serverResolutions[c];
                d = Math.abs(e - a);
                if (d > b) break;
                b = d;
                f = e
            }
            a = f
        }
        return a
    },
    getServerZoom: function () {
        var a = this.getServerResolution();
        return this.serverResolutions ? OpenLayers.Util.indexOf(this.serverResolutions, a) : this.map.getZoomForResolution(a) + (this.zoomOffset || 0)
    },
    applyBackBuffer: function (a) {
        null !== this.backBufferTimerId && this.removeBackBuffer();
        var b = this.backBuffer;
        if (!b) {
            b =
                this.createBackBuffer();
            if (!b) return;
            a === this.gridResolution ? this.div.insertBefore(b, this.div.firstChild) : this.map.baseLayer.div.parentNode.insertBefore(b, this.map.baseLayer.div);
            this.backBuffer = b;
            var c = this.grid[0][0].bounds;
            this.backBufferLonLat = {
                lon: c.left,
                lat: c.top
            };
            this.backBufferResolution = this.gridResolution
        }
        for (var c = this.backBufferResolution / a, d = b.childNodes, e, f = d.length - 1; 0 <= f; --f) e = d[f], e.style.top = (c * e._i * e._h | 0) + "px", e.style.left = (c * e._j * e._w | 0) + "px", e.style.width = Math.round(c * e._w) +
            "px", e.style.height = Math.round(c * e._h) + "px";
        a = this.getViewPortPxFromLonLat(this.backBufferLonLat, a);
        c = this.map.layerContainerOriginPx.y;
        b.style.left = Math.round(a.x - this.map.layerContainerOriginPx.x) + "px";
        b.style.top = Math.round(a.y - c) + "px"
    },
    createBackBuffer: function () {
        var a;
        if (0 < this.grid.length) {
            a = document.createElement("div");
            a.id = this.div.id + "_bb";
            a.className = "olBackBuffer";
            a.style.position = "absolute";
            var b = this.map;
            a.style.zIndex = "resize" === this.transitionEffect ? this.getZIndex() - 1 : b.Z_INDEX_BASE.BaseLayer -
                (b.getNumLayers() - b.getLayerIndex(this));
            for (var b = 0, c = this.grid.length; b < c; b++)
                for (var d = 0, e = this.grid[b].length; d < e; d++) {
                    var f = this.grid[b][d],
                        g = this.grid[b][d].createBackBuffer();
                    g && (g._i = b, g._j = d, g._w = f.size.w, g._h = f.size.h, g.id = f.id + "_bb", a.appendChild(g))
                }
        }
        return a
    },
    removeBackBuffer: function () {
        if (this._transitionElement) {
            for (var a = this.transitionendEvents.length - 1; 0 <= a; --a) OpenLayers.Event.stopObserving(this._transitionElement, this.transitionendEvents[a], this._removeBackBuffer);
            delete this._transitionElement
        }
        this.backBuffer &&
            (this.backBuffer.parentNode && this.backBuffer.parentNode.removeChild(this.backBuffer), this.backBufferResolution = this.backBuffer = null, null !== this.backBufferTimerId && (window.clearTimeout(this.backBufferTimerId), this.backBufferTimerId = null))
    },
    moveByPx: function (a, b) {
        this.singleTile || this.moveGriddedTiles()
    },
    setTileSize: function (a) {
        this.singleTile && (a = this.map.getSize(), a.h = parseInt(a.h * this.ratio, 10), a.w = parseInt(a.w * this.ratio, 10));
        OpenLayers.Layer.HTTPRequest.prototype.setTileSize.apply(this, [a])
    },
    getTilesBounds: function () {
        var a =
            null,
            b = this.grid.length;
        if (b) var a = this.grid[b - 1][0].bounds,
            b = this.grid[0].length * a.getWidth(),
            c = this.grid.length * a.getHeight(),
            a = new OpenLayers.Bounds(a.left, a.bottom, a.left + b, a.bottom + c);
        return a
    },
    initSingleTile: function (a) {
        this.events.triggerEvent("retile");
        var b = a.getCenterLonLat(),
            c = a.getWidth() * this.ratio;
        a = a.getHeight() * this.ratio;
        b = new OpenLayers.Bounds(b.lon - c / 2, b.lat - a / 2, b.lon + c / 2, b.lat + a / 2);
        c = this.map.getLayerPxFromLonLat({
            lon: b.left,
            lat: b.top
        });
        this.grid.length || (this.grid[0] = []);
        (a = this.grid[0][0]) ?
        a.moveTo(b, c): (a = this.addTile(b, c), this.addTileMonitoringHooks(a), a.draw(), this.grid[0][0] = a);
        this.removeExcessTiles(1, 1);
        this.gridResolution = this.getServerResolution()
    },
    calculateGridLayout: function (a, b, c) {
        var d = c * this.tileSize.w;
        c *= this.tileSize.h;
        var e = Math.floor((a.left - b.lon) / d) - this.buffer,
            f = this.rowSign;
        a = Math[~f ? "floor" : "ceil"](f * (b.lat - a.top + c) / c) - this.buffer * f;
        return {
            tilelon: d,
            tilelat: c,
            startcol: e,
            startrow: a
        }
    },
    getTileOrigin: function () {
        var a = this.tileOrigin;
        if (!a) var a = this.getMaxExtent(),
            b = {
                tl: ["left", "top"],
                tr: ["right", "top"],
                bl: ["left", "bottom"],
                br: ["right", "bottom"]
            } [this.tileOriginCorner],
            a = new OpenLayers.LonLat(a[b[0]], a[b[1]]);
        return a
    },
    getTileBoundsForGridIndex: function (a, b) {
        var c = this.getTileOrigin(),
            d = this.gridLayout,
            e = d.tilelon,
            f = d.tilelat,
            g = d.startcol,
            d = d.startrow,
            h = this.rowSign;
        return new OpenLayers.Bounds(c.lon + (g + b) * e, c.lat - (d + a * h) * f * h, c.lon + (g + b + 1) * e, c.lat - (d + (a - 1) * h) * f * h)
    },
    initGriddedTiles: function (a) {
        this.events.triggerEvent("retile");
        var b = this.map.getSize(),
            c = this.getTileOrigin(),
            d = this.map.getResolution(),
            e = this.getServerResolution(),
            f = d / e,
            d = this.tileSize.w / f,
            f = this.tileSize.h / f,
            g = Math.ceil(b.h / f) + 2 * this.buffer + 1,
            b = Math.ceil(b.w / d) + 2 * this.buffer + 1;
        this.gridLayout = e = this.calculateGridLayout(a, c, e);
        var c = e.tilelon,
            h = e.tilelat,
            e = this.map.layerContainerOriginPx.x,
            k = this.map.layerContainerOriginPx.y,
            l = this.getTileBoundsForGridIndex(0, 0),
            m = this.map.getViewPortPxFromLonLat(new OpenLayers.LonLat(l.left, l.top));
        m.x = Math.round(m.x) - e;
        m.y = Math.round(m.y) - k;
        var e = [],
            k = this.map.getCenter(),
            n = 0;
        do {
            var p = this.grid[n];
            p || (p = [], this.grid.push(p));
            var q = 0;
            do {
                var l = this.getTileBoundsForGridIndex(n, q),
                    r = m.clone();
                r.x += q * Math.round(d);
                r.y += n * Math.round(f);
                var s = p[q];
                s ? s.moveTo(l, r, !1) : (s = this.addTile(l, r), this.addTileMonitoringHooks(s), p.push(s));
                r = l.getCenterLonLat();
                e.push({
                    tile: s,
                    distance: Math.pow(r.lon - k.lon, 2) + Math.pow(r.lat - k.lat, 2)
                });
                q += 1
            } while (l.right <= a.right + c * this.buffer || q < b);
            n += 1
        } while (l.bottom >= a.bottom - h * this.buffer || n < g);
        this.removeExcessTiles(n, q);
        this.gridResolution = d = this.getServerResolution();
        e.sort(function (a, b) {
            return a.distance - b.distance
        });
        a = 0;
        for (d = e.length; a < d; ++a) e[a].tile.draw()
    },
    getMaxExtent: function () {
        return this.maxExtent
    },
    addTile: function (a, b) {
        var c = new this.tileClass(this, b, a, null, this.tileSize, this.tileOptions);
        this.events.triggerEvent("addtile", {
            tile: c
        });
        return c
    },
    addTileMonitoringHooks: function (a) {
        a.onLoadStart = function () {
            !1 === this.loading && (this.loading = !0, this.events.triggerEvent("loadstart"));
            this.events.triggerEvent("tileloadstart", {
                tile: a
            });
            this.numLoadingTiles++;
            !this.singleTile && (this.backBuffer && this.gridResolution === this.backBufferResolution) && OpenLayers.Element.addClass(a.getTile(), "olTileReplacing")
        };
        a.onLoadEnd = function (b) {
            this.numLoadingTiles--;
            b = "unload" === b.type;
            this.events.triggerEvent("tileloaded", {
                tile: a,
                aborted: b
            });
            if (!this.singleTile && !b && this.backBuffer && this.gridResolution === this.backBufferResolution) {
                var c = a.getTile();
                if ("none" === OpenLayers.Element.getStyle(c, "display")) {
                    var d = document.getElementById(a.id + "_bb");
                    d && d.parentNode.removeChild(d)
                }
                OpenLayers.Element.removeClass(c,
                    "olTileReplacing")
            }
            if (0 === this.numLoadingTiles) {
                if (this.backBuffer)
                    if (0 === this.backBuffer.childNodes.length) this.removeBackBuffer();
                    else {
                        this._transitionElement = b ? this.div.lastChild : a.imgDiv;
                        b = this.transitionendEvents;
                        for (c = b.length - 1; 0 <= c; --c) OpenLayers.Event.observe(this._transitionElement, b[c], this._removeBackBuffer);
                        this.backBufferTimerId = window.setTimeout(this._removeBackBuffer, this.removeBackBufferDelay)
                    } this.loading = !1;
                this.events.triggerEvent("loadend")
            }
        };
        a.onLoadError = function () {
            this.events.triggerEvent("tileerror", {
                tile: a
            })
        };
        a.events.on({
            loadstart: a.onLoadStart,
            loadend: a.onLoadEnd,
            unload: a.onLoadEnd,
            loaderror: a.onLoadError,
            scope: this
        })
    },
    removeTileMonitoringHooks: function (a) {
        a.unload();
        a.events.un({
            loadstart: a.onLoadStart,
            loadend: a.onLoadEnd,
            unload: a.onLoadEnd,
            loaderror: a.onLoadError,
            scope: this
        })
    },
    moveGriddedTiles: function () {
        for (var a = this.buffer + 1;;) {
            var b = this.grid[0][0],
                c = b.position.x + this.map.layerContainerOriginPx.x,
                b = b.position.y + this.map.layerContainerOriginPx.y,
                d = this.getServerResolution() / this.map.getResolution(),
                d = {
                    w: Math.round(this.tileSize.w * d),
                    h: Math.round(this.tileSize.h * d)
                };
            if (c > -d.w * (a - 1)) this.shiftColumn(!0, d);
            else if (c < -d.w * a) this.shiftColumn(!1, d);
            else if (b > -d.h * (a - 1)) this.shiftRow(!0, d);
            else if (b < -d.h * a) this.shiftRow(!1, d);
            else break
        }
    },
    shiftRow: function (a, b) {
        var c = this.grid,
            d = a ? 0 : c.length - 1,
            e = a ? -1 : 1;
        this.gridLayout.startrow += e * this.rowSign;
        for (var f = c[d], g = c[a ? "pop" : "shift"](), h = 0, k = g.length; h < k; h++) {
            var l = g[h],
                m = f[h].position.clone();
            m.y += b.h * e;
            l.moveTo(this.getTileBoundsForGridIndex(d, h), m)
        }
        c[a ?
            "unshift" : "push"](g)
    },
    shiftColumn: function (a, b) {
        var c = this.grid,
            d = a ? 0 : c[0].length - 1,
            e = a ? -1 : 1;
        this.gridLayout.startcol += e;
        for (var f = 0, g = c.length; f < g; f++) {
            var h = c[f],
                k = h[d].position.clone(),
                l = h[a ? "pop" : "shift"]();
            k.x += b.w * e;
            l.moveTo(this.getTileBoundsForGridIndex(f, d), k);
            h[a ? "unshift" : "push"](l)
        }
    },
    removeExcessTiles: function (a, b) {
        for (var c, d; this.grid.length > a;) {
            var e = this.grid.pop();
            c = 0;
            for (d = e.length; c < d; c++) {
                var f = e[c];
                this.destroyTile(f)
            }
        }
        c = 0;
        for (d = this.grid.length; c < d; c++)
            for (; this.grid[c].length >
                b;) e = this.grid[c], f = e.pop(), this.destroyTile(f)
    },
    onMapResize: function () {
        this.singleTile && (this.clearGrid(), this.setTileSize())
    },
    getTileBounds: function (a) {
        var b = this.maxExtent,
            c = this.getResolution(),
            d = c * this.tileSize.w,
            c = c * this.tileSize.h,
            e = this.getLonLatFromViewPortPx(a);
        a = b.left + d * Math.floor((e.lon - b.left) / d);
        b = b.bottom + c * Math.floor((e.lat - b.bottom) / c);
        return new OpenLayers.Bounds(a, b, a + d, b + c)
    },
    CLASS_NAME: "OpenLayers.Layer.Grid"
});
OpenLayers.Format.ArcXML = OpenLayers.Class(OpenLayers.Format.XML, {
    fontStyleKeys: "antialiasing blockout font fontcolor fontsize fontstyle glowing interval outline printmode shadow transparency".split(" "),
    request: null,
    response: null,
    initialize: function (a) {
        this.request = new OpenLayers.Format.ArcXML.Request;
        this.response = new OpenLayers.Format.ArcXML.Response;
        if (a)
            if ("feature" == a.requesttype) {
                this.request.get_image = null;
                var b = this.request.get_feature.query;
                this.addCoordSys(b.featurecoordsys, a.featureCoordSys);
                this.addCoordSys(b.filtercoordsys, a.filterCoordSys);
                a.polygon ? (b.isspatial = !0, b.spatialfilter.polygon = a.polygon) : a.envelope && (b.isspatial = !0, b.spatialfilter.envelope = {
                    minx: 0,
                    miny: 0,
                    maxx: 0,
                    maxy: 0
                }, this.parseEnvelope(b.spatialfilter.envelope, a.envelope))
            } else "image" == a.requesttype ? (this.request.get_feature = null, b = this.request.get_image.properties, this.parseEnvelope(b.envelope, a.envelope), this.addLayers(b.layerlist, a.layers), this.addImageSize(b.imagesize, a.tileSize), this.addCoordSys(b.featurecoordsys,
                a.featureCoordSys), this.addCoordSys(b.filtercoordsys, a.filterCoordSys)) : this.request = null;
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    parseEnvelope: function (a, b) {
        b && 4 == b.length && (a.minx = b[0], a.miny = b[1], a.maxx = b[2], a.maxy = b[3])
    },
    addLayers: function (a, b) {
        for (var c = 0, d = b.length; c < d; c++) a.push(b[c])
    },
    addImageSize: function (a, b) {
        null !== b && (a.width = b.w, a.height = b.h, a.printwidth = b.w, a.printheight = b.h)
    },
    addCoordSys: function (a, b) {
        "string" == typeof b ? (a.id = parseInt(b), a.string = b) : "object" == typeof b &&
            null !== b.proj && (a.id = b.proj.srsProjNumber, a.string = b.proj.srsCode)
    },
    iserror: function (a) {
        var b = null;
        a ? (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]), a = a.documentElement.getElementsByTagName("ERROR"), b = null !== a && 0 < a.length) : b = "" !== this.response.error;
        return b
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = null;
        a && a.documentElement && (b = "ARCXML" == a.documentElement.nodeName ? a.documentElement : a.documentElement.getElementsByTagName("ARCXML")[0]);
        if (!b || "parsererror" === b.firstChild.nodeName) {
            var c, d;
            try {
                c = a.firstChild.nodeValue, d = a.firstChild.childNodes[1].firstChild.nodeValue
            } catch (e) {}
            throw {
                message: "Error parsing the ArcXML request",
                error: c,
                source: d
            };
        }
        return this.parseResponse(b)
    },
    write: function (a) {
        a || (a = this.request);
        var b = this.createElementNS("", "ARCXML");
        b.setAttribute("version", "1.1");
        var c = this.createElementNS("", "REQUEST");
        if (null != a.get_image) {
            var d = this.createElementNS("", "GET_IMAGE");
            c.appendChild(d);
            var e = this.createElementNS("",
                "PROPERTIES");
            d.appendChild(e);
            a = a.get_image.properties;
            null != a.featurecoordsys && (d = this.createElementNS("", "FEATURECOORDSYS"), e.appendChild(d), 0 === a.featurecoordsys.id ? d.setAttribute("string", a.featurecoordsys.string) : d.setAttribute("id", a.featurecoordsys.id));
            null != a.filtercoordsys && (d = this.createElementNS("", "FILTERCOORDSYS"), e.appendChild(d), 0 === a.filtercoordsys.id ? d.setAttribute("string", a.filtercoordsys.string) : d.setAttribute("id", a.filtercoordsys.id));
            null != a.envelope && (d = this.createElementNS("",
                "ENVELOPE"), e.appendChild(d), d.setAttribute("minx", a.envelope.minx), d.setAttribute("miny", a.envelope.miny), d.setAttribute("maxx", a.envelope.maxx), d.setAttribute("maxy", a.envelope.maxy));
            d = this.createElementNS("", "IMAGESIZE");
            e.appendChild(d);
            d.setAttribute("height", a.imagesize.height);
            d.setAttribute("width", a.imagesize.width);
            if (a.imagesize.height != a.imagesize.printheight || a.imagesize.width != a.imagesize.printwidth) d.setAttribute("printheight", a.imagesize.printheight), d.setArrtibute("printwidth", a.imagesize.printwidth);
            null != a.background && (d = this.createElementNS("", "BACKGROUND"), e.appendChild(d), d.setAttribute("color", a.background.color.r + "," + a.background.color.g + "," + a.background.color.b), null !== a.background.transcolor && d.setAttribute("transcolor", a.background.transcolor.r + "," + a.background.transcolor.g + "," + a.background.transcolor.b));
            if (null != a.layerlist && 0 < a.layerlist.length)
                for (d = this.createElementNS("", "LAYERLIST"), e.appendChild(d), e = 0; e < a.layerlist.length; e++) {
                    var f = this.createElementNS("", "LAYERDEF");
                    d.appendChild(f);
                    f.setAttribute("id", a.layerlist[e].id);
                    f.setAttribute("visible", a.layerlist[e].visible);
                    if ("object" == typeof a.layerlist[e].query) {
                        var g = a.layerlist[e].query;
                        if (0 > g.where.length) continue;
                        var h = null,
                            h = "boolean" == typeof g.spatialfilter && g.spatialfilter ? this.createElementNS("", "SPATIALQUERY") : this.createElementNS("", "QUERY");
                        h.setAttribute("where", g.where);
                        "number" == typeof g.accuracy && 0 < g.accuracy && h.setAttribute("accuracy", g.accuracy);
                        "number" == typeof g.featurelimit && 2E3 > g.featurelimit && h.setAttribute("featurelimit",
                            g.featurelimit);
                        "string" == typeof g.subfields && "#ALL#" != g.subfields && h.setAttribute("subfields", g.subfields);
                        "string" == typeof g.joinexpression && 0 < g.joinexpression.length && h.setAttribute("joinexpression", g.joinexpression);
                        "string" == typeof g.jointables && 0 < g.jointables.length && h.setAttribute("jointables", g.jointables);
                        f.appendChild(h)
                    }
                    "object" == typeof a.layerlist[e].renderer && this.addRenderer(f, a.layerlist[e].renderer)
                }
        } else null != a.get_feature && (d = this.createElementNS("", "GET_FEATURES"), d.setAttribute("outputmode",
            "newxml"), d.setAttribute("checkesc", "true"), a.get_feature.geometry ? d.setAttribute("geometry", a.get_feature.geometry) : d.setAttribute("geometry", "false"), a.get_feature.compact && d.setAttribute("compact", a.get_feature.compact), "number" == a.get_feature.featurelimit && d.setAttribute("featurelimit", a.get_feature.featurelimit), d.setAttribute("globalenvelope", "true"), c.appendChild(d), null != a.get_feature.layer && 0 < a.get_feature.layer.length && (e = this.createElementNS("", "LAYER"), e.setAttribute("id", a.get_feature.layer),
            d.appendChild(e)), a = a.get_feature.query, null != a && (e = null, e = a.isspatial ? this.createElementNS("", "SPATIALQUERY") : this.createElementNS("", "QUERY"), d.appendChild(e), "number" == typeof a.accuracy && e.setAttribute("accuracy", a.accuracy), null != a.featurecoordsys && (d = this.createElementNS("", "FEATURECOORDSYS"), 0 == a.featurecoordsys.id ? d.setAttribute("string", a.featurecoordsys.string) : d.setAttribute("id", a.featurecoordsys.id), e.appendChild(d)), null != a.filtercoordsys && (d = this.createElementNS("", "FILTERCOORDSYS"),
            0 === a.filtercoordsys.id ? d.setAttribute("string", a.filtercoordsys.string) : d.setAttribute("id", a.filtercoordsys.id), e.appendChild(d)), 0 < a.buffer && (d = this.createElementNS("", "BUFFER"), d.setAttribute("distance", a.buffer), e.appendChild(d)), a.isspatial && (d = this.createElementNS("", "SPATIALFILTER"), d.setAttribute("relation", a.spatialfilter.relation), e.appendChild(d), a.spatialfilter.envelope ? (f = this.createElementNS("", "ENVELOPE"), f.setAttribute("minx", a.spatialfilter.envelope.minx), f.setAttribute("miny", a.spatialfilter.envelope.miny),
            f.setAttribute("maxx", a.spatialfilter.envelope.maxx), f.setAttribute("maxy", a.spatialfilter.envelope.maxy), d.appendChild(f)) : "object" == typeof a.spatialfilter.polygon && d.appendChild(this.writePolygonGeometry(a.spatialfilter.polygon))), null != a.where && 0 < a.where.length && e.setAttribute("where", a.where)));
        b.appendChild(c);
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    addGroupRenderer: function (a, b) {
        var c = this.createElementNS("", "GROUPRENDERER");
        a.appendChild(c);
        for (var d = 0; d < b.length; d++) this.addRenderer(c,
            b[d])
    },
    addRenderer: function (a, b) {
        if (OpenLayers.Util.isArray(b)) this.addGroupRenderer(a, b);
        else {
            var c = this.createElementNS("", b.type.toUpperCase() + "RENDERER");
            a.appendChild(c);
            "VALUEMAPRENDERER" == c.tagName ? this.addValueMapRenderer(c, b) : "VALUEMAPLABELRENDERER" == c.tagName ? this.addValueMapLabelRenderer(c, b) : "SIMPLELABELRENDERER" == c.tagName ? this.addSimpleLabelRenderer(c, b) : "SCALEDEPENDENTRENDERER" == c.tagName && this.addScaleDependentRenderer(c, b)
        }
    },
    addScaleDependentRenderer: function (a, b) {
        "string" != typeof b.lower &&
            "number" != typeof b.lower || a.setAttribute("lower", b.lower);
        "string" != typeof b.upper && "number" != typeof b.upper || a.setAttribute("upper", b.upper);
        this.addRenderer(a, b.renderer)
    },
    addValueMapLabelRenderer: function (a, b) {
        a.setAttribute("lookupfield", b.lookupfield);
        a.setAttribute("labelfield", b.labelfield);
        if ("object" == typeof b.exacts)
            for (var c = 0, d = b.exacts.length; c < d; c++) {
                var e = b.exacts[c],
                    f = this.createElementNS("", "EXACT");
                "string" == typeof e.value && f.setAttribute("value", e.value);
                "string" == typeof e.label &&
                    f.setAttribute("label", e.label);
                "string" == typeof e.method && f.setAttribute("method", e.method);
                a.appendChild(f);
                if ("object" == typeof e.symbol) {
                    var g = null;
                    "text" == e.symbol.type && (g = this.createElementNS("", "TEXTSYMBOL"));
                    if (null != g) {
                        for (var h = this.fontStyleKeys, k = 0, l = h.length; k < l; k++) {
                            var m = h[k];
                            e.symbol[m] && g.setAttribute(m, e.symbol[m])
                        }
                        f.appendChild(g)
                    }
                }
            }
    },
    addValueMapRenderer: function (a, b) {
        a.setAttribute("lookupfield", b.lookupfield);
        if ("object" == typeof b.ranges)
            for (var c = 0, d = b.ranges.length; c < d; c++) {
                var e =
                    b.ranges[c],
                    f = this.createElementNS("", "RANGE");
                f.setAttribute("lower", e.lower);
                f.setAttribute("upper", e.upper);
                a.appendChild(f);
                if ("object" == typeof e.symbol) {
                    var g = null;
                    "simplepolygon" == e.symbol.type && (g = this.createElementNS("", "SIMPLEPOLYGONSYMBOL"));
                    null != g && ("string" == typeof e.symbol.boundarycolor && g.setAttribute("boundarycolor", e.symbol.boundarycolor), "string" == typeof e.symbol.fillcolor && g.setAttribute("fillcolor", e.symbol.fillcolor), "number" == typeof e.symbol.filltransparency && g.setAttribute("filltransparency",
                        e.symbol.filltransparency), f.appendChild(g))
                }
            } else if ("object" == typeof b.exacts)
                for (c = 0, d = b.exacts.length; c < d; c++) e = b.exacts[c], f = this.createElementNS("", "EXACT"), "string" == typeof e.value && f.setAttribute("value", e.value), "string" == typeof e.label && f.setAttribute("label", e.label), "string" == typeof e.method && f.setAttribute("method", e.method), a.appendChild(f), "object" == typeof e.symbol && (g = null, "simplemarker" == e.symbol.type && (g = this.createElementNS("", "SIMPLEMARKERSYMBOL")), null != g && ("string" == typeof e.symbol.antialiasing &&
                    g.setAttribute("antialiasing", e.symbol.antialiasing), "string" == typeof e.symbol.color && g.setAttribute("color", e.symbol.color), "string" == typeof e.symbol.outline && g.setAttribute("outline", e.symbol.outline), "string" == typeof e.symbol.overlap && g.setAttribute("overlap", e.symbol.overlap), "string" == typeof e.symbol.shadow && g.setAttribute("shadow", e.symbol.shadow), "number" == typeof e.symbol.transparency && g.setAttribute("transparency", e.symbol.transparency), "string" == typeof e.symbol.usecentroid && g.setAttribute("usecentroid",
                        e.symbol.usecentroid), "number" == typeof e.symbol.width && g.setAttribute("width", e.symbol.width), f.appendChild(g)))
    },
    addSimpleLabelRenderer: function (a, b) {
        a.setAttribute("field", b.field);
        for (var c = "featureweight howmanylabels labelbufferratio labelpriorities labelweight linelabelposition rotationalangles".split(" "), d = 0, e = c.length; d < e; d++) {
            var f = c[d];
            b[f] && a.setAttribute(f, b[f])
        }
        if ("text" == b.symbol.type) {
            var g = b.symbol,
                h = this.createElementNS("", "TEXTSYMBOL");
            a.appendChild(h);
            c = this.fontStyleKeys;
            d = 0;
            for (e = c.length; d < e; d++) f = c[d], g[f] && h.setAttribute(f, b[f])
        }
    },
    writePolygonGeometry: function (a) {
        if (!(a instanceof OpenLayers.Geometry.Polygon)) throw {
            message: "Cannot write polygon geometry to ArcXML with an " + a.CLASS_NAME + " object.",
            geometry: a
        };
        for (var b = this.createElementNS("", "POLYGON"), c = 0, d = a.components.length; c < d; c++) {
            for (var e = a.components[c], f = this.createElementNS("", "RING"), g = 0, h = e.components.length; g < h; g++) {
                var k = e.components[g],
                    l = this.createElementNS("", "POINT");
                l.setAttribute("x", k.x);
                l.setAttribute("y",
                    k.y);
                f.appendChild(l)
            }
            b.appendChild(f)
        }
        return b
    },
    parseResponse: function (a) {
        "string" == typeof a && (a = (new OpenLayers.Format.XML).read(a));
        var b = new OpenLayers.Format.ArcXML.Response,
            c = a.getElementsByTagName("ERROR");
        if (null != c && 0 < c.length) b.error = this.getChildValue(c, "Unknown error.");
        else {
            c = a.getElementsByTagName("RESPONSE");
            if (null == c || 0 == c.length) return b.error = "No RESPONSE tag found in ArcXML response.", b;
            var d = c[0].firstChild.nodeName;
            "#text" == d && (d = c[0].firstChild.nextSibling.nodeName);
            if ("IMAGE" ==
                d) c = a.getElementsByTagName("ENVELOPE"), a = a.getElementsByTagName("OUTPUT"), null == c || 0 == c.length ? b.error = "No ENVELOPE tag found in ArcXML response." : null == a || 0 == a.length ? b.error = "No OUTPUT tag found in ArcXML response." : (c = this.parseAttributes(c[0]), d = this.parseAttributes(a[0]), b.image = "string" == typeof d.type ? {
                envelope: c,
                output: {
                    type: d.type,
                    data: this.getChildValue(a[0])
                }
            } : {
                envelope: c,
                output: d
            });
            else if ("FEATURES" == d) {
                if (a = c[0].getElementsByTagName("FEATURES"), c = a[0].getElementsByTagName("FEATURECOUNT"),
                    b.features.featurecount = c[0].getAttribute("count"), 0 < b.features.featurecount)
                    for (c = a[0].getElementsByTagName("ENVELOPE"), b.features.envelope = this.parseAttributes(c[0], "number"), a = a[0].getElementsByTagName("FEATURE"), c = 0; c < a.length; c++) {
                        for (var d = new OpenLayers.Feature.Vector, e = a[c].getElementsByTagName("FIELD"), f = 0; f < e.length; f++) {
                            var g = e[f].getAttribute("name"),
                                h = e[f].getAttribute("value");
                            d.attributes[g] = h
                        }
                        e = a[c].getElementsByTagName("POLYGON");
                        if (0 < e.length) {
                            e = e[0].getElementsByTagName("RING");
                            f = [];
                            for (g = 0; g < e.length; g++) {
                                h = [];
                                h.push(this.parsePointGeometry(e[g]));
                                for (var k = e[g].getElementsByTagName("HOLE"), l = 0; l < k.length; l++) h.push(this.parsePointGeometry(k[l]));
                                f.push(new OpenLayers.Geometry.Polygon(h))
                            }
                            d.geometry = 1 == f.length ? f[0] : new OpenLayers.Geometry.MultiPolygon(f)
                        }
                        b.features.feature.push(d)
                    }
            } else b.error = "Unidentified response type."
        }
        return b
    },
    parseAttributes: function (a, b) {
        for (var c = {}, d = 0; d < a.attributes.length; d++) c[a.attributes[d].nodeName] = "number" == b ? parseFloat(a.attributes[d].nodeValue) :
            a.attributes[d].nodeValue;
        return c
    },
    parsePointGeometry: function (a) {
        var b = [],
            c = a.getElementsByTagName("COORDS");
        if (0 < c.length)
            for (a = this.getChildValue(c[0]), a = a.split(/;/), c = 0; c < a.length; c++) {
                var d = a[c].split(/ /);
                b.push(new OpenLayers.Geometry.Point(d[0], d[1]))
            } else if (a = a.getElementsByTagName("POINT"), 0 < a.length)
                for (c = 0; c < a.length; c++) b.push(new OpenLayers.Geometry.Point(parseFloat(a[c].getAttribute("x")), parseFloat(a[c].getAttribute("y"))));
        return new OpenLayers.Geometry.LinearRing(b)
    },
    CLASS_NAME: "OpenLayers.Format.ArcXML"
});
OpenLayers.Format.ArcXML.Request = OpenLayers.Class({
    initialize: function (a) {
        return OpenLayers.Util.extend(this, {
            get_image: {
                properties: {
                    background: null,
                    draw: !0,
                    envelope: {
                        minx: 0,
                        miny: 0,
                        maxx: 0,
                        maxy: 0
                    },
                    featurecoordsys: {
                        id: 0,
                        string: "",
                        datumtransformid: 0,
                        datumtransformstring: ""
                    },
                    filtercoordsys: {
                        id: 0,
                        string: "",
                        datumtransformid: 0,
                        datumtransformstring: ""
                    },
                    imagesize: {
                        height: 0,
                        width: 0,
                        dpi: 96,
                        printheight: 0,
                        printwidth: 0,
                        scalesymbols: !1
                    },
                    layerlist: [],
                    output: {
                        baseurl: "",
                        legendbaseurl: "",
                        legendname: "",
                        legendpath: "",
                        legendurl: "",
                        name: "",
                        path: "",
                        type: "jpg",
                        url: ""
                    }
                }
            },
            get_feature: {
                layer: "",
                query: {
                    isspatial: !1,
                    featurecoordsys: {
                        id: 0,
                        string: "",
                        datumtransformid: 0,
                        datumtransformstring: ""
                    },
                    filtercoordsys: {
                        id: 0,
                        string: "",
                        datumtransformid: 0,
                        datumtransformstring: ""
                    },
                    buffer: 0,
                    where: "",
                    spatialfilter: {
                        relation: "envelope_intersection",
                        envelope: null
                    }
                }
            },
            environment: {
                separators: {
                    cs: " ",
                    ts: ";"
                }
            },
            layer: [],
            workspaces: []
        })
    },
    CLASS_NAME: "OpenLayers.Format.ArcXML.Request"
});
OpenLayers.Format.ArcXML.Response = OpenLayers.Class({
    initialize: function (a) {
        return OpenLayers.Util.extend(this, {
            image: {
                envelope: null,
                output: ""
            },
            features: {
                featurecount: 0,
                envelope: null,
                feature: []
            },
            error: ""
        })
    },
    CLASS_NAME: "OpenLayers.Format.ArcXML.Response"
});
(function () {
    function a() {
        this._object = f && !k ? new f : new window.ActiveXObject("Microsoft.XMLHTTP");
        this._listeners = []
    }

    function b() {
        return new a
    }

    function c(a) {
        b.onreadystatechange && b.onreadystatechange.apply(a);
        a.dispatchEvent({
            type: "readystatechange",
            bubbles: !1,
            cancelable: !1,
            timeStamp: new Date + 0
        })
    }

    function d(a) {
        try {
            a.responseText = a._object.responseText
        } catch (b) {}
        try {
            var c;
            var d = a._object,
                e = d.responseXML,
                f = d.responseText;
            h && (f && e && !e.documentElement && d.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)) &&
                (e = new window.ActiveXObject("Microsoft.XMLDOM"), e.async = !1, e.validateOnParse = !1, e.loadXML(f));
            c = e && (h && 0 != e.parseError || !e.documentElement || e.documentElement && "parsererror" == e.documentElement.tagName) ? null : e;
            a.responseXML = c
        } catch (g) {}
        try {
            a.status = a._object.status
        } catch (k) {}
        try {
            a.statusText = a._object.statusText
        } catch (u) {}
    }

    function e(a) {
        a._object.onreadystatechange = new window.Function
    }
    var f = window.XMLHttpRequest,
        g = !!window.controllers,
        h = window.document.all && !window.opera,
        k = h && window.navigator.userAgent.match(/MSIE 7.0/);
    b.prototype = a.prototype;
    g && f.wrapped && (b.wrapped = f.wrapped);
    b.UNSENT = 0;
    b.OPENED = 1;
    b.HEADERS_RECEIVED = 2;
    b.LOADING = 3;
    b.DONE = 4;
    b.prototype.readyState = b.UNSENT;
    b.prototype.responseText = "";
    b.prototype.responseXML = null;
    b.prototype.status = 0;
    b.prototype.statusText = "";
    b.prototype.priority = "NORMAL";
    b.prototype.onreadystatechange = null;
    b.onreadystatechange = null;
    b.onopen = null;
    b.onsend = null;
    b.onabort = null;
    b.prototype.open = function (a, f, k, p, q) {
        delete this._headers;
        3 > arguments.length && (k = !0);
        this._async = k;
        var r = this,
            s = this.readyState,
            t;
        h && k && (t = function () {
            s != b.DONE && (e(r), r.abort())
        }, window.attachEvent("onunload", t));
        b.onopen && b.onopen.apply(this, arguments);
        4 < arguments.length ? this._object.open(a, f, k, p, q) : 3 < arguments.length ? this._object.open(a, f, k, p) : this._object.open(a, f, k);
        this.readyState = b.OPENED;
        c(this);
        this._object.onreadystatechange = function () {
            if (!g || k) r.readyState = r._object.readyState, d(r), r._aborted ? r.readyState = b.UNSENT : (r.readyState == b.DONE && (delete r._data, e(r), h && k && window.detachEvent("onunload", t)),
                s != r.readyState && c(r), s = r.readyState)
        }
    };
    b.prototype.send = function (a) {
        b.onsend && b.onsend.apply(this, arguments);
        arguments.length || (a = null);
        a && a.nodeType && (a = window.XMLSerializer ? (new window.XMLSerializer).serializeToString(a) : a.xml, this._headers["Content-Type"] || this._object.setRequestHeader("Content-Type", "application/xml"));
        this._data = a;
        a: if (this._object.send(this._data), g && !this._async)
            for (this.readyState = b.OPENED, d(this); this.readyState < b.DONE;)
                if (this.readyState++, c(this), this._aborted) break a
    };
    b.prototype.abort = function () {
        b.onabort && b.onabort.apply(this, arguments);
        this.readyState > b.UNSENT && (this._aborted = !0);
        this._object.abort();
        e(this);
        this.readyState = b.UNSENT;
        delete this._data
    };
    b.prototype.getAllResponseHeaders = function () {
        return this._object.getAllResponseHeaders()
    };
    b.prototype.getResponseHeader = function (a) {
        return this._object.getResponseHeader(a)
    };
    b.prototype.setRequestHeader = function (a, b) {
        this._headers || (this._headers = {});
        this._headers[a] = b;
        return this._object.setRequestHeader(a, b)
    };
    b.prototype.addEventListener = function (a, b, c) {
        for (var d = 0, e; e = this._listeners[d]; d++)
            if (e[0] == a && e[1] == b && e[2] == c) return;
        this._listeners.push([a, b, c])
    };
    b.prototype.removeEventListener = function (a, b, c) {
        for (var d = 0, e;
            (e = this._listeners[d]) && (e[0] != a || e[1] != b || e[2] != c); d++);
        e && this._listeners.splice(d, 1)
    };
    b.prototype.dispatchEvent = function (a) {
        a = {
            type: a.type,
            target: this,
            currentTarget: this,
            eventPhase: 2,
            bubbles: a.bubbles,
            cancelable: a.cancelable,
            timeStamp: a.timeStamp,
            stopPropagation: function () {},
            preventDefault: function () {},
            initEvent: function () {}
        };
        "readystatechange" == a.type && this.onreadystatechange && (this.onreadystatechange.handleEvent || this.onreadystatechange).apply(this, [a]);
        for (var b = 0, c; c = this._listeners[b]; b++) c[0] != a.type || c[2] || (c[1].handleEvent || c[1]).apply(this, [a])
    };
    b.prototype.toString = function () {
        return "[object XMLHttpRequest]"
    };
    b.toString = function () {
        return "[XMLHttpRequest]"
    };
    window.Function.prototype.apply || (window.Function.prototype.apply = function (a, b) {
        b || (b = []);
        a.__func = this;
        a.__func(b[0], b[1], b[2], b[3],
            b[4]);
        delete a.__func
    });
    OpenLayers.Request || (OpenLayers.Request = {});
    OpenLayers.Request.XMLHttpRequest = b
})();
OpenLayers.ProxyHost = "";
OpenLayers.Request || (OpenLayers.Request = {});
OpenLayers.Util.extend(OpenLayers.Request, {
    DEFAULT_CONFIG: {
        method: "GET",
        url: window.location.href,
        async: !0,
        user: void 0,
        password: void 0,
        params: null,
        proxy: OpenLayers.ProxyHost,
        headers: {},
        data: null,
        callback: function () {},
        success: null,
        failure: null,
        scope: null
    },
    URL_SPLIT_REGEX: /([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/,
    events: new OpenLayers.Events(this),
    makeSameOrigin: function (a, b) {
        var c = 0 !== a.indexOf("http"),
            d = !c && a.match(this.URL_SPLIT_REGEX);
        if (d) {
            var e = window.location,
                c = d[1] == e.protocol && d[3] ==
                e.hostname,
                d = d[4],
                e = e.port;
            if (80 != d && "" != d || "80" != e && "" != e) c = c && d == e
        }
        c || b && (a = "function" == typeof b ? b(a) : b + encodeURIComponent(a));
        return a
    },
    issue: function (a) {
        var b = OpenLayers.Util.extend(this.DEFAULT_CONFIG, {
            proxy: OpenLayers.ProxyHost
        });
        a = a || {};
        a.headers = a.headers || {};
        a = OpenLayers.Util.applyDefaults(a, b);
        a.headers = OpenLayers.Util.applyDefaults(a.headers, b.headers);
        var b = !1,
            c;
        for (c in a.headers) a.headers.hasOwnProperty(c) && "x-requested-with" === c.toLowerCase() && (b = !0);
        !1 === b && (a.headers["X-Requested-With"] =
            "XMLHttpRequest");
        var d = new OpenLayers.Request.XMLHttpRequest,
            e = OpenLayers.Util.urlAppend(a.url, OpenLayers.Util.getParameterString(a.params || {})),
            e = OpenLayers.Request.makeSameOrigin(e, a.proxy);
        d.open(a.method, e, a.async, a.user, a.password);
        for (var f in a.headers) d.setRequestHeader(f, a.headers[f]);
        var g = this.events,
            h = this;
        d.onreadystatechange = function () {
            d.readyState == OpenLayers.Request.XMLHttpRequest.DONE && !1 !== g.triggerEvent("complete", {
                request: d,
                config: a,
                requestUrl: e
            }) && h.runCallbacks({
                request: d,
                config: a,
                requestUrl: e
            })
        };
        !1 === a.async ? d.send(a.data) : window.setTimeout(function () {
            0 !== d.readyState && d.send(a.data)
        }, 0);
        return d
    },
    runCallbacks: function (a) {
        var b = a.request,
            c = a.config,
            d = c.scope ? OpenLayers.Function.bind(c.callback, c.scope) : c.callback,
            e;
        c.success && (e = c.scope ? OpenLayers.Function.bind(c.success, c.scope) : c.success);
        var f;
        c.failure && (f = c.scope ? OpenLayers.Function.bind(c.failure, c.scope) : c.failure);
        "file:" == OpenLayers.Util.createUrlObject(c.url).protocol && b.responseText && (b.status = 200);
        d(b);
        if (!b.status ||
            200 <= b.status && 300 > b.status) this.events.triggerEvent("success", a), e && e(b);
        b.status && (200 > b.status || 300 <= b.status) && (this.events.triggerEvent("failure", a), f && f(b))
    },
    GET: function (a) {
        a = OpenLayers.Util.extend(a, {
            method: "GET"
        });
        return OpenLayers.Request.issue(a)
    },
    POST: function (a) {
        a = OpenLayers.Util.extend(a, {
            method: "POST"
        });
        a.headers = a.headers ? a.headers : {};
        "CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(a.headers) || (a.headers["Content-Type"] = "application/xml");
        return OpenLayers.Request.issue(a)
    },
    PUT: function (a) {
        a =
            OpenLayers.Util.extend(a, {
                method: "PUT"
            });
        a.headers = a.headers ? a.headers : {};
        "CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(a.headers) || (a.headers["Content-Type"] = "application/xml");
        return OpenLayers.Request.issue(a)
    },
    DELETE: function (a) {
        a = OpenLayers.Util.extend(a, {
            method: "DELETE"
        });
        return OpenLayers.Request.issue(a)
    },
    HEAD: function (a) {
        a = OpenLayers.Util.extend(a, {
            method: "HEAD"
        });
        return OpenLayers.Request.issue(a)
    },
    OPTIONS: function (a) {
        a = OpenLayers.Util.extend(a, {
            method: "OPTIONS"
        });
        return OpenLayers.Request.issue(a)
    }
});
OpenLayers.Layer.ArcIMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
    DEFAULT_PARAMS: {
        ClientVersion: "9.2",
        ServiceName: ""
    },
    featureCoordSys: "4326",
    filterCoordSys: "4326",
    layers: null,
    async: !0,
    name: "ArcIMS",
    isBaseLayer: !0,
    DEFAULT_OPTIONS: {
        tileSize: new OpenLayers.Size(512, 512),
        featureCoordSys: "4326",
        filterCoordSys: "4326",
        layers: null,
        isBaseLayer: !0,
        async: !0,
        name: "ArcIMS"
    },
    initialize: function (a, b, c) {
        this.tileSize = new OpenLayers.Size(512, 512);
        this.params = OpenLayers.Util.applyDefaults({
                ServiceName: c.serviceName
            },
            this.DEFAULT_PARAMS);
        this.options = OpenLayers.Util.applyDefaults(c, this.DEFAULT_OPTIONS);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a, b, this.params, c]);
        this.transparent && (this.isBaseLayer || (this.isBaseLayer = !1), "image/jpeg" == this.format && (this.format = OpenLayers.Util.alphaHack() ? "image/gif" : "image/png"));
        null === this.options.layers && (this.options.layers = [])
    },
    getURL: function (a) {
        var b = "";
        a = this.adjustBounds(a);
        a = new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options, {
            requesttype: "image",
            envelope: a.toArray(),
            tileSize: this.tileSize
        }));
        a = new OpenLayers.Request.POST({
            url: this.getFullRequestString(),
            data: a.write(),
            async: !1
        });
        null != a && (b = a.responseXML, b && b.documentElement || (b = a.responseText), b = (new OpenLayers.Format.ArcXML).read(b), b = this.getUrlOrImage(b.image.output));
        return b
    },
    getURLasync: function (a, b, c) {
        a = this.adjustBounds(a);
        a = new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options, {
            requesttype: "image",
            envelope: a.toArray(),
            tileSize: this.tileSize
        }));
        OpenLayers.Request.POST({
            url: this.getFullRequestString(),
            async: !0,
            data: a.write(),
            callback: function (a) {
                var e = a.responseXML;
                e && e.documentElement || (e = a.responseText);
                a = (new OpenLayers.Format.ArcXML).read(e);
                b.call(c, this.getUrlOrImage(a.image.output))
            },
            scope: this
        })
    },
    getUrlOrImage: function (a) {
        var b = "";
        a.url ? b = a.url : a.data && (b = "data:image/" + a.type + ";base64," + a.data);
        return b
    },
    setLayerQuery: function (a, b) {
        for (var c = 0; c < this.options.layers.length; c++)
            if (a == this.options.layers[c].id) {
                this.options.layers[c].query = b;
                return
            } this.options.layers.push({
            id: a,
            visible: !0,
            query: b
        })
    },
    getFeatureInfo: function (a, b, c) {
        var d = c.buffer || 1,
            e = c.callback || function () {},
            f = c.scope || window,
            g = {};
        OpenLayers.Util.extend(g, this.options);
        g.requesttype = "feature";
        a instanceof OpenLayers.LonLat ? (g.polygon = null, g.envelope = [a.lon - d, a.lat - d, a.lon + d, a.lat + d]) : a instanceof OpenLayers.Geometry.Polygon && (g.envelope = null, g.polygon = a);
        var h = new OpenLayers.Format.ArcXML(g);
        OpenLayers.Util.extend(h.request.get_feature, c);
        h.request.get_feature.layer = b.id;
        "number" == typeof b.query.accuracy ? h.request.get_feature.query.accuracy =
            b.query.accuracy : (a = this.map.getCenter(), c = this.map.getViewPortPxFromLonLat(a), c.x++, c = this.map.getLonLatFromPixel(c), h.request.get_feature.query.accuracy = c.lon - a.lon);
        h.request.get_feature.query.where = b.query.where;
        h.request.get_feature.query.spatialfilter.relation = "area_intersection";
        OpenLayers.Request.POST({
            url: this.getFullRequestString({
                CustomService: "Query"
            }),
            data: h.write(),
            callback: function (a) {
                a = h.parseResponse(a.responseText);
                h.iserror() ? e.call(f, null) : e.call(f, a.features)
            }
        })
    },
    clone: function (a) {
        null ==
            a && (a = new OpenLayers.Layer.ArcIMS(this.name, this.url, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    CLASS_NAME: "OpenLayers.Layer.ArcIMS"
});
OpenLayers.Control.PanZoom = OpenLayers.Class(OpenLayers.Control, {
    slideFactor: 50,
    slideRatio: null,
    buttons: null,
    position: null,
    initialize: function (a) {
        this.position = new OpenLayers.Pixel(OpenLayers.Control.PanZoom.X, OpenLayers.Control.PanZoom.Y);
        OpenLayers.Control.prototype.initialize.apply(this, arguments)
    },
    destroy: function () {
        this.map && this.map.events.unregister("buttonclick", this, this.onButtonClick);
        this.removeButtons();
        this.position = this.buttons = null;
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        this.map.events.register("buttonclick", this, this.onButtonClick)
    },
    draw: function (a) {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        a = this.position;
        this.buttons = [];
        var b = {
                w: 18,
                h: 18
            },
            c = new OpenLayers.Pixel(a.x + b.w / 2, a.y);
        this._addButton("panup", "north-mini.png", c, b);
        a.y = c.y + b.h;
        this._addButton("panleft", "west-mini.png", a, b);
        this._addButton("panright", "east-mini.png", a.add(b.w, 0), b);
        this._addButton("pandown", "south-mini.png",
            c.add(0, 2 * b.h), b);
        this._addButton("zoomin", "zoom-plus-mini.png", c.add(0, 3 * b.h + 5), b);
        this._addButton("zoomworld", "zoom-world-mini.png", c.add(0, 4 * b.h + 5), b);
        this._addButton("zoomout", "zoom-minus-mini.png", c.add(0, 5 * b.h + 5), b);
        return this.div
    },
    _addButton: function (a, b, c, d) {
        b = OpenLayers.Util.getImageLocation(b);
        c = OpenLayers.Util.createAlphaImageDiv(this.id + "_" + a, c, d, b, "absolute");
        c.style.cursor = "pointer";
        this.div.appendChild(c);
        c.action = a;
        c.className = "olButton";
        this.buttons.push(c);
        return c
    },
    _removeButton: function (a) {
        this.div.removeChild(a);
        OpenLayers.Util.removeItem(this.buttons, a)
    },
    removeButtons: function () {
        for (var a = this.buttons.length - 1; 0 <= a; --a) this._removeButton(this.buttons[a])
    },
    onButtonClick: function (a) {
        switch (a.buttonElement.action) {
            case "panup":
                this.map.pan(0, -this.getSlideFactor("h"));
                break;
            case "pandown":
                this.map.pan(0, this.getSlideFactor("h"));
                break;
            case "panleft":
                this.map.pan(-this.getSlideFactor("w"), 0);
                break;
            case "panright":
                this.map.pan(this.getSlideFactor("w"), 0);
                break;
            case "zoomin":
                this.map.zoomIn();
                break;
            case "zoomout":
                this.map.zoomOut();
                break;
            case "zoomworld":
                this.map.zoomToMaxExtent()
        }
    },
    getSlideFactor: function (a) {
        return this.slideRatio ? this.map.getSize()[a] * this.slideRatio : this.slideFactor
    },
    CLASS_NAME: "OpenLayers.Control.PanZoom"
});
OpenLayers.Control.PanZoom.X = 4;
OpenLayers.Control.PanZoom.Y = 4;
OpenLayers.Control.PanZoomBar = OpenLayers.Class(OpenLayers.Control.PanZoom, {
    zoomStopWidth: 18,
    zoomStopHeight: 11,
    slider: null,
    sliderEvents: null,
    zoombarDiv: null,
    zoomWorldIcon: !1,
    panIcons: !0,
    forceFixedZoomLevel: !1,
    mouseDragStart: null,
    deltaY: null,
    zoomStart: null,
    destroy: function () {
        this._removeZoomBar();
        this.map.events.un({
            changebaselayer: this.redraw,
            updatesize: this.redraw,
            scope: this
        });
        OpenLayers.Control.PanZoom.prototype.destroy.apply(this, arguments);
        delete this.mouseDragStart;
        delete this.zoomStart
    },
    setMap: function (a) {
        OpenLayers.Control.PanZoom.prototype.setMap.apply(this,
            arguments);
        this.map.events.on({
            changebaselayer: this.redraw,
            updatesize: this.redraw,
            scope: this
        })
    },
    redraw: function () {
        null != this.div && (this.removeButtons(), this._removeZoomBar());
        this.draw()
    },
    draw: function (a) {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        a = this.position.clone();
        this.buttons = [];
        var b = {
            w: 18,
            h: 18
        };
        if (this.panIcons) {
            var c = new OpenLayers.Pixel(a.x + b.w / 2, a.y),
                d = b.w;
            this.zoomWorldIcon && (c = new OpenLayers.Pixel(a.x + b.w, a.y));
            this._addButton("panup", "north-mini.png", c, b);
            a.y = c.y + b.h;
            this._addButton("panleft", "west-mini.png", a, b);
            this.zoomWorldIcon && (this._addButton("zoomworld", "zoom-world-mini.png", a.add(b.w, 0), b), d *= 2);
            this._addButton("panright", "east-mini.png", a.add(d, 0), b);
            this._addButton("pandown", "south-mini.png", c.add(0, 2 * b.h), b);
            this._addButton("zoomin", "zoom-plus-mini.png", c.add(0, 3 * b.h + 5), b);
            c = this._addZoomBar(c.add(0, 4 * b.h + 5));
            this._addButton("zoomout", "zoom-minus-mini.png", c, b)
        } else this._addButton("zoomin", "zoom-plus-mini.png", a, b), c = this._addZoomBar(a.add(0, b.h)),
            this._addButton("zoomout", "zoom-minus-mini.png", c, b), this.zoomWorldIcon && (c = c.add(0, b.h + 3), this._addButton("zoomworld", "zoom-world-mini.png", c, b));
        return this.div
    },
    _addZoomBar: function (a) {
        var b = OpenLayers.Util.getImageLocation("slider.png"),
            c = this.id + "_" + this.map.id,
            d = this.map.getMinZoom(),
            e = this.map.getNumZoomLevels() - 1 - this.map.getZoom(),
            e = OpenLayers.Util.createAlphaImageDiv(c, a.add(-1, e * this.zoomStopHeight), {
                w: 20,
                h: 9
            }, b, "absolute");
        e.style.cursor = "move";
        this.slider = e;
        this.sliderEvents = new OpenLayers.Events(this,
            e, null, !0, {
                includeXY: !0
            });
        this.sliderEvents.on({
            touchstart: this.zoomBarDown,
            touchmove: this.zoomBarDrag,
            touchend: this.zoomBarUp,
            mousedown: this.zoomBarDown,
            mousemove: this.zoomBarDrag,
            mouseup: this.zoomBarUp
        });
        var f = {
                w: this.zoomStopWidth,
                h: this.zoomStopHeight * (this.map.getNumZoomLevels() - d)
            },
            b = OpenLayers.Util.getImageLocation("zoombar.png"),
            c = null;
        OpenLayers.Util.alphaHack() ? (c = this.id + "_" + this.map.id, c = OpenLayers.Util.createAlphaImageDiv(c, a, {
                w: f.w,
                h: this.zoomStopHeight
            }, b, "absolute", null, "crop"), c.style.height =
            f.h + "px") : c = OpenLayers.Util.createDiv("OpenLayers_Control_PanZoomBar_Zoombar" + this.map.id, a, f, b);
        c.style.cursor = "pointer";
        c.className = "olButton";
        this.zoombarDiv = c;
        this.div.appendChild(c);
        this.startTop = parseInt(c.style.top);
        this.div.appendChild(e);
        this.map.events.register("zoomend", this, this.moveZoomBar);
        return a = a.add(0, this.zoomStopHeight * (this.map.getNumZoomLevels() - d))
    },
    _removeZoomBar: function () {
        this.sliderEvents.un({
            touchstart: this.zoomBarDown,
            touchmove: this.zoomBarDrag,
            touchend: this.zoomBarUp,
            mousedown: this.zoomBarDown,
            mousemove: this.zoomBarDrag,
            mouseup: this.zoomBarUp
        });
        this.sliderEvents.destroy();
        this.div.removeChild(this.zoombarDiv);
        this.zoombarDiv = null;
        this.div.removeChild(this.slider);
        this.slider = null;
        this.map.events.unregister("zoomend", this, this.moveZoomBar)
    },
    onButtonClick: function (a) {
        OpenLayers.Control.PanZoom.prototype.onButtonClick.apply(this, arguments);
        if (a.buttonElement === this.zoombarDiv) {
            var b = a.buttonXY.y / this.zoomStopHeight;
            if (this.forceFixedZoomLevel || !this.map.fractionalZoom) b =
                Math.floor(b);
            b = this.map.getNumZoomLevels() - 1 - b;
            b = Math.min(Math.max(b, 0), this.map.getNumZoomLevels() - 1);
            this.map.zoomTo(b)
        }
    },
    passEventToSlider: function (a) {
        this.sliderEvents.handleBrowserEvent(a)
    },
    zoomBarDown: function (a) {
        if (OpenLayers.Event.isLeftClick(a) || OpenLayers.Event.isSingleTouch(a)) this.map.events.on({
                touchmove: this.passEventToSlider,
                mousemove: this.passEventToSlider,
                mouseup: this.passEventToSlider,
                scope: this
            }), this.mouseDragStart = a.xy.clone(), this.zoomStart = a.xy.clone(), this.div.style.cursor =
            "move", this.zoombarDiv.offsets = null, OpenLayers.Event.stop(a)
    },
    zoomBarDrag: function (a) {
        if (null != this.mouseDragStart) {
            var b = this.mouseDragStart.y - a.xy.y,
                c = OpenLayers.Util.pagePosition(this.zoombarDiv);
            0 < a.clientY - c[1] && a.clientY - c[1] < parseInt(this.zoombarDiv.style.height) - 2 && (b = parseInt(this.slider.style.top) - b, this.slider.style.top = b + "px", this.mouseDragStart = a.xy.clone());
            this.deltaY = this.zoomStart.y - a.xy.y;
            OpenLayers.Event.stop(a)
        }
    },
    zoomBarUp: function (a) {
        if ((OpenLayers.Event.isLeftClick(a) || "touchend" ===
                a.type) && this.mouseDragStart) {
            this.div.style.cursor = "";
            this.map.events.un({
                touchmove: this.passEventToSlider,
                mouseup: this.passEventToSlider,
                mousemove: this.passEventToSlider,
                scope: this
            });
            var b = this.map.zoom;
            !this.forceFixedZoomLevel && this.map.fractionalZoom ? (b += this.deltaY / this.zoomStopHeight, b = Math.min(Math.max(b, 0), this.map.getNumZoomLevels() - 1)) : (b += this.deltaY / this.zoomStopHeight, b = Math.max(Math.round(b), 0));
            this.map.zoomTo(b);
            this.zoomStart = this.mouseDragStart = null;
            this.deltaY = 0;
            OpenLayers.Event.stop(a)
        }
    },
    moveZoomBar: function () {
        var a = (this.map.getNumZoomLevels() - 1 - this.map.getZoom()) * this.zoomStopHeight + this.startTop + 1;
        this.slider.style.top = a + "px"
    },
    CLASS_NAME: "OpenLayers.Control.PanZoomBar"
});
OpenLayers.Format.WFSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.1.0",
    CLASS_NAME: "OpenLayers.Format.WFSCapabilities"
});
OpenLayers.Format.WFSCapabilities.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        wfs: "https://www.opengis.net/wfs",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        ows: "https://www.opengis.net/ows"
    },
    errorProperty: "featureTypeList",
    defaultPrefix: "wfs",
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        wfs: {
            WFS_Capabilities: function (a,
                b) {
                this.readChildNodes(a, b)
            },
            FeatureTypeList: function (a, b) {
                b.featureTypeList = {
                    featureTypes: []
                };
                this.readChildNodes(a, b.featureTypeList)
            },
            FeatureType: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.featureTypes.push(c)
            },
            Name: function (a, b) {
                var c = this.getChildValue(a);
                c && (c = c.split(":"), b.name = c.pop(), 0 < c.length && (b.featureNS = this.lookupNamespaceURI(a, c[0])))
            },
            Title: function (a, b) {
                var c = this.getChildValue(a);
                c && (b.title = c)
            },
            Abstract: function (a, b) {
                var c = this.getChildValue(a);
                c && (b["abstract"] = c)
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.WFSCapabilities.v1"
});
OpenLayers.Format.WFSCapabilities.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1, {
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    readers: {
        wfs: OpenLayers.Util.applyDefaults({
            DefaultSRS: function (a, b) {
                var c = this.getChildValue(a);
                c && (b.srs = c)
            }
        }, OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs),
        ows: OpenLayers.Format.OWSCommon.v1.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WFSCapabilities.v1_1_0"
});
OpenLayers.Layer.Image = OpenLayers.Class(OpenLayers.Layer, {
    isBaseLayer: !0,
    url: null,
    extent: null,
    size: null,
    tile: null,
    aspectRatio: null,
    initialize: function (a, b, c, d, e) {
        this.url = b;
        this.maxExtent = this.extent = c;
        this.size = d;
        OpenLayers.Layer.prototype.initialize.apply(this, [a, e]);
        this.aspectRatio = this.extent.getHeight() / this.size.h / (this.extent.getWidth() / this.size.w)
    },
    destroy: function () {
        this.tile && (this.removeTileMonitoringHooks(this.tile), this.tile.destroy(), this.tile = null);
        OpenLayers.Layer.prototype.destroy.apply(this,
            arguments)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.Image(this.name, this.url, this.extent, this.size, this.getOptions()));
        return a = OpenLayers.Layer.prototype.clone.apply(this, [a])
    },
    setMap: function (a) {
        null == this.options.maxResolution && (this.options.maxResolution = this.aspectRatio * this.extent.getWidth() / this.size.w);
        OpenLayers.Layer.prototype.setMap.apply(this, arguments)
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
        var d = null == this.tile;
        if (b || d) {
            this.setTileSize();
            var e = this.map.getLayerPxFromLonLat({
                lon: this.extent.left,
                lat: this.extent.top
            });
            d ? (this.tile = new OpenLayers.Tile.Image(this, e, this.extent, null, this.tileSize), this.addTileMonitoringHooks(this.tile)) : (this.tile.size = this.tileSize.clone(), this.tile.position = e.clone());
            this.tile.draw()
        }
    },
    setTileSize: function () {
        var a = this.extent.getWidth() / this.map.getResolution(),
            b = this.extent.getHeight() / this.map.getResolution();
        this.tileSize = new OpenLayers.Size(a, b)
    },
    addTileMonitoringHooks: function (a) {
        a.onLoadStart =
            function () {
                this.events.triggerEvent("loadstart")
            };
        a.events.register("loadstart", this, a.onLoadStart);
        a.onLoadEnd = function () {
            this.events.triggerEvent("loadend")
        };
        a.events.register("loadend", this, a.onLoadEnd);
        a.events.register("unload", this, a.onLoadEnd)
    },
    removeTileMonitoringHooks: function (a) {
        a.unload();
        a.events.un({
            loadstart: a.onLoadStart,
            loadend: a.onLoadEnd,
            unload: a.onLoadEnd,
            scope: this
        })
    },
    setUrl: function (a) {
        this.url = a;
        this.tile.draw()
    },
    getURL: function (a) {
        return this.url
    },
    CLASS_NAME: "OpenLayers.Layer.Image"
});
OpenLayers.Strategy = OpenLayers.Class({
    layer: null,
    options: null,
    active: null,
    autoActivate: !0,
    autoDestroy: !0,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.options = a;
        this.active = !1
    },
    destroy: function () {
        this.deactivate();
        this.options = this.layer = null
    },
    setLayer: function (a) {
        this.layer = a
    },
    activate: function () {
        return this.active ? !1 : this.active = !0
    },
    deactivate: function () {
        return this.active ? (this.active = !1, !0) : !1
    },
    CLASS_NAME: "OpenLayers.Strategy"
});
OpenLayers.Strategy.Save = OpenLayers.Class(OpenLayers.Strategy, {
    events: null,
    auto: !1,
    timer: null,
    initialize: function (a) {
        OpenLayers.Strategy.prototype.initialize.apply(this, [a]);
        this.events = new OpenLayers.Events(this)
    },
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.call(this);
        if (a && this.auto)
            if ("number" === typeof this.auto) this.timer = window.setInterval(OpenLayers.Function.bind(this.save, this), 1E3 * this.auto);
            else this.layer.events.on({
                featureadded: this.triggerSave,
                afterfeaturemodified: this.triggerSave,
                scope: this
            });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && this.auto && ("number" === typeof this.auto ? window.clearInterval(this.timer) : this.layer.events.un({
            featureadded: this.triggerSave,
            afterfeaturemodified: this.triggerSave,
            scope: this
        }));
        return a
    },
    triggerSave: function (a) {
        var b = a.feature;
        b.state !== OpenLayers.State.INSERT && b.state !== OpenLayers.State.UPDATE && b.state !== OpenLayers.State.DELETE || this.save([a.feature])
    },
    save: function (a) {
        a || (a = this.layer.features);
        this.events.triggerEvent("start", {
            features: a
        });
        var b = this.layer.projection,
            c = this.layer.map.getProjectionObject();
        if (!c.equals(b)) {
            for (var d = a.length, e = Array(d), f, g, h = 0; h < d; ++h) f = a[h], g = f.clone(), g.fid = f.fid, g.state = f.state, f.url && (g.url = f.url), g._original = f, g.geometry.transform(c, b), e[h] = g;
            a = e
        }
        this.layer.protocol.commit(a, {
            callback: this.onCommit,
            scope: this
        })
    },
    onCommit: function (a) {
        var b = {
            response: a
        };
        if (a.success()) {
            for (var c = a.reqFeatures, d, e = [], f = a.insertIds || [], g = 0, h = 0, k = c.length; h < k; ++h)
                if (d = c[h],
                    d = d._original || d, a = d.state) a == OpenLayers.State.DELETE ? e.push(d) : a == OpenLayers.State.INSERT && (d.fid = f[g], ++g), d.state = null;
            0 < e.length && this.layer.destroyFeatures(e);
            this.events.triggerEvent("success", b)
        } else this.events.triggerEvent("fail", b)
    },
    CLASS_NAME: "OpenLayers.Strategy.Save"
});
OpenLayers.Events.featureclick = OpenLayers.Class({
    cache: null,
    map: null,
    provides: ["featureclick", "nofeatureclick", "featureover", "featureout"],
    initialize: function (a) {
        this.target = a;
        if (a.object instanceof OpenLayers.Map) this.setMap(a.object);
        else if (a.object instanceof OpenLayers.Layer.Vector) a.object.map ? this.setMap(a.object.map) : a.object.events.register("added", this, function (b) {
            this.setMap(a.object.map)
        });
        else throw "Listeners for '" + this.provides.join("', '") + "' events can only be registered for OpenLayers.Layer.Vector or OpenLayers.Map instances";
        for (var b = this.provides.length - 1; 0 <= b; --b) a.extensions[this.provides[b]] = !0
    },
    setMap: function (a) {
        this.map = a;
        this.cache = {};
        a.events.register("mousedown", this, this.start, {
            extension: !0
        });
        a.events.register("mouseup", this, this.onClick, {
            extension: !0
        });
        a.events.register("touchstart", this, this.start, {
            extension: !0
        });
        a.events.register("touchmove", this, this.cancel, {
            extension: !0
        });
        a.events.register("touchend", this, this.onClick, {
            extension: !0
        });
        a.events.register("mousemove", this, this.onMousemove, {
            extension: !0
        })
    },
    start: function (a) {
        this.startEvt = a
    },
    cancel: function (a) {
        delete this.startEvt
    },
    onClick: function (a) {
        if (this.startEvt && ("touchend" === a.type || OpenLayers.Event.isLeftClick(a))) {
            a = this.getFeatures(this.startEvt);
            delete this.startEvt;
            for (var b, c, d = {}, e = 0, f = a.length; e < f && (b = a[e], c = b.layer, d[c.id] = !0, b = this.triggerEvent("featureclick", {
                    feature: b
                }), !1 !== b); ++e);
            e = 0;
            for (f = this.map.layers.length; e < f; ++e) c = this.map.layers[e], c instanceof OpenLayers.Layer.Vector && !d[c.id] && this.triggerEvent("nofeatureclick", {
                layer: c
            })
        }
    },
    onMousemove: function (a) {
        delete this.startEvt;
        var b = this.getFeatures(a),
            c = {};
        a = [];
        for (var d, e = 0, f = b.length; e < f; ++e) d = b[e], c[d.id] = d, this.cache[d.id] || a.push(d);
        var b = [],
            g;
        for (g in this.cache) d = this.cache[g], d.layer && d.layer.map ? c[d.id] || b.push(d) : delete this.cache[g];
        e = 0;
        for (f = a.length; e < f && (d = a[e], this.cache[d.id] = d, g = this.triggerEvent("featureover", {
                feature: d
            }), !1 !== g); ++e);
        e = 0;
        for (f = b.length; e < f && (d = b[e], delete this.cache[d.id], g = this.triggerEvent("featureout", {
                feature: d
            }), !1 !== g); ++e);
    },
    triggerEvent: function (a,
        b) {
        var c = b.feature ? b.feature.layer : b.layer,
            d = this.target.object;
        if (d instanceof OpenLayers.Map || d === c) return this.target.triggerEvent(a, b)
    },
    getFeatures: function (a) {
        var b = a.clientX,
            c = a.clientY,
            d = [],
            e = [],
            f = [],
            g, h, k, l;
        for (l = this.map.layers.length - 1; 0 <= l; --l)
            if (g = this.map.layers[l], "none" !== g.div.style.display)
                if (g.renderer instanceof OpenLayers.Renderer.Elements) {
                    if (g instanceof OpenLayers.Layer.Vector)
                        for (h = document.elementFromPoint(b, c); h && h._featureId;)(k = g.getFeatureById(h._featureId)) ? (d.push(k),
                            h.style.display = "none", e.push(h), h = document.elementFromPoint(b, c)) : h = !1;
                    f.push(g);
                    g.div.style.display = "none"
                } else g.renderer instanceof OpenLayers.Renderer.Canvas && (k = g.renderer.getFeatureIdFromEvent(a)) && (d.push(k), f.push(g));
        l = 0;
        for (a = e.length; l < a; ++l) e[l].style.display = "";
        for (l = f.length - 1; 0 <= l; --l) f[l].div.style.display = "block";
        return d
    },
    destroy: function () {
        for (var a = this.provides.length - 1; 0 <= a; --a) delete this.target.extensions[this.provides[a]];
        this.map.events.un({
            mousemove: this.onMousemove,
            mousedown: this.start,
            mouseup: this.onClick,
            touchstart: this.start,
            touchmove: this.cancel,
            touchend: this.onClick,
            scope: this
        });
        delete this.cache;
        delete this.map;
        delete this.target
    }
});
OpenLayers.Events.nofeatureclick = OpenLayers.Events.featureclick;
OpenLayers.Events.featureover = OpenLayers.Events.featureclick;
OpenLayers.Events.featureout = OpenLayers.Events.featureclick;
OpenLayers.Format.GPX = OpenLayers.Class(OpenLayers.Format.XML, {
    defaultDesc: "No description available",
    extractWaypoints: !0,
    extractTracks: !0,
    extractRoutes: !0,
    extractAttributes: !0,
    namespaces: {
        gpx: "https://www.topografix.com/GPX/1/1",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    schemaLocation: "https://www.topografix.com/GPX/1/1 https://www.topografix.com/GPX/1/1/gpx.xsd",
    creator: "OpenLayers",
    initialize: function (a) {
        this.externalProjection = new OpenLayers.Projection("EPSG:4326");
        OpenLayers.Format.XML.prototype.initialize.apply(this,
            [a])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = [];
        if (this.extractTracks)
            for (var c = a.getElementsByTagName("trk"), d = 0, e = c.length; d < e; d++) {
                var f = {};
                this.extractAttributes && (f = this.parseAttributes(c[d]));
                for (var g = this.getElementsByTagNameNS(c[d], c[d].namespaceURI, "trkseg"), h = 0, k = g.length; h < k; h++) {
                    var l = this.extractSegment(g[h], "trkpt");
                    b.push(new OpenLayers.Feature.Vector(l, f))
                }
            }
        if (this.extractRoutes)
            for (e = a.getElementsByTagName("rte"), c = 0, d =
                e.length; c < d; c++) f = {}, this.extractAttributes && (f = this.parseAttributes(e[c])), g = this.extractSegment(e[c], "rtept"), b.push(new OpenLayers.Feature.Vector(g, f));
        if (this.extractWaypoints)
            for (a = a.getElementsByTagName("wpt"), c = 0, e = a.length; c < e; c++) f = {}, this.extractAttributes && (f = this.parseAttributes(a[c])), d = new OpenLayers.Geometry.Point(a[c].getAttribute("lon"), a[c].getAttribute("lat")), b.push(new OpenLayers.Feature.Vector(d, f));
        if (this.internalProjection && this.externalProjection)
            for (f = 0, a = b.length; f < a; f++) b[f].geometry.transform(this.externalProjection,
                this.internalProjection);
        return b
    },
    extractSegment: function (a, b) {
        for (var c = this.getElementsByTagNameNS(a, a.namespaceURI, b), d = [], e = 0, f = c.length; e < f; e++) d.push(new OpenLayers.Geometry.Point(c[e].getAttribute("lon"), c[e].getAttribute("lat")));
        return new OpenLayers.Geometry.LineString(d)
    },
    parseAttributes: function (a) {
        var b = {};
        a = a.firstChild;
        for (var c, d; a;) 1 == a.nodeType && a.firstChild && (c = a.firstChild, 3 == c.nodeType || 4 == c.nodeType) && (d = a.prefix ? a.nodeName.split(":")[1] : a.nodeName, "trkseg" != d && "rtept" != d &&
            (b[d] = c.nodeValue)), a = a.nextSibling;
        return b
    },
    write: function (a, b) {
        a = OpenLayers.Util.isArray(a) ? a : [a];
        var c = this.createElementNS(this.namespaces.gpx, "gpx");
        c.setAttribute("version", "1.1");
        c.setAttribute("creator", this.creator);
        this.setAttributes(c, {
            "xsi:schemaLocation": this.schemaLocation
        });
        b && "object" == typeof b && c.appendChild(this.buildMetadataNode(b));
        for (var d = 0, e = a.length; d < e; d++) c.appendChild(this.buildFeatureNode(a[d]));
        return OpenLayers.Format.XML.prototype.write.apply(this, [c])
    },
    buildMetadataNode: function (a) {
        for (var b = ["name", "desc", "author"], c = this.createElementNS(this.namespaces.gpx, "metadata"), d = 0; d < b.length; d++) {
            var e = b[d];
            if (a[e]) {
                var f = this.createElementNS(this.namespaces.gpx, e);
                f.appendChild(this.createTextNode(a[e]));
                c.appendChild(f)
            }
        }
        return c
    },
    buildFeatureNode: function (a) {
        var b = a.geometry,
            b = b.clone();
        this.internalProjection && this.externalProjection && b.transform(this.internalProjection, this.externalProjection);
        if ("OpenLayers.Geometry.Point" == b.CLASS_NAME) {
            var c = this.buildWptNode(b);
            this.appendAttributesNode(c,
                a);
            return c
        }
        c = this.createElementNS(this.namespaces.gpx, "trk");
        this.appendAttributesNode(c, a);
        a = this.buildTrkSegNode(b);
        a = OpenLayers.Util.isArray(a) ? a : [a];
        for (var b = 0, d = a.length; b < d; b++) c.appendChild(a[b]);
        return c
    },
    buildTrkSegNode: function (a) {
        var b, c, d, e;
        if ("OpenLayers.Geometry.LineString" == a.CLASS_NAME || "OpenLayers.Geometry.LinearRing" == a.CLASS_NAME) {
            b = this.createElementNS(this.namespaces.gpx, "trkseg");
            c = 0;
            for (d = a.components.length; c < d; c++) e = a.components[c], b.appendChild(this.buildTrkPtNode(e));
            return b
        }
        b = [];
        c = 0;
        for (d = a.components.length; c < d; c++) b.push(this.buildTrkSegNode(a.components[c]));
        return b
    },
    buildTrkPtNode: function (a) {
        var b = this.createElementNS(this.namespaces.gpx, "trkpt");
        b.setAttribute("lon", a.x);
        b.setAttribute("lat", a.y);
        return b
    },
    buildWptNode: function (a) {
        var b = this.createElementNS(this.namespaces.gpx, "wpt");
        b.setAttribute("lon", a.x);
        b.setAttribute("lat", a.y);
        return b
    },
    appendAttributesNode: function (a, b) {
        var c = this.createElementNS(this.namespaces.gpx, "name");
        c.appendChild(this.createTextNode(b.attributes.name ||
            b.id));
        a.appendChild(c);
        c = this.createElementNS(this.namespaces.gpx, "desc");
        c.appendChild(this.createTextNode(b.attributes.description || this.defaultDesc));
        a.appendChild(c)
    },
    CLASS_NAME: "OpenLayers.Format.GPX"
});
OpenLayers.Format.WMSDescribeLayer = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.1.1",
    CLASS_NAME: "OpenLayers.Format.WMSDescribeLayer"
});
OpenLayers.Format.WMSDescribeLayer.v1_1_1 = OpenLayers.Class(OpenLayers.Format.WMSDescribeLayer, {
    initialize: function (a) {
        OpenLayers.Format.WMSDescribeLayer.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        for (var b = a.documentElement.childNodes, c = {
                layerDescriptions: []
            }, d, e, f = 0; f < b.length; ++f)
            if (d = b[f], e = d.nodeName, "LayerDescription" == e) {
                e = d.getAttribute("name");
                var g = "",
                    h = "",
                    k = "";
                d.getAttribute("owsType") ? (g = d.getAttribute("owsType"),
                    h = d.getAttribute("owsURL")) : "" != d.getAttribute("wfs") ? (g = "WFS", h = d.getAttribute("wfs")) : "" != d.getAttribute("wcs") && (g = "WCS", h = d.getAttribute("wcs"));
                d = d.getElementsByTagName("Query");
                0 < d.length && ((k = d[0].getAttribute("typeName")) || (k = d[0].getAttribute("typename")));
                d = {
                    layerName: e,
                    owsType: g,
                    owsURL: h,
                    typeName: k
                };
                c.layerDescriptions.push(d);
                c.length = c.layerDescriptions.length;
                c[c.length - 1] = d
            } else if ("ServiceException" == e) return {
            error: (new OpenLayers.Format.OGCExceptionReport).read(a)
        };
        return c
    },
    CLASS_NAME: "OpenLayers.Format.WMSDescribeLayer.v1_1_1"
});
OpenLayers.Format.WMSDescribeLayer.v1_1_0 = OpenLayers.Format.WMSDescribeLayer.v1_1_1;
OpenLayers.Layer.XYZ = OpenLayers.Class(OpenLayers.Layer.Grid, {
    isBaseLayer: !0,
    sphericalMercator: !1,
    zoomOffset: 0,
    serverResolutions: null,
    initialize: function (a, b, c) {
        if (c && c.sphericalMercator || this.sphericalMercator) c = OpenLayers.Util.extend({
            projection: "EPSG:900913",
            numZoomLevels: 19
        }, c);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a || this.name, b || this.url, {}, c])
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.XYZ(this.name, this.url, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this,
            [a])
    },
    getURL: function (a) {
        a = this.getXYZ(a);
        var b = this.url;
        OpenLayers.Util.isArray(b) && (b = this.selectUrl("" + a.x + a.y + a.z, b));
        return OpenLayers.String.format(b, a)
    },
    getXYZ: function (a) {
        var b = this.getServerResolution(),
            c = Math.round((a.left - this.maxExtent.left) / (b * this.tileSize.w));
        a = Math.round((this.maxExtent.top - a.top) / (b * this.tileSize.h));
        b = this.getServerZoom();
        if (this.wrapDateLine) var d = Math.pow(2, b),
            c = (c % d + d) % d;
        return {
            x: c,
            y: a,
            z: b
        }
    },
    setMap: function (a) {
        OpenLayers.Layer.Grid.prototype.setMap.apply(this,
            arguments);
        this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.maxExtent.left, this.maxExtent.bottom))
    },
    CLASS_NAME: "OpenLayers.Layer.XYZ"
});
OpenLayers.Layer.OSM = OpenLayers.Class(OpenLayers.Layer.XYZ, {
    name: "OpenStreetMap",
    url: ["https://a.tile.openstreetmap.org/${z}/${x}/${y}.png", "https://b.tile.openstreetmap.org/${z}/${x}/${y}.png", "https://c.tile.openstreetmap.org/${z}/${x}/${y}.png"],
    attribution: "&copy; <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors",
    sphericalMercator: !0,
    wrapDateLine: !0,
    tileOptions: null,
    initialize: function (a, b, c) {
        OpenLayers.Layer.XYZ.prototype.initialize.apply(this, arguments);
        this.tileOptions =
            OpenLayers.Util.extend({
                crossOriginKeyword: "anonymous"
            }, this.options && this.options.tileOptions)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.OSM(this.name, this.url, this.getOptions()));
        return a = OpenLayers.Layer.XYZ.prototype.clone.apply(this, [a])
    },
    CLASS_NAME: "OpenLayers.Layer.OSM"
});
OpenLayers.Renderer = OpenLayers.Class({
    container: null,
    root: null,
    extent: null,
    locked: !1,
    size: null,
    resolution: null,
    map: null,
    featureDx: 0,
    initialize: function (a, b) {
        this.container = OpenLayers.Util.getElement(a);
        OpenLayers.Util.extend(this, b)
    },
    destroy: function () {
        this.map = this.resolution = this.size = this.extent = this.container = null
    },
    supported: function () {
        return !1
    },
    setExtent: function (a, b) {
        this.extent = a.clone();
        if (this.map.baseLayer && this.map.baseLayer.wrapDateLine) {
            var c = a.getWidth() / this.map.getExtent().getWidth();
            a = a.scale(1 / c);
            this.extent = a.wrapDateLine(this.map.getMaxExtent()).scale(c)
        }
        b && (this.resolution = null);
        return !0
    },
    setSize: function (a) {
        this.size = a.clone();
        this.resolution = null
    },
    getResolution: function () {
        return this.resolution = this.resolution || this.map.getResolution()
    },
    drawFeature: function (a, b) {
        null == b && (b = a.style);
        if (a.geometry) {
            var c = a.geometry.getBounds();
            if (c) {
                var d;
                this.map.baseLayer && this.map.baseLayer.wrapDateLine && (d = this.map.getMaxExtent());
                c.intersectsBounds(this.extent, {
                    worldBounds: d
                }) ? this.calculateFeatureDx(c,
                    d) : b = {
                    display: "none"
                };
                c = this.drawGeometry(a.geometry, b, a.id);
                if ("none" != b.display && b.label && !1 !== c) {
                    d = a.geometry.getCentroid();
                    if (b.labelXOffset || b.labelYOffset) {
                        var e = isNaN(b.labelXOffset) ? 0 : b.labelXOffset,
                            f = isNaN(b.labelYOffset) ? 0 : b.labelYOffset,
                            g = this.getResolution();
                        d.move(e * g, f * g)
                    }
                    this.drawText(a.id, b, d)
                } else this.removeText(a.id);
                return c
            }
        }
    },
    calculateFeatureDx: function (a, b) {
        this.featureDx = 0;
        if (b) {
            var c = b.getWidth();
            this.featureDx = Math.round(((a.left + a.right) / 2 - (this.extent.left + this.extent.right) /
                2) / c) * c
        }
    },
    drawGeometry: function (a, b, c) {},
    drawText: function (a, b, c) {},
    removeText: function (a) {},
    clear: function () {},
    getFeatureIdFromEvent: function (a) {},
    eraseFeatures: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var b = 0, c = a.length; b < c; ++b) {
            var d = a[b];
            this.eraseGeometry(d.geometry, d.id);
            this.removeText(d.id)
        }
    },
    eraseGeometry: function (a, b) {},
    moveRoot: function (a) {},
    getRenderLayerId: function () {
        return this.container.id
    },
    applyDefaultSymbolizer: function (a) {
        var b = OpenLayers.Util.extend({}, OpenLayers.Renderer.defaultSymbolizer);
        !1 === a.stroke && (delete b.strokeWidth, delete b.strokeColor);
        !1 === a.fill && delete b.fillColor;
        OpenLayers.Util.extend(b, a);
        return b
    },
    CLASS_NAME: "OpenLayers.Renderer"
});
OpenLayers.Renderer.defaultSymbolizer = {
    fillColor: "#000000",
    strokeColor: "#000000",
    strokeWidth: 2,
    fillOpacity: 1,
    strokeOpacity: 1,
    pointRadius: 0,
    labelAlign: "cm"
};
OpenLayers.Renderer.symbol = {
    star: [350, 75, 379, 161, 469, 161, 397, 215, 423, 301, 350, 250, 277, 301, 303, 215, 231, 161, 321, 161, 350, 75],
    cross: [4, 0, 6, 0, 6, 4, 10, 4, 10, 6, 6, 6, 6, 10, 4, 10, 4, 6, 0, 6, 0, 4, 4, 4, 4, 0],
    x: [0, 0, 25, 0, 50, 35, 75, 0, 100, 0, 65, 50, 100, 100, 75, 100, 50, 65, 25, 100, 0, 100, 35, 50, 0, 0],
    square: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
    triangle: [0, 10, 10, 10, 5, 0, 0, 10]
};
OpenLayers.Renderer.Canvas = OpenLayers.Class(OpenLayers.Renderer, {
    hitDetection: !0,
    hitOverflow: 0,
    canvas: null,
    features: null,
    pendingRedraw: !1,
    cachedSymbolBounds: {},
    initialize: function (a, b) {
        OpenLayers.Renderer.prototype.initialize.apply(this, arguments);
        this.root = document.createElement("canvas");
        this.container.appendChild(this.root);
        this.canvas = this.root.getContext("2d");
        this.features = {};
        this.hitDetection && (this.hitCanvas = document.createElement("canvas"), this.hitContext = this.hitCanvas.getContext("2d"))
    },
    setExtent: function () {
        OpenLayers.Renderer.prototype.setExtent.apply(this, arguments);
        return !1
    },
    eraseGeometry: function (a, b) {
        this.eraseFeatures(this.features[b][0])
    },
    supported: function () {
        return OpenLayers.CANVAS_SUPPORTED
    },
    setSize: function (a) {
        this.size = a.clone();
        var b = this.root;
        b.style.width = a.w + "px";
        b.style.height = a.h + "px";
        b.width = a.w;
        b.height = a.h;
        this.resolution = null;
        this.hitDetection && (b = this.hitCanvas, b.style.width = a.w + "px", b.style.height = a.h + "px", b.width = a.w, b.height = a.h)
    },
    drawFeature: function (a,
        b) {
        var c;
        if (a.geometry) {
            b = this.applyDefaultSymbolizer(b || a.style);
            c = a.geometry.getBounds();
            var d;
            this.map.baseLayer && this.map.baseLayer.wrapDateLine && (d = this.map.getMaxExtent());
            d = c && c.intersectsBounds(this.extent, {
                worldBounds: d
            });
            (c = "none" !== b.display && !!c && d) ? this.features[a.id] = [a, b]: delete this.features[a.id];
            this.pendingRedraw = !0
        }
        this.pendingRedraw && !this.locked && (this.redraw(), this.pendingRedraw = !1);
        return c
    },
    drawGeometry: function (a, b, c) {
        var d = a.CLASS_NAME;
        if ("OpenLayers.Geometry.Collection" ==
            d || "OpenLayers.Geometry.MultiPoint" == d || "OpenLayers.Geometry.MultiLineString" == d || "OpenLayers.Geometry.MultiPolygon" == d)
            for (d = 0; d < a.components.length; d++) this.drawGeometry(a.components[d], b, c);
        else switch (a.CLASS_NAME) {
            case "OpenLayers.Geometry.Point":
                this.drawPoint(a, b, c);
                break;
            case "OpenLayers.Geometry.LineString":
                this.drawLineString(a, b, c);
                break;
            case "OpenLayers.Geometry.LinearRing":
                this.drawLinearRing(a, b, c);
                break;
            case "OpenLayers.Geometry.Polygon":
                this.drawPolygon(a, b, c)
        }
    },
    drawExternalGraphic: function (a,
        b, c) {
        var d = new Image,
            e = b.title || b.graphicTitle;
        e && (d.title = e);
        var f = b.graphicWidth || b.graphicHeight,
            g = b.graphicHeight || b.graphicWidth,
            f = f ? f : 2 * b.pointRadius,
            g = g ? g : 2 * b.pointRadius,
            h = void 0 != b.graphicXOffset ? b.graphicXOffset : -(0.5 * f),
            k = void 0 != b.graphicYOffset ? b.graphicYOffset : -(0.5 * g),
            l = b.graphicOpacity || b.fillOpacity;
        d.onload = OpenLayers.Function.bind(function () {
            if (this.features[c]) {
                var b = this.getLocalXY(a),
                    e = b[0],
                    b = b[1];
                if (!isNaN(e) && !isNaN(b)) {
                    var e = e + h | 0,
                        b = b + k | 0,
                        p = this.canvas;
                    p.globalAlpha = l;
                    var q =
                        OpenLayers.Renderer.Canvas.drawImageScaleFactor || (OpenLayers.Renderer.Canvas.drawImageScaleFactor = /android 2.1/.test(navigator.userAgent.toLowerCase()) ? 320 / window.screen.width : 1);
                    p.drawImage(d, e * q, b * q, f * q, g * q);
                    this.hitDetection && (this.setHitContextStyle("fill", c), this.hitContext.fillRect(e, b, f, g))
                }
            }
        }, this);
        d.src = b.externalGraphic
    },
    drawNamedSymbol: function (a, b, c) {
        var d, e, f, g;
        f = Math.PI / 180;
        var h = OpenLayers.Renderer.symbol[b.graphicName];
        if (!h) throw Error(b.graphicName + " is not a valid symbol name");
        if (!(!h.length || 2 > h.length || (a = this.getLocalXY(a), e = a[0], g = a[1], isNaN(e) || isNaN(g)))) {
            this.canvas.lineCap = "round";
            this.canvas.lineJoin = "round";
            this.hitDetection && (this.hitContext.lineCap = "round", this.hitContext.lineJoin = "round");
            if (b.graphicName in this.cachedSymbolBounds) d = this.cachedSymbolBounds[b.graphicName];
            else {
                d = new OpenLayers.Bounds;
                for (a = 0; a < h.length; a += 2) d.extend(new OpenLayers.LonLat(h[a], h[a + 1]));
                this.cachedSymbolBounds[b.graphicName] = d
            }
            this.canvas.save();
            this.hitDetection && this.hitContext.save();
            this.canvas.translate(e, g);
            this.hitDetection && this.hitContext.translate(e, g);
            a = f * b.rotation;
            isNaN(a) || (this.canvas.rotate(a), this.hitDetection && this.hitContext.rotate(a));
            f = 2 * b.pointRadius / Math.max(d.getWidth(), d.getHeight());
            this.canvas.scale(f, f);
            this.hitDetection && this.hitContext.scale(f, f);
            a = d.getCenterLonLat().lon;
            d = d.getCenterLonLat().lat;
            this.canvas.translate(-a, -d);
            this.hitDetection && this.hitContext.translate(-a, -d);
            g = b.strokeWidth;
            b.strokeWidth = g / f;
            if (!1 !== b.fill) {
                this.setCanvasStyle("fill",
                    b);
                this.canvas.beginPath();
                for (a = 0; a < h.length; a += 2) d = h[a], e = h[a + 1], 0 == a && this.canvas.moveTo(d, e), this.canvas.lineTo(d, e);
                this.canvas.closePath();
                this.canvas.fill();
                if (this.hitDetection) {
                    this.setHitContextStyle("fill", c, b);
                    this.hitContext.beginPath();
                    for (a = 0; a < h.length; a += 2) d = h[a], e = h[a + 1], 0 == a && this.canvas.moveTo(d, e), this.hitContext.lineTo(d, e);
                    this.hitContext.closePath();
                    this.hitContext.fill()
                }
            }
            if (!1 !== b.stroke) {
                this.setCanvasStyle("stroke", b);
                this.canvas.beginPath();
                for (a = 0; a < h.length; a += 2) d = h[a],
                    e = h[a + 1], 0 == a && this.canvas.moveTo(d, e), this.canvas.lineTo(d, e);
                this.canvas.closePath();
                this.canvas.stroke();
                if (this.hitDetection) {
                    this.setHitContextStyle("stroke", c, b, f);
                    this.hitContext.beginPath();
                    for (a = 0; a < h.length; a += 2) d = h[a], e = h[a + 1], 0 == a && this.hitContext.moveTo(d, e), this.hitContext.lineTo(d, e);
                    this.hitContext.closePath();
                    this.hitContext.stroke()
                }
            }
            b.strokeWidth = g;
            this.canvas.restore();
            this.hitDetection && this.hitContext.restore();
            this.setCanvasStyle("reset")
        }
    },
    setCanvasStyle: function (a, b) {
        "fill" ===
        a ? (this.canvas.globalAlpha = b.fillOpacity, this.canvas.fillStyle = b.fillColor) : "stroke" === a ? (this.canvas.globalAlpha = b.strokeOpacity, this.canvas.strokeStyle = b.strokeColor, this.canvas.lineWidth = b.strokeWidth) : (this.canvas.globalAlpha = 0, this.canvas.lineWidth = 1)
    },
    featureIdToHex: function (a) {
        a = Number(a.split("_").pop()) + 1;
        16777216 <= a && (this.hitOverflow = a - 16777215, a = a % 16777216 + 1);
        a = "000000" + a.toString(16);
        var b = a.length;
        return a = "#" + a.substring(b - 6, b)
    },
    setHitContextStyle: function (a, b, c, d) {
        b = this.featureIdToHex(b);
        "fill" == a ? (this.hitContext.globalAlpha = 1, this.hitContext.fillStyle = b) : "stroke" == a ? (this.hitContext.globalAlpha = 1, this.hitContext.strokeStyle = b, "undefined" === typeof d ? this.hitContext.lineWidth = c.strokeWidth + 2 : isNaN(d) || (this.hitContext.lineWidth = c.strokeWidth + 2 / d)) : (this.hitContext.globalAlpha = 0, this.hitContext.lineWidth = 1)
    },
    drawPoint: function (a, b, c) {
        if (!1 !== b.graphic)
            if (b.externalGraphic) this.drawExternalGraphic(a, b, c);
            else if (b.graphicName && "circle" != b.graphicName) this.drawNamedSymbol(a, b, c);
        else {
            var d =
                this.getLocalXY(a);
            a = d[0];
            d = d[1];
            if (!isNaN(a) && !isNaN(d)) {
                var e = 2 * Math.PI,
                    f = b.pointRadius;
                !1 !== b.fill && (this.setCanvasStyle("fill", b), this.canvas.beginPath(), this.canvas.arc(a, d, f, 0, e, !0), this.canvas.fill(), this.hitDetection && (this.setHitContextStyle("fill", c, b), this.hitContext.beginPath(), this.hitContext.arc(a, d, f, 0, e, !0), this.hitContext.fill()));
                !1 !== b.stroke && (this.setCanvasStyle("stroke", b), this.canvas.beginPath(), this.canvas.arc(a, d, f, 0, e, !0), this.canvas.stroke(), this.hitDetection && (this.setHitContextStyle("stroke",
                    c, b), this.hitContext.beginPath(), this.hitContext.arc(a, d, f, 0, e, !0), this.hitContext.stroke()), this.setCanvasStyle("reset"))
            }
        }
    },
    drawLineString: function (a, b, c) {
        b = OpenLayers.Util.applyDefaults({
            fill: !1
        }, b);
        this.drawLinearRing(a, b, c)
    },
    drawLinearRing: function (a, b, c) {
        !1 !== b.fill && (this.setCanvasStyle("fill", b), this.renderPath(this.canvas, a, b, c, "fill"), this.hitDetection && (this.setHitContextStyle("fill", c, b), this.renderPath(this.hitContext, a, b, c, "fill")));
        !1 !== b.stroke && (this.setCanvasStyle("stroke", b), this.renderPath(this.canvas,
            a, b, c, "stroke"), this.hitDetection && (this.setHitContextStyle("stroke", c, b), this.renderPath(this.hitContext, a, b, c, "stroke")));
        this.setCanvasStyle("reset")
    },
    renderPath: function (a, b, c, d, e) {
        b = b.components;
        c = b.length;
        a.beginPath();
        d = this.getLocalXY(b[0]);
        var f = d[1];
        if (!isNaN(d[0]) && !isNaN(f)) {
            a.moveTo(d[0], d[1]);
            for (d = 1; d < c; ++d) f = this.getLocalXY(b[d]), a.lineTo(f[0], f[1]);
            "fill" === e ? a.fill() : a.stroke()
        }
    },
    drawPolygon: function (a, b, c) {
        a = a.components;
        var d = a.length;
        this.drawLinearRing(a[0], b, c);
        for (var e = 1; e <
            d; ++e) this.canvas.globalCompositeOperation = "destination-out", this.hitDetection && (this.hitContext.globalCompositeOperation = "destination-out"), this.drawLinearRing(a[e], OpenLayers.Util.applyDefaults({
            stroke: !1,
            fillOpacity: 1
        }, b), c), this.canvas.globalCompositeOperation = "source-over", this.hitDetection && (this.hitContext.globalCompositeOperation = "source-over"), this.drawLinearRing(a[e], OpenLayers.Util.applyDefaults({
            fill: !1
        }, b), c)
    },
    drawText: function (a, b) {
        var c = this.getLocalXY(a);
        this.setCanvasStyle("reset");
        this.canvas.fillStyle = b.fontColor;
        this.canvas.globalAlpha = b.fontOpacity || 1;
        var d = [b.fontStyle ? b.fontStyle : "normal", "normal", b.fontWeight ? b.fontWeight : "normal", b.fontSize ? b.fontSize : "1em", b.fontFamily ? b.fontFamily : "sans-serif"].join(" "),
            e = b.label.split("\n"),
            f = e.length;
        if (this.canvas.fillText) {
            this.canvas.font = d;
            this.canvas.textAlign = OpenLayers.Renderer.Canvas.LABEL_ALIGN[b.labelAlign[0]] || "center";
            this.canvas.textBaseline = OpenLayers.Renderer.Canvas.LABEL_ALIGN[b.labelAlign[1]] || "middle";
            var g = OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[1]];
            null == g && (g = -0.5);
            d = this.canvas.measureText("Mg").height || this.canvas.measureText("xx").width;
            c[1] += d * g * (f - 1);
            for (g = 0; g < f; g++) b.labelOutlineWidth && (this.canvas.save(), this.canvas.globalAlpha = b.labelOutlineOpacity || b.fontOpacity || 1, this.canvas.strokeStyle = b.labelOutlineColor, this.canvas.lineWidth = b.labelOutlineWidth, this.canvas.strokeText(e[g], c[0], c[1] + d * g + 1), this.canvas.restore()), this.canvas.fillText(e[g], c[0], c[1] + d * g)
        } else if (this.canvas.mozDrawText) {
            this.canvas.mozTextStyle = d;
            var h = OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[0]];
            null == h && (h = -0.5);
            g = OpenLayers.Renderer.Canvas.LABEL_FACTOR[b.labelAlign[1]];
            null == g && (g = -0.5);
            d = this.canvas.mozMeasureText("xx");
            c[1] += d * (1 + g * f);
            for (g = 0; g < f; g++) {
                var k = c[0] + h * this.canvas.mozMeasureText(e[g]),
                    l = c[1] + g * d;
                this.canvas.translate(k, l);
                this.canvas.mozDrawText(e[g]);
                this.canvas.translate(-k, -l)
            }
        }
        this.setCanvasStyle("reset")
    },
    getLocalXY: function (a) {
        var b = this.getResolution(),
            c = this.extent;
        return [(a.x - this.featureDx) / b + -c.left / b, c.top / b - a.y / b]
    },
    clear: function () {
        var a = this.root.height,
            b = this.root.width;
        this.canvas.clearRect(0, 0, b, a);
        this.features = {};
        this.hitDetection && this.hitContext.clearRect(0, 0, b, a)
    },
    getFeatureIdFromEvent: function (a) {
        var b;
        if (this.hitDetection && "none" !== this.root.style.display && !this.map.dragging && (a = a.xy, a = this.hitContext.getImageData(a.x | 0, a.y | 0, 1, 1).data, 255 === a[3] && (a = a[2] + 256 * (a[1] + 256 * a[0])))) {
            a = "OpenLayers_Feature_Vector_" + (a - 1 + this.hitOverflow);
            try {
                b = this.features[a][0]
            } catch (c) {}
        }
        return b
    },
    eraseFeatures: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var b = 0; b < a.length; ++b) delete this.features[a[b].id];
        this.redraw()
    },
    redraw: function () {
        if (!this.locked) {
            var a = this.root.height,
                b = this.root.width;
            this.canvas.clearRect(0, 0, b, a);
            this.hitDetection && this.hitContext.clearRect(0, 0, b, a);
            var a = [],
                c, d, e = this.map.baseLayer && this.map.baseLayer.wrapDateLine && this.map.getMaxExtent(),
                f;
            for (f in this.features) this.features.hasOwnProperty(f) && (b = this.features[f][0], c = b.geometry, this.calculateFeatureDx(c.getBounds(), e), d = this.features[f][1], this.drawGeometry(c, d, b.id), d.label && a.push([b, d]));
            b = 0;
            for (c = a.length; b < c; ++b) f =
                a[b], this.drawText(f[0].geometry.getCentroid(), f[1])
        }
    },
    CLASS_NAME: "OpenLayers.Renderer.Canvas"
});
OpenLayers.Renderer.Canvas.LABEL_ALIGN = {
    l: "left",
    r: "right",
    t: "top",
    b: "bottom"
};
OpenLayers.Renderer.Canvas.LABEL_FACTOR = {
    l: 0,
    r: -1,
    t: 0,
    b: -1
};
OpenLayers.Renderer.Canvas.drawImageScaleFactor = null;
OpenLayers.Format.OSM = OpenLayers.Class(OpenLayers.Format.XML, {
    checkTags: !1,
    interestingTagsExclude: null,
    areaTags: null,
    initialize: function (a) {
        var b = {
                interestingTagsExclude: "source source_ref source:ref history attribution created_by".split(" "),
                areaTags: "area building leisure tourism ruins historic landuse military natural sport".split(" ")
            },
            b = OpenLayers.Util.extend(b, a),
            c = {};
        for (a = 0; a < b.interestingTagsExclude.length; a++) c[b.interestingTagsExclude[a]] = !0;
        b.interestingTagsExclude = c;
        c = {};
        for (a = 0; a < b.areaTags.length; a++) c[b.areaTags[a]] = !0;
        b.areaTags = c;
        this.externalProjection = new OpenLayers.Projection("EPSG:4326");
        OpenLayers.Format.XML.prototype.initialize.apply(this, [b])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = this.getNodes(a),
            c = this.getWays(a);
        a = Array(c.length);
        for (var d = 0; d < c.length; d++) {
            for (var e = Array(c[d].nodes.length), f = this.isWayArea(c[d]) ? 1 : 0, g = 0; g < c[d].nodes.length; g++) {
                var h = b[c[d].nodes[g]],
                    k = new OpenLayers.Geometry.Point(h.lon, h.lat);
                k.osm_id = parseInt(c[d].nodes[g]);
                e[g] = k;
                h.used = !0
            }
            h = null;
            h = f ? new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(e)) : new OpenLayers.Geometry.LineString(e);
            this.internalProjection && this.externalProjection && h.transform(this.externalProjection, this.internalProjection);
            e = new OpenLayers.Feature.Vector(h, c[d].tags);
            e.osm_id = parseInt(c[d].id);
            e.fid = "way." + e.osm_id;
            a[d] = e
        }
        for (var l in b) {
            h = b[l];
            if (!h.used || this.checkTags) {
                c = null;
                if (this.checkTags) {
                    c = this.getTags(h.node, !0);
                    if (h.used && !c[1]) continue;
                    c = c[0]
                } else c = this.getTags(h.node);
                e = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(h.lon, h.lat), c);
                this.internalProjection && this.externalProjection && e.geometry.transform(this.externalProjection, this.internalProjection);
                e.osm_id = parseInt(l);
                e.fid = "node." + e.osm_id;
                a.push(e)
            }
            h.node = null
        }
        return a
    },
    getNodes: function (a) {
        a = a.getElementsByTagName("node");
        for (var b = {}, c = 0; c < a.length; c++) {
            var d = a[c],
                e = d.getAttribute("id");
            b[e] = {
                lat: d.getAttribute("lat"),
                lon: d.getAttribute("lon"),
                node: d
            }
        }
        return b
    },
    getWays: function (a) {
        a = a.getElementsByTagName("way");
        for (var b = [], c = 0; c < a.length; c++) {
            var d = a[c],
                e = {
                    id: d.getAttribute("id")
                };
            e.tags = this.getTags(d);
            d = d.getElementsByTagName("nd");
            e.nodes = Array(d.length);
            for (var f = 0; f < d.length; f++) e.nodes[f] = d[f].getAttribute("ref");
            b.push(e)
        }
        return b
    },
    getTags: function (a, b) {
        for (var c = a.getElementsByTagName("tag"), d = {}, e = !1, f = 0; f < c.length; f++) {
            var g = c[f].getAttribute("k");
            d[g] = c[f].getAttribute("v");
            b && (this.interestingTagsExclude[g] || (e = !0))
        }
        return b ? [d, e] : d
    },
    isWayArea: function (a) {
        var b = !1,
            c = !1;
        a.nodes[0] == a.nodes[a.nodes.length -
            1] && (b = !0);
        if (this.checkTags)
            for (var d in a.tags)
                if (this.areaTags[d]) {
                    c = !0;
                    break
                } return b && (this.checkTags ? c : !0)
    },
    write: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        this.osm_id = 1;
        this.created_nodes = {};
        var b = this.createElementNS(null, "osm");
        b.setAttribute("version", "0.5");
        b.setAttribute("generator", "OpenLayers " + OpenLayers.VERSION_NUMBER);
        for (var c = a.length - 1; 0 <= c; c--)
            for (var d = this.createFeatureNodes(a[c]), e = 0; e < d.length; e++) b.appendChild(d[e]);
        return OpenLayers.Format.XML.prototype.write.apply(this,
            [b])
    },
    createFeatureNodes: function (a) {
        var b = [],
            c = a.geometry.CLASS_NAME,
            c = c.substring(c.lastIndexOf(".") + 1),
            c = c.toLowerCase();
        (c = this.createXML[c]) && (b = c.apply(this, [a]));
        return b
    },
    createXML: {
        point: function (a) {
            var b = null,
                c = a.geometry ? a.geometry : a;
            this.internalProjection && this.externalProjection && (c = c.clone(), c.transform(this.internalProjection, this.externalProjection));
            var d = !1;
            a.osm_id ? (b = a.osm_id, this.created_nodes[b] && (d = !0)) : (b = -this.osm_id, this.osm_id++);
            var e = d ? this.created_nodes[b] : this.createElementNS(null,
                "node");
            this.created_nodes[b] = e;
            e.setAttribute("id", b);
            e.setAttribute("lon", c.x);
            e.setAttribute("lat", c.y);
            a.attributes && this.serializeTags(a, e);
            this.setState(a, e);
            return d ? [] : [e]
        },
        linestring: function (a) {
            var b, c = [],
                d = a.geometry;
            a.osm_id ? b = a.osm_id : (b = -this.osm_id, this.osm_id++);
            var e = this.createElementNS(null, "way");
            e.setAttribute("id", b);
            for (b = 0; b < d.components.length; b++) {
                var f = this.createXML.point.apply(this, [d.components[b]]);
                if (f.length) {
                    var f = f[0],
                        g = f.getAttribute("id");
                    c.push(f)
                } else g = d.components[b].osm_id,
                    f = this.created_nodes[g];
                this.setState(a, f);
                f = this.createElementNS(null, "nd");
                f.setAttribute("ref", g);
                e.appendChild(f)
            }
            this.serializeTags(a, e);
            c.push(e);
            return c
        },
        polygon: function (a) {
            var b = OpenLayers.Util.extend({
                    area: "yes"
                }, a.attributes),
                b = new OpenLayers.Feature.Vector(a.geometry.components[0], b);
            b.osm_id = a.osm_id;
            return this.createXML.linestring.apply(this, [b])
        }
    },
    serializeTags: function (a, b) {
        for (var c in a.attributes) {
            var d = this.createElementNS(null, "tag");
            d.setAttribute("k", c);
            d.setAttribute("v",
                a.attributes[c]);
            b.appendChild(d)
        }
    },
    setState: function (a, b) {
        if (a.state) {
            var c = null;
            switch (a.state) {
                case OpenLayers.State.UPDATE:
                case OpenLayers.State.DELETE:
                    c = "delete"
            }
            c && b.setAttribute("action", c)
        }
    },
    CLASS_NAME: "OpenLayers.Format.OSM"
});
OpenLayers.Handler.Keyboard = OpenLayers.Class(OpenLayers.Handler, {
    KEY_EVENTS: ["keydown", "keyup"],
    eventListener: null,
    observeElement: null,
    initialize: function (a, b, c) {
        OpenLayers.Handler.prototype.initialize.apply(this, arguments);
        this.eventListener = OpenLayers.Function.bindAsEventListener(this.handleKeyEvent, this)
    },
    destroy: function () {
        this.deactivate();
        this.eventListener = null;
        OpenLayers.Handler.prototype.destroy.apply(this, arguments)
    },
    activate: function () {
        if (OpenLayers.Handler.prototype.activate.apply(this,
                arguments)) {
            this.observeElement = this.observeElement || document;
            for (var a = 0, b = this.KEY_EVENTS.length; a < b; a++) OpenLayers.Event.observe(this.observeElement, this.KEY_EVENTS[a], this.eventListener);
            return !0
        }
        return !1
    },
    deactivate: function () {
        var a = !1;
        if (OpenLayers.Handler.prototype.deactivate.apply(this, arguments)) {
            for (var a = 0, b = this.KEY_EVENTS.length; a < b; a++) OpenLayers.Event.stopObserving(this.observeElement, this.KEY_EVENTS[a], this.eventListener);
            a = !0
        }
        return a
    },
    handleKeyEvent: function (a) {
        this.checkModifiers(a) &&
            this.callback(a.type, [a])
    },
    CLASS_NAME: "OpenLayers.Handler.Keyboard"
});
OpenLayers.Control.ModifyFeature = OpenLayers.Class(OpenLayers.Control, {
    documentDrag: !1,
    geometryTypes: null,
    clickout: !0,
    toggle: !0,
    standalone: !1,
    layer: null,
    feature: null,
    vertex: null,
    vertices: null,
    virtualVertices: null,
    handlers: null,
    deleteCodes: null,
    virtualStyle: null,
    vertexRenderIntent: null,
    mode: null,
    createVertices: !0,
    modified: !1,
    radiusHandle: null,
    dragHandle: null,
    onModificationStart: function () {},
    onModification: function () {},
    onModificationEnd: function () {},
    initialize: function (a, b) {
        b = b || {};
        this.layer = a;
        this.vertices = [];
        this.virtualVertices = [];
        this.virtualStyle = OpenLayers.Util.extend({}, this.layer.style || this.layer.styleMap.createSymbolizer(null, b.vertexRenderIntent));
        this.virtualStyle.fillOpacity = 0.3;
        this.virtualStyle.strokeOpacity = 0.3;
        this.deleteCodes = [46, 68];
        this.mode = OpenLayers.Control.ModifyFeature.RESHAPE;
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        OpenLayers.Util.isArray(this.deleteCodes) || (this.deleteCodes = [this.deleteCodes]);
        var c = {
            documentDrag: this.documentDrag,
            stopDown: !1
        };
        this.handlers = {
            keyboard: new OpenLayers.Handler.Keyboard(this, {
                keydown: this.handleKeypress
            }),
            drag: new OpenLayers.Handler.Drag(this, {
                down: function (a) {
                    this.vertex = null;
                    (a = this.layer.getFeatureFromEvent(this.handlers.drag.evt)) ? this.dragStart(a): this.clickout && (this._unselect = this.feature)
                },
                move: function (a) {
                    delete this._unselect;
                    this.vertex && this.dragVertex(this.vertex, a)
                },
                up: function () {
                    this.handlers.drag.stopDown = !1;
                    this._unselect && (this.unselectFeature(this._unselect), delete this._unselect)
                },
                done: function (a) {
                    this.vertex &&
                        this.dragComplete(this.vertex)
                }
            }, c)
        }
    },
    destroy: function () {
        this.map && this.map.events.un({
            removelayer: this.handleMapEvents,
            changelayer: this.handleMapEvents,
            scope: this
        });
        this.layer = null;
        OpenLayers.Control.prototype.destroy.apply(this, [])
    },
    activate: function () {
        this.moveLayerToTop();
        this.map.events.on({
            removelayer: this.handleMapEvents,
            changelayer: this.handleMapEvents,
            scope: this
        });
        return this.handlers.keyboard.activate() && this.handlers.drag.activate() && OpenLayers.Control.prototype.activate.apply(this, arguments)
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Control.prototype.deactivate.apply(this, arguments) && (this.moveLayerBack(), this.map.events.un({
            removelayer: this.handleMapEvents,
            changelayer: this.handleMapEvents,
            scope: this
        }), this.layer.removeFeatures(this.vertices, {
            silent: !0
        }), this.layer.removeFeatures(this.virtualVertices, {
            silent: !0
        }), this.vertices = [], this.handlers.drag.deactivate(), this.handlers.keyboard.deactivate(), (a = this.feature) && (a.geometry && a.layer) && this.unselectFeature(a), a = !0);
        return a
    },
    beforeSelectFeature: function (a) {
        return this.layer.events.triggerEvent("beforefeaturemodified", {
            feature: a
        })
    },
    selectFeature: function (a) {
        if (!(this.feature === a || this.geometryTypes && -1 == OpenLayers.Util.indexOf(this.geometryTypes, a.geometry.CLASS_NAME))) {
            !1 !== this.beforeSelectFeature(a) && (this.feature && this.unselectFeature(this.feature), this.feature = a, this.layer.selectedFeatures.push(a), this.layer.drawFeature(a, "select"), this.modified = !1, this.resetVertices(), this.onModificationStart(this.feature));
            var b = a.modified;
            !a.geometry || b && b.geometry || (this._originalGeometry = a.geometry.clone())
        }
    },
    unselectFeature: function (a) {
        this.layer.removeFeatures(this.vertices, {
            silent: !0
        });
        this.vertices = [];
        this.layer.destroyFeatures(this.virtualVertices, {
            silent: !0
        });
        this.virtualVertices = [];
        this.dragHandle && (this.layer.destroyFeatures([this.dragHandle], {
            silent: !0
        }), delete this.dragHandle);
        this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
            silent: !0
        }), delete this.radiusHandle);
        this.layer.drawFeature(this.feature, "default");
        this.feature = null;
        OpenLayers.Util.removeItem(this.layer.selectedFeatures, a);
        this.onModificationEnd(a);
        this.layer.events.triggerEvent("afterfeaturemodified", {
            feature: a,
            modified: this.modified
        });
        this.modified = !1
    },
    dragStart: function (a) {
        var b = "OpenLayers.Geometry.Point" == a.geometry.CLASS_NAME;
        this.standalone || (a._sketch || !b) && a._sketch || (this.toggle && this.feature === a && (this._unselect = a), this.selectFeature(a));
        if (a._sketch || b) this.vertex = a, this.handlers.drag.stopDown = !0
    },
    dragVertex: function (a, b) {
        var c = this.map.getLonLatFromViewPortPx(b),
            d = a.geometry;
        d.move(c.lon - d.x, c.lat - d.y);
        this.modified = !0;
        "OpenLayers.Geometry.Point" == this.feature.geometry.CLASS_NAME ?
            this.layer.events.triggerEvent("vertexmodified", {
                vertex: a.geometry,
                feature: this.feature,
                pixel: b
            }) : (a._index ? (a.geometry.parent.addComponent(a.geometry, a._index), delete a._index, OpenLayers.Util.removeItem(this.virtualVertices, a), this.vertices.push(a)) : a == this.dragHandle ? (this.layer.removeFeatures(this.vertices, {
                silent: !0
            }), this.vertices = [], this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
                silent: !0
            }), this.radiusHandle = null)) : a !== this.radiusHandle && this.layer.events.triggerEvent("vertexmodified", {
                vertex: a.geometry,
                feature: this.feature,
                pixel: b
            }), 0 < this.virtualVertices.length && (this.layer.destroyFeatures(this.virtualVertices, {
                silent: !0
            }), this.virtualVertices = []), this.layer.drawFeature(this.feature, this.standalone ? void 0 : "select"));
        this.layer.drawFeature(a)
    },
    dragComplete: function (a) {
        this.resetVertices();
        this.setFeatureState();
        this.onModification(this.feature);
        this.layer.events.triggerEvent("featuremodified", {
            feature: this.feature
        })
    },
    setFeatureState: function () {
        if (this.feature.state != OpenLayers.State.INSERT &&
            this.feature.state != OpenLayers.State.DELETE && (this.feature.state = OpenLayers.State.UPDATE, this.modified && this._originalGeometry)) {
            var a = this.feature;
            a.modified = OpenLayers.Util.extend(a.modified, {
                geometry: this._originalGeometry
            });
            delete this._originalGeometry
        }
    },
    resetVertices: function () {
        0 < this.vertices.length && (this.layer.removeFeatures(this.vertices, {
            silent: !0
        }), this.vertices = []);
        0 < this.virtualVertices.length && (this.layer.removeFeatures(this.virtualVertices, {
            silent: !0
        }), this.virtualVertices = []);
        this.dragHandle &&
            (this.layer.destroyFeatures([this.dragHandle], {
                silent: !0
            }), this.dragHandle = null);
        this.radiusHandle && (this.layer.destroyFeatures([this.radiusHandle], {
            silent: !0
        }), this.radiusHandle = null);
        this.feature && "OpenLayers.Geometry.Point" != this.feature.geometry.CLASS_NAME && (this.mode & OpenLayers.Control.ModifyFeature.DRAG && this.collectDragHandle(), this.mode & (OpenLayers.Control.ModifyFeature.ROTATE | OpenLayers.Control.ModifyFeature.RESIZE) && this.collectRadiusHandle(), this.mode & OpenLayers.Control.ModifyFeature.RESHAPE &&
            (this.mode & OpenLayers.Control.ModifyFeature.RESIZE || this.collectVertices()))
    },
    handleKeypress: function (a) {
        var b = a.keyCode;
        this.feature && -1 != OpenLayers.Util.indexOf(this.deleteCodes, b) && (b = this.layer.getFeatureFromEvent(this.handlers.drag.evt)) && (-1 != OpenLayers.Util.indexOf(this.vertices, b) && !this.handlers.drag.dragging && b.geometry.parent) && (b.geometry.parent.removeComponent(b.geometry), this.layer.events.triggerEvent("vertexremoved", {
            vertex: b.geometry,
            feature: this.feature,
            pixel: a.xy
        }), this.layer.drawFeature(this.feature,
            this.standalone ? void 0 : "select"), this.modified = !0, this.resetVertices(), this.setFeatureState(), this.onModification(this.feature), this.layer.events.triggerEvent("featuremodified", {
            feature: this.feature
        }))
    },
    collectVertices: function () {
        function a(c) {
            var d, e, f;
            if ("OpenLayers.Geometry.Point" == c.CLASS_NAME) e = new OpenLayers.Feature.Vector(c), e._sketch = !0, e.renderIntent = b.vertexRenderIntent, b.vertices.push(e);
            else {
                f = c.components.length;
                "OpenLayers.Geometry.LinearRing" == c.CLASS_NAME && (f -= 1);
                for (d = 0; d < f; ++d) e =
                    c.components[d], "OpenLayers.Geometry.Point" == e.CLASS_NAME ? (e = new OpenLayers.Feature.Vector(e), e._sketch = !0, e.renderIntent = b.vertexRenderIntent, b.vertices.push(e)) : a(e);
                if (b.createVertices && "OpenLayers.Geometry.MultiPoint" != c.CLASS_NAME)
                    for (d = 0, f = c.components.length; d < f - 1; ++d) {
                        e = c.components[d];
                        var g = c.components[d + 1];
                        "OpenLayers.Geometry.Point" == e.CLASS_NAME && "OpenLayers.Geometry.Point" == g.CLASS_NAME && (e = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point((e.x + g.x) / 2, (e.y + g.y) / 2), null, b.virtualStyle),
                            e.geometry.parent = c, e._index = d + 1, e._sketch = !0, b.virtualVertices.push(e))
                    }
            }
        }
        this.vertices = [];
        this.virtualVertices = [];
        var b = this;
        a.call(this, this.feature.geometry);
        this.layer.addFeatures(this.virtualVertices, {
            silent: !0
        });
        this.layer.addFeatures(this.vertices, {
            silent: !0
        })
    },
    collectDragHandle: function () {
        var a = this.feature.geometry,
            b = a.getBounds().getCenterLonLat(),
            b = new OpenLayers.Geometry.Point(b.lon, b.lat),
            c = new OpenLayers.Feature.Vector(b);
        b.move = function (b, c) {
            OpenLayers.Geometry.Point.prototype.move.call(this,
                b, c);
            a.move(b, c)
        };
        c._sketch = !0;
        this.dragHandle = c;
        this.dragHandle.renderIntent = this.vertexRenderIntent;
        this.layer.addFeatures([this.dragHandle], {
            silent: !0
        })
    },
    collectRadiusHandle: function () {
        var a = this.feature.geometry,
            b = a.getBounds(),
            c = b.getCenterLonLat(),
            d = new OpenLayers.Geometry.Point(c.lon, c.lat),
            b = new OpenLayers.Geometry.Point(b.right, b.bottom),
            c = new OpenLayers.Feature.Vector(b),
            e = this.mode & OpenLayers.Control.ModifyFeature.RESIZE,
            f = this.mode & OpenLayers.Control.ModifyFeature.RESHAPE,
            g = this.mode &
            OpenLayers.Control.ModifyFeature.ROTATE;
        b.move = function (b, c) {
            OpenLayers.Geometry.Point.prototype.move.call(this, b, c);
            var l = this.x - d.x,
                m = this.y - d.y,
                n = l - b,
                p = m - c;
            if (g) {
                var q = Math.atan2(p, n),
                    q = Math.atan2(m, l) - q,
                    q = q * (180 / Math.PI);
                a.rotate(q, d)
            }
            if (e) {
                var r;
                f ? (m /= p, r = l / n / m) : (n = Math.sqrt(n * n + p * p), m = Math.sqrt(l * l + m * m) / n);
                a.resize(m, d, r)
            }
        };
        c._sketch = !0;
        this.radiusHandle = c;
        this.radiusHandle.renderIntent = this.vertexRenderIntent;
        this.layer.addFeatures([this.radiusHandle], {
            silent: !0
        })
    },
    setMap: function (a) {
        this.handlers.drag.setMap(a);
        OpenLayers.Control.prototype.setMap.apply(this, arguments)
    },
    handleMapEvents: function (a) {
        "removelayer" != a.type && "order" != a.property || this.moveLayerToTop()
    },
    moveLayerToTop: function () {
        var a = Math.max(this.map.Z_INDEX_BASE.Feature - 1, this.layer.getZIndex()) + 1;
        this.layer.setZIndex(a)
    },
    moveLayerBack: function () {
        var a = this.layer.getZIndex() - 1;
        a >= this.map.Z_INDEX_BASE.Feature ? this.layer.setZIndex(a) : this.map.setLayerZIndex(this.layer, this.map.getLayerIndex(this.layer))
    },
    CLASS_NAME: "OpenLayers.Control.ModifyFeature"
});
OpenLayers.Control.ModifyFeature.RESHAPE = 1;
OpenLayers.Control.ModifyFeature.RESIZE = 2;
OpenLayers.Control.ModifyFeature.ROTATE = 4;
OpenLayers.Control.ModifyFeature.DRAG = 8;
OpenLayers.Layer.Bing = OpenLayers.Class(OpenLayers.Layer.XYZ, {
    key: null,
    serverResolutions: [156543.03390625, 78271.516953125, 39135.7584765625, 19567.87923828125, 9783.939619140625, 4891.9698095703125, 2445.9849047851562, 1222.9924523925781, 611.4962261962891, 305.74811309814453, 152.87405654907226, 76.43702827453613, 38.218514137268066, 19.109257068634033, 9.554628534317017, 4.777314267158508, 2.388657133579254, 1.194328566789627, 0.5971642833948135, 0.29858214169740677, 0.14929107084870338, 0.07464553542435169],
    attributionTemplate: '<span class="olBingAttribution ${type}"><div><a target="_blank" href="https://www.bing.com/maps/"><img src="${logo}" /></a></div>${copyrights}<a style="white-space: nowrap" target="_blank" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a></span>',
    metadata: null,
    protocolRegex: /^https:/i,
    type: "Road",
    culture: "en-US",
    metadataParams: null,
    tileOptions: null,
    protocol: ~window.location.href.indexOf("http") ? "" : "https:",
    initialize: function (a) {
        a = OpenLayers.Util.applyDefaults({
            sphericalMercator: !0
        }, a);
        OpenLayers.Layer.XYZ.prototype.initialize.apply(this, [a.name || "Bing " + (a.type || this.type), null, a]);
        this.tileOptions = OpenLayers.Util.extend({
            crossOriginKeyword: "anonymous"
        }, this.options.tileOptions);
        this.loadMetadata()
    },
    loadMetadata: function () {
        this._callbackId =
            "_callback_" + this.id.replace(/\./g, "_");
        window[this._callbackId] = OpenLayers.Function.bind(OpenLayers.Layer.Bing.processMetadata, this);
        var a = OpenLayers.Util.applyDefaults({
                key: this.key,
                jsonp: this._callbackId,
                include: "ImageryProviders"
            }, this.metadataParams),
            a = this.protocol + "//dev.virtualearth.net/REST/v1/Imagery/Metadata/" + this.type + "?" + OpenLayers.Util.getParameterString(a),
            b = document.createElement("script");
        b.type = "text/javascript";
        b.src = a;
        b.id = this._callbackId;
        document.getElementsByTagName("head")[0].appendChild(b)
    },
    initLayer: function () {
        var a = this.metadata.resourceSets[0].resources[0],
            b = a.imageUrl.replace("{quadkey}", "${quadkey}"),
            b = b.replace("{culture}", this.culture),
            b = b.replace(this.protocolRegex, this.protocol);
        this.url = [];
        for (var c = 0; c < a.imageUrlSubdomains.length; ++c) this.url.push(b.replace("{subdomain}", a.imageUrlSubdomains[c]));
        this.addOptions({
                maxResolution: Math.min(this.serverResolutions[a.zoomMin], this.maxResolution || Number.POSITIVE_INFINITY),
                numZoomLevels: Math.min(a.zoomMax + 1 - a.zoomMin, this.numZoomLevels)
            },
            !0);
        this.isBaseLayer || this.redraw();
        this.updateAttribution()
    },
    getURL: function (a) {
        if (this.url) {
            var b = this.getXYZ(a);
            a = b.x;
            for (var c = b.y, b = b.z, d = [], e = b; 0 < e; --e) {
                var f = "0",
                    g = 1 << e - 1;
                0 != (a & g) && f++;
                0 != (c & g) && (f++, f++);
                d.push(f)
            }
            d = d.join("");
            a = this.selectUrl("" + a + c + b, this.url);
            return OpenLayers.String.format(a, {
                quadkey: d
            })
        }
    },
    updateAttribution: function () {
        var a = this.metadata;
        if (a.resourceSets && this.map && this.map.center) {
            var b = a.resourceSets[0].resources[0],
                c = this.map.getExtent().transform(this.map.getProjectionObject(),
                    new OpenLayers.Projection("EPSG:4326")),
                d = b.imageryProviders || [],
                e = OpenLayers.Util.indexOf(this.serverResolutions, this.getServerResolution()),
                b = "",
                f, g, h, k, l, m, n;
            g = 0;
            for (h = d.length; g < h; ++g)
                for (f = d[g], k = 0, l = f.coverageAreas.length; k < l; ++k) n = f.coverageAreas[k], m = OpenLayers.Bounds.fromArray(n.bbox, !0), c.intersectsBounds(m) && (e <= n.zoomMax && e >= n.zoomMin) && (b += f.attribution + " ");
            a = a.brandLogoUri.replace(this.protocolRegex, this.protocol);
            this.attribution = OpenLayers.String.format(this.attributionTemplate, {
                type: this.type.toLowerCase(),
                logo: a,
                copyrights: b
            });
            this.map && this.map.events.triggerEvent("changelayer", {
                layer: this,
                property: "attribution"
            })
        }
    },
    setMap: function () {
        OpenLayers.Layer.XYZ.prototype.setMap.apply(this, arguments);
        this.map.events.register("moveend", this, this.updateAttribution)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.Bing(this.options));
        return a = OpenLayers.Layer.XYZ.prototype.clone.apply(this, [a])
    },
    destroy: function () {
        this.map && this.map.events.unregister("moveend", this, this.updateAttribution);
        OpenLayers.Layer.XYZ.prototype.destroy.apply(this,
            arguments)
    },
    CLASS_NAME: "OpenLayers.Layer.Bing"
});
OpenLayers.Layer.Bing.processMetadata = function (a) {
    this.metadata = a;
    this.initLayer();
    a = document.getElementById(this._callbackId);
    a.parentNode.removeChild(a);
    window[this._callbackId] = void 0;
    delete this._callbackId
};
OpenLayers.StyleMap = OpenLayers.Class({
    styles: null,
    extendDefault: !0,
    initialize: function (a, b) {
        this.styles = {
            "default": new OpenLayers.Style(OpenLayers.Feature.Vector.style["default"]),
            select: new OpenLayers.Style(OpenLayers.Feature.Vector.style.select),
            temporary: new OpenLayers.Style(OpenLayers.Feature.Vector.style.temporary),
            "delete": new OpenLayers.Style(OpenLayers.Feature.Vector.style["delete"])
        };
        if (a instanceof OpenLayers.Style) this.styles["default"] = a, this.styles.select = a, this.styles.temporary = a, this.styles["delete"] =
            a;
        else if ("object" == typeof a)
            for (var c in a)
                if (a[c] instanceof OpenLayers.Style) this.styles[c] = a[c];
                else if ("object" == typeof a[c]) this.styles[c] = new OpenLayers.Style(a[c]);
        else {
            this.styles["default"] = new OpenLayers.Style(a);
            this.styles.select = new OpenLayers.Style(a);
            this.styles.temporary = new OpenLayers.Style(a);
            this.styles["delete"] = new OpenLayers.Style(a);
            break
        }
        OpenLayers.Util.extend(this, b)
    },
    destroy: function () {
        for (var a in this.styles) this.styles[a].destroy();
        this.styles = null
    },
    createSymbolizer: function (a,
        b) {
        a || (a = new OpenLayers.Feature.Vector);
        this.styles[b] || (b = "default");
        a.renderIntent = b;
        var c = {};
        this.extendDefault && "default" != b && (c = this.styles["default"].createSymbolizer(a));
        return OpenLayers.Util.extend(c, this.styles[b].createSymbolizer(a))
    },
    addUniqueValueRules: function (a, b, c, d) {
        var e = [],
            f;
        for (f in c) e.push(new OpenLayers.Rule({
            symbolizer: c[f],
            context: d,
            filter: new OpenLayers.Filter.Comparison({
                type: OpenLayers.Filter.Comparison.EQUAL_TO,
                property: b,
                value: f
            })
        }));
        this.styles[a].addRules(e)
    },
    CLASS_NAME: "OpenLayers.StyleMap"
});
OpenLayers.Layer.Vector = OpenLayers.Class(OpenLayers.Layer, {
    isBaseLayer: !1,
    isFixed: !1,
    features: null,
    filter: null,
    selectedFeatures: null,
    unrenderedFeatures: null,
    reportError: !0,
    style: null,
    styleMap: null,
    strategies: null,
    protocol: null,
    renderers: ["SVG", "VML", "Canvas"],
    renderer: null,
    rendererOptions: null,
    geometryType: null,
    drawn: !1,
    ratio: 1,
    initialize: function (a, b) {
        OpenLayers.Layer.prototype.initialize.apply(this, arguments);
        this.renderer && this.renderer.supported() || this.assignRenderer();
        this.renderer && this.renderer.supported() ||
            (this.renderer = null, this.displayError());
        this.styleMap || (this.styleMap = new OpenLayers.StyleMap);
        this.features = [];
        this.selectedFeatures = [];
        this.unrenderedFeatures = {};
        if (this.strategies)
            for (var c = 0, d = this.strategies.length; c < d; c++) this.strategies[c].setLayer(this)
    },
    destroy: function () {
        if (this.strategies) {
            var a, b, c;
            b = 0;
            for (c = this.strategies.length; b < c; b++) a = this.strategies[b], a.autoDestroy && a.destroy();
            this.strategies = null
        }
        this.protocol && (this.protocol.autoDestroy && this.protocol.destroy(), this.protocol =
            null);
        this.destroyFeatures();
        this.unrenderedFeatures = this.selectedFeatures = this.features = null;
        this.renderer && this.renderer.destroy();
        this.drawn = this.geometryType = this.renderer = null;
        OpenLayers.Layer.prototype.destroy.apply(this, arguments)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.Vector(this.name, this.getOptions()));
        a = OpenLayers.Layer.prototype.clone.apply(this, [a]);
        for (var b = this.features, c = b.length, d = Array(c), e = 0; e < c; ++e) d[e] = b[e].clone();
        a.features = d;
        return a
    },
    refresh: function (a) {
        this.calculateInRange() &&
            this.visibility && this.events.triggerEvent("refresh", a)
    },
    assignRenderer: function () {
        for (var a = 0, b = this.renderers.length; a < b; a++) {
            var c = this.renderers[a];
            if ((c = "function" == typeof c ? c : OpenLayers.Renderer[c]) && c.prototype.supported()) {
                this.renderer = new c(this.div, this.rendererOptions);
                break
            }
        }
    },
    displayError: function () {
        this.reportError && OpenLayers.Console.userError(OpenLayers.i18n("browserNotSupported", {
            renderers: this.renderers.join("\n")
        }))
    },
    setMap: function (a) {
        OpenLayers.Layer.prototype.setMap.apply(this,
            arguments);
        if (this.renderer) {
            this.renderer.map = this.map;
            var b = this.map.getSize();
            b.w *= this.ratio;
            b.h *= this.ratio;
            this.renderer.setSize(b)
        } else this.map.removeLayer(this)
    },
    afterAdd: function () {
        if (this.strategies) {
            var a, b, c;
            b = 0;
            for (c = this.strategies.length; b < c; b++) a = this.strategies[b], a.autoActivate && a.activate()
        }
    },
    removeMap: function (a) {
        this.drawn = !1;
        if (this.strategies) {
            var b, c;
            b = 0;
            for (c = this.strategies.length; b < c; b++) a = this.strategies[b], a.autoActivate && a.deactivate()
        }
    },
    onMapResize: function () {
        OpenLayers.Layer.prototype.onMapResize.apply(this,
            arguments);
        var a = this.map.getSize();
        a.w *= this.ratio;
        a.h *= this.ratio;
        this.renderer.setSize(a)
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.prototype.moveTo.apply(this, arguments);
        var d = !0;
        if (!c) {
            this.renderer.root.style.visibility = "hidden";
            var d = this.map.getSize(),
                e = d.w,
                d = d.h,
                e = e / 2 * this.ratio - e / 2,
                d = d / 2 * this.ratio - d / 2,
                e = e + this.map.layerContainerOriginPx.x,
                e = -Math.round(e),
                d = d + this.map.layerContainerOriginPx.y,
                d = -Math.round(d);
            this.div.style.left = e + "px";
            this.div.style.top = d + "px";
            e = this.map.getExtent().scale(this.ratio);
            d = this.renderer.setExtent(e, b);
            this.renderer.root.style.visibility = "visible";
            !0 === OpenLayers.IS_GECKO && (this.div.scrollLeft = this.div.scrollLeft);
            if (!b && d)
                for (var f in this.unrenderedFeatures) e = this.unrenderedFeatures[f], this.drawFeature(e)
        }
        if (!this.drawn || b || !d)
            for (this.drawn = !0, f = 0, d = this.features.length; f < d; f++) this.renderer.locked = f !== d - 1, e = this.features[f], this.drawFeature(e)
    },
    display: function (a) {
        OpenLayers.Layer.prototype.display.apply(this, arguments);
        var b = this.div.style.display;
        b != this.renderer.root.style.display &&
            (this.renderer.root.style.display = b)
    },
    addFeatures: function (a, b) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        var c = !b || !b.silent;
        if (c) {
            var d = {
                features: a
            };
            if (!1 === this.events.triggerEvent("beforefeaturesadded", d)) return;
            a = d.features
        }
        for (var d = [], e = 0, f = a.length; e < f; e++) {
            this.renderer.locked = e != a.length - 1 ? !0 : !1;
            var g = a[e];
            if (this.geometryType && !(g.geometry instanceof this.geometryType)) throw new TypeError("addFeatures: component should be an " + this.geometryType.prototype.CLASS_NAME);
            g.layer = this;
            !g.style && this.style &&
                (g.style = OpenLayers.Util.extend({}, this.style));
            if (c) {
                if (!1 === this.events.triggerEvent("beforefeatureadded", {
                        feature: g
                    })) continue;
                this.preFeatureInsert(g)
            }
            d.push(g);
            this.features.push(g);
            this.drawFeature(g);
            c && (this.events.triggerEvent("featureadded", {
                feature: g
            }), this.onFeatureInsert(g))
        }
        c && this.events.triggerEvent("featuresadded", {
            features: d
        })
    },
    removeFeatures: function (a, b) {
        if (a && 0 !== a.length) {
            if (a === this.features) return this.removeAllFeatures(b);
            OpenLayers.Util.isArray(a) || (a = [a]);
            a === this.selectedFeatures &&
                (a = a.slice());
            var c = !b || !b.silent;
            c && this.events.triggerEvent("beforefeaturesremoved", {
                features: a
            });
            for (var d = a.length - 1; 0 <= d; d--) {
                this.renderer.locked = 0 != d && a[d - 1].geometry ? !0 : !1;
                var e = a[d];
                delete this.unrenderedFeatures[e.id];
                c && this.events.triggerEvent("beforefeatureremoved", {
                    feature: e
                });
                this.features = OpenLayers.Util.removeItem(this.features, e);
                e.layer = null;
                e.geometry && this.renderer.eraseFeatures(e); - 1 != OpenLayers.Util.indexOf(this.selectedFeatures, e) && OpenLayers.Util.removeItem(this.selectedFeatures,
                    e);
                c && this.events.triggerEvent("featureremoved", {
                    feature: e
                })
            }
            c && this.events.triggerEvent("featuresremoved", {
                features: a
            })
        }
    },
    removeAllFeatures: function (a) {
        a = !a || !a.silent;
        var b = this.features;
        a && this.events.triggerEvent("beforefeaturesremoved", {
            features: b
        });
        for (var c, d = b.length - 1; 0 <= d; d--) c = b[d], a && this.events.triggerEvent("beforefeatureremoved", {
            feature: c
        }), c.layer = null, a && this.events.triggerEvent("featureremoved", {
            feature: c
        });
        this.renderer.clear();
        this.features = [];
        this.unrenderedFeatures = {};
        this.selectedFeatures = [];
        a && this.events.triggerEvent("featuresremoved", {
            features: b
        })
    },
    destroyFeatures: function (a, b) {
        void 0 == a && (a = this.features);
        if (a) {
            this.removeFeatures(a, b);
            for (var c = a.length - 1; 0 <= c; c--) a[c].destroy()
        }
    },
    drawFeature: function (a, b) {
        if (this.drawn) {
            if ("object" != typeof b) {
                b || a.state !== OpenLayers.State.DELETE || (b = "delete");
                var c = b || a.renderIntent;
                (b = a.style || this.style) || (b = this.styleMap.createSymbolizer(a, c))
            }
            c = this.renderer.drawFeature(a, b);
            !1 === c || null === c ? this.unrenderedFeatures[a.id] = a : delete this.unrenderedFeatures[a.id]
        }
    },
    eraseFeatures: function (a) {
        this.renderer.eraseFeatures(a)
    },
    getFeatureFromEvent: function (a) {
        if (!this.renderer) throw Error("getFeatureFromEvent called on layer with no renderer. This usually means you destroyed a layer, but not some handler which is associated with it.");
        var b = null;
        (a = this.renderer.getFeatureIdFromEvent(a)) && (b = "string" === typeof a ? this.getFeatureById(a) : a);
        return b
    },
    getFeatureBy: function (a, b) {
        for (var c = null, d = 0, e = this.features.length; d < e; ++d)
            if (this.features[d][a] == b) {
                c = this.features[d];
                break
            } return c
    },
    getFeatureById: function (a) {
        return this.getFeatureBy("id", a)
    },
    getFeatureByFid: function (a) {
        return this.getFeatureBy("fid", a)
    },
    getFeaturesByAttribute: function (a, b) {
        var c, d, e = this.features.length,
            f = [];
        for (c = 0; c < e; c++)(d = this.features[c]) && d.attributes && d.attributes[a] === b && f.push(d);
        return f
    },
    onFeatureInsert: function (a) {},
    preFeatureInsert: function (a) {},
    getDataExtent: function () {
        var a = null,
            b = this.features;
        if (b && 0 < b.length)
            for (var c = null, d = 0, e = b.length; d < e; d++)
                if (c = b[d].geometry) null === a &&
                    (a = new OpenLayers.Bounds), a.extend(c.getBounds());
        return a
    },
    CLASS_NAME: "OpenLayers.Layer.Vector"
});
OpenLayers.Layer.PointGrid = OpenLayers.Class(OpenLayers.Layer.Vector, {
    dx: null,
    dy: null,
    ratio: 1.5,
    maxFeatures: 250,
    rotation: 0,
    origin: null,
    gridBounds: null,
    initialize: function (a) {
        a = a || {};
        OpenLayers.Layer.Vector.prototype.initialize.apply(this, [a.name, a])
    },
    setMap: function (a) {
        OpenLayers.Layer.Vector.prototype.setMap.apply(this, arguments);
        a.events.register("moveend", this, this.onMoveEnd)
    },
    removeMap: function (a) {
        a.events.unregister("moveend", this, this.onMoveEnd);
        OpenLayers.Layer.Vector.prototype.removeMap.apply(this,
            arguments)
    },
    setRatio: function (a) {
        this.ratio = a;
        this.updateGrid(!0)
    },
    setMaxFeatures: function (a) {
        this.maxFeatures = a;
        this.updateGrid(!0)
    },
    setSpacing: function (a, b) {
        this.dx = a;
        this.dy = b || a;
        this.updateGrid(!0)
    },
    setOrigin: function (a) {
        this.origin = a;
        this.updateGrid(!0)
    },
    getOrigin: function () {
        this.origin || (this.origin = this.map.getExtent().getCenterLonLat());
        return this.origin
    },
    setRotation: function (a) {
        this.rotation = a;
        this.updateGrid(!0)
    },
    onMoveEnd: function () {
        this.updateGrid()
    },
    getViewBounds: function () {
        var a = this.map.getExtent();
        if (this.rotation) {
            var b = this.getOrigin(),
                b = new OpenLayers.Geometry.Point(b.lon, b.lat),
                a = a.toGeometry();
            a.rotate(-this.rotation, b);
            a = a.getBounds()
        }
        return a
    },
    updateGrid: function (a) {
        if (a || this.invalidBounds()) {
            var b = this.getViewBounds(),
                c = this.getOrigin();
            a = new OpenLayers.Geometry.Point(c.lon, c.lat);
            var d = b.getWidth(),
                e = b.getHeight(),
                f = d / e,
                g = Math.sqrt(this.dx * this.dy * this.maxFeatures / f),
                d = Math.min(d * this.ratio, g * f),
                e = Math.min(e * this.ratio, g),
                b = b.getCenterLonLat();
            this.gridBounds = new OpenLayers.Bounds(b.lon -
                d / 2, b.lat - e / 2, b.lon + d / 2, b.lat + e / 2);
            for (var b = Math.floor(e / this.dy), d = Math.floor(d / this.dx), e = c.lon + this.dx * Math.ceil((this.gridBounds.left - c.lon) / this.dx), c = c.lat + this.dy * Math.ceil((this.gridBounds.bottom - c.lat) / this.dy), g = Array(b * d), h, k = 0; k < d; ++k)
                for (var f = e + k * this.dx, l = 0; l < b; ++l) h = c + l * this.dy, h = new OpenLayers.Geometry.Point(f, h), this.rotation && h.rotate(this.rotation, a), g[k * b + l] = new OpenLayers.Feature.Vector(h);
            this.destroyFeatures(this.features, {
                silent: !0
            });
            this.addFeatures(g, {
                silent: !0
            })
        }
    },
    invalidBounds: function () {
        return !this.gridBounds ||
            !this.gridBounds.containsBounds(this.getViewBounds())
    },
    CLASS_NAME: "OpenLayers.Layer.PointGrid"
});
OpenLayers.Handler.MouseWheel = OpenLayers.Class(OpenLayers.Handler, {
    wheelListener: null,
    interval: 0,
    maxDelta: Number.POSITIVE_INFINITY,
    delta: 0,
    cumulative: !0,
    initialize: function (a, b, c) {
        OpenLayers.Handler.prototype.initialize.apply(this, arguments);
        this.wheelListener = OpenLayers.Function.bindAsEventListener(this.onWheelEvent, this)
    },
    destroy: function () {
        OpenLayers.Handler.prototype.destroy.apply(this, arguments);
        this.wheelListener = null
    },
    onWheelEvent: function (a) {
        if (this.map && this.checkModifiers(a)) {
            for (var b = !1, c = !1, d = !1, e = OpenLayers.Event.element(a); null != e && !d && !b;) {
                if (!b) try {
                    var f, b = (f = e.currentStyle ? e.currentStyle.overflow : document.defaultView.getComputedStyle(e, null).getPropertyValue("overflow")) && "auto" == f || "scroll" == f
                } catch (g) {}
                if (!c && (c = OpenLayers.Element.hasClass(e, "olScrollable"), !c))
                    for (var d = 0, h = this.map.layers.length; d < h; d++) {
                        var k = this.map.layers[d];
                        if (e == k.div || e == k.pane) {
                            c = !0;
                            break
                        }
                    }
                d = e == this.map.div;
                e = e.parentNode
            }
            if (!b && d) {
                if (c)
                    if (b = 0, a.wheelDelta ? (b = a.wheelDelta, 0 === b % 160 && (b *= 0.75),
                            b /= 120) : a.detail && (b = -(a.detail / Math.abs(a.detail))), this.delta += b, window.clearTimeout(this._timeoutId), this.interval && Math.abs(this.delta) < this.maxDelta) {
                        var l = OpenLayers.Util.extend({}, a);
                        this._timeoutId = window.setTimeout(OpenLayers.Function.bind(function () {
                            this.wheelZoom(l)
                        }, this), this.interval)
                    } else this.wheelZoom(a);
                OpenLayers.Event.stop(a)
            }
        }
    },
    wheelZoom: function (a) {
        var b = this.delta;
        this.delta = 0;
        b && (a.xy = this.map.events.getMousePosition(a), 0 > b ? this.callback("down", [a, this.cumulative ? Math.max(-this.maxDelta,
            b) : -1]) : this.callback("up", [a, this.cumulative ? Math.min(this.maxDelta, b) : 1]))
    },
    activate: function (a) {
        if (OpenLayers.Handler.prototype.activate.apply(this, arguments)) {
            var b = this.wheelListener;
            OpenLayers.Event.observe(window, "DOMMouseScroll", b);
            OpenLayers.Event.observe(window, "mousewheel", b);
            OpenLayers.Event.observe(document, "mousewheel", b);
            return !0
        }
        return !1
    },
    deactivate: function (a) {
        if (OpenLayers.Handler.prototype.deactivate.apply(this, arguments)) {
            var b = this.wheelListener;
            OpenLayers.Event.stopObserving(window,
                "DOMMouseScroll", b);
            OpenLayers.Event.stopObserving(window, "mousewheel", b);
            OpenLayers.Event.stopObserving(document, "mousewheel", b);
            return !0
        }
        return !1
    },
    CLASS_NAME: "OpenLayers.Handler.MouseWheel"
});
OpenLayers.Symbolizer = OpenLayers.Class({
    zIndex: 0,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a)
    },
    clone: function () {
        return new(eval(this.CLASS_NAME))(OpenLayers.Util.extend({}, this))
    },
    CLASS_NAME: "OpenLayers.Symbolizer"
});
OpenLayers.Symbolizer.Raster = OpenLayers.Class(OpenLayers.Symbolizer, {
    initialize: function (a) {
        OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Symbolizer.Raster"
});
OpenLayers.Rule = OpenLayers.Class({
    id: null,
    name: null,
    title: null,
    description: null,
    context: null,
    filter: null,
    elseFilter: !1,
    symbolizer: null,
    symbolizers: null,
    minScaleDenominator: null,
    maxScaleDenominator: null,
    initialize: function (a) {
        this.symbolizer = {};
        OpenLayers.Util.extend(this, a);
        this.symbolizers && delete this.symbolizer;
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    destroy: function () {
        for (var a in this.symbolizer) this.symbolizer[a] = null;
        this.symbolizer = null;
        delete this.symbolizers
    },
    evaluate: function (a) {
        var b =
            this.getContext(a),
            c = !0;
        if (this.minScaleDenominator || this.maxScaleDenominator) var d = a.layer.map.getScale();
        this.minScaleDenominator && (c = d >= OpenLayers.Style.createLiteral(this.minScaleDenominator, b));
        c && this.maxScaleDenominator && (c = d < OpenLayers.Style.createLiteral(this.maxScaleDenominator, b));
        c && this.filter && (c = "OpenLayers.Filter.FeatureId" == this.filter.CLASS_NAME ? this.filter.evaluate(a) : this.filter.evaluate(b));
        return c
    },
    getContext: function (a) {
        var b = this.context;
        b || (b = a.attributes || a.data);
        "function" ==
        typeof this.context && (b = this.context(a));
        return b
    },
    clone: function () {
        var a = OpenLayers.Util.extend({}, this);
        if (this.symbolizers) {
            var b = this.symbolizers.length;
            a.symbolizers = Array(b);
            for (var c = 0; c < b; ++c) a.symbolizers[c] = this.symbolizers[c].clone()
        } else {
            a.symbolizer = {};
            for (var d in this.symbolizer) b = this.symbolizer[d], c = typeof b, "object" === c ? a.symbolizer[d] = OpenLayers.Util.extend({}, b) : "string" === c && (a.symbolizer[d] = b)
        }
        a.filter = this.filter && this.filter.clone();
        a.context = this.context && OpenLayers.Util.extend({},
            this.context);
        return new OpenLayers.Rule(a)
    },
    CLASS_NAME: "OpenLayers.Rule"
});
OpenLayers.Format.SLD = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    profile: null,
    defaultVersion: "1.0.0",
    stringifyOutput: !0,
    namedLayersAsArray: !1,
    CLASS_NAME: "OpenLayers.Format.SLD"
});
OpenLayers.Symbolizer.Polygon = OpenLayers.Class(OpenLayers.Symbolizer, {
    initialize: function (a) {
        OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Symbolizer.Polygon"
});
OpenLayers.Format.GML.v2 = OpenLayers.Class(OpenLayers.Format.GML.Base, {
    schemaLocation: "https://www.opengis.net/gml https://schemas.opengis.net/gml/2.1.2/feature.xsd",
    initialize: function (a) {
        OpenLayers.Format.GML.Base.prototype.initialize.apply(this, [a])
    },
    readers: {
        gml: OpenLayers.Util.applyDefaults({
            outerBoundaryIs: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.outer = c.components[0]
            },
            innerBoundaryIs: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.inner.push(c.components[0])
            },
            Box: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.components || (b.components = []);
                var d = c.points[0],
                    c = c.points[1];
                b.components.push(new OpenLayers.Bounds(d.x, d.y, c.x, c.y))
            }
        }, OpenLayers.Format.GML.Base.prototype.readers.gml),
        feature: OpenLayers.Format.GML.Base.prototype.readers.feature,
        wfs: OpenLayers.Format.GML.Base.prototype.readers.wfs
    },
    write: function (a) {
        var b;
        b = OpenLayers.Util.isArray(a) ? "wfs:FeatureCollection" : "gml:featureMember";
        a = this.writeNode(b, a);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    writers: {
        gml: OpenLayers.Util.applyDefaults({
            Point: function (a) {
                var b = this.createElementNSPlus("gml:Point");
                this.writeNode("coordinates", [a], b);
                return b
            },
            coordinates: function (a) {
                for (var b = a.length, c = Array(b), d, e = 0; e < b; ++e) d = a[e], c[e] = this.xy ? d.x + "," + d.y : d.y + "," + d.x, void 0 != d.z && (c[e] += "," + d.z);
                return this.createElementNSPlus("gml:coordinates", {
                    attributes: {
                        decimal: ".",
                        cs: ",",
                        ts: " "
                    },
                    value: 1 == b ? c[0] : c.join(" ")
                })
            },
            LineString: function (a) {
                var b =
                    this.createElementNSPlus("gml:LineString");
                this.writeNode("coordinates", a.components, b);
                return b
            },
            Polygon: function (a) {
                var b = this.createElementNSPlus("gml:Polygon");
                this.writeNode("outerBoundaryIs", a.components[0], b);
                for (var c = 1; c < a.components.length; ++c) this.writeNode("innerBoundaryIs", a.components[c], b);
                return b
            },
            outerBoundaryIs: function (a) {
                var b = this.createElementNSPlus("gml:outerBoundaryIs");
                this.writeNode("LinearRing", a, b);
                return b
            },
            innerBoundaryIs: function (a) {
                var b = this.createElementNSPlus("gml:innerBoundaryIs");
                this.writeNode("LinearRing", a, b);
                return b
            },
            LinearRing: function (a) {
                var b = this.createElementNSPlus("gml:LinearRing");
                this.writeNode("coordinates", a.components, b);
                return b
            },
            Box: function (a) {
                var b = this.createElementNSPlus("gml:Box");
                this.writeNode("coordinates", [{
                    x: a.left,
                    y: a.bottom
                }, {
                    x: a.right,
                    y: a.top
                }], b);
                this.srsName && b.setAttribute("srsName", this.srsName);
                return b
            }
        }, OpenLayers.Format.GML.Base.prototype.writers.gml),
        feature: OpenLayers.Format.GML.Base.prototype.writers.feature,
        wfs: OpenLayers.Format.GML.Base.prototype.writers.wfs
    },
    CLASS_NAME: "OpenLayers.Format.GML.v2"
});
OpenLayers.Format.Filter.v1_0_0 = OpenLayers.Class(OpenLayers.Format.GML.v2, OpenLayers.Format.Filter.v1, {
    VERSION: "1.0.0",
    schemaLocation: "https://www.opengis.net/ogc/filter/1.0.0/filter.xsd",
    initialize: function (a) {
        OpenLayers.Format.GML.v2.prototype.initialize.apply(this, [a])
    },
    readers: {
        ogc: OpenLayers.Util.applyDefaults({
            PropertyIsEqualTo: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.EQUAL_TO
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsNotEqualTo: function (a,
                b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.NOT_EQUAL_TO
                });
                this.readChildNodes(a, c);
                b.filters.push(c)
            },
            PropertyIsLike: function (a, b) {
                var c = new OpenLayers.Filter.Comparison({
                    type: OpenLayers.Filter.Comparison.LIKE
                });
                this.readChildNodes(a, c);
                var d = a.getAttribute("wildCard"),
                    e = a.getAttribute("singleChar"),
                    f = a.getAttribute("escape");
                c.value2regex(d, e, f);
                b.filters.push(c)
            }
        }, OpenLayers.Format.Filter.v1.prototype.readers.ogc),
        gml: OpenLayers.Format.GML.v2.prototype.readers.gml,
        feature: OpenLayers.Format.GML.v2.prototype.readers.feature
    },
    writers: {
        ogc: OpenLayers.Util.applyDefaults({
            PropertyIsEqualTo: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsEqualTo");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsNotEqualTo: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsNotEqualTo");
                this.writeNode("PropertyName", a, b);
                this.writeOgcExpression(a.value, b);
                return b
            },
            PropertyIsLike: function (a) {
                var b = this.createElementNSPlus("ogc:PropertyIsLike", {
                    attributes: {
                        wildCard: "*",
                        singleChar: ".",
                        escape: "!"
                    }
                });
                this.writeNode("PropertyName", a, b);
                this.writeNode("Literal", a.regex2value(), b);
                return b
            },
            BBOX: function (a) {
                var b = this.createElementNSPlus("ogc:BBOX");
                a.property && this.writeNode("PropertyName", a, b);
                var c = this.writeNode("gml:Box", a.value, b);
                a.projection && c.setAttribute("srsName", a.projection);
                return b
            }
        }, OpenLayers.Format.Filter.v1.prototype.writers.ogc),
        gml: OpenLayers.Format.GML.v2.prototype.writers.gml,
        feature: OpenLayers.Format.GML.v2.prototype.writers.feature
    },
    writeSpatial: function (a, b) {
        var c = this.createElementNSPlus("ogc:" + b);
        this.writeNode("PropertyName", a, c);
        if (a.value instanceof OpenLayers.Filter.Function) this.writeNode("Function", a.value, c);
        else {
            var d;
            d = a.value instanceof OpenLayers.Geometry ? this.writeNode("feature:_geometry", a.value).firstChild : this.writeNode("gml:Box", a.value);
            a.projection && d.setAttribute("srsName", a.projection);
            c.appendChild(d)
        }
        return c
    },
    CLASS_NAME: "OpenLayers.Format.Filter.v1_0_0"
});
OpenLayers.Format.WFST.v1_0_0 = OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0, OpenLayers.Format.WFST.v1, {
    version: "1.0.0",
    srsNameInQuery: !1,
    schemaLocations: {
        wfs: "https://schemas.opengis.net/wfs/1.0.0/WFS-transaction.xsd"
    },
    initialize: function (a) {
        OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this, [a]);
        OpenLayers.Format.WFST.v1.prototype.initialize.apply(this, [a])
    },
    readNode: function (a, b, c) {
        return OpenLayers.Format.GML.v2.prototype.readNode.apply(this, arguments)
    },
    readers: {
        wfs: OpenLayers.Util.applyDefaults({
            WFS_TransactionResponse: function (a,
                b) {
                b.insertIds = [];
                b.success = !1;
                this.readChildNodes(a, b)
            },
            InsertResult: function (a, b) {
                var c = {
                    fids: []
                };
                this.readChildNodes(a, c);
                b.insertIds = b.insertIds.concat(c.fids)
            },
            TransactionResult: function (a, b) {
                this.readChildNodes(a, b)
            },
            Status: function (a, b) {
                this.readChildNodes(a, b)
            },
            SUCCESS: function (a, b) {
                b.success = !0
            }
        }, OpenLayers.Format.WFST.v1.prototype.readers.wfs),
        gml: OpenLayers.Format.GML.v2.prototype.readers.gml,
        feature: OpenLayers.Format.GML.v2.prototype.readers.feature,
        ogc: OpenLayers.Format.Filter.v1_0_0.prototype.readers.ogc
    },
    writers: {
        wfs: OpenLayers.Util.applyDefaults({
            Query: function (a) {
                a = OpenLayers.Util.extend({
                    featureNS: this.featureNS,
                    featurePrefix: this.featurePrefix,
                    featureType: this.featureType,
                    srsName: this.srsName,
                    srsNameInQuery: this.srsNameInQuery
                }, a);
                var b = a.featurePrefix,
                    c = this.createElementNSPlus("wfs:Query", {
                        attributes: {
                            typeName: (b ? b + ":" : "") + a.featureType
                        }
                    });
                a.srsNameInQuery && a.srsName && c.setAttribute("srsName", a.srsName);
                a.featureNS && c.setAttribute("xmlns:" + b, a.featureNS);
                if (a.propertyNames)
                    for (var b = 0, d = a.propertyNames.length; b <
                        d; b++) this.writeNode("ogc:PropertyName", {
                        property: a.propertyNames[b]
                    }, c);
                a.filter && (this.setFilterProperty(a.filter), this.writeNode("ogc:Filter", a.filter, c));
                return c
            }
        }, OpenLayers.Format.WFST.v1.prototype.writers.wfs),
        gml: OpenLayers.Format.GML.v2.prototype.writers.gml,
        feature: OpenLayers.Format.GML.v2.prototype.writers.feature,
        ogc: OpenLayers.Format.Filter.v1_0_0.prototype.writers.ogc
    },
    CLASS_NAME: "OpenLayers.Format.WFST.v1_0_0"
});
OpenLayers.ElementsIndexer = OpenLayers.Class({
    maxZIndex: null,
    order: null,
    indices: null,
    compare: null,
    initialize: function (a) {
        this.compare = a ? OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_Y_ORDER : OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_DRAWING_ORDER;
        this.clear()
    },
    insert: function (a) {
        this.exists(a) && this.remove(a);
        var b = a.id;
        this.determineZIndex(a);
        for (var c = -1, d = this.order.length, e; 1 < d - c;) e = parseInt((c + d) / 2), 0 < this.compare(this, a, OpenLayers.Util.getElement(this.order[e])) ? c = e : d = e;
        this.order.splice(d,
            0, b);
        this.indices[b] = this.getZIndex(a);
        return this.getNextElement(d)
    },
    remove: function (a) {
        a = a.id;
        var b = OpenLayers.Util.indexOf(this.order, a);
        0 <= b && (this.order.splice(b, 1), delete this.indices[a], this.maxZIndex = 0 < this.order.length ? this.indices[this.order[this.order.length - 1]] : 0)
    },
    clear: function () {
        this.order = [];
        this.indices = {};
        this.maxZIndex = 0
    },
    exists: function (a) {
        return null != this.indices[a.id]
    },
    getZIndex: function (a) {
        return a._style.graphicZIndex
    },
    determineZIndex: function (a) {
        var b = a._style.graphicZIndex;
        null == b ? (b = this.maxZIndex, a._style.graphicZIndex = b) : b > this.maxZIndex && (this.maxZIndex = b)
    },
    getNextElement: function (a) {
        a += 1;
        if (a < this.order.length) {
            var b = OpenLayers.Util.getElement(this.order[a]);
            void 0 == b && (b = this.getNextElement(a));
            return b
        }
        return null
    },
    CLASS_NAME: "OpenLayers.ElementsIndexer"
});
OpenLayers.ElementsIndexer.IndexingMethods = {
    Z_ORDER: function (a, b, c) {
        b = a.getZIndex(b);
        var d = 0;
        c && (a = a.getZIndex(c), d = b - a);
        return d
    },
    Z_ORDER_DRAWING_ORDER: function (a, b, c) {
        a = OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(a, b, c);
        c && 0 == a && (a = 1);
        return a
    },
    Z_ORDER_Y_ORDER: function (a, b, c) {
        a = OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(a, b, c);
        c && 0 === a && (b = c._boundsBottom - b._boundsBottom, a = 0 === b ? 1 : b);
        return a
    }
};
OpenLayers.Renderer.Elements = OpenLayers.Class(OpenLayers.Renderer, {
    rendererRoot: null,
    root: null,
    vectorRoot: null,
    textRoot: null,
    xmlns: null,
    xOffset: 0,
    indexer: null,
    BACKGROUND_ID_SUFFIX: "_background",
    LABEL_ID_SUFFIX: "_label",
    LABEL_OUTLINE_SUFFIX: "_outline",
    initialize: function (a, b) {
        OpenLayers.Renderer.prototype.initialize.apply(this, arguments);
        this.rendererRoot = this.createRenderRoot();
        this.root = this.createRoot("_root");
        this.vectorRoot = this.createRoot("_vroot");
        this.textRoot = this.createRoot("_troot");
        this.root.appendChild(this.vectorRoot);
        this.root.appendChild(this.textRoot);
        this.rendererRoot.appendChild(this.root);
        this.container.appendChild(this.rendererRoot);
        b && (b.zIndexing || b.yOrdering) && (this.indexer = new OpenLayers.ElementsIndexer(b.yOrdering))
    },
    destroy: function () {
        this.clear();
        this.xmlns = this.root = this.rendererRoot = null;
        OpenLayers.Renderer.prototype.destroy.apply(this, arguments)
    },
    clear: function () {
        var a, b = this.vectorRoot;
        if (b)
            for (; a = b.firstChild;) b.removeChild(a);
        if (b = this.textRoot)
            for (; a = b.firstChild;) b.removeChild(a);
        this.indexer &&
            this.indexer.clear()
    },
    setExtent: function (a, b) {
        var c = OpenLayers.Renderer.prototype.setExtent.apply(this, arguments),
            d = this.getResolution();
        if (this.map.baseLayer && this.map.baseLayer.wrapDateLine) {
            var e, f = a.getWidth() / this.map.getExtent().getWidth();
            a = a.scale(1 / f);
            f = this.map.getMaxExtent();
            f.right > a.left && f.right < a.right ? e = !0 : f.left > a.left && f.left < a.right && (e = !1);
            if (e !== this.rightOfDateLine || b) c = !1, this.xOffset = !0 === e ? f.getWidth() / d : 0;
            this.rightOfDateLine = e
        }
        return c
    },
    getNodeType: function (a, b) {},
    drawGeometry: function (a,
        b, c) {
        var d = a.CLASS_NAME,
            e = !0;
        if ("OpenLayers.Geometry.Collection" == d || "OpenLayers.Geometry.MultiPoint" == d || "OpenLayers.Geometry.MultiLineString" == d || "OpenLayers.Geometry.MultiPolygon" == d) {
            for (var d = 0, f = a.components.length; d < f; d++) e = this.drawGeometry(a.components[d], b, c) && e;
            return e
        }
        d = e = !1;
        "none" != b.display && (b.backgroundGraphic ? this.redrawBackgroundNode(a.id, a, b, c) : d = !0, e = this.redrawNode(a.id, a, b, c));
        !1 == e && (b = document.getElementById(a.id)) && (b._style.backgroundGraphic && (d = !0), b.parentNode.removeChild(b));
        d && (b = document.getElementById(a.id + this.BACKGROUND_ID_SUFFIX)) && b.parentNode.removeChild(b);
        return e
    },
    redrawNode: function (a, b, c, d) {
        c = this.applyDefaultSymbolizer(c);
        a = this.nodeFactory(a, this.getNodeType(b, c));
        a._featureId = d;
        a._boundsBottom = b.getBounds().bottom;
        a._geometryClass = b.CLASS_NAME;
        a._style = c;
        b = this.drawGeometryNode(a, b, c);
        if (!1 === b) return !1;
        a = b.node;
        this.indexer ? (c = this.indexer.insert(a)) ? this.vectorRoot.insertBefore(a, c) : this.vectorRoot.appendChild(a) : a.parentNode !== this.vectorRoot && this.vectorRoot.appendChild(a);
        this.postDraw(a);
        return b.complete
    },
    redrawBackgroundNode: function (a, b, c, d) {
        c = OpenLayers.Util.extend({}, c);
        c.externalGraphic = c.backgroundGraphic;
        c.graphicXOffset = c.backgroundXOffset;
        c.graphicYOffset = c.backgroundYOffset;
        c.graphicZIndex = c.backgroundGraphicZIndex;
        c.graphicWidth = c.backgroundWidth || c.graphicWidth;
        c.graphicHeight = c.backgroundHeight || c.graphicHeight;
        c.backgroundGraphic = null;
        c.backgroundXOffset = null;
        c.backgroundYOffset = null;
        c.backgroundGraphicZIndex = null;
        return this.redrawNode(a + this.BACKGROUND_ID_SUFFIX,
            b, c, null)
    },
    drawGeometryNode: function (a, b, c) {
        c = c || a._style;
        var d = {
                isFilled: void 0 === c.fill ? !0 : c.fill,
                isStroked: void 0 === c.stroke ? !!c.strokeWidth : c.stroke
            },
            e;
        switch (b.CLASS_NAME) {
            case "OpenLayers.Geometry.Point":
                !1 === c.graphic && (d.isFilled = !1, d.isStroked = !1);
                e = this.drawPoint(a, b);
                break;
            case "OpenLayers.Geometry.LineString":
                d.isFilled = !1;
                e = this.drawLineString(a, b);
                break;
            case "OpenLayers.Geometry.LinearRing":
                e = this.drawLinearRing(a, b);
                break;
            case "OpenLayers.Geometry.Polygon":
                e = this.drawPolygon(a, b);
                break;
            case "OpenLayers.Geometry.Rectangle":
                e = this.drawRectangle(a, b)
        }
        a._options = d;
        return !1 != e ? {
            node: this.setStyle(a, c, d, b),
            complete: e
        } : !1
    },
    postDraw: function (a) {},
    drawPoint: function (a, b) {},
    drawLineString: function (a, b) {},
    drawLinearRing: function (a, b) {},
    drawPolygon: function (a, b) {},
    drawRectangle: function (a, b) {},
    drawCircle: function (a, b) {},
    removeText: function (a) {
        var b = document.getElementById(a + this.LABEL_ID_SUFFIX);
        b && this.textRoot.removeChild(b);
        (a = document.getElementById(a + this.LABEL_OUTLINE_SUFFIX)) && this.textRoot.removeChild(a)
    },
    getFeatureIdFromEvent: function (a) {
        var b = a.target,
            c = b && b.correspondingUseElement;
        return (c ? c : b || a.srcElement)._featureId
    },
    eraseGeometry: function (a, b) {
        if ("OpenLayers.Geometry.MultiPoint" == a.CLASS_NAME || "OpenLayers.Geometry.MultiLineString" == a.CLASS_NAME || "OpenLayers.Geometry.MultiPolygon" == a.CLASS_NAME || "OpenLayers.Geometry.Collection" == a.CLASS_NAME)
            for (var c = 0, d = a.components.length; c < d; c++) this.eraseGeometry(a.components[c], b);
        else(c = OpenLayers.Util.getElement(a.id)) && c.parentNode && (c.geometry && (c.geometry.destroy(),
            c.geometry = null), c.parentNode.removeChild(c), this.indexer && this.indexer.remove(c), c._style.backgroundGraphic && (c = OpenLayers.Util.getElement(a.id + this.BACKGROUND_ID_SUFFIX)) && c.parentNode && c.parentNode.removeChild(c))
    },
    nodeFactory: function (a, b) {
        var c = OpenLayers.Util.getElement(a);
        c ? this.nodeTypeCompare(c, b) || (c.parentNode.removeChild(c), c = this.nodeFactory(a, b)) : c = this.createNode(b, a);
        return c
    },
    nodeTypeCompare: function (a, b) {},
    createNode: function (a, b) {},
    moveRoot: function (a) {
        var b = this.root;
        a.root.parentNode ==
            this.rendererRoot && (b = a.root);
        b.parentNode.removeChild(b);
        a.rendererRoot.appendChild(b)
    },
    getRenderLayerId: function () {
        return this.root.parentNode.parentNode.id
    },
    isComplexSymbol: function (a) {
        return "circle" != a && !!a
    },
    CLASS_NAME: "OpenLayers.Renderer.Elements"
});
OpenLayers.Control.ArgParser = OpenLayers.Class(OpenLayers.Control, {
    center: null,
    zoom: null,
    layers: null,
    displayProjection: null,
    getParameters: function (a) {
        a = a || window.location.href;
        var b = OpenLayers.Util.getParameters(a),
            c = a.indexOf("#");
        0 < c && (a = "?" + a.substring(c + 1, a.length), OpenLayers.Util.extend(b, OpenLayers.Util.getParameters(a)));
        return b
    },
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        for (var b = 0, c = this.map.controls.length; b < c; b++) {
            var d = this.map.controls[b];
            if (d != this &&
                "OpenLayers.Control.ArgParser" == d.CLASS_NAME) {
                d.displayProjection != this.displayProjection && (this.displayProjection = d.displayProjection);
                break
            }
        }
        b == this.map.controls.length && (b = this.getParameters(), b.layers && (this.layers = b.layers, this.map.events.register("addlayer", this, this.configureLayers), this.configureLayers()), b.lat && b.lon && (this.center = new OpenLayers.LonLat(parseFloat(b.lon), parseFloat(b.lat)), b.zoom && (this.zoom = parseFloat(b.zoom)), this.map.events.register("changebaselayer", this, this.setCenter),
            this.setCenter()))
    },
    setCenter: function () {
        this.map.baseLayer && (this.map.events.unregister("changebaselayer", this, this.setCenter), this.displayProjection && this.center.transform(this.displayProjection, this.map.getProjectionObject()), this.map.setCenter(this.center, this.zoom))
    },
    configureLayers: function () {
        if (this.layers.length == this.map.layers.length) {
            this.map.events.unregister("addlayer", this, this.configureLayers);
            for (var a = 0, b = this.layers.length; a < b; a++) {
                var c = this.map.layers[a],
                    d = this.layers.charAt(a);
                "B" == d ? this.map.setBaseLayer(c) : "T" != d && "F" != d || c.setVisibility("T" == d)
            }
        }
    },
    CLASS_NAME: "OpenLayers.Control.ArgParser"
});
OpenLayers.Control.Permalink = OpenLayers.Class(OpenLayers.Control, {
    argParserClass: OpenLayers.Control.ArgParser,
    element: null,
    anchor: !1,
    base: "",
    displayProjection: null,
    initialize: function (a, b, c) {
        null === a || "object" != typeof a || OpenLayers.Util.isElement(a) ? (OpenLayers.Control.prototype.initialize.apply(this, [c]), this.element = OpenLayers.Util.getElement(a), this.base = b || document.location.href) : (this.base = document.location.href, OpenLayers.Control.prototype.initialize.apply(this, [a]), null != this.element && (this.element =
            OpenLayers.Util.getElement(this.element)))
    },
    destroy: function () {
        this.element && this.element.parentNode == this.div && (this.div.removeChild(this.element), this.element = null);
        this.map && this.map.events.unregister("moveend", this, this.updateLink);
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        for (var b = 0, c = this.map.controls.length; b < c; b++) {
            var d = this.map.controls[b];
            if (d.CLASS_NAME == this.argParserClass.CLASS_NAME) {
                d.displayProjection !=
                    this.displayProjection && (this.displayProjection = d.displayProjection);
                break
            }
        }
        b == this.map.controls.length && this.map.addControl(new this.argParserClass({
            displayProjection: this.displayProjection
        }))
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.element || this.anchor || (this.element = document.createElement("a"), this.element.innerHTML = OpenLayers.i18n("Permalink"), this.element.href = "", this.div.appendChild(this.element));
        this.map.events.on({
            moveend: this.updateLink,
            changelayer: this.updateLink,
            changebaselayer: this.updateLink,
            scope: this
        });
        this.updateLink();
        return this.div
    },
    updateLink: function () {
        var a = this.anchor ? "#" : "?",
            b = this.base,
            c = null; - 1 != b.indexOf("#") && !1 == this.anchor && (c = b.substring(b.indexOf("#"), b.length)); - 1 != b.indexOf(a) && (b = b.substring(0, b.indexOf(a)));
        b = b.split("#")[0] + a + OpenLayers.Util.getParameterString(this.createParams());
        c && (b += c);
        this.anchor && !this.element ? window.location.href = b : this.element.href = b
    },
    createParams: function (a, b, c) {
        a = a || this.map.getCenter();
        var d = OpenLayers.Util.getParameters(this.base);
        if (a)
            for (d.zoom = b || this.map.getZoom(), b = a.lat, a = a.lon, this.displayProjection && (b = OpenLayers.Projection.transform({
                    x: a,
                    y: b
                }, this.map.getProjectionObject(), this.displayProjection), a = b.x, b = b.y), d.lat = Math.round(1E5 * b) / 1E5, d.lon = Math.round(1E5 * a) / 1E5, c = c || this.map.layers, d.layers = "", a = 0, b = c.length; a < b; a++) {
                var e = c[a];
                d.layers = e.isBaseLayer ? d.layers + (e == this.map.baseLayer ? "B" : "0") : d.layers + (e.getVisibility() ? "T" : "F")
            }
        return d
    },
    CLASS_NAME: "OpenLayers.Control.Permalink"
});
OpenLayers.Layer.TMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
    serviceVersion: "1.0.0",
    layername: null,
    type: null,
    isBaseLayer: !0,
    tileOrigin: null,
    serverResolutions: null,
    zoomOffset: 0,
    initialize: function (a, b, c) {
        var d = [];
        d.push(a, b, {}, c);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, d)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.TMS(this.name, this.url, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.getServerResolution(),
            c = Math.round((a.left - this.tileOrigin.lon) / (b * this.tileSize.w));
        a = Math.round((a.bottom - this.tileOrigin.lat) / (b * this.tileSize.h));
        b = this.getServerZoom();
        c = this.serviceVersion + "/" + this.layername + "/" + b + "/" + c + "/" + a + "." + this.type;
        a = this.url;
        OpenLayers.Util.isArray(a) && (a = this.selectUrl(c, a));
        return a + c
    },
    setMap: function (a) {
        OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments);
        this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left, this.map.maxExtent.bottom))
    },
    CLASS_NAME: "OpenLayers.Layer.TMS"
});
OpenLayers.Format.WCSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.1.0",
    CLASS_NAME: "OpenLayers.Format.WCSCapabilities"
});
OpenLayers.Format.WCSCapabilities.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        splitSpace: /\s+/
    },
    defaultPrefix: "wcs",
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    CLASS_NAME: "OpenLayers.Format.WCSCapabilities.v1"
});
OpenLayers.Format.WCSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.WCSCapabilities.v1, {
    namespaces: {
        wcs: "https://www.opengis.net/wcs",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        ows: "https://www.opengis.net/ows"
    },
    errorProperty: "service",
    readers: {
        wcs: {
            WCS_Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            Service: function (a, b) {
                b.service = {};
                this.readChildNodes(a, b.service)
            },
            name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            label: function (a, b) {
                b.label =
                    this.getChildValue(a)
            },
            keywords: function (a, b) {
                b.keywords = [];
                this.readChildNodes(a, b.keywords)
            },
            keyword: function (a, b) {
                b.push(this.getChildValue(a))
            },
            responsibleParty: function (a, b) {
                b.responsibleParty = {};
                this.readChildNodes(a, b.responsibleParty)
            },
            individualName: function (a, b) {
                b.individualName = this.getChildValue(a)
            },
            organisationName: function (a, b) {
                b.organisationName = this.getChildValue(a)
            },
            positionName: function (a, b) {
                b.positionName = this.getChildValue(a)
            },
            contactInfo: function (a, b) {
                b.contactInfo = {};
                this.readChildNodes(a,
                    b.contactInfo)
            },
            phone: function (a, b) {
                b.phone = {};
                this.readChildNodes(a, b.phone)
            },
            voice: function (a, b) {
                b.voice = this.getChildValue(a)
            },
            facsimile: function (a, b) {
                b.facsimile = this.getChildValue(a)
            },
            address: function (a, b) {
                b.address = {};
                this.readChildNodes(a, b.address)
            },
            deliveryPoint: function (a, b) {
                b.deliveryPoint = this.getChildValue(a)
            },
            city: function (a, b) {
                b.city = this.getChildValue(a)
            },
            postalCode: function (a, b) {
                b.postalCode = this.getChildValue(a)
            },
            country: function (a, b) {
                b.country = this.getChildValue(a)
            },
            electronicMailAddress: function (a,
                b) {
                b.electronicMailAddress = this.getChildValue(a)
            },
            fees: function (a, b) {
                b.fees = this.getChildValue(a)
            },
            accessConstraints: function (a, b) {
                b.accessConstraints = this.getChildValue(a)
            },
            ContentMetadata: function (a, b) {
                b.contentMetadata = [];
                this.readChildNodes(a, b.contentMetadata)
            },
            CoverageOfferingBrief: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.push(c)
            },
            name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            label: function (a, b) {
                b.label = this.getChildValue(a)
            },
            lonLatEnvelope: function (a, b) {
                var c = this.getElementsByTagNameNS(a,
                    "https://www.opengis.net/gml", "pos");
                if (2 == c.length) {
                    var d = {},
                        e = {};
                    OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this, [c[0], d]);
                    OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this, [c[1], e]);
                    b.lonLatEnvelope = {};
                    b.lonLatEnvelope.srsName = a.getAttribute("srsName");
                    b.lonLatEnvelope.min = d.points[0];
                    b.lonLatEnvelope.max = e.points[0]
                }
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.WCSCapabilities.v1_0_0"
});
OpenLayers.Strategy.Fixed = OpenLayers.Class(OpenLayers.Strategy, {
    preload: !1,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.apply(this, arguments);
        if (a)
            if (this.layer.events.on({
                    refresh: this.load,
                    scope: this
                }), !0 == this.layer.visibility || this.preload) this.load();
            else this.layer.events.on({
                visibilitychanged: this.load,
                scope: this
            });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && this.layer.events.un({
            refresh: this.load,
            visibilitychanged: this.load,
            scope: this
        });
        return a
    },
    load: function (a) {
        var b = this.layer;
        b.events.triggerEvent("loadstart", {
            filter: b.filter
        });
        b.protocol.read(OpenLayers.Util.applyDefaults({
            callback: this.merge,
            filter: b.filter,
            scope: this
        }, a));
        b.events.un({
            visibilitychanged: this.load,
            scope: this
        })
    },
    merge: function (a) {
        var b = this.layer;
        b.destroyFeatures();
        var c = a.features;
        if (c && 0 < c.length) {
            var d = b.projection,
                e = b.map.getProjectionObject();
            if (!e.equals(d))
                for (var f, g = 0, h = c.length; g < h; ++g)(f = c[g].geometry) && f.transform(d, e);
            b.addFeatures(c)
        }
        b.events.triggerEvent("loadend", {
            response: a
        })
    },
    CLASS_NAME: "OpenLayers.Strategy.Fixed"
});
OpenLayers.Control.Zoom = OpenLayers.Class(OpenLayers.Control, {
    zoomInText: "+",
    zoomInId: "olZoomInLink",
    zoomOutText: "\u2212",
    zoomOutId: "olZoomOutLink",
    draw: function () {
        var a = OpenLayers.Control.prototype.draw.apply(this),
            b = this.getOrCreateLinks(a),
            c = b.zoomIn,
            b = b.zoomOut,
            d = this.map.events;
        b.parentNode !== a && (d = this.events, d.attachToElement(b.parentNode));
        d.register("buttonclick", this, this.onZoomClick);
        this.zoomInLink = c;
        this.zoomOutLink = b;
        return a
    },
    getOrCreateLinks: function (a) {
        var b = document.getElementById(this.zoomInId),
            c = document.getElementById(this.zoomOutId);
        b || (b = document.createElement("a"), b.href = "#zoomIn", b.appendChild(document.createTextNode(this.zoomInText)), b.className = "olControlZoomIn", a.appendChild(b));
        OpenLayers.Element.addClass(b, "olButton");
        c || (c = document.createElement("a"), c.href = "#zoomOut", c.appendChild(document.createTextNode(this.zoomOutText)), c.className = "olControlZoomOut", a.appendChild(c));
        OpenLayers.Element.addClass(c, "olButton");
        return {
            zoomIn: b,
            zoomOut: c
        }
    },
    onZoomClick: function (a) {
        a = a.buttonElement;
        a === this.zoomInLink ? this.map.zoomIn() : a === this.zoomOutLink && this.map.zoomOut()
    },
    destroy: function () {
        this.map && this.map.events.unregister("buttonclick", this, this.onZoomClick);
        delete this.zoomInLink;
        delete this.zoomOutLink;
        OpenLayers.Control.prototype.destroy.apply(this)
    },
    CLASS_NAME: "OpenLayers.Control.Zoom"
});
OpenLayers.Layer.PointTrack = OpenLayers.Class(OpenLayers.Layer.Vector, {
    dataFrom: null,
    styleFrom: null,
    addNodes: function (a, b) {
        if (2 > a.length) throw Error("At least two point features have to be added to create a line from");
        for (var c = Array(a.length - 1), d, e, f, g = 0, h = a.length; g < h; g++) {
            d = a[g];
            f = d.geometry;
            if (!f) f = d.lonlat, f = new OpenLayers.Geometry.Point(f.lon, f.lat);
            else if ("OpenLayers.Geometry.Point" != f.CLASS_NAME) throw new TypeError("Only features with point geometries are supported.");
            if (0 < g) {
                d = null != this.dataFrom ?
                    a[g + this.dataFrom].data || a[g + this.dataFrom].attributes : null;
                var k = null != this.styleFrom ? a[g + this.styleFrom].style : null;
                e = new OpenLayers.Geometry.LineString([e, f]);
                c[g - 1] = new OpenLayers.Feature.Vector(e, d, k)
            }
            e = f
        }
        this.addFeatures(c, b)
    },
    CLASS_NAME: "OpenLayers.Layer.PointTrack"
});
OpenLayers.Layer.PointTrack.SOURCE_NODE = -1;
OpenLayers.Layer.PointTrack.TARGET_NODE = 0;
OpenLayers.Layer.PointTrack.dataFrom = {
    SOURCE_NODE: -1,
    TARGET_NODE: 0
};
OpenLayers.Protocol.WFS = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Protocol.WFS.DEFAULTS);
    var b = OpenLayers.Protocol.WFS["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported WFS version: " + a.version;
    return new b(a)
};
OpenLayers.Protocol.WFS.fromWMSLayer = function (a, b) {
    var c, d;
    c = a.params.LAYERS;
    c = (OpenLayers.Util.isArray(c) ? c[0] : c).split(":");
    1 < c.length && (d = c[0]);
    c = c.pop();
    d = {
        url: a.url,
        featureType: c,
        featurePrefix: d,
        srsName: a.projection && a.projection.getCode() || a.map && a.map.getProjectionObject().getCode(),
        version: "1.1.0"
    };
    return new OpenLayers.Protocol.WFS(OpenLayers.Util.applyDefaults(b, d))
};
OpenLayers.Protocol.WFS.DEFAULTS = {
    version: "1.0.0"
};
OpenLayers.Layer.Markers = OpenLayers.Class(OpenLayers.Layer, {
    isBaseLayer: !1,
    markers: null,
    drawn: !1,
    initialize: function (a, b) {
        OpenLayers.Layer.prototype.initialize.apply(this, arguments);
        this.markers = []
    },
    destroy: function () {
        this.clearMarkers();
        this.markers = null;
        OpenLayers.Layer.prototype.destroy.apply(this, arguments)
    },
    setOpacity: function (a) {
        if (a != this.opacity) {
            this.opacity = a;
            a = 0;
            for (var b = this.markers.length; a < b; a++) this.markers[a].setOpacity(this.opacity)
        }
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.prototype.moveTo.apply(this,
            arguments);
        if (b || !this.drawn) {
            for (var d = 0, e = this.markers.length; d < e; d++) this.drawMarker(this.markers[d]);
            this.drawn = !0
        }
    },
    addMarker: function (a) {
        this.markers.push(a);
        1 > this.opacity && a.setOpacity(this.opacity);
        this.map && this.map.getExtent() && (a.map = this.map, this.drawMarker(a))
    },
    removeMarker: function (a) {
        this.markers && this.markers.length && (OpenLayers.Util.removeItem(this.markers, a), a.erase())
    },
    clearMarkers: function () {
        if (null != this.markers)
            for (; 0 < this.markers.length;) this.removeMarker(this.markers[0])
    },
    drawMarker: function (a) {
        var b = this.map.getLayerPxFromLonLat(a.lonlat);
        null == b ? a.display(!1) : a.isDrawn() ? a.icon && a.icon.moveTo(b) : (a = a.draw(b), this.div.appendChild(a))
    },
    getDataExtent: function () {
        var a = null;
        if (this.markers && 0 < this.markers.length)
            for (var a = new OpenLayers.Bounds, b = 0, c = this.markers.length; b < c; b++) a.extend(this.markers[b].lonlat);
        return a
    },
    CLASS_NAME: "OpenLayers.Layer.Markers"
});
OpenLayers.Control.Pan = OpenLayers.Class(OpenLayers.Control.Button, {
    slideFactor: 50,
    slideRatio: null,
    direction: null,
    initialize: function (a, b) {
        this.direction = a;
        this.CLASS_NAME += this.direction;
        OpenLayers.Control.prototype.initialize.apply(this, [b])
    },
    trigger: function () {
        if (this.map) {
            var a = OpenLayers.Function.bind(function (a) {
                return this.slideRatio ? this.map.getSize()[a] * this.slideRatio : this.slideFactor
            }, this);
            switch (this.direction) {
                case OpenLayers.Control.Pan.NORTH:
                    this.map.pan(0, -a("h"));
                    break;
                case OpenLayers.Control.Pan.SOUTH:
                    this.map.pan(0,
                        a("h"));
                    break;
                case OpenLayers.Control.Pan.WEST:
                    this.map.pan(-a("w"), 0);
                    break;
                case OpenLayers.Control.Pan.EAST:
                    this.map.pan(a("w"), 0)
            }
        }
    },
    CLASS_NAME: "OpenLayers.Control.Pan"
});
OpenLayers.Control.Pan.NORTH = "North";
OpenLayers.Control.Pan.SOUTH = "South";
OpenLayers.Control.Pan.EAST = "East";
OpenLayers.Control.Pan.WEST = "West";
OpenLayers.Format.CSWGetDomain = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Format.CSWGetDomain.DEFAULTS);
    var b = OpenLayers.Format.CSWGetDomain["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported CSWGetDomain version: " + a.version;
    return new b(a)
};
OpenLayers.Format.CSWGetDomain.DEFAULTS = {
    version: "2.0.2"
};
OpenLayers.Format.CSWGetDomain.v2_0_2 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        csw: "https://www.opengis.net/cat/csw/2.0.2"
    },
    defaultPrefix: "csw",
    version: "2.0.2",
    schemaLocation: "https://www.opengis.net/cat/csw/2.0.2 https://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",
    PropertyName: null,
    ParameterName: null,
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 ==
            a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        csw: {
            GetDomainResponse: function (a, b) {
                this.readChildNodes(a, b)
            },
            DomainValues: function (a, b) {
                OpenLayers.Util.isArray(b.DomainValues) || (b.DomainValues = []);
                for (var c = a.attributes, d = {}, e = 0, f = c.length; e < f; ++e) d[c[e].name] = c[e].nodeValue;
                this.readChildNodes(a, d);
                b.DomainValues.push(d)
            },
            PropertyName: function (a, b) {
                b.PropertyName = this.getChildValue(a)
            },
            ParameterName: function (a, b) {
                b.ParameterName = this.getChildValue(a)
            },
            ListOfValues: function (a,
                b) {
                OpenLayers.Util.isArray(b.ListOfValues) || (b.ListOfValues = []);
                this.readChildNodes(a, b.ListOfValues)
            },
            Value: function (a, b) {
                for (var c = a.attributes, d = {}, e = 0, f = c.length; e < f; ++e) d[c[e].name] = c[e].nodeValue;
                d.value = this.getChildValue(a);
                b.push({
                    Value: d
                })
            },
            ConceptualScheme: function (a, b) {
                b.ConceptualScheme = {};
                this.readChildNodes(a, b.ConceptualScheme)
            },
            Name: function (a, b) {
                b.Name = this.getChildValue(a)
            },
            Document: function (a, b) {
                b.Document = this.getChildValue(a)
            },
            Authority: function (a, b) {
                b.Authority = this.getChildValue(a)
            },
            RangeOfValues: function (a, b) {
                b.RangeOfValues = {};
                this.readChildNodes(a, b.RangeOfValues)
            },
            MinValue: function (a, b) {
                for (var c = a.attributes, d = {}, e = 0, f = c.length; e < f; ++e) d[c[e].name] = c[e].nodeValue;
                d.value = this.getChildValue(a);
                b.MinValue = d
            },
            MaxValue: function (a, b) {
                for (var c = a.attributes, d = {}, e = 0, f = c.length; e < f; ++e) d[c[e].name] = c[e].nodeValue;
                d.value = this.getChildValue(a);
                b.MaxValue = d
            }
        }
    },
    write: function (a) {
        a = this.writeNode("csw:GetDomain", a);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    writers: {
        csw: {
            GetDomain: function (a) {
                var b =
                    this.createElementNSPlus("csw:GetDomain", {
                        attributes: {
                            service: "CSW",
                            version: this.version
                        }
                    });
                a.PropertyName || this.PropertyName ? this.writeNode("csw:PropertyName", a.PropertyName || this.PropertyName, b) : (a.ParameterName || this.ParameterName) && this.writeNode("csw:ParameterName", a.ParameterName || this.ParameterName, b);
                this.readChildNodes(b, a);
                return b
            },
            PropertyName: function (a) {
                return this.createElementNSPlus("csw:PropertyName", {
                    value: a
                })
            },
            ParameterName: function (a) {
                return this.createElementNSPlus("csw:ParameterName", {
                    value: a
                })
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.CSWGetDomain.v2_0_2"
});
OpenLayers.Format.ArcXML.Features = OpenLayers.Class(OpenLayers.Format.XML, {
    read: function (a) {
        return (new OpenLayers.Format.ArcXML).read(a).features.feature
    }
});
OpenLayers.Control.Snapping = OpenLayers.Class(OpenLayers.Control, {
    DEFAULTS: {
        tolerance: 10,
        node: !0,
        edge: !0,
        vertex: !0
    },
    greedy: !0,
    precedence: ["node", "vertex", "edge"],
    resolution: null,
    geoToleranceCache: null,
    layer: null,
    feature: null,
    point: null,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.options = a || {};
        this.options.layer && this.setLayer(this.options.layer);
        a = OpenLayers.Util.extend({}, this.options.defaults);
        this.defaults = OpenLayers.Util.applyDefaults(a, this.DEFAULTS);
        this.setTargets(this.options.targets);
        0 === this.targets.length && this.layer && this.addTargetLayer(this.layer);
        this.geoToleranceCache = {}
    },
    setLayer: function (a) {
        this.active ? (this.deactivate(), this.layer = a, this.activate()) : this.layer = a
    },
    setTargets: function (a) {
        this.targets = [];
        if (a && a.length)
            for (var b, c = 0, d = a.length; c < d; ++c) b = a[c], b instanceof OpenLayers.Layer.Vector ? this.addTargetLayer(b) : this.addTarget(b)
    },
    addTargetLayer: function (a) {
        this.addTarget({
            layer: a
        })
    },
    addTarget: function (a) {
        a = OpenLayers.Util.applyDefaults(a, this.defaults);
        a.nodeTolerance =
            a.nodeTolerance || a.tolerance;
        a.vertexTolerance = a.vertexTolerance || a.tolerance;
        a.edgeTolerance = a.edgeTolerance || a.tolerance;
        this.targets.push(a)
    },
    removeTargetLayer: function (a) {
        for (var b, c = this.targets.length - 1; 0 <= c; --c) b = this.targets[c], b.layer === a && this.removeTarget(b)
    },
    removeTarget: function (a) {
        return OpenLayers.Util.removeItem(this.targets, a)
    },
    activate: function () {
        var a = OpenLayers.Control.prototype.activate.call(this);
        if (a && this.layer && this.layer.events) this.layer.events.on({
            sketchstarted: this.onSketchModified,
            sketchmodified: this.onSketchModified,
            vertexmodified: this.onVertexModified,
            scope: this
        });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Control.prototype.deactivate.call(this);
        a && this.layer && this.layer.events && this.layer.events.un({
            sketchstarted: this.onSketchModified,
            sketchmodified: this.onSketchModified,
            vertexmodified: this.onVertexModified,
            scope: this
        });
        this.point = this.feature = null;
        return a
    },
    onSketchModified: function (a) {
        this.feature = a.feature;
        this.considerSnapping(a.vertex, a.vertex)
    },
    onVertexModified: function (a) {
        this.feature =
            a.feature;
        var b = this.layer.map.getLonLatFromViewPortPx(a.pixel);
        this.considerSnapping(a.vertex, new OpenLayers.Geometry.Point(b.lon, b.lat))
    },
    considerSnapping: function (a, b) {
        for (var c = {
                rank: Number.POSITIVE_INFINITY,
                dist: Number.POSITIVE_INFINITY,
                x: null,
                y: null
            }, d = !1, e, f, g = 0, h = this.targets.length; g < h; ++g)
            if (f = this.targets[g], e = this.testTarget(f, b))
                if (this.greedy) {
                    c = e;
                    c.target = f;
                    d = !0;
                    break
                } else if (e.rank < c.rank || e.rank === c.rank && e.dist < c.dist) c = e, c.target = f, d = !0;
        d && (!1 !== this.events.triggerEvent("beforesnap", {
            point: a,
            x: c.x,
            y: c.y,
            distance: c.dist,
            layer: c.target.layer,
            snapType: this.precedence[c.rank]
        }) ? (a.x = c.x, a.y = c.y, this.point = a, this.events.triggerEvent("snap", {
            point: a,
            snapType: this.precedence[c.rank],
            layer: c.target.layer,
            distance: c.dist
        })) : d = !1);
        this.point && !d && (a.x = b.x, a.y = b.y, this.point = null, this.events.triggerEvent("unsnap", {
            point: a
        }))
    },
    testTarget: function (a, b) {
        var c = this.layer.map.getResolution();
        if ("minResolution" in a && c < a.minResolution || "maxResolution" in a && c >= a.maxResolution) return null;
        for (var c = {
                node: this.getGeoTolerance(a.nodeTolerance, c),
                vertex: this.getGeoTolerance(a.vertexTolerance, c),
                edge: this.getGeoTolerance(a.edgeTolerance, c)
            }, d = Math.max(c.node, c.vertex, c.edge), e = {
                rank: Number.POSITIVE_INFINITY,
                dist: Number.POSITIVE_INFINITY
            }, f = !1, g = a.layer.features, h, k, l, m, n, p, q = this.precedence.length, r = new OpenLayers.LonLat(b.x, b.y), s = 0, t = g.length; s < t; ++s)
            if (h = g[s], h !== this.feature && (!h._sketch && h.state !== OpenLayers.State.DELETE && (!a.filter || a.filter.evaluate(h))) && h.atPoint(r, d, d))
                for (var u = 0, v = Math.min(e.rank +
                        1, q); u < v; ++u)
                    if (k = this.precedence[u], a[k])
                        if ("edge" === k) {
                            if (l = h.geometry.distanceTo(b, {
                                    details: !0
                                }), n = l.distance, n <= c[k] && n < e.dist) {
                                e = {
                                    rank: u,
                                    dist: n,
                                    x: l.x0,
                                    y: l.y0
                                };
                                f = !0;
                                break
                            }
                        } else {
                            l = h.geometry.getVertices("node" === k);
                            p = !1;
                            for (var w = 0, x = l.length; w < x; ++w) m = l[w], n = m.distanceTo(b), n <= c[k] && (u < e.rank || u === e.rank && n < e.dist) && (e = {
                                rank: u,
                                dist: n,
                                x: m.x,
                                y: m.y
                            }, p = f = !0);
                            if (p) break
                        } return f ? e : null
    },
    getGeoTolerance: function (a, b) {
        b !== this.resolution && (this.resolution = b, this.geoToleranceCache = {});
        var c = this.geoToleranceCache[a];
        void 0 === c && (c = a * b, this.geoToleranceCache[a] = c);
        return c
    },
    destroy: function () {
        this.active && this.deactivate();
        delete this.layer;
        delete this.targets;
        OpenLayers.Control.prototype.destroy.call(this)
    },
    CLASS_NAME: "OpenLayers.Control.Snapping"
});
OpenLayers.Format.OWSCommon.v1_1_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1, {
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        xlink: "https://www.w3.org/1999/xlink"
    },
    readers: {
        ows: OpenLayers.Util.applyDefaults({
            ExceptionReport: function (a, b) {
                b.exceptionReport = {
                    version: a.getAttribute("version"),
                    language: a.getAttribute("xml:lang"),
                    exceptions: []
                };
                this.readChildNodes(a, b.exceptionReport)
            },
            AllowedValues: function (a, b) {
                b.allowedValues = {};
                this.readChildNodes(a, b.allowedValues)
            },
            AnyValue: function (a, b) {
                b.anyValue = !0
            },
            DataType: function (a, b) {
                b.dataType = this.getChildValue(a)
            },
            Range: function (a, b) {
                b.range = {};
                this.readChildNodes(a, b.range)
            },
            MinimumValue: function (a, b) {
                b.minValue = this.getChildValue(a)
            },
            MaximumValue: function (a, b) {
                b.maxValue = this.getChildValue(a)
            },
            Identifier: function (a, b) {
                b.identifier = this.getChildValue(a)
            },
            SupportedCRS: function (a, b) {
                b.supportedCRS = this.getChildValue(a)
            }
        }, OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)
    },
    writers: {
        ows: OpenLayers.Util.applyDefaults({
            Range: function (a) {
                var b = this.createElementNSPlus("ows:Range", {
                    attributes: {
                        "ows:rangeClosure": a.closure
                    }
                });
                this.writeNode("ows:MinimumValue", a.minValue, b);
                this.writeNode("ows:MaximumValue", a.maxValue, b);
                return b
            },
            MinimumValue: function (a) {
                return this.createElementNSPlus("ows:MinimumValue", {
                    value: a
                })
            },
            MaximumValue: function (a) {
                return this.createElementNSPlus("ows:MaximumValue", {
                    value: a
                })
            },
            Value: function (a) {
                return this.createElementNSPlus("ows:Value", {
                    value: a
                })
            }
        }, OpenLayers.Format.OWSCommon.v1.prototype.writers.ows)
    },
    CLASS_NAME: "OpenLayers.Format.OWSCommon.v1_1_0"
});
OpenLayers.Format.WCSGetCoverage = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        wcs: "https://www.opengis.net/wcs/1.1",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    VERSION: "1.1.2",
    schemaLocation: "https://www.opengis.net/wcs/1.1 https://schemas.opengis.net/wcs/1.1/wcsGetCoverage.xsd",
    write: function (a) {
        a = this.writeNode("wcs:GetCoverage",
            a);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    writers: {
        wcs: {
            GetCoverage: function (a) {
                var b = this.createElementNSPlus("wcs:GetCoverage", {
                    attributes: {
                        version: a.version || this.VERSION,
                        service: "WCS"
                    }
                });
                this.writeNode("ows:Identifier", a.identifier, b);
                this.writeNode("wcs:DomainSubset", a.domainSubset, b);
                this.writeNode("wcs:Output", a.output, b);
                return b
            },
            DomainSubset: function (a) {
                var b = this.createElementNSPlus("wcs:DomainSubset", {});
                this.writeNode("ows:BoundingBox", a.boundingBox, b);
                a.temporalSubset && this.writeNode("wcs:TemporalSubset", a.temporalSubset, b);
                return b
            },
            TemporalSubset: function (a) {
                for (var b = this.createElementNSPlus("wcs:TemporalSubset", {}), c = 0, d = a.timePeriods.length; c < d; ++c) this.writeNode("wcs:TimePeriod", a.timePeriods[c], b);
                return b
            },
            TimePeriod: function (a) {
                var b = this.createElementNSPlus("wcs:TimePeriod", {});
                this.writeNode("wcs:BeginPosition", a.begin, b);
                this.writeNode("wcs:EndPosition", a.end, b);
                a.resolution && this.writeNode("wcs:TimeResolution",
                    a.resolution, b);
                return b
            },
            BeginPosition: function (a) {
                return this.createElementNSPlus("wcs:BeginPosition", {
                    value: a
                })
            },
            EndPosition: function (a) {
                return this.createElementNSPlus("wcs:EndPosition", {
                    value: a
                })
            },
            TimeResolution: function (a) {
                return this.createElementNSPlus("wcs:TimeResolution", {
                    value: a
                })
            },
            Output: function (a) {
                var b = this.createElementNSPlus("wcs:Output", {
                    attributes: {
                        format: a.format,
                        store: a.store
                    }
                });
                a.gridCRS && this.writeNode("wcs:GridCRS", a.gridCRS, b);
                return b
            },
            GridCRS: function (a) {
                var b = this.createElementNSPlus("wcs:GridCRS", {});
                this.writeNode("wcs:GridBaseCRS", a.baseCRS, b);
                a.type && this.writeNode("wcs:GridType", a.type, b);
                a.origin && this.writeNode("wcs:GridOrigin", a.origin, b);
                this.writeNode("wcs:GridOffsets", a.offsets, b);
                a.CS && this.writeNode("wcs:GridCS", a.CS, b);
                return b
            },
            GridBaseCRS: function (a) {
                return this.createElementNSPlus("wcs:GridBaseCRS", {
                    value: a
                })
            },
            GridOrigin: function (a) {
                return this.createElementNSPlus("wcs:GridOrigin", {
                    value: a
                })
            },
            GridType: function (a) {
                return this.createElementNSPlus("wcs:GridType", {
                    value: a
                })
            },
            GridOffsets: function (a) {
                return this.createElementNSPlus("wcs:GridOffsets", {
                    value: a
                })
            },
            GridCS: function (a) {
                return this.createElementNSPlus("wcs:GridCS", {
                    value: a
                })
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WCSGetCoverage"
});
OpenLayers.Format.KML = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        kml: "https://www.opengis.net/kml/2.2",
        gx: "https://www.google.com/kml/ext/2.2"
    },
    kmlns: "https://earth.google.com/kml/2.0",
    placemarksDesc: "No description available",
    foldersName: "OpenLayers export",
    foldersDesc: "Exported on " + new Date,
    extractAttributes: !0,
    kvpAttributes: !1,
    extractStyles: !1,
    extractTracks: !1,
    trackAttributes: null,
    internalns: null,
    features: null,
    styles: null,
    styleBaseUrl: "",
    fetched: null,
    maxDepth: 0,
    initialize: function (a) {
        this.regExes = {
            trimSpace: /^\s*|\s*$/g,
            removeSpace: /\s*/g,
            splitSpace: /\s+/,
            trimComma: /\s*,\s*/g,
            kmlColor: /(\w{2})(\w{2})(\w{2})(\w{2})/,
            kmlIconPalette: /root:\/\/icons\/palette-(\d+)(\.\w+)/,
            straightBracket: /\$\[(.*?)\]/g
        };
        this.externalProjection = new OpenLayers.Projection("EPSG:4326");
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        this.features = [];
        this.styles = {};
        this.fetched = {};
        return this.parseData(a, {
            depth: 0,
            styleBaseUrl: this.styleBaseUrl
        })
    },
    parseData: function (a, b) {
        "string" == typeof a &&
            (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        for (var c = ["Link", "NetworkLink", "Style", "StyleMap", "Placemark"], d = 0, e = c.length; d < e; ++d) {
            var f = c[d],
                g = this.getElementsByTagNameNS(a, "*", f);
            if (0 != g.length) switch (f.toLowerCase()) {
                case "link":
                case "networklink":
                    this.parseLinks(g, b);
                    break;
                case "style":
                    this.extractStyles && this.parseStyles(g, b);
                    break;
                case "stylemap":
                    this.extractStyles && this.parseStyleMaps(g, b);
                    break;
                case "placemark":
                    this.parseFeatures(g, b)
            }
        }
        return this.features
    },
    parseLinks: function (a,
        b) {
        if (b.depth >= this.maxDepth) return !1;
        var c = OpenLayers.Util.extend({}, b);
        c.depth++;
        for (var d = 0, e = a.length; d < e; d++) {
            var f = this.parseProperty(a[d], "*", "href");
            f && !this.fetched[f] && (this.fetched[f] = !0, (f = this.fetchLink(f)) && this.parseData(f, c))
        }
    },
    fetchLink: function (a) {
        if (a = OpenLayers.Request.GET({
                url: a,
                async: !1
            })) return a.responseText
    },
    parseStyles: function (a, b) {
        for (var c = 0, d = a.length; c < d; c++) {
            var e = this.parseStyle(a[c]);
            e && (this.styles[(b.styleBaseUrl || "") + "#" + e.id] = e)
        }
    },
    parseKmlColor: function (a) {
        var b =
            null;
        a && (a = a.match(this.regExes.kmlColor)) && (b = {
            color: "#" + a[4] + a[3] + a[2],
            opacity: parseInt(a[1], 16) / 255
        });
        return b
    },
    parseStyle: function (a) {
        for (var b = {}, c = ["LineStyle", "PolyStyle", "IconStyle", "BalloonStyle", "LabelStyle"], d, e, f = 0, g = c.length; f < g; ++f)
            if (d = c[f], e = this.getElementsByTagNameNS(a, "*", d)[0]) switch (d.toLowerCase()) {
                case "linestyle":
                    d = this.parseProperty(e, "*", "color");
                    if (d = this.parseKmlColor(d)) b.strokeColor = d.color, b.strokeOpacity = d.opacity;
                    (d = this.parseProperty(e, "*", "width")) && (b.strokeWidth =
                        d);
                    break;
                case "polystyle":
                    d = this.parseProperty(e, "*", "color");
                    if (d = this.parseKmlColor(d)) b.fillOpacity = d.opacity, b.fillColor = d.color;
                    "0" == this.parseProperty(e, "*", "fill") && (b.fillColor = "none");
                    "0" == this.parseProperty(e, "*", "outline") && (b.strokeWidth = "0");
                    break;
                case "iconstyle":
                    var h = parseFloat(this.parseProperty(e, "*", "scale") || 1);
                    d = 32 * h;
                    var k = 32 * h,
                        l = this.getElementsByTagNameNS(e, "*", "Icon")[0];
                    if (l) {
                        var m = this.parseProperty(l, "*", "href");
                        if (m) {
                            var n = this.parseProperty(l, "*", "w"),
                                p = this.parseProperty(l,
                                    "*", "h");
                            !OpenLayers.String.startsWith(m, "https://maps.google.com/mapfiles/kml") || (n || p) || (p = n = 64, h /= 2);
                            n = n || p;
                            p = p || n;
                            n && (d = parseInt(n) * h);
                            p && (k = parseInt(p) * h);
                            if (p = m.match(this.regExes.kmlIconPalette)) n = p[1], p = p[2], m = this.parseProperty(l, "*", "x"), l = this.parseProperty(l, "*", "y"), m = "https://maps.google.com/mapfiles/kml/pal" + n + "/icon" + (8 * (l ? 7 - l / 32 : 7) + (m ? m / 32 : 0)) + p;
                            b.graphicOpacity = 1;
                            b.externalGraphic = m
                        }
                    }
                    if (e = this.getElementsByTagNameNS(e, "*", "hotSpot")[0]) m = parseFloat(e.getAttribute("x")), l = parseFloat(e.getAttribute("y")),
                        n = e.getAttribute("xunits"), "pixels" == n ? b.graphicXOffset = -m * h : "insetPixels" == n ? b.graphicXOffset = -d + m * h : "fraction" == n && (b.graphicXOffset = -d * m), e = e.getAttribute("yunits"), "pixels" == e ? b.graphicYOffset = -k + l * h + 1 : "insetPixels" == e ? b.graphicYOffset = -(l * h) + 1 : "fraction" == e && (b.graphicYOffset = -k * (1 - l) + 1);
                    b.graphicWidth = d;
                    b.graphicHeight = k;
                    break;
                case "balloonstyle":
                    (e = OpenLayers.Util.getXmlNodeValue(e)) && (b.balloonStyle = e.replace(this.regExes.straightBracket, "${$1}"));
                    break;
                case "labelstyle":
                    if (d = this.parseProperty(e,
                            "*", "color"), d = this.parseKmlColor(d)) b.fontColor = d.color, b.fontOpacity = d.opacity
            }!b.strokeColor && b.fillColor && (b.strokeColor = b.fillColor);
        (a = a.getAttribute("id")) && b && (b.id = a);
        return b
    },
    parseStyleMaps: function (a, b) {
        for (var c = 0, d = a.length; c < d; c++)
            for (var e = a[c], f = this.getElementsByTagNameNS(e, "*", "Pair"), e = e.getAttribute("id"), g = 0, h = f.length; g < h; g++) {
                var k = f[g],
                    l = this.parseProperty(k, "*", "key");
                (k = this.parseProperty(k, "*", "styleUrl")) && "normal" == l && (this.styles[(b.styleBaseUrl || "") + "#" + e] = this.styles[(b.styleBaseUrl ||
                    "") + k])
            }
    },
    parseFeatures: function (a, b) {
        for (var c = [], d = 0, e = a.length; d < e; d++) {
            var f = a[d],
                g = this.parseFeature.apply(this, [f]);
            if (g) {
                this.extractStyles && (g.attributes && g.attributes.styleUrl) && (g.style = this.getStyle(g.attributes.styleUrl, b));
                if (this.extractStyles) {
                    var h = this.getElementsByTagNameNS(f, "*", "Style")[0];
                    h && (h = this.parseStyle(h)) && (g.style = OpenLayers.Util.extend(g.style, h))
                }
                this.extractTracks ? (f = this.getElementsByTagNameNS(f, this.namespaces.gx, "Track")) && 0 < f.length && (g = {
                        features: [],
                        feature: g
                    },
                    this.readNode(f[0], g), 0 < g.features.length && c.push.apply(c, g.features)) : c.push(g)
            } else throw "Bad Placemark: " + d;
        }
        this.features = this.features.concat(c)
    },
    readers: {
        kml: {
            when: function (a, b) {
                b.whens.push(OpenLayers.Date.parse(this.getChildValue(a)))
            },
            _trackPointAttribute: function (a, b) {
                var c = a.nodeName.split(":").pop();
                b.attributes[c].push(this.getChildValue(a))
            }
        },
        gx: {
            Track: function (a, b) {
                var c = {
                    whens: [],
                    points: [],
                    angles: []
                };
                if (this.trackAttributes) {
                    var d;
                    c.attributes = {};
                    for (var e = 0, f = this.trackAttributes.length; e <
                        f; ++e) d = this.trackAttributes[e], c.attributes[d] = [], d in this.readers.kml || (this.readers.kml[d] = this.readers.kml._trackPointAttribute)
                }
                this.readChildNodes(a, c);
                if (c.whens.length !== c.points.length) throw Error("gx:Track with unequal number of when (" + c.whens.length + ") and gx:coord (" + c.points.length + ") elements.");
                var g = 0 < c.angles.length;
                if (g && c.whens.length !== c.angles.length) throw Error("gx:Track with unequal number of when (" + c.whens.length + ") and gx:angles (" + c.angles.length + ") elements.");
                for (var h,
                        e = 0, f = c.whens.length; e < f; ++e) {
                    h = b.feature.clone();
                    h.fid = b.feature.fid || b.feature.id;
                    d = c.points[e];
                    h.geometry = d;
                    "z" in d && (h.attributes.altitude = d.z);
                    this.internalProjection && this.externalProjection && h.geometry.transform(this.externalProjection, this.internalProjection);
                    if (this.trackAttributes)
                        for (var k = 0, l = this.trackAttributes.length; k < l; ++k) d = this.trackAttributes[k], h.attributes[d] = c.attributes[d][e];
                    h.attributes.when = c.whens[e];
                    h.attributes.trackId = b.feature.id;
                    g && (d = c.angles[e], h.attributes.heading =
                        parseFloat(d[0]), h.attributes.tilt = parseFloat(d[1]), h.attributes.roll = parseFloat(d[2]));
                    b.features.push(h)
                }
            },
            coord: function (a, b) {
                var c = this.getChildValue(a).replace(this.regExes.trimSpace, "").split(/\s+/),
                    d = new OpenLayers.Geometry.Point(c[0], c[1]);
                2 < c.length && (d.z = parseFloat(c[2]));
                b.points.push(d)
            },
            angles: function (a, b) {
                var c = this.getChildValue(a).replace(this.regExes.trimSpace, "").split(/\s+/);
                b.angles.push(c)
            }
        }
    },
    parseFeature: function (a) {
        for (var b = ["MultiGeometry", "Polygon", "LineString", "Point"],
                c, d, e, f = 0, g = b.length; f < g; ++f)
            if (c = b[f], this.internalns = a.namespaceURI ? a.namespaceURI : this.kmlns, d = this.getElementsByTagNameNS(a, this.internalns, c), 0 < d.length) {
                if (b = this.parseGeometry[c.toLowerCase()]) e = b.apply(this, [d[0]]), this.internalProjection && this.externalProjection && e.transform(this.externalProjection, this.internalProjection);
                else throw new TypeError("Unsupported geometry type: " + c);
                break
            } var h;
        this.extractAttributes && (h = this.parseAttributes(a));
        c = new OpenLayers.Feature.Vector(e, h);
        a = a.getAttribute("id") ||
            a.getAttribute("name");
        null != a && (c.fid = a);
        return c
    },
    getStyle: function (a, b) {
        var c = OpenLayers.Util.removeTail(a),
            d = OpenLayers.Util.extend({}, b);
        d.depth++;
        d.styleBaseUrl = c;
        !this.styles[a] && !OpenLayers.String.startsWith(a, "#") && d.depth <= this.maxDepth && !this.fetched[c] && (c = this.fetchLink(c)) && this.parseData(c, d);
        return OpenLayers.Util.extend({}, this.styles[a])
    },
    parseGeometry: {
        point: function (a) {
            var b = this.getElementsByTagNameNS(a, this.internalns, "coordinates");
            a = [];
            if (0 < b.length) {
                var c = b[0].firstChild.nodeValue,
                    c = c.replace(this.regExes.removeSpace, "");
                a = c.split(",")
            }
            b = null;
            if (1 < a.length) 2 == a.length && (a[2] = null), b = new OpenLayers.Geometry.Point(a[0], a[1], a[2]);
            else throw "Bad coordinate string: " + c;
            return b
        },
        linestring: function (a, b) {
            var c = this.getElementsByTagNameNS(a, this.internalns, "coordinates"),
                d = null;
            if (0 < c.length) {
                for (var c = this.getChildValue(c[0]), c = c.replace(this.regExes.trimSpace, ""), c = c.replace(this.regExes.trimComma, ","), d = c.split(this.regExes.splitSpace), e = d.length, f = Array(e), g, h, k = 0; k < e; ++k)
                    if (g =
                        d[k].split(","), h = g.length, 1 < h) 2 == g.length && (g[2] = null), f[k] = new OpenLayers.Geometry.Point(g[0], g[1], g[2]);
                    else throw "Bad LineString point coordinates: " + d[k];
                if (e) d = b ? new OpenLayers.Geometry.LinearRing(f) : new OpenLayers.Geometry.LineString(f);
                else throw "Bad LineString coordinates: " + c;
            }
            return d
        },
        polygon: function (a) {
            a = this.getElementsByTagNameNS(a, this.internalns, "LinearRing");
            var b = a.length,
                c = Array(b);
            if (0 < b)
                for (var d = 0, e = a.length; d < e; ++d)
                    if (b = this.parseGeometry.linestring.apply(this, [a[d], !0])) c[d] =
                        b;
                    else throw "Bad LinearRing geometry: " + d;
            return new OpenLayers.Geometry.Polygon(c)
        },
        multigeometry: function (a) {
            for (var b, c = [], d = a.childNodes, e = 0, f = d.length; e < f; ++e) a = d[e], 1 == a.nodeType && (b = a.prefix ? a.nodeName.split(":")[1] : a.nodeName, (b = this.parseGeometry[b.toLowerCase()]) && c.push(b.apply(this, [a])));
            return new OpenLayers.Geometry.Collection(c)
        }
    },
    parseAttributes: function (a) {
        var b = {},
            c = a.getElementsByTagName("ExtendedData");
        c.length && (b = this.parseExtendedData(c[0]));
        var d, e, f;
        a = a.childNodes;
        for (var c =
                0, g = a.length; c < g; ++c)
            if (d = a[c], 1 == d.nodeType && (e = d.childNodes, 1 <= e.length && 3 >= e.length)) {
                switch (e.length) {
                    case 1:
                        f = e[0];
                        break;
                    case 2:
                        f = e[0];
                        e = e[1];
                        f = 3 == f.nodeType || 4 == f.nodeType ? f : e;
                        break;
                    default:
                        f = e[1]
                }
                if (3 == f.nodeType || 4 == f.nodeType)
                    if (d = d.prefix ? d.nodeName.split(":")[1] : d.nodeName, f = OpenLayers.Util.getXmlNodeValue(f)) f = f.replace(this.regExes.trimSpace, ""), b[d] = f
            } return b
    },
    parseExtendedData: function (a) {
        var b = {},
            c, d, e, f, g = a.getElementsByTagName("Data");
        c = 0;
        for (d = g.length; c < d; c++) {
            e = g[c];
            f = e.getAttribute("name");
            var h = {},
                k = e.getElementsByTagName("value");
            k.length && (h.value = this.getChildValue(k[0]));
            this.kvpAttributes ? b[f] = h.value : (e = e.getElementsByTagName("displayName"), e.length && (h.displayName = this.getChildValue(e[0])), b[f] = h)
        }
        a = a.getElementsByTagName("SimpleData");
        c = 0;
        for (d = a.length; c < d; c++) h = {}, e = a[c], f = e.getAttribute("name"), h.value = this.getChildValue(e), this.kvpAttributes ? b[f] = h.value : (h.displayName = f, b[f] = h);
        return b
    },
    parseProperty: function (a, b, c) {
        var d;
        a = this.getElementsByTagNameNS(a, b, c);
        try {
            d = OpenLayers.Util.getXmlNodeValue(a[0])
        } catch (e) {
            d =
                null
        }
        return d
    },
    write: function (a) {
        OpenLayers.Util.isArray(a) || (a = [a]);
        for (var b = this.createElementNS(this.kmlns, "kml"), c = this.createFolderXML(), d = 0, e = a.length; d < e; ++d) c.appendChild(this.createPlacemarkXML(a[d]));
        b.appendChild(c);
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    createFolderXML: function () {
        var a = this.createElementNS(this.kmlns, "Folder");
        if (this.foldersName) {
            var b = this.createElementNS(this.kmlns, "name"),
                c = this.createTextNode(this.foldersName);
            b.appendChild(c);
            a.appendChild(b)
        }
        this.foldersDesc &&
            (b = this.createElementNS(this.kmlns, "description"), c = this.createTextNode(this.foldersDesc), b.appendChild(c), a.appendChild(b));
        return a
    },
    createPlacemarkXML: function (a) {
        var b = this.createElementNS(this.kmlns, "name"),
            c = a.style && a.style.label ? a.style.label : a.id;
        b.appendChild(this.createTextNode(a.attributes.name || c));
        var d = this.createElementNS(this.kmlns, "description");
        d.appendChild(this.createTextNode(a.attributes.description || this.placemarksDesc));
        c = this.createElementNS(this.kmlns, "Placemark");
        null !=
            a.fid && c.setAttribute("id", a.fid);
        c.appendChild(b);
        c.appendChild(d);
        b = this.buildGeometryNode(a.geometry);
        c.appendChild(b);
        a.attributes && (a = this.buildExtendedData(a.attributes)) && c.appendChild(a);
        return c
    },
    buildGeometryNode: function (a) {
        var b = a.CLASS_NAME,
            b = b.substring(b.lastIndexOf(".") + 1),
            b = this.buildGeometry[b.toLowerCase()],
            c = null;
        b && (c = b.apply(this, [a]));
        return c
    },
    buildGeometry: {
        point: function (a) {
            var b = this.createElementNS(this.kmlns, "Point");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        multipoint: function (a) {
            return this.buildGeometry.collection.apply(this, [a])
        },
        linestring: function (a) {
            var b = this.createElementNS(this.kmlns, "LineString");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        multilinestring: function (a) {
            return this.buildGeometry.collection.apply(this, [a])
        },
        linearring: function (a) {
            var b = this.createElementNS(this.kmlns, "LinearRing");
            b.appendChild(this.buildCoordinatesNode(a));
            return b
        },
        polygon: function (a) {
            var b = this.createElementNS(this.kmlns, "Polygon");
            a = a.components;
            for (var c, d, e = 0, f = a.length; e < f; ++e) c = 0 == e ? "outerBoundaryIs" : "innerBoundaryIs", c = this.createElementNS(this.kmlns, c), d = this.buildGeometry.linearring.apply(this, [a[e]]), c.appendChild(d), b.appendChild(c);
            return b
        },
        multipolygon: function (a) {
            return this.buildGeometry.collection.apply(this, [a])
        },
        collection: function (a) {
            for (var b = this.createElementNS(this.kmlns, "MultiGeometry"), c, d = 0, e = a.components.length; d < e; ++d)(c = this.buildGeometryNode.apply(this, [a.components[d]])) && b.appendChild(c);
            return b
        }
    },
    buildCoordinatesNode: function (a) {
        var b =
            this.createElementNS(this.kmlns, "coordinates"),
            c;
        if (c = a.components) {
            for (var d = c.length, e = Array(d), f = 0; f < d; ++f) a = c[f], e[f] = this.buildCoordinates(a);
            c = e.join(" ")
        } else c = this.buildCoordinates(a);
        c = this.createTextNode(c);
        b.appendChild(c);
        return b
    },
    buildCoordinates: function (a) {
        this.internalProjection && this.externalProjection && (a = a.clone(), a.transform(this.internalProjection, this.externalProjection));
        return a.x + "," + a.y
    },
    buildExtendedData: function (a) {
        var b = this.createElementNS(this.kmlns, "ExtendedData"),
            c;
        for (c in a)
            if (a[c] && "name" != c && "description" != c && "styleUrl" != c) {
                var d = this.createElementNS(this.kmlns, "Data");
                d.setAttribute("name", c);
                var e = this.createElementNS(this.kmlns, "value");
                if ("object" == typeof a[c]) {
                    if (a[c].value && e.appendChild(this.createTextNode(a[c].value)), a[c].displayName) {
                        var f = this.createElementNS(this.kmlns, "displayName");
                        f.appendChild(this.getXMLDoc().createCDATASection(a[c].displayName));
                        d.appendChild(f)
                    }
                } else e.appendChild(this.createTextNode(a[c]));
                d.appendChild(e);
                b.appendChild(d)
            } return this.isSimpleContent(b) ?
            null : b
    },
    CLASS_NAME: "OpenLayers.Format.KML"
});
OpenLayers.Format.WMSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.1.1",
    profile: null,
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities"
});
OpenLayers.Format.WMSCapabilities.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        wms: "https://www.opengis.net/wms",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    defaultPrefix: "wms",
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = a;
        a && 9 == a.nodeType && (a = a.documentElement);
        var c = {};
        this.readNode(a, c);
        void 0 === c.service && (a = new OpenLayers.Format.OGCExceptionReport, c.error = a.read(b));
        return c
    },
    readers: {
        wms: {
            Service: function (a,
                b) {
                b.service = {};
                this.readChildNodes(a, b.service)
            },
            Name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            Title: function (a, b) {
                b.title = this.getChildValue(a)
            },
            Abstract: function (a, b) {
                b["abstract"] = this.getChildValue(a)
            },
            BoundingBox: function (a, b) {
                var c = {};
                c.bbox = [parseFloat(a.getAttribute("minx")), parseFloat(a.getAttribute("miny")), parseFloat(a.getAttribute("maxx")), parseFloat(a.getAttribute("maxy"))];
                var d = {
                    x: parseFloat(a.getAttribute("resx")),
                    y: parseFloat(a.getAttribute("resy"))
                };
                isNaN(d.x) && isNaN(d.y) || (c.res =
                    d);
                return c
            },
            OnlineResource: function (a, b) {
                b.href = this.getAttributeNS(a, this.namespaces.xlink, "href")
            },
            ContactInformation: function (a, b) {
                b.contactInformation = {};
                this.readChildNodes(a, b.contactInformation)
            },
            ContactPersonPrimary: function (a, b) {
                b.personPrimary = {};
                this.readChildNodes(a, b.personPrimary)
            },
            ContactPerson: function (a, b) {
                b.person = this.getChildValue(a)
            },
            ContactOrganization: function (a, b) {
                b.organization = this.getChildValue(a)
            },
            ContactPosition: function (a, b) {
                b.position = this.getChildValue(a)
            },
            ContactAddress: function (a,
                b) {
                b.contactAddress = {};
                this.readChildNodes(a, b.contactAddress)
            },
            AddressType: function (a, b) {
                b.type = this.getChildValue(a)
            },
            Address: function (a, b) {
                b.address = this.getChildValue(a)
            },
            City: function (a, b) {
                b.city = this.getChildValue(a)
            },
            StateOrProvince: function (a, b) {
                b.stateOrProvince = this.getChildValue(a)
            },
            PostCode: function (a, b) {
                b.postcode = this.getChildValue(a)
            },
            Country: function (a, b) {
                b.country = this.getChildValue(a)
            },
            ContactVoiceTelephone: function (a, b) {
                b.phone = this.getChildValue(a)
            },
            ContactFacsimileTelephone: function (a,
                b) {
                b.fax = this.getChildValue(a)
            },
            ContactElectronicMailAddress: function (a, b) {
                b.email = this.getChildValue(a)
            },
            Fees: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.fees = c)
            },
            AccessConstraints: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.accessConstraints = c)
            },
            Capability: function (a, b) {
                b.capability = {
                    nestedLayers: [],
                    layers: []
                };
                this.readChildNodes(a, b.capability)
            },
            Request: function (a, b) {
                b.request = {};
                this.readChildNodes(a, b.request)
            },
            GetCapabilities: function (a,
                b) {
                b.getcapabilities = {
                    formats: []
                };
                this.readChildNodes(a, b.getcapabilities)
            },
            Format: function (a, b) {
                OpenLayers.Util.isArray(b.formats) ? b.formats.push(this.getChildValue(a)) : b.format = this.getChildValue(a)
            },
            DCPType: function (a, b) {
                this.readChildNodes(a, b)
            },
            https: function (a, b) {
                this.readChildNodes(a, b)
            },
            Get: function (a, b) {
                b.get = {};
                this.readChildNodes(a, b.get);
                b.href || (b.href = b.get.href)
            },
            Post: function (a, b) {
                b.post = {};
                this.readChildNodes(a, b.post);
                b.href || (b.href = b.get.href)
            },
            GetMap: function (a, b) {
                b.getmap = {
                    formats: []
                };
                this.readChildNodes(a, b.getmap)
            },
            GetFeatureInfo: function (a, b) {
                b.getfeatureinfo = {
                    formats: []
                };
                this.readChildNodes(a, b.getfeatureinfo)
            },
            Exception: function (a, b) {
                b.exception = {
                    formats: []
                };
                this.readChildNodes(a, b.exception)
            },
            Layer: function (a, b) {
                var c, d;
                b.capability ? (d = b.capability, c = b) : d = b;
                var e = a.getAttributeNode("queryable"),
                    f = e && e.specified ? a.getAttribute("queryable") : null,
                    g = (e = a.getAttributeNode("cascaded")) && e.specified ? a.getAttribute("cascaded") : null,
                    e = (e = a.getAttributeNode("opaque")) && e.specified ?
                    a.getAttribute("opaque") : null,
                    h = a.getAttribute("noSubsets"),
                    k = a.getAttribute("fixedWidth"),
                    l = a.getAttribute("fixedHeight"),
                    m = c || {},
                    n = OpenLayers.Util.extend;
                c = {
                    nestedLayers: [],
                    styles: c ? [].concat(c.styles) : [],
                    srs: c ? n({}, m.srs) : {},
                    metadataURLs: [],
                    bbox: c ? n({}, m.bbox) : {},
                    llbbox: m.llbbox,
                    dimensions: c ? n({}, m.dimensions) : {},
                    authorityURLs: c ? n({}, m.authorityURLs) : {},
                    identifiers: {},
                    keywords: [],
                    queryable: f && "" !== f ? "1" === f || "true" === f : m.queryable || !1,
                    cascaded: null !== g ? parseInt(g) : m.cascaded || 0,
                    opaque: e ? "1" ===
                        e || "true" === e : m.opaque || !1,
                    noSubsets: null !== h ? "1" === h || "true" === h : m.noSubsets || !1,
                    fixedWidth: null != k ? parseInt(k) : m.fixedWidth || 0,
                    fixedHeight: null != l ? parseInt(l) : m.fixedHeight || 0,
                    minScale: m.minScale,
                    maxScale: m.maxScale,
                    attribution: m.attribution
                };
                b.nestedLayers.push(c);
                c.capability = d;
                this.readChildNodes(a, c);
                delete c.capability;
                c.name && (f = c.name.split(":"), g = d.request, e = g.getfeatureinfo, 0 < f.length && (c.prefix = f[0]), d.layers.push(c), void 0 === c.formats && (c.formats = g.getmap.formats), void 0 === c.infoFormats &&
                    e && (c.infoFormats = e.formats))
            },
            Attribution: function (a, b) {
                b.attribution = {};
                this.readChildNodes(a, b.attribution)
            },
            LogoURL: function (a, b) {
                b.logo = {
                    width: a.getAttribute("width"),
                    height: a.getAttribute("height")
                };
                this.readChildNodes(a, b.logo)
            },
            Style: function (a, b) {
                var c = {};
                b.styles.push(c);
                this.readChildNodes(a, c)
            },
            LegendURL: function (a, b) {
                var c = {
                    width: a.getAttribute("width"),
                    height: a.getAttribute("height")
                };
                b.legend = c;
                this.readChildNodes(a, c)
            },
            MetadataURL: function (a, b) {
                var c = {
                    type: a.getAttribute("type")
                };
                b.metadataURLs.push(c);
                this.readChildNodes(a, c)
            },
            DataURL: function (a, b) {
                b.dataURL = {};
                this.readChildNodes(a, b.dataURL)
            },
            FeatureListURL: function (a, b) {
                b.featureListURL = {};
                this.readChildNodes(a, b.featureListURL)
            },
            AuthorityURL: function (a, b) {
                var c = a.getAttribute("name"),
                    d = {};
                this.readChildNodes(a, d);
                b.authorityURLs[c] = d.href
            },
            Identifier: function (a, b) {
                var c = a.getAttribute("authority");
                b.identifiers[c] = this.getChildValue(a)
            },
            KeywordList: function (a, b) {
                this.readChildNodes(a, b)
            },
            SRS: function (a, b) {
                b.srs[this.getChildValue(a)] = !0
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1"
});
OpenLayers.Format.WMSCapabilities.v1_1 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1, {
    readers: {
        wms: OpenLayers.Util.applyDefaults({
            WMT_MS_Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            Keyword: function (a, b) {
                b.keywords && b.keywords.push(this.getChildValue(a))
            },
            DescribeLayer: function (a, b) {
                b.describelayer = {
                    formats: []
                };
                this.readChildNodes(a, b.describelayer)
            },
            GetLegendGraphic: function (a, b) {
                b.getlegendgraphic = {
                    formats: []
                };
                this.readChildNodes(a, b.getlegendgraphic)
            },
            GetStyles: function (a, b) {
                b.getstyles = {
                    formats: []
                };
                this.readChildNodes(a, b.getstyles)
            },
            PutStyles: function (a, b) {
                b.putstyles = {
                    formats: []
                };
                this.readChildNodes(a, b.putstyles)
            },
            UserDefinedSymbolization: function (a, b) {
                var c = {
                    supportSLD: 1 == parseInt(a.getAttribute("SupportSLD")),
                    userLayer: 1 == parseInt(a.getAttribute("UserLayer")),
                    userStyle: 1 == parseInt(a.getAttribute("UserStyle")),
                    remoteWFS: 1 == parseInt(a.getAttribute("RemoteWFS"))
                };
                b.userSymbols = c
            },
            LatLonBoundingBox: function (a, b) {
                b.llbbox = [parseFloat(a.getAttribute("minx")), parseFloat(a.getAttribute("miny")),
                    parseFloat(a.getAttribute("maxx")), parseFloat(a.getAttribute("maxy"))
                ]
            },
            BoundingBox: function (a, b) {
                var c = OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this, [a, b]);
                c.srs = a.getAttribute("SRS");
                b.bbox[c.srs] = c
            },
            ScaleHint: function (a, b) {
                var c = a.getAttribute("min"),
                    d = a.getAttribute("max"),
                    e = Math.pow(2, 0.5),
                    f = OpenLayers.INCHES_PER_UNIT.m;
                0 != c && (b.maxScale = parseFloat((c / e * f * OpenLayers.DOTS_PER_INCH).toPrecision(13)));
                d != Number.POSITIVE_INFINITY && (b.minScale = parseFloat((d / e * f *
                    OpenLayers.DOTS_PER_INCH).toPrecision(13)))
            },
            Dimension: function (a, b) {
                var c = {
                    name: a.getAttribute("name").toLowerCase(),
                    units: a.getAttribute("units"),
                    unitsymbol: a.getAttribute("unitSymbol")
                };
                b.dimensions[c.name] = c
            },
            Extent: function (a, b) {
                var c = a.getAttribute("name").toLowerCase();
                if (c in b.dimensions) {
                    c = b.dimensions[c];
                    c.nearestVal = "1" === a.getAttribute("nearestValue");
                    c.multipleVal = "1" === a.getAttribute("multipleValues");
                    c.current = "1" === a.getAttribute("current");
                    c["default"] = a.getAttribute("default") ||
                        "";
                    var d = this.getChildValue(a);
                    c.values = d.split(",")
                }
            }
        }, OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms)
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_1"
});
OpenLayers.Format.WMSCapabilities.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1, {
    version: "1.1.0",
    readers: {
        wms: OpenLayers.Util.applyDefaults({
            SRS: function (a, b) {
                for (var c = this.getChildValue(a).split(/ +/), d = 0, e = c.length; d < e; d++) b.srs[c[d]] = !0
            }
        }, OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_1_0"
});
OpenLayers.Protocol.WFS.v1 = OpenLayers.Class(OpenLayers.Protocol, {
    version: null,
    srsName: "EPSG:4326",
    featureType: null,
    featureNS: null,
    geometryName: "the_geom",
    schema: null,
    featurePrefix: "feature",
    formatOptions: null,
    readFormat: null,
    readOptions: null,
    initialize: function (a) {
        OpenLayers.Protocol.prototype.initialize.apply(this, [a]);
        a.format || (this.format = OpenLayers.Format.WFST(OpenLayers.Util.extend({
            version: this.version,
            featureType: this.featureType,
            featureNS: this.featureNS,
            featurePrefix: this.featurePrefix,
            geometryName: this.geometryName,
            srsName: this.srsName,
            schema: this.schema
        }, this.formatOptions)));
        !a.geometryName && 1 < parseFloat(this.format.version) && this.setGeometryName(null)
    },
    destroy: function () {
        this.options && !this.options.format && this.format.destroy();
        this.format = null;
        OpenLayers.Protocol.prototype.destroy.apply(this)
    },
    read: function (a) {
        OpenLayers.Protocol.prototype.read.apply(this, arguments);
        a = OpenLayers.Util.extend({}, a);
        OpenLayers.Util.applyDefaults(a, this.options || {});
        var b = new OpenLayers.Protocol.Response({
                requestType: "read"
            }),
            c = OpenLayers.Format.XML.prototype.write.apply(this.format, [this.format.writeNode("wfs:GetFeature", a)]);
        b.priv = OpenLayers.Request.POST({
            url: a.url,
            callback: this.createCallback(this.handleRead, b, a),
            params: a.params,
            headers: a.headers,
            data: c
        });
        return b
    },
    setFeatureType: function (a) {
        this.featureType = a;
        this.format.featureType = a
    },
    setGeometryName: function (a) {
        this.geometryName = a;
        this.format.geometryName = a
    },
    handleRead: function (a, b) {
        b = OpenLayers.Util.extend({}, b);
        OpenLayers.Util.applyDefaults(b, this.options);
        if (b.callback) {
            var c =
                a.priv;
            200 <= c.status && 300 > c.status ? (c = this.parseResponse(c, b.readOptions)) && !1 !== c.success ? (b.readOptions && "object" == b.readOptions.output ? OpenLayers.Util.extend(a, c) : a.features = c, a.code = OpenLayers.Protocol.Response.SUCCESS) : (a.code = OpenLayers.Protocol.Response.FAILURE, a.error = c) : a.code = OpenLayers.Protocol.Response.FAILURE;
            b.callback.call(b.scope, a)
        }
    },
    parseResponse: function (a, b) {
        var c = a.responseXML;
        c && c.documentElement || (c = a.responseText);
        if (!c || 0 >= c.length) return null;
        c = null !== this.readFormat ? this.readFormat.read(c) :
            this.format.read(c, b);
        if (!this.featureNS) {
            var d = this.readFormat || this.format;
            this.featureNS = d.featureNS;
            d.autoConfig = !1;
            this.geometryName || this.setGeometryName(d.geometryName)
        }
        return c
    },
    commit: function (a, b) {
        b = OpenLayers.Util.extend({}, b);
        OpenLayers.Util.applyDefaults(b, this.options);
        var c = new OpenLayers.Protocol.Response({
            requestType: "commit",
            reqFeatures: a
        });
        c.priv = OpenLayers.Request.POST({
            url: b.url,
            headers: b.headers,
            data: this.format.write(a, b),
            callback: this.createCallback(this.handleCommit, c, b)
        });
        return c
    },
    handleCommit: function (a, b) {
        if (b.callback) {
            var c = a.priv,
                d = c.responseXML;
            d && d.documentElement || (d = c.responseText);
            c = this.format.read(d) || {};
            a.insertIds = c.insertIds || [];
            c.success ? a.code = OpenLayers.Protocol.Response.SUCCESS : (a.code = OpenLayers.Protocol.Response.FAILURE, a.error = c);
            b.callback.call(b.scope, a)
        }
    },
    filterDelete: function (a, b) {
        b = OpenLayers.Util.extend({}, b);
        OpenLayers.Util.applyDefaults(b, this.options);
        new OpenLayers.Protocol.Response({
            requestType: "commit"
        });
        var c = this.format.createElementNSPlus("wfs:Transaction", {
                attributes: {
                    service: "WFS",
                    version: this.version
                }
            }),
            d = this.format.createElementNSPlus("wfs:Delete", {
                attributes: {
                    typeName: (b.featureNS ? this.featurePrefix + ":" : "") + b.featureType
                }
            });
        b.featureNS && d.setAttribute("xmlns:" + this.featurePrefix, b.featureNS);
        var e = this.format.writeNode("ogc:Filter", a);
        d.appendChild(e);
        c.appendChild(d);
        c = OpenLayers.Format.XML.prototype.write.apply(this.format, [c]);
        return OpenLayers.Request.POST({
            url: this.url,
            callback: b.callback || function () {},
            data: c
        })
    },
    abort: function (a) {
        a && a.priv.abort()
    },
    CLASS_NAME: "OpenLayers.Protocol.WFS.v1"
});
OpenLayers.Handler.Feature = OpenLayers.Class(OpenLayers.Handler, {
    EVENTMAP: {
        click: {
            "in": "click",
            out: "clickout"
        },
        mousemove: {
            "in": "over",
            out: "out"
        },
        dblclick: {
            "in": "dblclick",
            out: null
        },
        mousedown: {
            "in": null,
            out: null
        },
        mouseup: {
            "in": null,
            out: null
        },
        touchstart: {
            "in": "click",
            out: "clickout"
        }
    },
    feature: null,
    lastFeature: null,
    down: null,
    up: null,
    clickTolerance: 4,
    geometryTypes: null,
    stopClick: !0,
    stopDown: !0,
    stopUp: !1,
    initialize: function (a, b, c, d) {
        OpenLayers.Handler.prototype.initialize.apply(this, [a, c, d]);
        this.layer =
            b
    },
    touchstart: function (a) {
        this.startTouch();
        return OpenLayers.Event.isMultiTouch(a) ? !0 : this.mousedown(a)
    },
    touchmove: function (a) {
        OpenLayers.Event.preventDefault(a)
    },
    mousedown: function (a) {
        if (OpenLayers.Event.isLeftClick(a) || OpenLayers.Event.isSingleTouch(a)) this.down = a.xy;
        return this.handle(a) ? !this.stopDown : !0
    },
    mouseup: function (a) {
        this.up = a.xy;
        return this.handle(a) ? !this.stopUp : !0
    },
    click: function (a) {
        return this.handle(a) ? !this.stopClick : !0
    },
    mousemove: function (a) {
        if (!this.callbacks.over && !this.callbacks.out) return !0;
        this.handle(a);
        return !0
    },
    dblclick: function (a) {
        return !this.handle(a)
    },
    geometryTypeMatches: function (a) {
        return null == this.geometryTypes || -1 < OpenLayers.Util.indexOf(this.geometryTypes, a.geometry.CLASS_NAME)
    },
    handle: function (a) {
        this.feature && !this.feature.layer && (this.feature = null);
        var b = a.type,
            c = !1,
            d = !!this.feature,
            e = "click" == b || "dblclick" == b || "touchstart" == b;
        (this.feature = this.layer.getFeatureFromEvent(a)) && !this.feature.layer && (this.feature = null);
        this.lastFeature && !this.lastFeature.layer && (this.lastFeature =
            null);
        this.feature ? ("touchstart" === b && OpenLayers.Event.preventDefault(a), a = this.feature != this.lastFeature, this.geometryTypeMatches(this.feature) ? (d && a ? (this.lastFeature && this.triggerCallback(b, "out", [this.lastFeature]), this.triggerCallback(b, "in", [this.feature])) : d && !e || this.triggerCallback(b, "in", [this.feature]), this.lastFeature = this.feature, c = !0) : (this.lastFeature && (d && a || e) && this.triggerCallback(b, "out", [this.lastFeature]), this.feature = null)) : this.lastFeature && (d || e) && this.triggerCallback(b, "out",
            [this.lastFeature]);
        return c
    },
    triggerCallback: function (a, b, c) {
        if (b = this.EVENTMAP[a][b]) "click" == a && this.up && this.down ? (Math.sqrt(Math.pow(this.up.x - this.down.x, 2) + Math.pow(this.up.y - this.down.y, 2)) <= this.clickTolerance && this.callback(b, c), this.up = this.down = null) : this.callback(b, c)
    },
    activate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.moveLayerToTop(), this.map.events.on({
            removelayer: this.handleMapEvents,
            changelayer: this.handleMapEvents,
            scope: this
        }), a = !0);
        return a
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.moveLayerBack(), this.up = this.down = this.lastFeature = this.feature = null, this.map.events.un({
            removelayer: this.handleMapEvents,
            changelayer: this.handleMapEvents,
            scope: this
        }), a = !0);
        return a
    },
    handleMapEvents: function (a) {
        "removelayer" != a.type && "order" != a.property || this.moveLayerToTop()
    },
    moveLayerToTop: function () {
        var a = Math.max(this.map.Z_INDEX_BASE.Feature - 1, this.layer.getZIndex()) + 1;
        this.layer.setZIndex(a)
    },
    moveLayerBack: function () {
        var a = this.layer.getZIndex() - 1;
        a >= this.map.Z_INDEX_BASE.Feature ? this.layer.setZIndex(a) : this.map.setLayerZIndex(this.layer, this.map.getLayerIndex(this.layer))
    },
    CLASS_NAME: "OpenLayers.Handler.Feature"
});
OpenLayers.Layer.Vector.RootContainer = OpenLayers.Class(OpenLayers.Layer.Vector, {
    displayInLayerSwitcher: !1,
    layers: null,
    display: function () {},
    getFeatureFromEvent: function (a) {
        for (var b = this.layers, c, d = 0; d < b.length; d++)
            if (c = b[d].getFeatureFromEvent(a)) return c
    },
    setMap: function (a) {
        OpenLayers.Layer.Vector.prototype.setMap.apply(this, arguments);
        this.collectRoots();
        a.events.register("changelayer", this, this.handleChangeLayer)
    },
    removeMap: function (a) {
        a.events.unregister("changelayer", this, this.handleChangeLayer);
        this.resetRoots();
        OpenLayers.Layer.Vector.prototype.removeMap.apply(this, arguments)
    },
    collectRoots: function () {
        for (var a, b = 0; b < this.map.layers.length; ++b) a = this.map.layers[b], -1 != OpenLayers.Util.indexOf(this.layers, a) && a.renderer.moveRoot(this.renderer)
    },
    resetRoots: function () {
        for (var a, b = 0; b < this.layers.length; ++b) a = this.layers[b], this.renderer && a.renderer.getRenderLayerId() == this.id && this.renderer.moveRoot(a.renderer)
    },
    handleChangeLayer: function (a) {
        var b = a.layer;
        "order" == a.property && -1 != OpenLayers.Util.indexOf(this.layers,
            b) && (this.resetRoots(), this.collectRoots())
    },
    CLASS_NAME: "OpenLayers.Layer.Vector.RootContainer"
});
OpenLayers.Control.SelectFeature = OpenLayers.Class(OpenLayers.Control, {
    multipleKey: null,
    toggleKey: null,
    multiple: !1,
    clickout: !0,
    toggle: !1,
    hover: !1,
    highlightOnly: !1,
    box: !1,
    onBeforeSelect: function () {},
    onSelect: function () {},
    onUnselect: function () {},
    scope: null,
    geometryTypes: null,
    layer: null,
    layers: null,
    callbacks: null,
    selectStyle: null,
    renderIntent: "select",
    handlers: null,
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        null === this.scope && (this.scope = this);
        this.initLayer(a);
        var c = {
            click: this.clickFeature,
            clickout: this.clickoutFeature
        };
        this.hover && (c.over = this.overFeature, c.out = this.outFeature);
        this.callbacks = OpenLayers.Util.extend(c, this.callbacks);
        this.handlers = {
            feature: new OpenLayers.Handler.Feature(this, this.layer, this.callbacks, {
                geometryTypes: this.geometryTypes
            })
        };
        this.box && (this.handlers.box = new OpenLayers.Handler.Box(this, {
            done: this.selectBox
        }, {
            boxDivClassName: "olHandlerBoxSelectFeature"
        }))
    },
    initLayer: function (a) {
        OpenLayers.Util.isArray(a) ? (this.layers = a, this.layer =
            new OpenLayers.Layer.Vector.RootContainer(this.id + "_container", {
                layers: a
            })) : this.layer = a
    },
    destroy: function () {
        this.active && this.layers && this.map.removeLayer(this.layer);
        OpenLayers.Control.prototype.destroy.apply(this, arguments);
        this.layers && this.layer.destroy()
    },
    activate: function () {
        this.active || (this.layers && this.map.addLayer(this.layer), this.handlers.feature.activate(), this.box && this.handlers.box && this.handlers.box.activate());
        return OpenLayers.Control.prototype.activate.apply(this, arguments)
    },
    deactivate: function () {
        this.active &&
            (this.handlers.feature.deactivate(), this.handlers.box && this.handlers.box.deactivate(), this.layers && this.map.removeLayer(this.layer));
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    unselectAll: function (a) {
        var b = this.layers || [this.layer],
            c, d, e, f;
        for (e = 0; e < b.length; ++e)
            if (c = b[e], f = 0, null != c.selectedFeatures)
                for (; c.selectedFeatures.length > f;) d = c.selectedFeatures[f], a && a.except == d ? ++f : this.unselect(d)
    },
    clickFeature: function (a) {
        this.hover || (-1 < OpenLayers.Util.indexOf(a.layer.selectedFeatures,
            a) ? this.toggleSelect() ? this.unselect(a) : this.multipleSelect() || this.unselectAll({
            except: a
        }) : (this.multipleSelect() || this.unselectAll({
            except: a
        }), this.select(a)))
    },
    multipleSelect: function () {
        return this.multiple || this.handlers.feature.evt && this.handlers.feature.evt[this.multipleKey]
    },
    toggleSelect: function () {
        return this.toggle || this.handlers.feature.evt && this.handlers.feature.evt[this.toggleKey]
    },
    clickoutFeature: function (a) {
        !this.hover && this.clickout && this.unselectAll()
    },
    overFeature: function (a) {
        var b =
            a.layer;
        this.hover && (this.highlightOnly ? this.highlight(a) : -1 == OpenLayers.Util.indexOf(b.selectedFeatures, a) && this.select(a))
    },
    outFeature: function (a) {
        if (this.hover)
            if (this.highlightOnly) {
                if (a._lastHighlighter == this.id)
                    if (a._prevHighlighter && a._prevHighlighter != this.id) {
                        delete a._lastHighlighter;
                        var b = this.map.getControl(a._prevHighlighter);
                        b && b.highlight(a)
                    } else this.unhighlight(a)
            } else this.unselect(a)
    },
    highlight: function (a) {
        var b = a.layer;
        !1 !== this.events.triggerEvent("beforefeaturehighlighted", {
                feature: a
            }) &&
            (a._prevHighlighter = a._lastHighlighter, a._lastHighlighter = this.id, b.drawFeature(a, this.selectStyle || this.renderIntent), this.events.triggerEvent("featurehighlighted", {
                feature: a
            }))
    },
    unhighlight: function (a) {
        var b = a.layer;
        void 0 == a._prevHighlighter ? delete a._lastHighlighter : (a._prevHighlighter != this.id && (a._lastHighlighter = a._prevHighlighter), delete a._prevHighlighter);
        b.drawFeature(a, a.style || a.layer.style || "default");
        this.events.triggerEvent("featureunhighlighted", {
            feature: a
        })
    },
    select: function (a) {
        var b =
            this.onBeforeSelect.call(this.scope, a),
            c = a.layer;
        !1 !== b && (b = c.events.triggerEvent("beforefeatureselected", {
            feature: a
        }), !1 !== b && (c.selectedFeatures.push(a), this.highlight(a), this.handlers.feature.lastFeature || (this.handlers.feature.lastFeature = c.selectedFeatures[0]), c.events.triggerEvent("featureselected", {
            feature: a
        }), this.onSelect.call(this.scope, a)))
    },
    unselect: function (a) {
        var b = a.layer;
        this.unhighlight(a);
        OpenLayers.Util.removeItem(b.selectedFeatures, a);
        b.events.triggerEvent("featureunselected", {
            feature: a
        });
        this.onUnselect.call(this.scope, a)
    },
    selectBox: function (a) {
        if (a instanceof OpenLayers.Bounds) {
            var b = this.map.getLonLatFromPixel({
                x: a.left,
                y: a.bottom
            });
            a = this.map.getLonLatFromPixel({
                x: a.right,
                y: a.top
            });
            b = new OpenLayers.Bounds(b.lon, b.lat, a.lon, a.lat);
            this.multipleSelect() || this.unselectAll();
            a = this.multiple;
            this.multiple = !0;
            var c = this.layers || [this.layer];
            this.events.triggerEvent("boxselectionstart", {
                layers: c
            });
            for (var d, e = 0; e < c.length; ++e) {
                d = c[e];
                for (var f = 0, g = d.features.length; f < g; ++f) {
                    var h =
                        d.features[f];
                    h.getVisibility() && (null == this.geometryTypes || -1 < OpenLayers.Util.indexOf(this.geometryTypes, h.geometry.CLASS_NAME)) && b.toGeometry().intersects(h.geometry) && -1 == OpenLayers.Util.indexOf(d.selectedFeatures, h) && this.select(h)
                }
            }
            this.multiple = a;
            this.events.triggerEvent("boxselectionend", {
                layers: c
            })
        }
    },
    setMap: function (a) {
        this.handlers.feature.setMap(a);
        this.box && this.handlers.box.setMap(a);
        OpenLayers.Control.prototype.setMap.apply(this, arguments)
    },
    setLayer: function (a) {
        var b = this.active;
        this.unselectAll();
        this.deactivate();
        this.layers && (this.layer.destroy(), this.layers = null);
        this.initLayer(a);
        this.handlers.feature.layer = this.layer;
        b && this.activate()
    },
    CLASS_NAME: "OpenLayers.Control.SelectFeature"
});
OpenLayers.Handler.Point = OpenLayers.Class(OpenLayers.Handler, {
    point: null,
    layer: null,
    multi: !1,
    citeCompliant: !1,
    mouseDown: !1,
    stoppedDown: null,
    lastDown: null,
    lastUp: null,
    persist: !1,
    stopDown: !1,
    stopUp: !1,
    layerOptions: null,
    pixelTolerance: 5,
    lastTouchPx: null,
    initialize: function (a, b, c) {
        c && c.layerOptions && c.layerOptions.styleMap || (this.style = OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"], {}));
        OpenLayers.Handler.prototype.initialize.apply(this, arguments)
    },
    activate: function () {
        if (!OpenLayers.Handler.prototype.activate.apply(this,
                arguments)) return !1;
        var a = OpenLayers.Util.extend({
            displayInLayerSwitcher: !1,
            calculateInRange: OpenLayers.Function.True,
            wrapDateLine: this.citeCompliant
        }, this.layerOptions);
        this.layer = new OpenLayers.Layer.Vector(this.CLASS_NAME, a);
        this.map.addLayer(this.layer);
        return !0
    },
    createFeature: function (a) {
        a = this.layer.getLonLatFromViewPortPx(a);
        a = new OpenLayers.Geometry.Point(a.lon, a.lat);
        this.point = new OpenLayers.Feature.Vector(a);
        this.callback("create", [this.point.geometry, this.point]);
        this.point.geometry.clearBounds();
        this.layer.addFeatures([this.point], {
            silent: !0
        })
    },
    deactivate: function () {
        if (!OpenLayers.Handler.prototype.deactivate.apply(this, arguments)) return !1;
        this.cancel();
        null != this.layer.map && (this.destroyFeature(!0), this.layer.destroy(!1));
        this.layer = null;
        return !0
    },
    destroyFeature: function (a) {
        !this.layer || !a && this.persist || this.layer.destroyFeatures();
        this.point = null
    },
    destroyPersistedFeature: function () {
        var a = this.layer;
        a && 1 < a.features.length && this.layer.features[0].destroy()
    },
    finalize: function (a) {
        this.mouseDown = !1;
        this.lastTouchPx = this.lastUp = this.lastDown = null;
        this.callback(a ? "cancel" : "done", [this.geometryClone()]);
        this.destroyFeature(a)
    },
    cancel: function () {
        this.finalize(!0)
    },
    click: function (a) {
        OpenLayers.Event.stop(a);
        return !1
    },
    dblclick: function (a) {
        OpenLayers.Event.stop(a);
        return !1
    },
    modifyFeature: function (a) {
        this.point || this.createFeature(a);
        a = this.layer.getLonLatFromViewPortPx(a);
        this.point.geometry.x = a.lon;
        this.point.geometry.y = a.lat;
        this.callback("modify", [this.point.geometry, this.point, !1]);
        this.point.geometry.clearBounds();
        this.drawFeature()
    },
    drawFeature: function () {
        this.layer.drawFeature(this.point, this.style)
    },
    getGeometry: function () {
        var a = this.point && this.point.geometry;
        a && this.multi && (a = new OpenLayers.Geometry.MultiPoint([a]));
        return a
    },
    geometryClone: function () {
        var a = this.getGeometry();
        return a && a.clone()
    },
    mousedown: function (a) {
        return this.down(a)
    },
    touchstart: function (a) {
        this.startTouch();
        this.lastTouchPx = a.xy;
        return this.down(a)
    },
    mousemove: function (a) {
        return this.move(a)
    },
    touchmove: function (a) {
        this.lastTouchPx = a.xy;
        return this.move(a)
    },
    mouseup: function (a) {
        return this.up(a)
    },
    touchend: function (a) {
        a.xy = this.lastTouchPx;
        return this.up(a)
    },
    down: function (a) {
        this.mouseDown = !0;
        this.lastDown = a.xy;
        this.touch || this.modifyFeature(a.xy);
        this.stoppedDown = this.stopDown;
        return !this.stopDown
    },
    move: function (a) {
        this.touch || this.mouseDown && !this.stoppedDown || this.modifyFeature(a.xy);
        return !0
    },
    up: function (a) {
        this.mouseDown = !1;
        this.stoppedDown = this.stopDown;
        if (!this.checkModifiers(a) || this.lastUp && this.lastUp.equals(a.xy) || !this.lastDown ||
            !this.passesTolerance(this.lastDown, a.xy, this.pixelTolerance)) return !0;
        this.touch && this.modifyFeature(a.xy);
        this.persist && this.destroyPersistedFeature();
        this.lastUp = a.xy;
        this.finalize();
        return !this.stopUp
    },
    mouseout: function (a) {
        OpenLayers.Util.mouseLeft(a, this.map.viewPortDiv) && (this.stoppedDown = this.stopDown, this.mouseDown = !1)
    },
    passesTolerance: function (a, b, c) {
        var d = !0;
        null != c && a && b && a.distanceTo(b) > c && (d = !1);
        return d
    },
    CLASS_NAME: "OpenLayers.Handler.Point"
});
OpenLayers.Handler.Path = OpenLayers.Class(OpenLayers.Handler.Point, {
    line: null,
    maxVertices: null,
    doubleTouchTolerance: 20,
    freehand: !1,
    freehandToggle: "shiftKey",
    timerId: null,
    redoStack: null,
    createFeature: function (a) {
        a = this.layer.getLonLatFromViewPortPx(a);
        a = new OpenLayers.Geometry.Point(a.lon, a.lat);
        this.point = new OpenLayers.Feature.Vector(a);
        this.line = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([this.point.geometry]));
        this.callback("create", [this.point.geometry, this.getSketch()]);
        this.point.geometry.clearBounds();
        this.layer.addFeatures([this.line, this.point], {
            silent: !0
        })
    },
    destroyFeature: function (a) {
        OpenLayers.Handler.Point.prototype.destroyFeature.call(this, a);
        this.line = null
    },
    destroyPersistedFeature: function () {
        var a = this.layer;
        a && 2 < a.features.length && this.layer.features[0].destroy()
    },
    removePoint: function () {
        this.point && this.layer.removeFeatures([this.point])
    },
    addPoint: function (a) {
        this.layer.removeFeatures([this.point]);
        a = this.layer.getLonLatFromViewPortPx(a);
        this.point = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a.lon,
            a.lat));
        this.line.geometry.addComponent(this.point.geometry, this.line.geometry.components.length);
        this.layer.addFeatures([this.point]);
        this.callback("point", [this.point.geometry, this.getGeometry()]);
        this.callback("modify", [this.point.geometry, this.getSketch()]);
        this.drawFeature();
        delete this.redoStack
    },
    insertXY: function (a, b) {
        this.line.geometry.addComponent(new OpenLayers.Geometry.Point(a, b), this.getCurrentPointIndex());
        this.drawFeature();
        delete this.redoStack
    },
    insertDeltaXY: function (a, b) {
        var c = this.getCurrentPointIndex() -
            1,
            c = this.line.geometry.components[c];
        !c || (isNaN(c.x) || isNaN(c.y)) || this.insertXY(c.x + a, c.y + b)
    },
    insertDirectionLength: function (a, b) {
        a *= Math.PI / 180;
        var c = b * Math.cos(a),
            d = b * Math.sin(a);
        this.insertDeltaXY(c, d)
    },
    insertDeflectionLength: function (a, b) {
        var c = this.getCurrentPointIndex() - 1;
        if (0 < c) {
            var d = this.line.geometry.components[c],
                c = this.line.geometry.components[c - 1],
                d = Math.atan2(d.y - c.y, d.x - c.x);
            this.insertDirectionLength(180 * d / Math.PI + a, b)
        }
    },
    getCurrentPointIndex: function () {
        return this.line.geometry.components.length -
            1
    },
    undo: function () {
        var a = this.line.geometry,
            b = a.components,
            c = this.getCurrentPointIndex() - 1,
            d = b[c],
            e = a.removeComponent(d);
        e && (this.touch && 0 < c && (b = a.components, a = b[c - 1], c = this.getCurrentPointIndex(), b = b[c], b.x = a.x, b.y = a.y), this.redoStack || (this.redoStack = []), this.redoStack.push(d), this.drawFeature());
        return e
    },
    redo: function () {
        var a = this.redoStack && this.redoStack.pop();
        a && (this.line.geometry.addComponent(a, this.getCurrentPointIndex()), this.drawFeature());
        return !!a
    },
    freehandMode: function (a) {
        return this.freehandToggle &&
            a[this.freehandToggle] ? !this.freehand : this.freehand
    },
    modifyFeature: function (a, b) {
        this.line || this.createFeature(a);
        var c = this.layer.getLonLatFromViewPortPx(a);
        this.point.geometry.x = c.lon;
        this.point.geometry.y = c.lat;
        this.callback("modify", [this.point.geometry, this.getSketch(), b]);
        this.point.geometry.clearBounds();
        this.drawFeature()
    },
    drawFeature: function () {
        this.layer.drawFeature(this.line, this.style);
        this.layer.drawFeature(this.point, this.style)
    },
    getSketch: function () {
        return this.line
    },
    getGeometry: function () {
        var a =
            this.line && this.line.geometry;
        a && this.multi && (a = new OpenLayers.Geometry.MultiLineString([a]));
        return a
    },
    touchstart: function (a) {
        if (this.timerId && this.passesTolerance(this.lastTouchPx, a.xy, this.doubleTouchTolerance)) return this.finishGeometry(), window.clearTimeout(this.timerId), this.timerId = null, !1;
        this.timerId && (window.clearTimeout(this.timerId), this.timerId = null);
        this.timerId = window.setTimeout(OpenLayers.Function.bind(function () {
            this.timerId = null
        }, this), 300);
        return OpenLayers.Handler.Point.prototype.touchstart.call(this,
            a)
    },
    down: function (a) {
        var b = this.stopDown;
        this.freehandMode(a) && (b = !0, this.touch && (this.modifyFeature(a.xy, !!this.lastUp), OpenLayers.Event.stop(a)));
        this.touch || this.lastDown && this.passesTolerance(this.lastDown, a.xy, this.pixelTolerance) || this.modifyFeature(a.xy, !!this.lastUp);
        this.mouseDown = !0;
        this.lastDown = a.xy;
        this.stoppedDown = b;
        return !b
    },
    move: function (a) {
        if (this.stoppedDown && this.freehandMode(a)) return this.persist && this.destroyPersistedFeature(), this.maxVertices && this.line && this.line.geometry.components.length ===
            this.maxVertices ? (this.removePoint(), this.finalize()) : this.addPoint(a.xy), !1;
        this.touch || this.mouseDown && !this.stoppedDown || this.modifyFeature(a.xy, !!this.lastUp);
        return !0
    },
    up: function (a) {
        !this.mouseDown || this.lastUp && this.lastUp.equals(a.xy) || (this.stoppedDown && this.freehandMode(a) ? (this.persist && this.destroyPersistedFeature(), this.removePoint(), this.finalize()) : this.passesTolerance(this.lastDown, a.xy, this.pixelTolerance) && (this.touch && this.modifyFeature(a.xy), null == this.lastUp && this.persist && this.destroyPersistedFeature(),
            this.addPoint(a.xy), this.lastUp = a.xy, this.line.geometry.components.length === this.maxVertices + 1 && this.finishGeometry()));
        this.stoppedDown = this.stopDown;
        this.mouseDown = !1;
        return !this.stopUp
    },
    finishGeometry: function () {
        this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length - 1]);
        this.removePoint();
        this.finalize()
    },
    dblclick: function (a) {
        this.freehandMode(a) || this.finishGeometry();
        return !1
    },
    CLASS_NAME: "OpenLayers.Handler.Path"
});
OpenLayers.Spherical = OpenLayers.Spherical || {};
OpenLayers.Spherical.DEFAULT_RADIUS = 6378137;
OpenLayers.Spherical.computeDistanceBetween = function (a, b, c) {
    c = c || OpenLayers.Spherical.DEFAULT_RADIUS;
    var d = Math.sin(Math.PI * (b.lon - a.lon) / 360),
        e = Math.sin(Math.PI * (b.lat - a.lat) / 360);
    a = e * e + d * d * Math.cos(Math.PI * a.lat / 180) * Math.cos(Math.PI * b.lat / 180);
    return 2 * c * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
};
OpenLayers.Spherical.computeHeading = function (a, b) {
    var c = Math.sin(Math.PI * (a.lon - b.lon) / 180) * Math.cos(Math.PI * b.lat / 180),
        d = Math.cos(Math.PI * a.lat / 180) * Math.sin(Math.PI * b.lat / 180) - Math.sin(Math.PI * a.lat / 180) * Math.cos(Math.PI * b.lat / 180) * Math.cos(Math.PI * (a.lon - b.lon) / 180);
    return 180 * Math.atan2(c, d) / Math.PI
};
OpenLayers.Control.CacheWrite = OpenLayers.Class(OpenLayers.Control, {
    layers: null,
    imageFormat: "image/png",
    quotaRegEx: /quota/i,
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        var b, c = this.layers || a.layers;
        for (b = c.length - 1; 0 <= b; --b) this.addLayer({
            layer: c[b]
        });
        if (!this.layers) a.events.on({
            addlayer: this.addLayer,
            removeLayer: this.removeLayer,
            scope: this
        })
    },
    addLayer: function (a) {
        a.layer.events.on({
            tileloadstart: this.makeSameOrigin,
            tileloaded: this.onTileLoaded,
            scope: this
        })
    },
    removeLayer: function (a) {
        a.layer.events.un({
            tileloadstart: this.makeSameOrigin,
            tileloaded: this.onTileLoaded,
            scope: this
        })
    },
    makeSameOrigin: function (a) {
        if (this.active && (a = a.tile, a instanceof OpenLayers.Tile.Image && !a.crossOriginKeyword && "data:" !== a.url.substr(0, 5))) {
            var b = OpenLayers.Request.makeSameOrigin(a.url, OpenLayers.ProxyHost);
            OpenLayers.Control.CacheWrite.urlMap[b] = a.url;
            a.url = b
        }
    },
    onTileLoaded: function (a) {
        this.active && (!a.aborted && a.tile instanceof OpenLayers.Tile.Image && "data:" !== a.tile.url.substr(0, 5)) && (this.cache({
            tile: a.tile
        }), delete OpenLayers.Control.CacheWrite.urlMap[a.tile.url])
    },
    cache: function (a) {
        if (window.localStorage) {
            a = a.tile;
            try {
                var b = a.getCanvasContext();
                b && window.localStorage.setItem("olCache_" + (OpenLayers.Control.CacheWrite.urlMap[a.url] || a.url), b.canvas.toDataURL(this.imageFormat))
            } catch (c) {
                (b = c.name || c.message) && this.quotaRegEx.test(b) ? this.events.triggerEvent("cachefull", {
                    tile: a
                }) : OpenLayers.Console.error(c.toString())
            }
        }
    },
    destroy: function () {
        if (this.layers || this.map) {
            var a, b = this.layers || this.map.layers;
            for (a = b.length - 1; 0 <= a; --a) this.removeLayer({
                layer: b[a]
            })
        }
        this.map &&
            this.map.events.un({
                addlayer: this.addLayer,
                removeLayer: this.removeLayer,
                scope: this
            });
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Control.CacheWrite"
});
OpenLayers.Control.CacheWrite.clearCache = function () {
    if (window.localStorage) {
        var a, b;
        for (a = window.localStorage.length - 1; 0 <= a; --a) b = window.localStorage.key(a), "olCache_" === b.substr(0, 8) && window.localStorage.removeItem(b)
    }
};
OpenLayers.Control.CacheWrite.urlMap = {};
OpenLayers.Format.Context = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    layerOptions: null,
    layerParams: null,
    read: function (a, b) {
        var c = OpenLayers.Format.XML.VersionedOGC.prototype.read.apply(this, arguments);
        if (b && b.map)
            if (this.context = c, b.map instanceof OpenLayers.Map) c = this.mergeContextToMap(c, b.map);
            else {
                var d = b.map;
                if (OpenLayers.Util.isElement(d) || "string" == typeof d) d = {
                    div: d
                };
                c = this.contextToMap(c, d)
            } return c
    },
    getLayerFromContext: function (a) {
        var b, c, d = {
            queryable: a.queryable,
            visibility: a.visibility,
            maxExtent: a.maxExtent,
            metadata: OpenLayers.Util.applyDefaults(a.metadata, {
                styles: a.styles,
                formats: a.formats,
                "abstract": a["abstract"],
                dataURL: a.dataURL
            }),
            numZoomLevels: a.numZoomLevels,
            units: a.units,
            isBaseLayer: a.isBaseLayer,
            opacity: a.opacity,
            displayInLayerSwitcher: a.displayInLayerSwitcher,
            singleTile: a.singleTile,
            tileSize: a.tileSize ? new OpenLayers.Size(a.tileSize.width, a.tileSize.height) : void 0,
            minScale: a.minScale || a.maxScaleDenominator,
            maxScale: a.maxScale || a.minScaleDenominator,
            srs: a.srs,
            dimensions: a.dimensions,
            metadataURL: a.metadataURL
        };
        this.layerOptions && OpenLayers.Util.applyDefaults(d, this.layerOptions);
        var e = {
            layers: a.name,
            transparent: a.transparent,
            version: a.version
        };
        if (a.formats && 0 < a.formats.length)
            for (e.format = a.formats[0].value, b = 0, c = a.formats.length; b < c; b++) {
                var f = a.formats[b];
                if (!0 == f.current) {
                    e.format = f.value;
                    break
                }
            }
        if (a.styles && 0 < a.styles.length)
            for (b = 0, c = a.styles.length; b < c; b++)
                if (f = a.styles[b], !0 == f.current) {
                    f.href ? e.sld = f.href : f.body ? e.sld_body = f.body : e.styles = f.name;
                    break
                } this.layerParams &&
            OpenLayers.Util.applyDefaults(e, this.layerParams);
        b = null;
        c = a.service;
        c == OpenLayers.Format.Context.serviceTypes.WFS ? (d.strategies = [new OpenLayers.Strategy.BBOX], d.protocol = new OpenLayers.Protocol.WFS({
            url: a.url,
            featurePrefix: a.name.split(":")[0],
            featureType: a.name.split(":").pop()
        }), b = new OpenLayers.Layer.Vector(a.title || a.name, d)) : c == OpenLayers.Format.Context.serviceTypes.KML ? (d.strategies = [new OpenLayers.Strategy.Fixed], d.protocol = new OpenLayers.Protocol.HTTP({
                url: a.url,
                format: new OpenLayers.Format.KML
            }),
            b = new OpenLayers.Layer.Vector(a.title || a.name, d)) : c == OpenLayers.Format.Context.serviceTypes.GML ? (d.strategies = [new OpenLayers.Strategy.Fixed], d.protocol = new OpenLayers.Protocol.HTTP({
            url: a.url,
            format: new OpenLayers.Format.GML
        }), b = new OpenLayers.Layer.Vector(a.title || a.name, d)) : a.features ? (b = new OpenLayers.Layer.Vector(a.title || a.name, d), b.addFeatures(a.features)) : !0 !== a.categoryLayer && (b = new OpenLayers.Layer.WMS(a.title || a.name, a.url, e, d));
        return b
    },
    getLayersFromContext: function (a) {
        for (var b = [], c =
                0, d = a.length; c < d; c++) {
            var e = this.getLayerFromContext(a[c]);
            null !== e && b.push(e)
        }
        return b
    },
    contextToMap: function (a, b) {
        b = OpenLayers.Util.applyDefaults({
            maxExtent: a.maxExtent,
            projection: a.projection,
            units: a.units
        }, b);
        b.maxExtent && (b.maxResolution = b.maxExtent.getWidth() / OpenLayers.Map.TILE_WIDTH);
        b.metadata = {
            contactInformation: a.contactInformation,
            "abstract": a["abstract"],
            keywords: a.keywords,
            logo: a.logo,
            descriptionURL: a.descriptionURL
        };
        var c = new OpenLayers.Map(b);
        c.addLayers(this.getLayersFromContext(a.layersContext));
        c.setCenter(a.bounds.getCenterLonLat(), c.getZoomForExtent(a.bounds, !0));
        return c
    },
    mergeContextToMap: function (a, b) {
        b.addLayers(this.getLayersFromContext(a.layersContext));
        return b
    },
    write: function (a, b) {
        a = this.toContext(a);
        return OpenLayers.Format.XML.VersionedOGC.prototype.write.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Format.Context"
});
OpenLayers.Format.Context.serviceTypes = {
    WMS: "urn:ogc:serviceType:WMS",
    WFS: "urn:ogc:serviceType:WFS",
    WCS: "urn:ogc:serviceType:WCS",
    GML: "urn:ogc:serviceType:GML",
    SLD: "urn:ogc:serviceType:SLD",
    FES: "urn:ogc:serviceType:FES",
    KML: "urn:ogc:serviceType:KML"
};
OpenLayers.Format.WMC = OpenLayers.Class(OpenLayers.Format.Context, {
    defaultVersion: "1.1.0",
    layerToContext: function (a) {
        var b = this.getParser(),
            c = {
                queryable: a.queryable,
                visibility: a.visibility,
                name: a.params.LAYERS,
                title: a.name,
                "abstract": a.metadata["abstract"],
                dataURL: a.metadata.dataURL,
                metadataURL: a.metadataURL,
                server: {
                    version: a.params.VERSION,
                    url: a.url
                },
                maxExtent: a.maxExtent,
                transparent: a.params.TRANSPARENT,
                numZoomLevels: a.numZoomLevels,
                units: a.units,
                isBaseLayer: a.isBaseLayer,
                opacity: 1 == a.opacity ? void 0 : a.opacity,
                displayInLayerSwitcher: a.displayInLayerSwitcher,
                singleTile: a.singleTile,
                tileSize: a.singleTile || !a.tileSize ? void 0 : {
                    width: a.tileSize.w,
                    height: a.tileSize.h
                },
                minScale: a.options.resolutions || a.options.scales || a.options.maxResolution || a.options.minScale ? a.minScale : void 0,
                maxScale: a.options.resolutions || a.options.scales || a.options.minResolution || a.options.maxScale ? a.maxScale : void 0,
                formats: [],
                styles: [],
                srs: a.srs,
                dimensions: a.dimensions
            };
        a.metadata.servertitle && (c.server.title = a.metadata.servertitle);
        if (a.metadata.formats && 0 < a.metadata.formats.length)
            for (var d = 0, e = a.metadata.formats.length; d < e; d++) {
                var f = a.metadata.formats[d];
                c.formats.push({
                    value: f.value,
                    current: f.value == a.params.FORMAT
                })
            } else c.formats.push({
                value: a.params.FORMAT,
                current: !0
            });
        if (a.metadata.styles && 0 < a.metadata.styles.length)
            for (d = 0, e = a.metadata.styles.length; d < e; d++) b = a.metadata.styles[d], b.current = b.href == a.params.SLD || b.body == a.params.SLD_BODY || b.name == a.params.STYLES ? !0 : !1, c.styles.push(b);
        else c.styles.push({
            href: a.params.SLD,
            body: a.params.SLD_BODY,
            name: a.params.STYLES || b.defaultStyleName,
            title: b.defaultStyleTitle,
            current: !0
        });
        return c
    },
    toContext: function (a) {
        var b = {},
            c = a.layers;
        if ("OpenLayers.Map" == a.CLASS_NAME) {
            var d = a.metadata || {};
            b.size = a.getSize();
            b.bounds = a.getExtent();
            b.projection = a.projection;
            b.title = a.title;
            b.keywords = d.keywords;
            b["abstract"] = d["abstract"];
            b.logo = d.logo;
            b.descriptionURL = d.descriptionURL;
            b.contactInformation = d.contactInformation;
            b.maxExtent = a.maxExtent
        } else OpenLayers.Util.applyDefaults(b, a), void 0 !=
            b.layers && delete b.layers;
        void 0 == b.layersContext && (b.layersContext = []);
        if (void 0 != c && OpenLayers.Util.isArray(c))
            for (a = 0, d = c.length; a < d; a++) {
                var e = c[a];
                e instanceof OpenLayers.Layer.WMS && b.layersContext.push(this.layerToContext(e))
            }
        return b
    },
    CLASS_NAME: "OpenLayers.Format.WMC"
});
OpenLayers.Format.WMC.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ol: "https://openlayers.org/context",
        wmc: "https://www.opengis.net/context",
        sld: "https://www.opengis.net/sld",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    schemaLocation: "",
    getNamespacePrefix: function (a) {
        var b = null;
        if (null == a) b = this.namespaces[this.defaultPrefix];
        else
            for (b in this.namespaces)
                if (this.namespaces[b] == a) break;
        return b
    },
    defaultPrefix: "wmc",
    rootPrefix: null,
    defaultStyleName: "",
    defaultStyleTitle: "Default",
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a = a.documentElement;
        this.rootPrefix = a.prefix;
        var b = {
            version: a.getAttribute("version")
        };
        this.runChildNodes(b, a);
        return b
    },
    runChildNodes: function (a, b) {
        for (var c = b.childNodes, d, e, f, g = 0, h = c.length; g < h; ++g) d = c[g], 1 == d.nodeType && (e = this.getNamespacePrefix(d.namespaceURI), f = d.nodeName.split(":").pop(),
            (e = this["read_" + e + "_" + f]) && e.apply(this, [a, d]))
    },
    read_wmc_General: function (a, b) {
        this.runChildNodes(a, b)
    },
    read_wmc_BoundingBox: function (a, b) {
        a.projection = b.getAttribute("SRS");
        a.bounds = new OpenLayers.Bounds(b.getAttribute("minx"), b.getAttribute("miny"), b.getAttribute("maxx"), b.getAttribute("maxy"))
    },
    read_wmc_LayerList: function (a, b) {
        a.layersContext = [];
        this.runChildNodes(a, b)
    },
    read_wmc_Layer: function (a, b) {
        var c = {
            visibility: "1" != b.getAttribute("hidden"),
            queryable: "1" == b.getAttribute("queryable"),
            formats: [],
            styles: [],
            metadata: {}
        };
        this.runChildNodes(c, b);
        a.layersContext.push(c)
    },
    read_wmc_Extension: function (a, b) {
        this.runChildNodes(a, b)
    },
    read_ol_units: function (a, b) {
        a.units = this.getChildValue(b)
    },
    read_ol_maxExtent: function (a, b) {
        var c = new OpenLayers.Bounds(b.getAttribute("minx"), b.getAttribute("miny"), b.getAttribute("maxx"), b.getAttribute("maxy"));
        a.maxExtent = c
    },
    read_ol_transparent: function (a, b) {
        a.transparent = this.getChildValue(b)
    },
    read_ol_numZoomLevels: function (a, b) {
        a.numZoomLevels = parseInt(this.getChildValue(b))
    },
    read_ol_opacity: function (a, b) {
        a.opacity = parseFloat(this.getChildValue(b))
    },
    read_ol_singleTile: function (a, b) {
        a.singleTile = "true" == this.getChildValue(b)
    },
    read_ol_tileSize: function (a, b) {
        var c = {
            width: b.getAttribute("width"),
            height: b.getAttribute("height")
        };
        a.tileSize = c
    },
    read_ol_isBaseLayer: function (a, b) {
        a.isBaseLayer = "true" == this.getChildValue(b)
    },
    read_ol_displayInLayerSwitcher: function (a, b) {
        a.displayInLayerSwitcher = "true" == this.getChildValue(b)
    },
    read_wmc_Server: function (a, b) {
        a.version = b.getAttribute("version");
        a.url = this.getOnlineResource_href(b);
        a.metadata.servertitle = b.getAttribute("title")
    },
    read_wmc_FormatList: function (a, b) {
        this.runChildNodes(a, b)
    },
    read_wmc_Format: function (a, b) {
        var c = {
            value: this.getChildValue(b)
        };
        "1" == b.getAttribute("current") && (c.current = !0);
        a.formats.push(c)
    },
    read_wmc_StyleList: function (a, b) {
        this.runChildNodes(a, b)
    },
    read_wmc_Style: function (a, b) {
        var c = {};
        this.runChildNodes(c, b);
        "1" == b.getAttribute("current") && (c.current = !0);
        a.styles.push(c)
    },
    read_wmc_SLD: function (a, b) {
        this.runChildNodes(a,
            b)
    },
    read_sld_StyledLayerDescriptor: function (a, b) {
        var c = OpenLayers.Format.XML.prototype.write.apply(this, [b]);
        a.body = c
    },
    read_sld_FeatureTypeStyle: function (a, b) {
        var c = OpenLayers.Format.XML.prototype.write.apply(this, [b]);
        a.body = c
    },
    read_wmc_OnlineResource: function (a, b) {
        a.href = this.getAttributeNS(b, this.namespaces.xlink, "href")
    },
    read_wmc_Name: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.name = c)
    },
    read_wmc_Title: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.title = c)
    },
    read_wmc_MetadataURL: function (a,
        b) {
        a.metadataURL = this.getOnlineResource_href(b)
    },
    read_wmc_KeywordList: function (a, b) {
        a.keywords = [];
        this.runChildNodes(a.keywords, b)
    },
    read_wmc_Keyword: function (a, b) {
        a.push(this.getChildValue(b))
    },
    read_wmc_Abstract: function (a, b) {
        var c = this.getChildValue(b);
        c && (a["abstract"] = c)
    },
    read_wmc_LogoURL: function (a, b) {
        a.logo = {
            width: b.getAttribute("width"),
            height: b.getAttribute("height"),
            format: b.getAttribute("format"),
            href: this.getOnlineResource_href(b)
        }
    },
    read_wmc_DescriptionURL: function (a, b) {
        a.descriptionURL =
            this.getOnlineResource_href(b)
    },
    read_wmc_ContactInformation: function (a, b) {
        var c = {};
        this.runChildNodes(c, b);
        a.contactInformation = c
    },
    read_wmc_ContactPersonPrimary: function (a, b) {
        var c = {};
        this.runChildNodes(c, b);
        a.personPrimary = c
    },
    read_wmc_ContactPerson: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.person = c)
    },
    read_wmc_ContactOrganization: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.organization = c)
    },
    read_wmc_ContactPosition: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.position = c)
    },
    read_wmc_ContactAddress: function (a,
        b) {
        var c = {};
        this.runChildNodes(c, b);
        a.contactAddress = c
    },
    read_wmc_AddressType: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.type = c)
    },
    read_wmc_Address: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.address = c)
    },
    read_wmc_City: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.city = c)
    },
    read_wmc_StateOrProvince: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.stateOrProvince = c)
    },
    read_wmc_PostCode: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.postcode = c)
    },
    read_wmc_Country: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.country = c)
    },
    read_wmc_ContactVoiceTelephone: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.phone = c)
    },
    read_wmc_ContactFacsimileTelephone: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.fax = c)
    },
    read_wmc_ContactElectronicMailAddress: function (a, b) {
        var c = this.getChildValue(b);
        c && (a.email = c)
    },
    read_wmc_DataURL: function (a, b) {
        a.dataURL = this.getOnlineResource_href(b)
    },
    read_wmc_LegendURL: function (a, b) {
        var c = {
            width: b.getAttribute("width"),
            height: b.getAttribute("height"),
            format: b.getAttribute("format"),
            href: this.getOnlineResource_href(b)
        };
        a.legend = c
    },
    read_wmc_DimensionList: function (a, b) {
        a.dimensions = {};
        this.runChildNodes(a.dimensions, b)
    },
    read_wmc_Dimension: function (a, b) {
        var c = {
                name: b.getAttribute("name").toLowerCase(),
                units: b.getAttribute("units") || "",
                unitSymbol: b.getAttribute("unitSymbol") || "",
                userValue: b.getAttribute("userValue") || "",
                nearestValue: "1" === b.getAttribute("nearestValue"),
                multipleValues: "1" === b.getAttribute("multipleValues"),
                current: "1" === b.getAttribute("current"),
                "default": b.getAttribute("default") ||
                    ""
            },
            d = this.getChildValue(b);
        c.values = d.split(",");
        a[c.name] = c
    },
    write: function (a, b) {
        var c = this.createElementDefaultNS("ViewContext");
        this.setAttributes(c, {
            version: this.VERSION,
            id: b && "string" == typeof b.id ? b.id : OpenLayers.Util.createUniqueID("OpenLayers_Context_")
        });
        this.setAttributeNS(c, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        c.appendChild(this.write_wmc_General(a));
        c.appendChild(this.write_wmc_LayerList(a));
        return OpenLayers.Format.XML.prototype.write.apply(this, [c])
    },
    createElementDefaultNS: function (a,
        b, c) {
        a = this.createElementNS(this.namespaces[this.defaultPrefix], a);
        b && a.appendChild(this.createTextNode(b));
        c && this.setAttributes(a, c);
        return a
    },
    setAttributes: function (a, b) {
        var c, d;
        for (d in b) c = b[d].toString(), c.match(/[A-Z]/) ? this.setAttributeNS(a, null, d, c) : a.setAttribute(d, c)
    },
    write_wmc_General: function (a) {
        var b = this.createElementDefaultNS("General");
        a.size && b.appendChild(this.createElementDefaultNS("Window", null, {
            width: a.size.w,
            height: a.size.h
        }));
        var c = a.bounds;
        b.appendChild(this.createElementDefaultNS("BoundingBox",
            null, {
                minx: c.left.toPrecision(18),
                miny: c.bottom.toPrecision(18),
                maxx: c.right.toPrecision(18),
                maxy: c.top.toPrecision(18),
                SRS: a.projection
            }));
        b.appendChild(this.createElementDefaultNS("Title", a.title));
        a.keywords && b.appendChild(this.write_wmc_KeywordList(a.keywords));
        a["abstract"] && b.appendChild(this.createElementDefaultNS("Abstract", a["abstract"]));
        a.logo && b.appendChild(this.write_wmc_URLType("LogoURL", a.logo.href, a.logo));
        a.descriptionURL && b.appendChild(this.write_wmc_URLType("DescriptionURL", a.descriptionURL));
        a.contactInformation && b.appendChild(this.write_wmc_ContactInformation(a.contactInformation));
        b.appendChild(this.write_ol_MapExtension(a));
        return b
    },
    write_wmc_KeywordList: function (a) {
        for (var b = this.createElementDefaultNS("KeywordList"), c = 0, d = a.length; c < d; c++) b.appendChild(this.createElementDefaultNS("Keyword", a[c]));
        return b
    },
    write_wmc_ContactInformation: function (a) {
        var b = this.createElementDefaultNS("ContactInformation");
        a.personPrimary && b.appendChild(this.write_wmc_ContactPersonPrimary(a.personPrimary));
        a.position && b.appendChild(this.createElementDefaultNS("ContactPosition", a.position));
        a.contactAddress && b.appendChild(this.write_wmc_ContactAddress(a.contactAddress));
        a.phone && b.appendChild(this.createElementDefaultNS("ContactVoiceTelephone", a.phone));
        a.fax && b.appendChild(this.createElementDefaultNS("ContactFacsimileTelephone", a.fax));
        a.email && b.appendChild(this.createElementDefaultNS("ContactElectronicMailAddress", a.email));
        return b
    },
    write_wmc_ContactPersonPrimary: function (a) {
        var b = this.createElementDefaultNS("ContactPersonPrimary");
        a.person && b.appendChild(this.createElementDefaultNS("ContactPerson", a.person));
        a.organization && b.appendChild(this.createElementDefaultNS("ContactOrganization", a.organization));
        return b
    },
    write_wmc_ContactAddress: function (a) {
        var b = this.createElementDefaultNS("ContactAddress");
        a.type && b.appendChild(this.createElementDefaultNS("AddressType", a.type));
        a.address && b.appendChild(this.createElementDefaultNS("Address", a.address));
        a.city && b.appendChild(this.createElementDefaultNS("City", a.city));
        a.stateOrProvince &&
            b.appendChild(this.createElementDefaultNS("StateOrProvince", a.stateOrProvince));
        a.postcode && b.appendChild(this.createElementDefaultNS("PostCode", a.postcode));
        a.country && b.appendChild(this.createElementDefaultNS("Country", a.country));
        return b
    },
    write_ol_MapExtension: function (a) {
        var b = this.createElementDefaultNS("Extension");
        if (a = a.maxExtent) {
            var c = this.createElementNS(this.namespaces.ol, "ol:maxExtent");
            this.setAttributes(c, {
                minx: a.left.toPrecision(18),
                miny: a.bottom.toPrecision(18),
                maxx: a.right.toPrecision(18),
                maxy: a.top.toPrecision(18)
            });
            b.appendChild(c)
        }
        return b
    },
    write_wmc_LayerList: function (a) {
        for (var b = this.createElementDefaultNS("LayerList"), c = 0, d = a.layersContext.length; c < d; ++c) b.appendChild(this.write_wmc_Layer(a.layersContext[c]));
        return b
    },
    write_wmc_Layer: function (a) {
        var b = this.createElementDefaultNS("Layer", null, {
            queryable: a.queryable ? "1" : "0",
            hidden: a.visibility ? "0" : "1"
        });
        b.appendChild(this.write_wmc_Server(a));
        b.appendChild(this.createElementDefaultNS("Name", a.name));
        b.appendChild(this.createElementDefaultNS("Title",
            a.title));
        a["abstract"] && b.appendChild(this.createElementDefaultNS("Abstract", a["abstract"]));
        a.dataURL && b.appendChild(this.write_wmc_URLType("DataURL", a.dataURL));
        a.metadataURL && b.appendChild(this.write_wmc_URLType("MetadataURL", a.metadataURL));
        return b
    },
    write_wmc_LayerExtension: function (a) {
        var b = this.createElementDefaultNS("Extension"),
            c = a.maxExtent,
            d = this.createElementNS(this.namespaces.ol, "ol:maxExtent");
        this.setAttributes(d, {
            minx: c.left.toPrecision(18),
            miny: c.bottom.toPrecision(18),
            maxx: c.right.toPrecision(18),
            maxy: c.top.toPrecision(18)
        });
        b.appendChild(d);
        a.tileSize && !a.singleTile && (c = this.createElementNS(this.namespaces.ol, "ol:tileSize"), this.setAttributes(c, a.tileSize), b.appendChild(c));
        for (var c = "transparent numZoomLevels units isBaseLayer opacity displayInLayerSwitcher singleTile".split(" "), e = 0, f = c.length; e < f; ++e)(d = this.createOLPropertyNode(a, c[e])) && b.appendChild(d);
        return b
    },
    createOLPropertyNode: function (a, b) {
        var c = null;
        null != a[b] && (c = this.createElementNS(this.namespaces.ol, "ol:" + b), c.appendChild(this.createTextNode(a[b].toString())));
        return c
    },
    write_wmc_Server: function (a) {
        a = a.server;
        var b = this.createElementDefaultNS("Server"),
            c = {
                service: "OGC:WMS",
                version: a.version
            };
        a.title && (c.title = a.title);
        this.setAttributes(b, c);
        b.appendChild(this.write_wmc_OnlineResource(a.url));
        return b
    },
    write_wmc_URLType: function (a, b, c) {
        a = this.createElementDefaultNS(a);
        a.appendChild(this.write_wmc_OnlineResource(b));
        if (c) {
            b = ["width", "height", "format"];
            for (var d = 0; d < b.length; d++) b[d] in c && a.setAttribute(b[d], c[b[d]])
        }
        return a
    },
    write_wmc_DimensionList: function (a) {
        var b =
            this.createElementDefaultNS("DimensionList"),
            c;
        for (c in a.dimensions) {
            var d = {},
                e = a.dimensions[c],
                f;
            for (f in e) d[f] = "boolean" == typeof e[f] ? Number(e[f]) : e[f];
            e = "";
            d.values && (e = d.values.join(","), delete d.values);
            b.appendChild(this.createElementDefaultNS("Dimension", e, d))
        }
        return b
    },
    write_wmc_FormatList: function (a) {
        for (var b = this.createElementDefaultNS("FormatList"), c = 0, d = a.formats.length; c < d; c++) {
            var e = a.formats[c];
            b.appendChild(this.createElementDefaultNS("Format", e.value, e.current && !0 == e.current ? {
                    current: "1"
                } :
                null))
        }
        return b
    },
    write_wmc_StyleList: function (a) {
        var b = this.createElementDefaultNS("StyleList");
        if ((a = a.styles) && OpenLayers.Util.isArray(a))
            for (var c, d = 0, e = a.length; d < e; d++) {
                var f = a[d],
                    g = this.createElementDefaultNS("Style", null, f.current && !0 == f.current ? {
                        current: "1"
                    } : null);
                f.href ? (c = this.createElementDefaultNS("SLD"), f.name && c.appendChild(this.createElementDefaultNS("Name", f.name)), f.title && c.appendChild(this.createElementDefaultNS("Title", f.title)), f.legend && c.appendChild(this.write_wmc_URLType("LegendURL",
                    f.legend.href, f.legend)), f = this.write_wmc_OnlineResource(f.href), c.appendChild(f), g.appendChild(c)) : f.body ? (c = this.createElementDefaultNS("SLD"), f.name && c.appendChild(this.createElementDefaultNS("Name", f.name)), f.title && c.appendChild(this.createElementDefaultNS("Title", f.title)), f.legend && c.appendChild(this.write_wmc_URLType("LegendURL", f.legend.href, f.legend)), f = OpenLayers.Format.XML.prototype.read.apply(this, [f.body]).documentElement, c.ownerDocument && c.ownerDocument.importNode && (f = c.ownerDocument.importNode(f,
                    !0)), c.appendChild(f), g.appendChild(c)) : (g.appendChild(this.createElementDefaultNS("Name", f.name)), g.appendChild(this.createElementDefaultNS("Title", f.title)), f["abstract"] && g.appendChild(this.createElementDefaultNS("Abstract", f["abstract"])), f.legend && g.appendChild(this.write_wmc_URLType("LegendURL", f.legend.href, f.legend)));
                b.appendChild(g)
            }
        return b
    },
    write_wmc_OnlineResource: function (a) {
        var b = this.createElementDefaultNS("OnlineResource");
        this.setAttributeNS(b, this.namespaces.xlink, "xlink:type",
            "simple");
        this.setAttributeNS(b, this.namespaces.xlink, "xlink:href", a);
        return b
    },
    getOnlineResource_href: function (a) {
        var b = {};
        a = a.getElementsByTagName("OnlineResource");
        0 < a.length && this.read_wmc_OnlineResource(b, a[0]);
        return b.href
    },
    CLASS_NAME: "OpenLayers.Format.WMC.v1"
});
OpenLayers.Control.PanPanel = OpenLayers.Class(OpenLayers.Control.Panel, {
    slideFactor: 50,
    slideRatio: null,
    initialize: function (a) {
        OpenLayers.Control.Panel.prototype.initialize.apply(this, [a]);
        a = {
            slideFactor: this.slideFactor,
            slideRatio: this.slideRatio
        };
        this.addControls([new OpenLayers.Control.Pan(OpenLayers.Control.Pan.NORTH, a), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.SOUTH, a), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.EAST, a), new OpenLayers.Control.Pan(OpenLayers.Control.Pan.WEST, a)])
    },
    CLASS_NAME: "OpenLayers.Control.PanPanel"
});
OpenLayers.Control.Attribution = OpenLayers.Class(OpenLayers.Control, {
    separator: ", ",
    template: "${layers}",
    destroy: function () {
        this.map.events.un({
            removelayer: this.updateAttribution,
            addlayer: this.updateAttribution,
            changelayer: this.updateAttribution,
            changebaselayer: this.updateAttribution,
            scope: this
        });
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.map.events.on({
            changebaselayer: this.updateAttribution,
            changelayer: this.updateAttribution,
            addlayer: this.updateAttribution,
            removelayer: this.updateAttribution,
            scope: this
        });
        this.updateAttribution();
        return this.div
    },
    updateAttribution: function () {
        var a = [];
        if (this.map && this.map.layers) {
            for (var b = 0, c = this.map.layers.length; b < c; b++) {
                var d = this.map.layers[b];
                d.attribution && d.getVisibility() && -1 === OpenLayers.Util.indexOf(a, d.attribution) && a.push(d.attribution)
            }
            this.div.innerHTML = OpenLayers.String.format(this.template, {
                layers: a.join(this.separator)
            })
        }
    },
    CLASS_NAME: "OpenLayers.Control.Attribution"
});
OpenLayers.Kinetic = OpenLayers.Class({
    threshold: 0,
    deceleration: 0.0035,
    nbPoints: 100,
    delay: 200,
    points: void 0,
    timerId: void 0,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a)
    },
    begin: function () {
        OpenLayers.Animation.stop(this.timerId);
        this.timerId = void 0;
        this.points = []
    },
    update: function (a) {
        this.points.unshift({
            xy: a,
            tick: (new Date).getTime()
        });
        this.points.length > this.nbPoints && this.points.pop()
    },
    end: function (a) {
        for (var b, c = (new Date).getTime(), d = 0, e = this.points.length, f; d < e; d++) {
            f = this.points[d];
            if (c -
                f.tick > this.delay) break;
            b = f
        }
        if (b && (d = (new Date).getTime() - b.tick, c = Math.sqrt(Math.pow(a.x - b.xy.x, 2) + Math.pow(a.y - b.xy.y, 2)), d = c / d, !(0 == d || d < this.threshold))) return c = Math.asin((a.y - b.xy.y) / c), b.xy.x <= a.x && (c = Math.PI - c), {
            speed: d,
            theta: c
        }
    },
    move: function (a, b) {
        var c = a.speed,
            d = Math.cos(a.theta),
            e = -Math.sin(a.theta),
            f = (new Date).getTime(),
            g = 0,
            h = 0;
        this.timerId = OpenLayers.Animation.start(OpenLayers.Function.bind(function () {
            if (null != this.timerId) {
                var a = (new Date).getTime() - f,
                    l = -this.deceleration * Math.pow(a,
                        2) / 2 + c * a,
                    m = l * d,
                    l = l * e,
                    n, p;
                n = !1;
                0 >= -this.deceleration * a + c && (OpenLayers.Animation.stop(this.timerId), this.timerId = null, n = !0);
                a = m - g;
                p = l - h;
                g = m;
                h = l;
                b(a, p, n)
            }
        }, this))
    },
    CLASS_NAME: "OpenLayers.Kinetic"
});
OpenLayers.Format.WPSExecute = OpenLayers.Class(OpenLayers.Format.XML, OpenLayers.Format.Filter.v1_1_0, {
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        gml: "https://www.opengis.net/gml",
        wps: "https://www.opengis.net/wps/1.0.0",
        wfs: "https://www.opengis.net/wfs",
        ogc: "https://www.opengis.net/ogc",
        wcs: "https://www.opengis.net/wcs",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    VERSION: "1.0.0",
    schemaLocation: "https://www.opengis.net/wps/1.0.0 https://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",
    schemaLocationAttr: function (a) {},
    write: function (a) {
        var b;
        window.ActiveXObject ? this.xmldom = b = new ActiveXObject("Microsoft.XMLDOM") : b = document.implementation.createDocument("", "", null);
        a = this.writeNode("wps:Execute", a, b);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [a])
    },
    read: function (a) {
        "string" == typeof a && (a =
            OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    writers: {
        wps: {
            Execute: function (a) {
                var b = this.createElementNSPlus("wps:Execute", {
                    attributes: {
                        version: this.VERSION,
                        service: "WPS"
                    }
                });
                this.writeNode("ows:Identifier", a.identifier, b);
                this.writeNode("wps:DataInputs", a.dataInputs, b);
                this.writeNode("wps:ResponseForm", a.responseForm, b);
                return b
            },
            ResponseForm: function (a) {
                var b = this.createElementNSPlus("wps:ResponseForm", {});
                a.rawDataOutput &&
                    this.writeNode("wps:RawDataOutput", a.rawDataOutput, b);
                a.responseDocument && this.writeNode("wps:ResponseDocument", a.responseDocument, b);
                return b
            },
            ResponseDocument: function (a) {
                var b = this.createElementNSPlus("wps:ResponseDocument", {
                    attributes: {
                        storeExecuteResponse: a.storeExecuteResponse,
                        lineage: a.lineage,
                        status: a.status
                    }
                });
                if (a.outputs)
                    for (var c = 0, d = a.outputs.length; c < d; c++) this.writeNode("wps:Output", a.outputs[c], b);
                return b
            },
            Output: function (a) {
                var b = this.createElementNSPlus("wps:Output", {
                    attributes: {
                        asReference: a.asReference,
                        mimeType: a.mimeType,
                        encoding: a.encoding,
                        schema: a.schema
                    }
                });
                this.writeNode("ows:Identifier", a.identifier, b);
                this.writeNode("ows:Title", a.title, b);
                this.writeNode("ows:Abstract", a["abstract"], b);
                return b
            },
            RawDataOutput: function (a) {
                var b = this.createElementNSPlus("wps:RawDataOutput", {
                    attributes: {
                        mimeType: a.mimeType,
                        encoding: a.encoding,
                        schema: a.schema
                    }
                });
                this.writeNode("ows:Identifier", a.identifier, b);
                return b
            },
            DataInputs: function (a) {
                for (var b = this.createElementNSPlus("wps:DataInputs", {}), c = 0, d = a.length; c <
                    d; ++c) this.writeNode("wps:Input", a[c], b);
                return b
            },
            Input: function (a) {
                var b = this.createElementNSPlus("wps:Input", {});
                this.writeNode("ows:Identifier", a.identifier, b);
                a.title && this.writeNode("ows:Title", a.title, b);
                a.data && this.writeNode("wps:Data", a.data, b);
                a.reference && this.writeNode("wps:Reference", a.reference, b);
                a.boundingBoxData && this.writeNode("wps:BoundingBoxData", a.boundingBoxData, b);
                return b
            },
            Data: function (a) {
                var b = this.createElementNSPlus("wps:Data", {});
                a.literalData ? this.writeNode("wps:LiteralData",
                    a.literalData, b) : a.complexData ? this.writeNode("wps:ComplexData", a.complexData, b) : a.boundingBoxData && this.writeNode("ows:BoundingBox", a.boundingBoxData, b);
                return b
            },
            LiteralData: function (a) {
                return this.createElementNSPlus("wps:LiteralData", {
                    attributes: {
                        uom: a.uom
                    },
                    value: a.value
                })
            },
            ComplexData: function (a) {
                var b = this.createElementNSPlus("wps:ComplexData", {
                        attributes: {
                            mimeType: a.mimeType,
                            encoding: a.encoding,
                            schema: a.schema
                        }
                    }),
                    c = a.value;
                "string" === typeof c ? b.appendChild(this.getXMLDoc().createCDATASection(a.value)) :
                    b.appendChild(c);
                return b
            },
            Reference: function (a) {
                var b = this.createElementNSPlus("wps:Reference", {
                    attributes: {
                        mimeType: a.mimeType,
                        "xlink:href": a.href,
                        method: a.method,
                        encoding: a.encoding,
                        schema: a.schema
                    }
                });
                a.body && this.writeNode("wps:Body", a.body, b);
                return b
            },
            BoundingBoxData: function (a, b) {
                this.writers.ows.BoundingBox.apply(this, [a, b, "wps:BoundingBoxData"])
            },
            Body: function (a) {
                var b = this.createElementNSPlus("wps:Body", {});
                a.wcs ? this.writeNode("wcs:GetCoverage", a.wcs, b) : a.wfs ? (this.featureType = a.wfs.featureType,
                    this.version = a.wfs.version, this.writeNode("wfs:GetFeature", a.wfs, b)) : this.writeNode("wps:Execute", a, b);
                return b
            }
        },
        wcs: OpenLayers.Format.WCSGetCoverage.prototype.writers.wcs,
        wfs: OpenLayers.Format.WFST.v1_1_0.prototype.writers.wfs,
        ogc: OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc,
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows
    },
    readers: {
        wps: {
            ExecuteResponse: function (a, b) {
                b.executeResponse = {
                    lang: a.getAttribute("lang"),
                    statusLocation: a.getAttribute("statusLocation"),
                    serviceInstance: a.getAttribute("serviceInstance"),
                    service: a.getAttribute("service")
                };
                this.readChildNodes(a, b.executeResponse)
            },
            Process: function (a, b) {
                b.process = {};
                this.readChildNodes(a, b.process)
            },
            Status: function (a, b) {
                b.status = {
                    creationTime: a.getAttribute("creationTime")
                };
                this.readChildNodes(a, b.status)
            },
            ProcessSucceeded: function (a, b) {
                b.processSucceeded = !0
            },
            ProcessOutputs: function (a, b) {
                b.processOutputs = [];
                this.readChildNodes(a, b.processOutputs)
            },
            Output: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.push(c)
            },
            Reference: function (a, b) {
                b.reference = {
                    href: a.getAttribute("href"),
                    mimeType: a.getAttribute("mimeType"),
                    encoding: a.getAttribute("encoding"),
                    schema: a.getAttribute("schema")
                }
            },
            Data: function (a, b) {
                b.data = {};
                this.readChildNodes(a, b)
            },
            LiteralData: function (a, b) {
                b.literalData = {
                    dataType: a.getAttribute("dataType"),
                    uom: a.getAttribute("uom"),
                    value: this.getChildValue(a)
                }
            },
            ComplexData: function (a, b) {
                b.complexData = {
                    mimeType: a.getAttribute("mimeType"),
                    schema: a.getAttribute("schema"),
                    encoding: a.getAttribute("encoding"),
                    value: ""
                };
                if (this.isSimpleContent(a)) {
                    var c;
                    for (c = a.firstChild; c; c = c.nextSibling) switch (c.nodeType) {
                        case 3:
                        case 4:
                            b.complexData.value += c.nodeValue
                    }
                } else
                    for (c = a.firstChild; c; c = c.nextSibling) 1 == c.nodeType && (b.complexData.value = c)
            },
            BoundingBox: function (a, b) {
                b.boundingBoxData = {
                    dimensions: a.getAttribute("dimensions"),
                    crs: a.getAttribute("crs")
                };
                this.readChildNodes(a, b.boundingBoxData)
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WPSExecute"
});
OpenLayers.Layer.GeoRSS = OpenLayers.Class(OpenLayers.Layer.Markers, {
    location: null,
    features: null,
    formatOptions: null,
    selectedFeature: null,
    icon: null,
    popupSize: null,
    useFeedTitle: !0,
    initialize: function (a, b, c) {
        OpenLayers.Layer.Markers.prototype.initialize.apply(this, [a, c]);
        this.location = b;
        this.features = []
    },
    destroy: function () {
        OpenLayers.Layer.Markers.prototype.destroy.apply(this, arguments);
        this.clearFeatures();
        this.features = null
    },
    loadRSS: function () {
        this.loaded || (this.events.triggerEvent("loadstart"), OpenLayers.Request.GET({
            url: this.location,
            success: this.parseData,
            scope: this
        }), this.loaded = !0)
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.Markers.prototype.moveTo.apply(this, arguments);
        this.visibility && !this.loaded && this.loadRSS()
    },
    parseData: function (a) {
        var b = a.responseXML;
        b && b.documentElement || (b = OpenLayers.Format.XML.prototype.read(a.responseText));
        if (this.useFeedTitle) {
            a = null;
            try {
                a = b.getElementsByTagNameNS("*", "title")[0].firstChild.nodeValue
            } catch (c) {
                a = b.getElementsByTagName("title")[0].firstChild.nodeValue
            }
            a && this.setName(a)
        }
        a = {};
        OpenLayers.Util.extend(a,
            this.formatOptions);
        this.map && !this.projection.equals(this.map.getProjectionObject()) && (a.externalProjection = this.projection, a.internalProjection = this.map.getProjectionObject());
        b = (new OpenLayers.Format.GeoRSS(a)).read(b);
        a = 0;
        for (var d = b.length; a < d; a++) {
            var e = {},
                f = b[a];
            if (f.geometry) {
                var g = f.attributes.title ? f.attributes.title : "Untitled",
                    h = f.attributes.description ? f.attributes.description : "No description.",
                    k = f.attributes.link ? f.attributes.link : "",
                    f = f.geometry.getBounds().getCenterLonLat();
                e.icon =
                    null == this.icon ? OpenLayers.Marker.defaultIcon() : this.icon.clone();
                e.popupSize = this.popupSize ? this.popupSize.clone() : new OpenLayers.Size(250, 120);
                if (g || h) {
                    e.title = g;
                    e.description = h;
                    var l = '<div class="olLayerGeoRSSClose">[x]</div>',
                        l = l + '<div class="olLayerGeoRSSTitle">';
                    k && (l += '<a class="link" href="' + k + '" target="_blank">');
                    l += g;
                    k && (l += "</a>");
                    l += "</div>";
                    l += '<div style="" class="olLayerGeoRSSDescription">';
                    l += h;
                    l += "</div>";
                    e.popupContentHTML = l
                }
                f = new OpenLayers.Feature(this, f, e);
                this.features.push(f);
                e = f.createMarker();
                e.events.register("click", f, this.markerClick);
                this.addMarker(e)
            }
        }
        this.events.triggerEvent("loadend")
    },
    markerClick: function (a) {
        var b = this == this.layer.selectedFeature;
        this.layer.selectedFeature = b ? null : this;
        for (var c = 0, d = this.layer.map.popups.length; c < d; c++) this.layer.map.removePopup(this.layer.map.popups[c]);
        b || (b = this.createPopup(), OpenLayers.Event.observe(b.div, "click", OpenLayers.Function.bind(function () {
                for (var a = 0, b = this.layer.map.popups.length; a < b; a++) this.layer.map.removePopup(this.layer.map.popups[a])
            },
            this)), this.layer.map.addPopup(b));
        OpenLayers.Event.stop(a)
    },
    clearFeatures: function () {
        if (null != this.features)
            for (; 0 < this.features.length;) {
                var a = this.features[0];
                OpenLayers.Util.removeItem(this.features, a);
                a.destroy()
            }
    },
    CLASS_NAME: "OpenLayers.Layer.GeoRSS"
});
OpenLayers.Symbolizer.Point = OpenLayers.Class(OpenLayers.Symbolizer, {
    initialize: function (a) {
        OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Symbolizer.Point"
});
OpenLayers.Symbolizer.Line = OpenLayers.Class(OpenLayers.Symbolizer, {
    initialize: function (a) {
        OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Symbolizer.Line"
});
OpenLayers.Symbolizer.Text = OpenLayers.Class(OpenLayers.Symbolizer, {
    initialize: function (a) {
        OpenLayers.Symbolizer.prototype.initialize.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Symbolizer.Text"
});
OpenLayers.Format.SLD.v1 = OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0, {
    namespaces: {
        sld: "https://www.opengis.net/sld",
        ogc: "https://www.opengis.net/ogc",
        gml: "https://www.opengis.net/gml",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    defaultPrefix: "sld",
    schemaLocation: null,
    multipleSymbolizers: !1,
    featureTypeCounter: null,
    defaultSymbolizer: {
        fillColor: "#808080",
        fillOpacity: 1,
        strokeColor: "#000000",
        strokeOpacity: 1,
        strokeWidth: 1,
        strokeDashstyle: "solid",
        pointRadius: 3,
        graphicName: "square"
    },
    read: function (a, b) {
        b = OpenLayers.Util.applyDefaults(b, this.options);
        var c = {
            namedLayers: !0 === b.namedLayersAsArray ? [] : {}
        };
        this.readChildNodes(a, c);
        return c
    },
    readers: OpenLayers.Util.applyDefaults({
        sld: {
            StyledLayerDescriptor: function (a, b) {
                b.version = a.getAttribute("version");
                this.readChildNodes(a, b)
            },
            Name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            Title: function (a, b) {
                b.title = this.getChildValue(a)
            },
            Abstract: function (a, b) {
                b.description = this.getChildValue(a)
            },
            NamedLayer: function (a, b) {
                var c = {
                    userStyles: [],
                    namedStyles: []
                };
                this.readChildNodes(a, c);
                for (var d = 0, e = c.userStyles.length; d < e; ++d) c.userStyles[d].layerName = c.name;
                OpenLayers.Util.isArray(b.namedLayers) ? b.namedLayers.push(c) : b.namedLayers[c.name] = c
            },
            NamedStyle: function (a, b) {
                b.namedStyles.push(this.getChildName(a.firstChild))
            },
            UserStyle: function (a, b) {
                var c = {
                    defaultsPerSymbolizer: !0,
                    rules: []
                };
                this.featureTypeCounter = -1;
                this.readChildNodes(a, c);
                this.multipleSymbolizers ? (delete c.defaultsPerSymbolizer, c = new OpenLayers.Style2(c)) : c = new OpenLayers.Style(this.defaultSymbolizer,
                    c);
                b.userStyles.push(c)
            },
            IsDefault: function (a, b) {
                "1" == this.getChildValue(a) && (b.isDefault = !0)
            },
            FeatureTypeStyle: function (a, b) {
                ++this.featureTypeCounter;
                var c = {
                    rules: this.multipleSymbolizers ? b.rules : []
                };
                this.readChildNodes(a, c);
                this.multipleSymbolizers || (b.rules = c.rules)
            },
            Rule: function (a, b) {
                var c;
                this.multipleSymbolizers && (c = {
                    symbolizers: []
                });
                c = new OpenLayers.Rule(c);
                this.readChildNodes(a, c);
                b.rules.push(c)
            },
            ElseFilter: function (a, b) {
                b.elseFilter = !0
            },
            MinScaleDenominator: function (a, b) {
                b.minScaleDenominator =
                    parseFloat(this.getChildValue(a))
            },
            MaxScaleDenominator: function (a, b) {
                b.maxScaleDenominator = parseFloat(this.getChildValue(a))
            },
            TextSymbolizer: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                this.multipleSymbolizers ? (c.zIndex = this.featureTypeCounter, b.symbolizers.push(new OpenLayers.Symbolizer.Text(c))) : b.symbolizer.Text = OpenLayers.Util.applyDefaults(c, b.symbolizer.Text)
            },
            LabelPlacement: function (a, b) {
                this.readChildNodes(a, b)
            },
            PointPlacement: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                c.labelRotation =
                    c.rotation;
                delete c.rotation;
                var d, e = b.labelAnchorPointX,
                    f = b.labelAnchorPointY;
                e <= 1 / 3 ? d = "l" : e > 1 / 3 && e < 2 / 3 ? d = "c" : e >= 2 / 3 && (d = "r");
                f <= 1 / 3 ? d += "b" : f > 1 / 3 && f < 2 / 3 ? d += "m" : f >= 2 / 3 && (d += "t");
                c.labelAlign = d;
                OpenLayers.Util.applyDefaults(b, c)
            },
            AnchorPoint: function (a, b) {
                this.readChildNodes(a, b)
            },
            AnchorPointX: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.labelAnchorPointX = c)
            },
            AnchorPointY: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.labelAnchorPointY = c)
            },
            Displacement: function (a,
                b) {
                this.readChildNodes(a, b)
            },
            DisplacementX: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.labelXOffset = c)
            },
            DisplacementY: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.labelYOffset = c)
            },
            LinePlacement: function (a, b) {
                this.readChildNodes(a, b)
            },
            PerpendicularOffset: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.labelPerpendicularOffset = c)
            },
            Label: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.label = c)
            },
            Font: function (a, b) {
                this.readChildNodes(a,
                    b)
            },
            Halo: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.haloRadius = c.haloRadius;
                b.haloColor = c.fillColor;
                b.haloOpacity = c.fillOpacity
            },
            Radius: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                null != c && (b.haloRadius = c)
            },
            RasterSymbolizer: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                this.multipleSymbolizers ? (c.zIndex = this.featureTypeCounter, b.symbolizers.push(new OpenLayers.Symbolizer.Raster(c))) : b.symbolizer.Raster = OpenLayers.Util.applyDefaults(c, b.symbolizer.Raster)
            },
            Geometry: function (a,
                b) {
                b.geometry = {};
                this.readChildNodes(a, b.geometry)
            },
            ColorMap: function (a, b) {
                b.colorMap = [];
                this.readChildNodes(a, b.colorMap)
            },
            ColorMapEntry: function (a, b) {
                var c = a.getAttribute("quantity"),
                    d = a.getAttribute("opacity");
                b.push({
                    color: a.getAttribute("color"),
                    quantity: null !== c ? parseFloat(c) : void 0,
                    label: a.getAttribute("label") || void 0,
                    opacity: null !== d ? parseFloat(d) : void 0
                })
            },
            LineSymbolizer: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                this.multipleSymbolizers ? (c.zIndex = this.featureTypeCounter, b.symbolizers.push(new OpenLayers.Symbolizer.Line(c))) :
                    b.symbolizer.Line = OpenLayers.Util.applyDefaults(c, b.symbolizer.Line)
            },
            PolygonSymbolizer: function (a, b) {
                var c = {
                    fill: !1,
                    stroke: !1
                };
                this.multipleSymbolizers || (c = b.symbolizer.Polygon || c);
                this.readChildNodes(a, c);
                this.multipleSymbolizers ? (c.zIndex = this.featureTypeCounter, b.symbolizers.push(new OpenLayers.Symbolizer.Polygon(c))) : b.symbolizer.Polygon = c
            },
            PointSymbolizer: function (a, b) {
                var c = {
                    fill: !1,
                    stroke: !1,
                    graphic: !1
                };
                this.multipleSymbolizers || (c = b.symbolizer.Point || c);
                this.readChildNodes(a, c);
                this.multipleSymbolizers ?
                    (c.zIndex = this.featureTypeCounter, b.symbolizers.push(new OpenLayers.Symbolizer.Point(c))) : b.symbolizer.Point = c
            },
            Stroke: function (a, b) {
                b.stroke = !0;
                this.readChildNodes(a, b)
            },
            Fill: function (a, b) {
                b.fill = !0;
                this.readChildNodes(a, b)
            },
            CssParameter: function (a, b) {
                var c = a.getAttribute("name"),
                    d = this.cssMap[c];
                b.label && ("fill" === c ? d = "fontColor" : "fill-opacity" === c && (d = "fontOpacity"));
                d && (c = this.readers.ogc._expression.call(this, a)) && (b[d] = c)
            },
            Graphic: function (a, b) {
                b.graphic = !0;
                var c = {};
                this.readChildNodes(a, c);
                for (var d = "stroke strokeColor strokeWidth strokeOpacity strokeLinecap fill fillColor fillOpacity graphicName rotation graphicFormat".split(" "), e, f, g = 0, h = d.length; g < h; ++g) e = d[g], f = c[e], void 0 != f && (b[e] = f);
                void 0 != c.opacity && (b.graphicOpacity = c.opacity);
                void 0 != c.size && (isNaN(c.size / 2) ? b.graphicWidth = c.size : b.pointRadius = c.size / 2);
                void 0 != c.href && (b.externalGraphic = c.href);
                void 0 != c.rotation && (b.rotation = c.rotation)
            },
            ExternalGraphic: function (a, b) {
                this.readChildNodes(a, b)
            },
            Mark: function (a, b) {
                this.readChildNodes(a,
                    b)
            },
            WellKnownName: function (a, b) {
                b.graphicName = this.getChildValue(a)
            },
            Opacity: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.opacity = c)
            },
            Size: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.size = c)
            },
            Rotation: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.rotation = c)
            },
            OnlineResource: function (a, b) {
                b.href = this.getAttributeNS(a, this.namespaces.xlink, "href")
            },
            Format: function (a, b) {
                b.graphicFormat = this.getChildValue(a)
            }
        }
    }, OpenLayers.Format.Filter.v1_0_0.prototype.readers),
    cssMap: {
        stroke: "strokeColor",
        "stroke-opacity": "strokeOpacity",
        "stroke-width": "strokeWidth",
        "stroke-linecap": "strokeLinecap",
        "stroke-dasharray": "strokeDashstyle",
        fill: "fillColor",
        "fill-opacity": "fillOpacity",
        "font-family": "fontFamily",
        "font-size": "fontSize",
        "font-weight": "fontWeight",
        "font-style": "fontStyle"
    },
    getCssProperty: function (a) {
        var b = null,
            c;
        for (c in this.cssMap)
            if (this.cssMap[c] == a) {
                b = c;
                break
            } return b
    },
    getGraphicFormat: function (a) {
        var b, c;
        for (c in this.graphicFormats)
            if (this.graphicFormats[c].test(a)) {
                b =
                    c;
                break
            } return b || this.defaultGraphicFormat
    },
    defaultGraphicFormat: "image/png",
    graphicFormats: {
        "image/jpeg": /\.jpe?g$/i,
        "image/gif": /\.gif$/i,
        "image/png": /\.png$/i
    },
    write: function (a) {
        return this.writers.sld.StyledLayerDescriptor.apply(this, [a])
    },
    writers: OpenLayers.Util.applyDefaults({
        sld: {
            _OGCExpression: function (a, b) {
                var c = this.createElementNSPlus(a),
                    d = "string" == typeof b ? b.split("${") : [b];
                c.appendChild(this.createTextNode(d[0]));
                for (var e, f, g = 1, h = d.length; g < h; g++) e = d[g], f = e.indexOf("}"), 0 < f ? (this.writeNode("ogc:PropertyName", {
                    property: e.substring(0, f)
                }, c), c.appendChild(this.createTextNode(e.substring(++f)))) : c.appendChild(this.createTextNode("${" + e));
                return c
            },
            StyledLayerDescriptor: function (a) {
                var b = this.createElementNSPlus("sld:StyledLayerDescriptor", {
                    attributes: {
                        version: this.VERSION,
                        "xsi:schemaLocation": this.schemaLocation
                    }
                });
                b.setAttribute("xmlns:ogc", this.namespaces.ogc);
                b.setAttribute("xmlns:gml", this.namespaces.gml);
                a.name && this.writeNode("Name", a.name, b);
                a.title && this.writeNode("Title", a.title, b);
                a.description &&
                    this.writeNode("Abstract", a.description, b);
                if (OpenLayers.Util.isArray(a.namedLayers))
                    for (var c = 0, d = a.namedLayers.length; c < d; ++c) this.writeNode("NamedLayer", a.namedLayers[c], b);
                else
                    for (c in a.namedLayers) this.writeNode("NamedLayer", a.namedLayers[c], b);
                return b
            },
            Name: function (a) {
                return this.createElementNSPlus("sld:Name", {
                    value: a
                })
            },
            Title: function (a) {
                return this.createElementNSPlus("sld:Title", {
                    value: a
                })
            },
            Abstract: function (a) {
                return this.createElementNSPlus("sld:Abstract", {
                    value: a
                })
            },
            NamedLayer: function (a) {
                var b =
                    this.createElementNSPlus("sld:NamedLayer");
                this.writeNode("Name", a.name, b);
                if (a.namedStyles)
                    for (var c = 0, d = a.namedStyles.length; c < d; ++c) this.writeNode("NamedStyle", a.namedStyles[c], b);
                if (a.userStyles)
                    for (c = 0, d = a.userStyles.length; c < d; ++c) this.writeNode("UserStyle", a.userStyles[c], b);
                return b
            },
            NamedStyle: function (a) {
                var b = this.createElementNSPlus("sld:NamedStyle");
                this.writeNode("Name", a, b);
                return b
            },
            UserStyle: function (a) {
                var b = this.createElementNSPlus("sld:UserStyle");
                a.name && this.writeNode("Name",
                    a.name, b);
                a.title && this.writeNode("Title", a.title, b);
                a.description && this.writeNode("Abstract", a.description, b);
                a.isDefault && this.writeNode("IsDefault", a.isDefault, b);
                if (this.multipleSymbolizers && a.rules) {
                    for (var c = {
                            0: []
                        }, d = [0], e, f, g, h, k, l = 0, m = a.rules.length; l < m; ++l)
                        if (e = a.rules[l], e.symbolizers) {
                            f = {};
                            for (var n = 0, p = e.symbolizers.length; n < p; ++n) g = e.symbolizers[n], h = g.zIndex, h in f || (k = e.clone(), k.symbolizers = [], f[h] = k), f[h].symbolizers.push(g.clone());
                            for (h in f) h in c || (d.push(h), c[h] = []), c[h].push(f[h])
                        } else c[0].push(e.clone());
                    d.sort();
                    l = 0;
                    for (m = d.length; l < m; ++l) e = c[d[l]], 0 < e.length && (k = a.clone(), k.rules = c[d[l]], this.writeNode("FeatureTypeStyle", k, b))
                } else this.writeNode("FeatureTypeStyle", a, b);
                return b
            },
            IsDefault: function (a) {
                return this.createElementNSPlus("sld:IsDefault", {
                    value: a ? "1" : "0"
                })
            },
            FeatureTypeStyle: function (a) {
                for (var b = this.createElementNSPlus("sld:FeatureTypeStyle"), c = 0, d = a.rules.length; c < d; ++c) this.writeNode("Rule", a.rules[c], b);
                return b
            },
            Rule: function (a) {
                var b = this.createElementNSPlus("sld:Rule");
                a.name &&
                    this.writeNode("Name", a.name, b);
                a.title && this.writeNode("Title", a.title, b);
                a.description && this.writeNode("Abstract", a.description, b);
                a.elseFilter ? this.writeNode("ElseFilter", null, b) : a.filter && this.writeNode("ogc:Filter", a.filter, b);
                void 0 != a.minScaleDenominator && this.writeNode("MinScaleDenominator", a.minScaleDenominator, b);
                void 0 != a.maxScaleDenominator && this.writeNode("MaxScaleDenominator", a.maxScaleDenominator, b);
                var c, d;
                if (this.multipleSymbolizers && a.symbolizers)
                    for (var e = 0, f = a.symbolizers.length; e <
                        f; ++e) d = a.symbolizers[e], c = d.CLASS_NAME.split(".").pop(), this.writeNode(c + "Symbolizer", d, b);
                else
                    for (var f = OpenLayers.Style.SYMBOLIZER_PREFIXES, e = 0, g = f.length; e < g; ++e) c = f[e], (d = a.symbolizer[c]) && this.writeNode(c + "Symbolizer", d, b);
                return b
            },
            ElseFilter: function () {
                return this.createElementNSPlus("sld:ElseFilter")
            },
            MinScaleDenominator: function (a) {
                return this.createElementNSPlus("sld:MinScaleDenominator", {
                    value: a
                })
            },
            MaxScaleDenominator: function (a) {
                return this.createElementNSPlus("sld:MaxScaleDenominator", {
                    value: a
                })
            },
            LineSymbolizer: function (a) {
                var b = this.createElementNSPlus("sld:LineSymbolizer");
                this.writeNode("Stroke", a, b);
                return b
            },
            Stroke: function (a) {
                var b = this.createElementNSPlus("sld:Stroke");
                void 0 != a.strokeColor && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "strokeColor"
                }, b);
                void 0 != a.strokeOpacity && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "strokeOpacity"
                }, b);
                void 0 != a.strokeWidth && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "strokeWidth"
                }, b);
                void 0 != a.strokeDashstyle && "solid" !==
                    a.strokeDashstyle && this.writeNode("CssParameter", {
                        symbolizer: a,
                        key: "strokeDashstyle"
                    }, b);
                void 0 != a.strokeLinecap && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "strokeLinecap"
                }, b);
                return b
            },
            CssParameter: function (a) {
                return this.createElementNSPlus("sld:CssParameter", {
                    attributes: {
                        name: this.getCssProperty(a.key)
                    },
                    value: a.symbolizer[a.key]
                })
            },
            TextSymbolizer: function (a) {
                var b = this.createElementNSPlus("sld:TextSymbolizer");
                null != a.label && this.writeNode("Label", a.label, b);
                null == a.fontFamily && null == a.fontSize &&
                    null == a.fontWeight && null == a.fontStyle || this.writeNode("Font", a, b);
                null == a.labelAnchorPointX && null == a.labelAnchorPointY && null == a.labelAlign && null == a.labelXOffset && null == a.labelYOffset && null == a.labelRotation && null == a.labelPerpendicularOffset || this.writeNode("LabelPlacement", a, b);
                null == a.haloRadius && null == a.haloColor && null == a.haloOpacity || this.writeNode("Halo", a, b);
                null == a.fontColor && null == a.fontOpacity || this.writeNode("Fill", {
                    fillColor: a.fontColor,
                    fillOpacity: a.fontOpacity
                }, b);
                return b
            },
            LabelPlacement: function (a) {
                var b =
                    this.createElementNSPlus("sld:LabelPlacement");
                null == a.labelAnchorPointX && null == a.labelAnchorPointY && null == a.labelAlign && null == a.labelXOffset && null == a.labelYOffset && null == a.labelRotation || null != a.labelPerpendicularOffset || this.writeNode("PointPlacement", a, b);
                null != a.labelPerpendicularOffset && this.writeNode("LinePlacement", a, b);
                return b
            },
            LinePlacement: function (a) {
                var b = this.createElementNSPlus("sld:LinePlacement");
                this.writeNode("PerpendicularOffset", a.labelPerpendicularOffset, b);
                return b
            },
            PerpendicularOffset: function (a) {
                return this.createElementNSPlus("sld:PerpendicularOffset", {
                    value: a
                })
            },
            PointPlacement: function (a) {
                var b = this.createElementNSPlus("sld:PointPlacement");
                null == a.labelAnchorPointX && null == a.labelAnchorPointY && null == a.labelAlign || this.writeNode("AnchorPoint", a, b);
                null == a.labelXOffset && null == a.labelYOffset || this.writeNode("Displacement", a, b);
                null != a.labelRotation && this.writeNode("Rotation", a.labelRotation, b);
                return b
            },
            AnchorPoint: function (a) {
                var b = this.createElementNSPlus("sld:AnchorPoint"),
                    c = a.labelAnchorPointX,
                    d = a.labelAnchorPointY;
                null != c && this.writeNode("AnchorPointX",
                    c, b);
                null != d && this.writeNode("AnchorPointY", d, b);
                if (null == c && null == d) {
                    var e = a.labelAlign.substr(0, 1);
                    a = a.labelAlign.substr(1, 1);
                    "l" === e ? c = 0 : "c" === e ? c = 0.5 : "r" === e && (c = 1);
                    "b" === a ? d = 0 : "m" === a ? d = 0.5 : "t" === a && (d = 1);
                    this.writeNode("AnchorPointX", c, b);
                    this.writeNode("AnchorPointY", d, b)
                }
                return b
            },
            AnchorPointX: function (a) {
                return this.createElementNSPlus("sld:AnchorPointX", {
                    value: a
                })
            },
            AnchorPointY: function (a) {
                return this.createElementNSPlus("sld:AnchorPointY", {
                    value: a
                })
            },
            Displacement: function (a) {
                var b = this.createElementNSPlus("sld:Displacement");
                null != a.labelXOffset && this.writeNode("DisplacementX", a.labelXOffset, b);
                null != a.labelYOffset && this.writeNode("DisplacementY", a.labelYOffset, b);
                return b
            },
            DisplacementX: function (a) {
                return this.createElementNSPlus("sld:DisplacementX", {
                    value: a
                })
            },
            DisplacementY: function (a) {
                return this.createElementNSPlus("sld:DisplacementY", {
                    value: a
                })
            },
            Font: function (a) {
                var b = this.createElementNSPlus("sld:Font");
                a.fontFamily && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fontFamily"
                }, b);
                a.fontSize && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fontSize"
                }, b);
                a.fontWeight && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fontWeight"
                }, b);
                a.fontStyle && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fontStyle"
                }, b);
                return b
            },
            Label: function (a) {
                return this.writers.sld._OGCExpression.call(this, "sld:Label", a)
            },
            Halo: function (a) {
                var b = this.createElementNSPlus("sld:Halo");
                a.haloRadius && this.writeNode("Radius", a.haloRadius, b);
                (a.haloColor || a.haloOpacity) && this.writeNode("Fill", {
                    fillColor: a.haloColor,
                    fillOpacity: a.haloOpacity
                }, b);
                return b
            },
            Radius: function (a) {
                return this.createElementNSPlus("sld:Radius", {
                    value: a
                })
            },
            RasterSymbolizer: function (a) {
                var b = this.createElementNSPlus("sld:RasterSymbolizer");
                a.geometry && this.writeNode("Geometry", a.geometry, b);
                a.opacity && this.writeNode("Opacity", a.opacity, b);
                a.colorMap && this.writeNode("ColorMap", a.colorMap, b);
                return b
            },
            Geometry: function (a) {
                var b = this.createElementNSPlus("sld:Geometry");
                a.property && this.writeNode("ogc:PropertyName", a, b);
                return b
            },
            ColorMap: function (a) {
                for (var b = this.createElementNSPlus("sld:ColorMap"),
                        c = 0, d = a.length; c < d; ++c) this.writeNode("ColorMapEntry", a[c], b);
                return b
            },
            ColorMapEntry: function (a) {
                var b = this.createElementNSPlus("sld:ColorMapEntry");
                b.setAttribute("color", a.color);
                void 0 !== a.opacity && b.setAttribute("opacity", parseFloat(a.opacity));
                void 0 !== a.quantity && b.setAttribute("quantity", parseFloat(a.quantity));
                void 0 !== a.label && b.setAttribute("label", a.label);
                return b
            },
            PolygonSymbolizer: function (a) {
                var b = this.createElementNSPlus("sld:PolygonSymbolizer");
                !1 !== a.fill && this.writeNode("Fill",
                    a, b);
                !1 !== a.stroke && this.writeNode("Stroke", a, b);
                return b
            },
            Fill: function (a) {
                var b = this.createElementNSPlus("sld:Fill");
                a.fillColor && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fillColor"
                }, b);
                null != a.fillOpacity && this.writeNode("CssParameter", {
                    symbolizer: a,
                    key: "fillOpacity"
                }, b);
                return b
            },
            PointSymbolizer: function (a) {
                var b = this.createElementNSPlus("sld:PointSymbolizer");
                this.writeNode("Graphic", a, b);
                return b
            },
            Graphic: function (a) {
                var b = this.createElementNSPlus("sld:Graphic");
                void 0 != a.externalGraphic ?
                    this.writeNode("ExternalGraphic", a, b) : this.writeNode("Mark", a, b);
                void 0 != a.graphicOpacity && this.writeNode("Opacity", a.graphicOpacity, b);
                void 0 != a.pointRadius ? this.writeNode("Size", 2 * a.pointRadius, b) : void 0 != a.graphicWidth && this.writeNode("Size", a.graphicWidth, b);
                void 0 != a.rotation && this.writeNode("Rotation", a.rotation, b);
                return b
            },
            ExternalGraphic: function (a) {
                var b = this.createElementNSPlus("sld:ExternalGraphic");
                this.writeNode("OnlineResource", a.externalGraphic, b);
                a = a.graphicFormat || this.getGraphicFormat(a.externalGraphic);
                this.writeNode("Format", a, b);
                return b
            },
            Mark: function (a) {
                var b = this.createElementNSPlus("sld:Mark");
                a.graphicName && this.writeNode("WellKnownName", a.graphicName, b);
                !1 !== a.fill && this.writeNode("Fill", a, b);
                !1 !== a.stroke && this.writeNode("Stroke", a, b);
                return b
            },
            WellKnownName: function (a) {
                return this.createElementNSPlus("sld:WellKnownName", {
                    value: a
                })
            },
            Opacity: function (a) {
                return this.createElementNSPlus("sld:Opacity", {
                    value: a
                })
            },
            Size: function (a) {
                return this.writers.sld._OGCExpression.call(this, "sld:Size",
                    a)
            },
            Rotation: function (a) {
                return this.createElementNSPlus("sld:Rotation", {
                    value: a
                })
            },
            OnlineResource: function (a) {
                return this.createElementNSPlus("sld:OnlineResource", {
                    attributes: {
                        "xlink:type": "simple",
                        "xlink:href": a
                    }
                })
            },
            Format: function (a) {
                return this.createElementNSPlus("sld:Format", {
                    value: a
                })
            }
        }
    }, OpenLayers.Format.Filter.v1_0_0.prototype.writers),
    CLASS_NAME: "OpenLayers.Format.SLD.v1"
});
OpenLayers.Layer.WMS = OpenLayers.Class(OpenLayers.Layer.Grid, {
    DEFAULT_PARAMS: {
        service: "WMS",
        version: "1.1.1",
        request: "GetMap",
        styles: "",
        format: "image/jpeg"
    },
    isBaseLayer: !0,
    encodeBBOX: !1,
    noMagic: !1,
    yx: {},
    initialize: function (a, b, c, d) {
        var e = [];
        c = OpenLayers.Util.upperCaseObject(c);
        1.3 <= parseFloat(c.VERSION) && !c.EXCEPTIONS && (c.EXCEPTIONS = "INIMAGE");
        e.push(a, b, c, d);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, e);
        OpenLayers.Util.applyDefaults(this.params, OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));
        !this.noMagic && (this.params.TRANSPARENT && "true" == this.params.TRANSPARENT.toString().toLowerCase()) && (null != d && d.isBaseLayer || (this.isBaseLayer = !1), "image/jpeg" == this.params.FORMAT && (this.params.FORMAT = OpenLayers.Util.alphaHack() ? "image/gif" : "image/png"))
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.WMS(this.name, this.url, this.params, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    reverseAxisOrder: function () {
        var a = this.projection.getCode();
        return 1.3 <= parseFloat(this.params.VERSION) &&
            !!(this.yx[a] || OpenLayers.Projection.defaults[a] && OpenLayers.Projection.defaults[a].yx)
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.getImageSize(),
            c = {},
            d = this.reverseAxisOrder();
        c.BBOX = this.encodeBBOX ? a.toBBOX(null, d) : a.toArray(d);
        c.WIDTH = b.w;
        c.HEIGHT = b.h;
        return this.getFullRequestString(c)
    },
    mergeNewParams: function (a) {
        a = [OpenLayers.Util.upperCaseObject(a)];
        return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, a)
    },
    getFullRequestString: function (a, b) {
        var c = this.map.getProjectionObject(),
            c = this.projection && this.projection.equals(c) ? this.projection.getCode() : c.getCode(),
            c = "none" == c ? null : c;
        1.3 <= parseFloat(this.params.VERSION) ? this.params.CRS = c : this.params.SRS = c;
        "boolean" == typeof this.params.TRANSPARENT && (a.TRANSPARENT = this.params.TRANSPARENT ? "TRUE" : "FALSE");
        return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Layer.WMS"
});
OpenLayers.Layer.KaMap = OpenLayers.Class(OpenLayers.Layer.Grid, {
    isBaseLayer: !0,
    DEFAULT_PARAMS: {
        i: "jpeg",
        map: ""
    },
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments);
        this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS)
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.map.getResolution(),
            c = Math.round(1E4 * this.map.getScale()) / 1E4,
            d = Math.round(a.left / b);
        a = -Math.round(a.top / b);
        return this.getFullRequestString({
            t: a,
            l: d,
            s: c
        })
    },
    calculateGridLayout: function (a,
        b, c) {
        b = c * this.tileSize.w;
        c *= this.tileSize.h;
        return {
            tilelon: b,
            tilelat: c,
            startcol: Math.floor(a.left / b) - this.buffer,
            startrow: Math.floor(a.top / c) + this.buffer
        }
    },
    getTileBoundsForGridIndex: function (a, b) {
        this.getTileOrigin();
        var c = this.gridLayout,
            d = c.tilelon,
            e = c.tilelat,
            f = (c.startcol + b) * d,
            c = (c.startrow - a) * e;
        return new OpenLayers.Bounds(f, c, f + d, c + e)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.KaMap(this.name, this.url, this.params, this.getOptions()));
        a = OpenLayers.Layer.Grid.prototype.clone.apply(this,
            [a]);
        null != this.tileSize && (a.tileSize = this.tileSize.clone());
        a.grid = [];
        return a
    },
    getTileBounds: function (a) {
        var b = this.getResolution(),
            c = b * this.tileSize.w,
            b = b * this.tileSize.h,
            d = this.getLonLatFromViewPortPx(a);
        a = c * Math.floor(d.lon / c);
        d = b * Math.floor(d.lat / b);
        return new OpenLayers.Bounds(a, d, a + c, d + b)
    },
    CLASS_NAME: "OpenLayers.Layer.KaMap"
});
OpenLayers.Format.WMC.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WMC.v1, {
    VERSION: "1.1.0",
    schemaLocation: "https://www.opengis.net/context https://schemas.opengis.net/context/1.1.0/context.xsd",
    initialize: function (a) {
        OpenLayers.Format.WMC.v1.prototype.initialize.apply(this, [a])
    },
    read_sld_MinScaleDenominator: function (a, b) {
        var c = parseFloat(this.getChildValue(b));
        0 < c && (a.maxScale = c)
    },
    read_sld_MaxScaleDenominator: function (a, b) {
        a.minScale = parseFloat(this.getChildValue(b))
    },
    read_wmc_SRS: function (a, b) {
        "srs" in
        a || (a.srs = {});
        a.srs[this.getChildValue(b)] = !0
    },
    write_wmc_Layer: function (a) {
        var b = OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this, [a]);
        if (a.maxScale) {
            var c = this.createElementNS(this.namespaces.sld, "sld:MinScaleDenominator");
            c.appendChild(this.createTextNode(a.maxScale.toPrecision(16)));
            b.appendChild(c)
        }
        a.minScale && (c = this.createElementNS(this.namespaces.sld, "sld:MaxScaleDenominator"), c.appendChild(this.createTextNode(a.minScale.toPrecision(16))), b.appendChild(c));
        if (a.srs)
            for (var d in a.srs) b.appendChild(this.createElementDefaultNS("SRS",
                d));
        b.appendChild(this.write_wmc_FormatList(a));
        b.appendChild(this.write_wmc_StyleList(a));
        a.dimensions && b.appendChild(this.write_wmc_DimensionList(a));
        b.appendChild(this.write_wmc_LayerExtension(a));
        return b
    },
    CLASS_NAME: "OpenLayers.Format.WMC.v1_1_0"
});
OpenLayers.Format.XLS = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.1.0",
    stringifyOutput: !0,
    CLASS_NAME: "OpenLayers.Format.XLS"
});
OpenLayers.Format.XLS.v1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        xls: "https://www.opengis.net/xls",
        gml: "https://www.opengis.net/gml",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    xy: !0,
    defaultPrefix: "xls",
    schemaLocation: null,
    read: function (a, b) {
        OpenLayers.Util.applyDefaults(b, this.options);
        var c = {};
        this.readChildNodes(a, c);
        return c
    },
    readers: {
        xls: {
            XLS: function (a, b) {
                b.version = a.getAttribute("version");
                this.readChildNodes(a, b)
            },
            Response: function (a, b) {
                this.readChildNodes(a, b)
            },
            GeocodeResponse: function (a, b) {
                b.responseLists = [];
                this.readChildNodes(a, b)
            },
            GeocodeResponseList: function (a, b) {
                var c = {
                    features: [],
                    numberOfGeocodedAddresses: parseInt(a.getAttribute("numberOfGeocodedAddresses"))
                };
                b.responseLists.push(c);
                this.readChildNodes(a, c)
            },
            GeocodedAddress: function (a, b) {
                var c = new OpenLayers.Feature.Vector;
                b.features.push(c);
                this.readChildNodes(a, c);
                c.geometry = c.components[0]
            },
            GeocodeMatchCode: function (a, b) {
                b.attributes.matchCode = {
                    accuracy: parseFloat(a.getAttribute("accuracy")),
                    matchType: a.getAttribute("matchType")
                }
            },
            Address: function (a, b) {
                var c = {
                    countryCode: a.getAttribute("countryCode"),
                    addressee: a.getAttribute("addressee"),
                    street: [],
                    place: []
                };
                b.attributes.address = c;
                this.readChildNodes(a, c)
            },
            freeFormAddress: function (a, b) {
                b.freeFormAddress = this.getChildValue(a)
            },
            StreetAddress: function (a, b) {
                this.readChildNodes(a, b)
            },
            Building: function (a, b) {
                b.building = {
                    number: a.getAttribute("number"),
                    subdivision: a.getAttribute("subdivision"),
                    buildingName: a.getAttribute("buildingName")
                }
            },
            Street: function (a, b) {
                b.street.push(this.getChildValue(a))
            },
            Place: function (a, b) {
                b.place[a.getAttribute("type")] = this.getChildValue(a)
            },
            PostalCode: function (a, b) {
                b.postalCode = this.getChildValue(a)
            }
        },
        gml: OpenLayers.Format.GML.v3.prototype.readers.gml
    },
    write: function (a) {
        return this.writers.xls.XLS.apply(this, [a])
    },
    writers: {
        xls: {
            XLS: function (a) {
                var b = this.createElementNSPlus("xls:XLS", {
                    attributes: {
                        version: this.VERSION,
                        "xsi:schemaLocation": this.schemaLocation
                    }
                });
                this.writeNode("RequestHeader", a.header, b);
                this.writeNode("Request", a, b);
                return b
            },
            RequestHeader: function (a) {
                return this.createElementNSPlus("xls:RequestHeader")
            },
            Request: function (a) {
                var b = this.createElementNSPlus("xls:Request", {
                    attributes: {
                        methodName: "GeocodeRequest",
                        requestID: a.requestID || "",
                        version: this.VERSION
                    }
                });
                this.writeNode("GeocodeRequest", a.addresses, b);
                return b
            },
            GeocodeRequest: function (a) {
                for (var b = this.createElementNSPlus("xls:GeocodeRequest"), c = 0, d = a.length; c < d; c++) this.writeNode("Address",
                    a[c], b);
                return b
            },
            Address: function (a) {
                var b = this.createElementNSPlus("xls:Address", {
                    attributes: {
                        countryCode: a.countryCode
                    }
                });
                a.freeFormAddress ? this.writeNode("freeFormAddress", a.freeFormAddress, b) : (a.street && this.writeNode("StreetAddress", a, b), a.municipality && this.writeNode("Municipality", a.municipality, b), a.countrySubdivision && this.writeNode("CountrySubdivision", a.countrySubdivision, b), a.postalCode && this.writeNode("PostalCode", a.postalCode, b));
                return b
            },
            freeFormAddress: function (a) {
                return this.createElementNSPlus("freeFormAddress", {
                    value: a
                })
            },
            StreetAddress: function (a) {
                var b = this.createElementNSPlus("xls:StreetAddress");
                a.building && this.writeNode(b, "Building", a.building);
                a = a.street;
                OpenLayers.Util.isArray(a) || (a = [a]);
                for (var c = 0, d = a.length; c < d; c++) this.writeNode("Street", a[c], b);
                return b
            },
            Building: function (a) {
                return this.createElementNSPlus("xls:Building", {
                    attributes: {
                        number: a.number,
                        subdivision: a.subdivision,
                        buildingName: a.buildingName
                    }
                })
            },
            Street: function (a) {
                return this.createElementNSPlus("xls:Street", {
                    value: a
                })
            },
            Municipality: function (a) {
                return this.createElementNSPlus("xls:Place", {
                    attributes: {
                        type: "Municipality"
                    },
                    value: a
                })
            },
            CountrySubdivision: function (a) {
                return this.createElementNSPlus("xls:Place", {
                    attributes: {
                        type: "CountrySubdivision"
                    },
                    value: a
                })
            },
            PostalCode: function (a) {
                return this.createElementNSPlus("xls:PostalCode", {
                    value: a
                })
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.XLS.v1"
});
OpenLayers.Format.XLS.v1_1_0 = OpenLayers.Class(OpenLayers.Format.XLS.v1, {
    VERSION: "1.1",
    schemaLocation: "https://www.opengis.net/xls https://schemas.opengis.net/ols/1.1.0/LocationUtilityService.xsd",
    CLASS_NAME: "OpenLayers.Format.XLS.v1_1_0"
});
OpenLayers.Format.XLS.v1_1 = OpenLayers.Format.XLS.v1_1_0;
OpenLayers.Renderer.SVG = OpenLayers.Class(OpenLayers.Renderer.Elements, {
    xmlns: "https://www.w3.org/2000/svg",
    xlinkns: "https://www.w3.org/1999/xlink",
    MAX_PIXEL: 15E3,
    translationParameters: null,
    symbolMetrics: null,
    initialize: function (a) {
        this.supported() && (OpenLayers.Renderer.Elements.prototype.initialize.apply(this, arguments), this.translationParameters = {
            x: 0,
            y: 0
        }, this.symbolMetrics = {})
    },
    supported: function () {
        return document.implementation && (document.implementation.hasFeature("org.w3c.svg", "1.0") || document.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#SVG",
            "1.1") || document.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"))
    },
    inValidRange: function (a, b, c) {
        a += c ? 0 : this.translationParameters.x;
        b += c ? 0 : this.translationParameters.y;
        return a >= -this.MAX_PIXEL && a <= this.MAX_PIXEL && b >= -this.MAX_PIXEL && b <= this.MAX_PIXEL
    },
    setExtent: function (a, b) {
        var c = OpenLayers.Renderer.Elements.prototype.setExtent.apply(this, arguments),
            d = this.getResolution(),
            e = -a.left / d,
            d = a.top / d;
        if (b) return this.left = e, this.top = d, this.rendererRoot.setAttributeNS(null,
            "viewBox", "0 0 " + this.size.w + " " + this.size.h), this.translate(this.xOffset, 0), !0;
        (e = this.translate(e - this.left + this.xOffset, d - this.top)) || this.setExtent(a, !0);
        return c && e
    },
    translate: function (a, b) {
        if (this.inValidRange(a, b, !0)) {
            var c = "";
            if (a || b) c = "translate(" + a + "," + b + ")";
            this.root.setAttributeNS(null, "transform", c);
            this.translationParameters = {
                x: a,
                y: b
            };
            return !0
        }
        return !1
    },
    setSize: function (a) {
        OpenLayers.Renderer.prototype.setSize.apply(this, arguments);
        this.rendererRoot.setAttributeNS(null, "width", this.size.w);
        this.rendererRoot.setAttributeNS(null, "height", this.size.h)
    },
    getNodeType: function (a, b) {
        var c = null;
        switch (a.CLASS_NAME) {
            case "OpenLayers.Geometry.Point":
                c = b.externalGraphic ? "image" : this.isComplexSymbol(b.graphicName) ? "svg" : "circle";
                break;
            case "OpenLayers.Geometry.Rectangle":
                c = "rect";
                break;
            case "OpenLayers.Geometry.LineString":
                c = "polyline";
                break;
            case "OpenLayers.Geometry.LinearRing":
                c = "polygon";
                break;
            case "OpenLayers.Geometry.Polygon":
            case "OpenLayers.Geometry.Curve":
                c = "path"
        }
        return c
    },
    setStyle: function (a,
        b, c) {
        b = b || a._style;
        c = c || a._options;
        var d = b.title || b.graphicTitle;
        if (d) {
            a.setAttributeNS(null, "title", d);
            var e = a.getElementsByTagName("title");
            0 < e.length ? e[0].firstChild.textContent = d : (e = this.nodeFactory(null, "title"), e.textContent = d, a.appendChild(e))
        }
        var e = parseFloat(a.getAttributeNS(null, "r")),
            d = 1,
            f;
        if ("OpenLayers.Geometry.Point" == a._geometryClass && e) {
            a.style.visibility = "";
            if (!1 === b.graphic) a.style.visibility = "hidden";
            else if (b.externalGraphic) {
                f = this.getPosition(a);
                b.graphicWidth && b.graphicHeight &&
                    a.setAttributeNS(null, "preserveAspectRatio", "none");
                var e = b.graphicWidth || b.graphicHeight,
                    g = b.graphicHeight || b.graphicWidth,
                    e = e ? e : 2 * b.pointRadius,
                    g = g ? g : 2 * b.pointRadius,
                    h = void 0 != b.graphicYOffset ? b.graphicYOffset : -(0.5 * g),
                    k = b.graphicOpacity || b.fillOpacity;
                a.setAttributeNS(null, "x", (f.x + (void 0 != b.graphicXOffset ? b.graphicXOffset : -(0.5 * e))).toFixed());
                a.setAttributeNS(null, "y", (f.y + h).toFixed());
                a.setAttributeNS(null, "width", e);
                a.setAttributeNS(null, "height", g);
                a.setAttributeNS(this.xlinkns, "xlink:href",
                    b.externalGraphic);
                a.setAttributeNS(null, "style", "opacity: " + k);
                a.onclick = OpenLayers.Event.preventDefault
            } else if (this.isComplexSymbol(b.graphicName)) {
                var e = 3 * b.pointRadius,
                    g = 2 * e,
                    l = this.importSymbol(b.graphicName);
                f = this.getPosition(a);
                d = 3 * this.symbolMetrics[l.id][0] / g;
                h = a.parentNode;
                k = a.nextSibling;
                h && h.removeChild(a);
                a.firstChild && a.removeChild(a.firstChild);
                a.appendChild(l.firstChild.cloneNode(!0));
                a.setAttributeNS(null, "viewBox", l.getAttributeNS(null, "viewBox"));
                a.setAttributeNS(null, "width",
                    g);
                a.setAttributeNS(null, "height", g);
                a.setAttributeNS(null, "x", f.x - e);
                a.setAttributeNS(null, "y", f.y - e);
                k ? h.insertBefore(a, k) : h && h.appendChild(a)
            } else a.setAttributeNS(null, "r", b.pointRadius);
            e = b.rotation;
            void 0 === e && void 0 === a._rotation || !f || (a._rotation = e, e |= 0, "svg" !== a.nodeName ? a.setAttributeNS(null, "transform", "rotate(" + e + " " + f.x + " " + f.y + ")") : (f = this.symbolMetrics[l.id], a.firstChild.setAttributeNS(null, "transform", "rotate(" + e + " " + f[1] + " " + f[2] + ")")))
        }
        c.isFilled ? (a.setAttributeNS(null, "fill", b.fillColor),
            a.setAttributeNS(null, "fill-opacity", b.fillOpacity)) : a.setAttributeNS(null, "fill", "none");
        c.isStroked ? (a.setAttributeNS(null, "stroke", b.strokeColor), a.setAttributeNS(null, "stroke-opacity", b.strokeOpacity), a.setAttributeNS(null, "stroke-width", b.strokeWidth * d), a.setAttributeNS(null, "stroke-linecap", b.strokeLinecap || "round"), a.setAttributeNS(null, "stroke-linejoin", "round"), b.strokeDashstyle && a.setAttributeNS(null, "stroke-dasharray", this.dashStyle(b, d))) : a.setAttributeNS(null, "stroke", "none");
        b.pointerEvents &&
            a.setAttributeNS(null, "pointer-events", b.pointerEvents);
        null != b.cursor && a.setAttributeNS(null, "cursor", b.cursor);
        return a
    },
    dashStyle: function (a, b) {
        var c = a.strokeWidth * b,
            d = a.strokeDashstyle;
        switch (d) {
            case "solid":
                return "none";
            case "dot":
                return [1, 4 * c].join();
            case "dash":
                return [4 * c, 4 * c].join();
            case "dashdot":
                return [4 * c, 4 * c, 1, 4 * c].join();
            case "longdash":
                return [8 * c, 4 * c].join();
            case "longdashdot":
                return [8 * c, 4 * c, 1, 4 * c].join();
            default:
                return OpenLayers.String.trim(d).replace(/\s+/g, ",")
        }
    },
    createNode: function (a,
        b) {
        var c = document.createElementNS(this.xmlns, a);
        b && c.setAttributeNS(null, "id", b);
        return c
    },
    nodeTypeCompare: function (a, b) {
        return b == a.nodeName
    },
    createRenderRoot: function () {
        var a = this.nodeFactory(this.container.id + "_svgRoot", "svg");
        a.style.display = "block";
        return a
    },
    createRoot: function (a) {
        return this.nodeFactory(this.container.id + a, "g")
    },
    createDefs: function () {
        var a = this.nodeFactory(this.container.id + "_defs", "defs");
        this.rendererRoot.appendChild(a);
        return a
    },
    drawPoint: function (a, b) {
        return this.drawCircle(a,
            b, 1)
    },
    drawCircle: function (a, b, c) {
        var d = this.getResolution(),
            e = (b.x - this.featureDx) / d + this.left;
        b = this.top - b.y / d;
        return this.inValidRange(e, b) ? (a.setAttributeNS(null, "cx", e), a.setAttributeNS(null, "cy", b), a.setAttributeNS(null, "r", c), a) : !1
    },
    drawLineString: function (a, b) {
        var c = this.getComponentsString(b.components);
        return c.path ? (a.setAttributeNS(null, "points", c.path), c.complete ? a : null) : !1
    },
    drawLinearRing: function (a, b) {
        var c = this.getComponentsString(b.components);
        return c.path ? (a.setAttributeNS(null,
            "points", c.path), c.complete ? a : null) : !1
    },
    drawPolygon: function (a, b) {
        for (var c = "", d = !0, e = !0, f, g, h = 0, k = b.components.length; h < k; h++) c += " M", f = this.getComponentsString(b.components[h].components, " "), (g = f.path) ? (c += " " + g, e = f.complete && e) : d = !1;
        return d ? (a.setAttributeNS(null, "d", c + " z"), a.setAttributeNS(null, "fill-rule", "evenodd"), e ? a : null) : !1
    },
    drawRectangle: function (a, b) {
        var c = this.getResolution(),
            d = (b.x - this.featureDx) / c + this.left,
            e = this.top - b.y / c;
        return this.inValidRange(d, e) ? (a.setAttributeNS(null, "x",
            d), a.setAttributeNS(null, "y", e), a.setAttributeNS(null, "width", b.width / c), a.setAttributeNS(null, "height", b.height / c), a) : !1
    },
    drawText: function (a, b, c) {
        var d = !!b.labelOutlineWidth;
        if (d) {
            var e = OpenLayers.Util.extend({}, b);
            e.fontColor = e.labelOutlineColor;
            e.fontStrokeColor = e.labelOutlineColor;
            e.fontStrokeWidth = b.labelOutlineWidth;
            b.labelOutlineOpacity && (e.fontOpacity = b.labelOutlineOpacity);
            delete e.labelOutlineWidth;
            this.drawText(a, e, c)
        }
        var f = this.getResolution(),
            e = (c.x - this.featureDx) / f + this.left,
            g = c.y /
            f - this.top,
            d = d ? this.LABEL_OUTLINE_SUFFIX : this.LABEL_ID_SUFFIX,
            f = this.nodeFactory(a + d, "text");
        f.setAttributeNS(null, "x", e);
        f.setAttributeNS(null, "y", -g);
        b.fontColor && f.setAttributeNS(null, "fill", b.fontColor);
        b.fontStrokeColor && f.setAttributeNS(null, "stroke", b.fontStrokeColor);
        b.fontStrokeWidth && f.setAttributeNS(null, "stroke-width", b.fontStrokeWidth);
        b.fontOpacity && f.setAttributeNS(null, "opacity", b.fontOpacity);
        b.fontFamily && f.setAttributeNS(null, "font-family", b.fontFamily);
        b.fontSize && f.setAttributeNS(null,
            "font-size", b.fontSize);
        b.fontWeight && f.setAttributeNS(null, "font-weight", b.fontWeight);
        b.fontStyle && f.setAttributeNS(null, "font-style", b.fontStyle);
        !0 === b.labelSelect ? (f.setAttributeNS(null, "pointer-events", "visible"), f._featureId = a) : f.setAttributeNS(null, "pointer-events", "none");
        g = b.labelAlign || OpenLayers.Renderer.defaultSymbolizer.labelAlign;
        f.setAttributeNS(null, "text-anchor", OpenLayers.Renderer.SVG.LABEL_ALIGN[g[0]] || "middle");
        !0 === OpenLayers.IS_GECKO && f.setAttributeNS(null, "dominant-baseline",
            OpenLayers.Renderer.SVG.LABEL_ALIGN[g[1]] || "central");
        for (var h = b.label.split("\n"), k = h.length; f.childNodes.length > k;) f.removeChild(f.lastChild);
        for (var l = 0; l < k; l++) {
            var m = this.nodeFactory(a + d + "_tspan_" + l, "tspan");
            !0 === b.labelSelect && (m._featureId = a, m._geometry = c, m._geometryClass = c.CLASS_NAME);
            !1 === OpenLayers.IS_GECKO && m.setAttributeNS(null, "baseline-shift", OpenLayers.Renderer.SVG.LABEL_VSHIFT[g[1]] || "-35%");
            m.setAttribute("x", e);
            if (0 == l) {
                var n = OpenLayers.Renderer.SVG.LABEL_VFACTOR[g[1]];
                null == n &&
                    (n = -0.5);
                m.setAttribute("dy", n * (k - 1) + "em")
            } else m.setAttribute("dy", "1em");
            m.textContent = "" === h[l] ? " " : h[l];
            m.parentNode || f.appendChild(m)
        }
        f.parentNode || this.textRoot.appendChild(f)
    },
    getComponentsString: function (a, b) {
        for (var c = [], d = !0, e = a.length, f = [], g, h = 0; h < e; h++) g = a[h], c.push(g), (g = this.getShortString(g)) ? f.push(g) : (0 < h && this.getShortString(a[h - 1]) && f.push(this.clipLine(a[h], a[h - 1])), h < e - 1 && this.getShortString(a[h + 1]) && f.push(this.clipLine(a[h], a[h + 1])), d = !1);
        return {
            path: f.join(b || ","),
            complete: d
        }
    },
    clipLine: function (a, b) {
        if (b.equals(a)) return "";
        var c = this.getResolution(),
            d = this.MAX_PIXEL - this.translationParameters.x,
            e = this.MAX_PIXEL - this.translationParameters.y,
            f = (b.x - this.featureDx) / c + this.left,
            g = this.top - b.y / c,
            h = (a.x - this.featureDx) / c + this.left,
            c = this.top - a.y / c,
            k;
        if (h < -d || h > d) k = (c - g) / (h - f), h = 0 > h ? -d : d, c = g + (h - f) * k;
        if (c < -e || c > e) k = (h - f) / (c - g), c = 0 > c ? -e : e, h = f + (c - g) * k;
        return h + "," + c
    },
    getShortString: function (a) {
        var b = this.getResolution(),
            c = (a.x - this.featureDx) / b + this.left;
        a = this.top - a.y / b;
        return this.inValidRange(c,
            a) ? c + "," + a : !1
    },
    getPosition: function (a) {
        return {
            x: parseFloat(a.getAttributeNS(null, "cx")),
            y: parseFloat(a.getAttributeNS(null, "cy"))
        }
    },
    importSymbol: function (a) {
        this.defs || (this.defs = this.createDefs());
        var b = this.container.id + "-" + a,
            c = document.getElementById(b);
        if (null != c) return c;
        var d = OpenLayers.Renderer.symbol[a];
        if (!d) throw Error(a + " is not a valid symbol name");
        a = this.nodeFactory(b, "symbol");
        var e = this.nodeFactory(null, "polygon");
        a.appendChild(e);
        for (var c = new OpenLayers.Bounds(Number.MAX_VALUE, Number.MAX_VALUE,
                0, 0), f = [], g, h, k = 0; k < d.length; k += 2) g = d[k], h = d[k + 1], c.left = Math.min(c.left, g), c.bottom = Math.min(c.bottom, h), c.right = Math.max(c.right, g), c.top = Math.max(c.top, h), f.push(g, ",", h);
        e.setAttributeNS(null, "points", f.join(" "));
        d = c.getWidth();
        e = c.getHeight();
        a.setAttributeNS(null, "viewBox", [c.left - d, c.bottom - e, 3 * d, 3 * e].join(" "));
        this.symbolMetrics[b] = [Math.max(d, e), c.getCenterLonLat().lon, c.getCenterLonLat().lat];
        this.defs.appendChild(a);
        return a
    },
    getFeatureIdFromEvent: function (a) {
        var b = OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,
            arguments);
        b || (b = a.target, b = b.parentNode && b != this.rendererRoot ? b.parentNode._featureId : void 0);
        return b
    },
    CLASS_NAME: "OpenLayers.Renderer.SVG"
});
OpenLayers.Renderer.SVG.LABEL_ALIGN = {
    l: "start",
    r: "end",
    b: "bottom",
    t: "hanging"
};
OpenLayers.Renderer.SVG.LABEL_VSHIFT = {
    t: "-70%",
    b: "0"
};
OpenLayers.Renderer.SVG.LABEL_VFACTOR = {
    t: 0,
    b: -1
};
OpenLayers.Renderer.SVG.preventDefault = function (a) {
    OpenLayers.Event.preventDefault(a)
};
OpenLayers.Format.SLD.v1_0_0 = OpenLayers.Class(OpenLayers.Format.SLD.v1, {
    VERSION: "1.0.0",
    schemaLocation: "https://www.opengis.net/sld https://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd",
    CLASS_NAME: "OpenLayers.Format.SLD.v1_0_0"
});
OpenLayers.Format.OWSContext = OpenLayers.Class(OpenLayers.Format.Context, {
    defaultVersion: "0.3.1",
    getVersion: function (a, b) {
        var c = OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this, arguments);
        "0.3.0" === c && (c = this.defaultVersion);
        return c
    },
    toContext: function (a) {
        var b = {};
        "OpenLayers.Map" == a.CLASS_NAME && (b.bounds = a.getExtent(), b.maxExtent = a.maxExtent, b.projection = a.projection, b.size = a.getSize(), b.layers = a.layers);
        return b
    },
    CLASS_NAME: "OpenLayers.Format.OWSContext"
});
OpenLayers.Format.OWSContext.v0_3_1 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        owc: "https://www.opengis.net/ows-context",
        gml: "https://www.opengis.net/gml",
        kml: "https://www.opengis.net/kml/2.2",
        ogc: "https://www.opengis.net/ogc",
        ows: "https://www.opengis.net/ows",
        sld: "https://www.opengis.net/sld",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    VERSION: "0.3.1",
    schemaLocation: "https://www.opengis.net/ows-context https://www.ogcnetwork.net/schemas/owc/0.3.1/owsContext.xsd",
    defaultPrefix: "owc",
    extractAttributes: !0,
    xy: !0,
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    featureNS: "https://mapserver.gis.umn.edu/mapserver",
    featureType: "vector",
    geometryName: "geometry",
    nestingLayerLookup: null,
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a]);
        OpenLayers.Format.GML.v2.prototype.setGeometryTypes.call(this)
    },
    setNestingPath: function (a) {
        if (a.layersContext)
            for (var b = 0, c = a.layersContext.length; b < c; b++) {
                var d =
                    a.layersContext[b],
                    e = [],
                    f = a.title || "";
                a.metadata && a.metadata.nestingPath && (e = a.metadata.nestingPath.slice());
                "" != f && e.push(f);
                d.metadata.nestingPath = e;
                d.layersContext && this.setNestingPath(d)
            }
    },
    decomposeNestingPath: function (a) {
        var b = [];
        if (OpenLayers.Util.isArray(a)) {
            for (a = a.slice(); 0 < a.length;) b.push(a.slice()), a.pop();
            b.reverse()
        }
        return b
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a,
            b);
        this.setNestingPath({
            layersContext: b.layersContext
        });
        a = [];
        this.processLayer(a, b);
        delete b.layersContext;
        b.layersContext = a;
        return b
    },
    processLayer: function (a, b) {
        if (b.layersContext)
            for (var c = 0, d = b.layersContext.length; c < d; c++) {
                var e = b.layersContext[c];
                a.push(e);
                e.layersContext && this.processLayer(a, e)
            }
    },
    write: function (a, b) {
        this.nestingLayerLookup = {};
        b = b || {};
        OpenLayers.Util.applyDefaults(b, a);
        var c = this.writeNode("OWSContext", b);
        this.nestingLayerLookup = null;
        this.setAttributeNS(c, this.namespaces.xsi,
            "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this, [c])
    },
    readers: {
        kml: {
            Document: function (a, b) {
                b.features = (new OpenLayers.Format.KML({
                    kmlns: this.namespaces.kml,
                    extractStyles: !0
                })).read(a)
            }
        },
        owc: {
            OWSContext: function (a, b) {
                this.readChildNodes(a, b)
            },
            General: function (a, b) {
                this.readChildNodes(a, b)
            },
            ResourceList: function (a, b) {
                this.readChildNodes(a, b)
            },
            Layer: function (a, b) {
                var c = {
                    metadata: {},
                    visibility: "1" != a.getAttribute("hidden"),
                    queryable: "1" == a.getAttribute("queryable"),
                    opacity: null != a.getAttribute("opacity") ? parseFloat(a.getAttribute("opacity")) : null,
                    name: a.getAttribute("name"),
                    categoryLayer: null == a.getAttribute("name"),
                    formats: [],
                    styles: []
                };
                b.layersContext || (b.layersContext = []);
                b.layersContext.push(c);
                this.readChildNodes(a, c)
            },
            InlineGeometry: function (a, b) {
                b.features = [];
                var c = this.getElementsByTagNameNS(a, this.namespaces.gml, "featureMember"),
                    d;
                1 <= c.length && (d = c[0]);
                d && d.firstChild && (c = d.firstChild.nextSibling ? d.firstChild.nextSibling : d.firstChild, this.setNamespace("feature",
                    c.namespaceURI), this.featureType = c.localName || c.nodeName.split(":").pop(), this.readChildNodes(a, b))
            },
            Server: function (a, b) {
                if (!b.service && !b.version || b.service != OpenLayers.Format.Context.serviceTypes.WMS) b.service = a.getAttribute("service"), b.version = a.getAttribute("version"), this.readChildNodes(a, b)
            },
            Name: function (a, b) {
                b.name = this.getChildValue(a);
                this.readChildNodes(a, b)
            },
            Title: function (a, b) {
                b.title = this.getChildValue(a);
                this.readChildNodes(a, b)
            },
            StyleList: function (a, b) {
                this.readChildNodes(a, b.styles)
            },
            Style: function (a, b) {
                var c = {};
                b.push(c);
                this.readChildNodes(a, c)
            },
            LegendURL: function (a, b) {
                var c = {};
                b.legend = c;
                this.readChildNodes(a, c)
            },
            OnlineResource: function (a, b) {
                b.url = this.getAttributeNS(a, this.namespaces.xlink, "href");
                this.readChildNodes(a, b)
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows,
        gml: OpenLayers.Format.GML.v2.prototype.readers.gml,
        sld: OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld,
        feature: OpenLayers.Format.GML.v2.prototype.readers.feature
    },
    writers: {
        owc: {
            OWSContext: function (a) {
                var b =
                    this.createElementNSPlus("OWSContext", {
                        attributes: {
                            version: this.VERSION,
                            id: a.id || OpenLayers.Util.createUniqueID("OpenLayers_OWSContext_")
                        }
                    });
                this.writeNode("General", a, b);
                this.writeNode("ResourceList", a, b);
                return b
            },
            General: function (a) {
                var b = this.createElementNSPlus("General");
                this.writeNode("ows:BoundingBox", a, b);
                this.writeNode("ows:Title", a.title || "OpenLayers OWSContext", b);
                return b
            },
            ResourceList: function (a) {
                for (var b = this.createElementNSPlus("ResourceList"), c = 0, d = a.layers.length; c < d; c++) {
                    var e =
                        a.layers[c],
                        f = this.decomposeNestingPath(e.metadata.nestingPath);
                    this.writeNode("_Layer", {
                        layer: e,
                        subPaths: f
                    }, b)
                }
                return b
            },
            Server: function (a) {
                var b = this.createElementNSPlus("Server", {
                    attributes: {
                        version: a.version,
                        service: a.service
                    }
                });
                this.writeNode("OnlineResource", a, b);
                return b
            },
            OnlineResource: function (a) {
                return this.createElementNSPlus("OnlineResource", {
                    attributes: {
                        "xlink:href": a.url
                    }
                })
            },
            InlineGeometry: function (a) {
                var b = this.createElementNSPlus("InlineGeometry"),
                    c = a.getDataExtent();
                null !== c && this.writeNode("gml:boundedBy",
                    c, b);
                for (var c = 0, d = a.features.length; c < d; c++) this.writeNode("gml:featureMember", a.features[c], b);
                return b
            },
            StyleList: function (a) {
                for (var b = this.createElementNSPlus("StyleList"), c = 0, d = a.length; c < d; c++) this.writeNode("Style", a[c], b);
                return b
            },
            Style: function (a) {
                var b = this.createElementNSPlus("Style");
                this.writeNode("Name", a, b);
                this.writeNode("Title", a, b);
                a.legend && this.writeNode("LegendURL", a, b);
                return b
            },
            Name: function (a) {
                return this.createElementNSPlus("Name", {
                    value: a.name
                })
            },
            Title: function (a) {
                return this.createElementNSPlus("Title", {
                    value: a.title
                })
            },
            LegendURL: function (a) {
                var b = this.createElementNSPlus("LegendURL");
                this.writeNode("OnlineResource", a.legend, b);
                return b
            },
            _WMS: function (a) {
                var b = this.createElementNSPlus("Layer", {
                    attributes: {
                        name: a.params.LAYERS,
                        queryable: a.queryable ? "1" : "0",
                        hidden: a.visibility ? "0" : "1",
                        opacity: a.hasOwnProperty("opacity") ? a.opacity : null
                    }
                });
                this.writeNode("ows:Title", a.name, b);
                this.writeNode("ows:OutputFormat", a.params.FORMAT, b);
                this.writeNode("Server", {
                    service: OpenLayers.Format.Context.serviceTypes.WMS,
                    version: a.params.VERSION,
                    url: a.url
                }, b);
                a.metadata.styles && 0 < a.metadata.styles.length && this.writeNode("StyleList", a.metadata.styles, b);
                return b
            },
            _Layer: function (a) {
                var b, c, d;
                b = a.layer;
                c = a.subPaths;
                d = null;
                0 < c.length ? (b = c[0].join("/"), c = b.lastIndexOf("/"), d = this.nestingLayerLookup[b], c = 0 < c ? b.substring(c + 1, b.length) : b, d || (d = this.createElementNSPlus("Layer"), this.writeNode("ows:Title", c, d), this.nestingLayerLookup[b] = d), a.subPaths.shift(), this.writeNode("_Layer", a, d)) : (b instanceof OpenLayers.Layer.WMS ?
                    d = this.writeNode("_WMS", b) : b instanceof OpenLayers.Layer.Vector && (b.protocol instanceof OpenLayers.Protocol.WFS.v1 ? d = this.writeNode("_WFS", b) : b.protocol instanceof OpenLayers.Protocol.HTTP ? b.protocol.format instanceof OpenLayers.Format.GML ? (b.protocol.format.version = "2.1.2", d = this.writeNode("_GML", b)) : b.protocol.format instanceof OpenLayers.Format.KML && (b.protocol.format.version = "2.2", d = this.writeNode("_KML", b)) : (this.setNamespace("feature", this.featureNS), d = this.writeNode("_InlineGeometry", b))),
                    b.options.maxScale && this.writeNode("sld:MinScaleDenominator", b.options.maxScale, d), b.options.minScale && this.writeNode("sld:MaxScaleDenominator", b.options.minScale, d), this.nestingLayerLookup[b.name] = d);
                return d
            },
            _WFS: function (a) {
                var b = this.createElementNSPlus("Layer", {
                    attributes: {
                        name: a.protocol.featurePrefix + ":" + a.protocol.featureType,
                        hidden: a.visibility ? "0" : "1"
                    }
                });
                this.writeNode("ows:Title", a.name, b);
                this.writeNode("Server", {
                    service: OpenLayers.Format.Context.serviceTypes.WFS,
                    version: a.protocol.version,
                    url: a.protocol.url
                }, b);
                return b
            },
            _InlineGeometry: function (a) {
                var b = this.createElementNSPlus("Layer", {
                    attributes: {
                        name: this.featureType,
                        hidden: a.visibility ? "0" : "1"
                    }
                });
                this.writeNode("ows:Title", a.name, b);
                this.writeNode("InlineGeometry", a, b);
                return b
            },
            _GML: function (a) {
                var b = this.createElementNSPlus("Layer");
                this.writeNode("ows:Title", a.name, b);
                this.writeNode("Server", {
                    service: OpenLayers.Format.Context.serviceTypes.GML,
                    url: a.protocol.url,
                    version: a.protocol.format.version
                }, b);
                return b
            },
            _KML: function (a) {
                var b =
                    this.createElementNSPlus("Layer");
                this.writeNode("ows:Title", a.name, b);
                this.writeNode("Server", {
                    service: OpenLayers.Format.Context.serviceTypes.KML,
                    version: a.protocol.format.version,
                    url: a.protocol.url
                }, b);
                return b
            }
        },
        gml: OpenLayers.Util.applyDefaults({
            boundedBy: function (a) {
                var b = this.createElementNSPlus("gml:boundedBy");
                this.writeNode("gml:Box", a, b);
                return b
            }
        }, OpenLayers.Format.GML.v2.prototype.writers.gml),
        ows: OpenLayers.Format.OWSCommon.v1_0_0.prototype.writers.ows,
        sld: OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld,
        feature: OpenLayers.Format.GML.v2.prototype.writers.feature
    },
    CLASS_NAME: "OpenLayers.Format.OWSContext.v0_3_1"
});
OpenLayers.Popup = OpenLayers.Class({
    events: null,
    id: "",
    lonlat: null,
    div: null,
    contentSize: null,
    size: null,
    contentHTML: null,
    backgroundColor: "",
    opacity: "",
    border: "",
    contentDiv: null,
    groupDiv: null,
    closeDiv: null,
    autoSize: !1,
    minSize: null,
    maxSize: null,
    displayClass: "olPopup",
    contentDisplayClass: "olPopupContent",
    padding: 0,
    disableFirefoxOverflowHack: !1,
    fixPadding: function () {
        "number" == typeof this.padding && (this.padding = new OpenLayers.Bounds(this.padding, this.padding, this.padding, this.padding))
    },
    panMapIfOutOfView: !1,
    keepInMap: !1,
    closeOnMove: !1,
    map: null,
    initialize: function (a, b, c, d, e, f) {
        null == a && (a = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_"));
        this.id = a;
        this.lonlat = b;
        this.contentSize = null != c ? c : new OpenLayers.Size(OpenLayers.Popup.WIDTH, OpenLayers.Popup.HEIGHT);
        null != d && (this.contentHTML = d);
        this.backgroundColor = OpenLayers.Popup.COLOR;
        this.opacity = OpenLayers.Popup.OPACITY;
        this.border = OpenLayers.Popup.BORDER;
        this.div = OpenLayers.Util.createDiv(this.id, null, null, null, null, null, "hidden");
        this.div.className = this.displayClass;
        this.groupDiv = OpenLayers.Util.createDiv(this.id + "_GroupDiv", null, null, null, "relative", null, "hidden");
        a = this.div.id + "_contentDiv";
        this.contentDiv = OpenLayers.Util.createDiv(a, null, this.contentSize.clone(), null, "relative");
        this.contentDiv.className = this.contentDisplayClass;
        this.groupDiv.appendChild(this.contentDiv);
        this.div.appendChild(this.groupDiv);
        e && this.addCloseBox(f);
        this.registerEvents()
    },
    destroy: function () {
        this.border = this.opacity = this.backgroundColor = this.contentHTML = this.size = this.lonlat = this.id =
            null;
        this.closeOnMove && this.map && this.map.events.unregister("movestart", this, this.hide);
        this.events.destroy();
        this.events = null;
        this.closeDiv && (OpenLayers.Event.stopObservingElement(this.closeDiv), this.groupDiv.removeChild(this.closeDiv));
        this.closeDiv = null;
        this.div.removeChild(this.groupDiv);
        this.groupDiv = null;
        null != this.map && this.map.removePopup(this);
        this.panMapIfOutOfView = this.padding = this.maxSize = this.minSize = this.autoSize = this.div = this.map = null
    },
    draw: function (a) {
        null == a && null != this.lonlat && null !=
            this.map && (a = this.map.getLayerPxFromLonLat(this.lonlat));
        this.closeOnMove && this.map.events.register("movestart", this, this.hide);
        this.disableFirefoxOverflowHack || "firefox" != OpenLayers.BROWSER_NAME || (this.map.events.register("movestart", this, function () {
            var a = document.defaultView.getComputedStyle(this.contentDiv, null).getPropertyValue("overflow");
            "hidden" != a && (this.contentDiv._oldOverflow = a, this.contentDiv.style.overflow = "hidden")
        }), this.map.events.register("moveend", this, function () {
            var a = this.contentDiv._oldOverflow;
            a && (this.contentDiv.style.overflow = a, this.contentDiv._oldOverflow = null)
        }));
        this.moveTo(a);
        this.autoSize || this.size || this.setSize(this.contentSize);
        this.setBackgroundColor();
        this.setOpacity();
        this.setBorder();
        this.setContentHTML();
        this.panMapIfOutOfView && this.panIntoView();
        return this.div
    },
    updatePosition: function () {
        if (this.lonlat && this.map) {
            var a = this.map.getLayerPxFromLonLat(this.lonlat);
            a && this.moveTo(a)
        }
    },
    moveTo: function (a) {
        null != a && null != this.div && (this.div.style.left = a.x + "px", this.div.style.top =
            a.y + "px")
    },
    visible: function () {
        return OpenLayers.Element.visible(this.div)
    },
    toggle: function () {
        this.visible() ? this.hide() : this.show()
    },
    show: function () {
        this.div.style.display = "";
        this.panMapIfOutOfView && this.panIntoView()
    },
    hide: function () {
        this.div.style.display = "none"
    },
    setSize: function (a) {
        this.size = a.clone();
        var b = this.getContentDivPadding(),
            c = b.left + b.right,
            d = b.top + b.bottom;
        this.fixPadding();
        c += this.padding.left + this.padding.right;
        d += this.padding.top + this.padding.bottom;
        if (this.closeDiv) var e = parseInt(this.closeDiv.style.width),
            c = c + (e + b.right);
        this.size.w += c;
        this.size.h += d;
        "msie" == OpenLayers.BROWSER_NAME && (this.contentSize.w += b.left + b.right, this.contentSize.h += b.bottom + b.top);
        null != this.div && (this.div.style.width = this.size.w + "px", this.div.style.height = this.size.h + "px");
        null != this.contentDiv && (this.contentDiv.style.width = a.w + "px", this.contentDiv.style.height = a.h + "px")
    },
    updateSize: function () {
        var a = "<div class='" + this.contentDisplayClass + "'>" + this.contentDiv.innerHTML + "</div>",
            b = this.map ? this.map.div : document.body,
            c = OpenLayers.Util.getRenderedDimensions(a,
                null, {
                    displayClass: this.displayClass,
                    containerElement: b
                }),
            d = this.getSafeContentSize(c),
            e = null;
        d.equals(c) ? e = c : (c = {
            w: d.w < c.w ? d.w : null,
            h: d.h < c.h ? d.h : null
        }, c.w && c.h ? e = d : (a = OpenLayers.Util.getRenderedDimensions(a, c, {
            displayClass: this.contentDisplayClass,
            containerElement: b
        }), "hidden" != OpenLayers.Element.getStyle(this.contentDiv, "overflow") && a.equals(d) && (d = OpenLayers.Util.getScrollbarWidth(), c.w ? a.h += d : a.w += d), e = this.getSafeContentSize(a)));
        this.setSize(e)
    },
    setBackgroundColor: function (a) {
        void 0 != a && (this.backgroundColor =
            a);
        null != this.div && (this.div.style.backgroundColor = this.backgroundColor)
    },
    setOpacity: function (a) {
        void 0 != a && (this.opacity = a);
        null != this.div && (this.div.style.opacity = this.opacity, this.div.style.filter = "alpha(opacity=" + 100 * this.opacity + ")")
    },
    setBorder: function (a) {
        void 0 != a && (this.border = a);
        null != this.div && (this.div.style.border = this.border)
    },
    setContentHTML: function (a) {
        null != a && (this.contentHTML = a);
        null != this.contentDiv && (null != this.contentHTML && this.contentHTML != this.contentDiv.innerHTML) && (this.contentDiv.innerHTML =
            this.contentHTML, this.autoSize && (this.registerImageListeners(), this.updateSize()))
    },
    registerImageListeners: function () {
        for (var a = function () {
                null !== this.popup.id && (this.popup.updateSize(), this.popup.visible() && this.popup.panMapIfOutOfView && this.popup.panIntoView(), OpenLayers.Event.stopObserving(this.img, "load", this.img._onImgLoad))
            }, b = this.contentDiv.getElementsByTagName("img"), c = 0, d = b.length; c < d; c++) {
            var e = b[c];
            if (0 == e.width || 0 == e.height) e._onImgLoad = OpenLayers.Function.bind(a, {
                    popup: this,
                    img: e
                }),
                OpenLayers.Event.observe(e, "load", e._onImgLoad)
        }
    },
    getSafeContentSize: function (a) {
        a = a.clone();
        var b = this.getContentDivPadding(),
            c = b.left + b.right,
            d = b.top + b.bottom;
        this.fixPadding();
        c += this.padding.left + this.padding.right;
        d += this.padding.top + this.padding.bottom;
        if (this.closeDiv) var e = parseInt(this.closeDiv.style.width),
            c = c + (e + b.right);
        this.minSize && (a.w = Math.max(a.w, this.minSize.w - c), a.h = Math.max(a.h, this.minSize.h - d));
        this.maxSize && (a.w = Math.min(a.w, this.maxSize.w - c), a.h = Math.min(a.h, this.maxSize.h -
            d));
        if (this.map && this.map.size) {
            e = b = 0;
            if (this.keepInMap && !this.panMapIfOutOfView) switch (e = this.map.getPixelFromLonLat(this.lonlat), this.relativePosition) {
                case "tr":
                    b = e.x;
                    e = this.map.size.h - e.y;
                    break;
                case "tl":
                    b = this.map.size.w - e.x;
                    e = this.map.size.h - e.y;
                    break;
                case "bl":
                    b = this.map.size.w - e.x;
                    e = e.y;
                    break;
                case "br":
                    b = e.x;
                    e = e.y;
                    break;
                default:
                    b = e.x, e = this.map.size.h - e.y
            }
            d = this.map.size.h - this.map.paddingForPopups.top - this.map.paddingForPopups.bottom - d - e;
            a.w = Math.min(a.w, this.map.size.w - this.map.paddingForPopups.left -
                this.map.paddingForPopups.right - c - b);
            a.h = Math.min(a.h, d)
        }
        return a
    },
    getContentDivPadding: function () {
        var a = this._contentDivPadding;
        a || (null == this.div.parentNode && (this.div.style.display = "none", document.body.appendChild(this.div)), this._contentDivPadding = a = new OpenLayers.Bounds(OpenLayers.Element.getStyle(this.contentDiv, "padding-left"), OpenLayers.Element.getStyle(this.contentDiv, "padding-bottom"), OpenLayers.Element.getStyle(this.contentDiv, "padding-right"), OpenLayers.Element.getStyle(this.contentDiv,
            "padding-top")), this.div.parentNode == document.body && (document.body.removeChild(this.div), this.div.style.display = ""));
        return a
    },
    addCloseBox: function (a) {
        this.closeDiv = OpenLayers.Util.createDiv(this.id + "_close", null, {
            w: 17,
            h: 17
        });
        this.closeDiv.className = "olPopupCloseBox";
        var b = this.getContentDivPadding();
        this.closeDiv.style.right = b.right + "px";
        this.closeDiv.style.top = b.top + "px";
        this.groupDiv.appendChild(this.closeDiv);
        a = a || function (a) {
            this.hide();
            OpenLayers.Event.stop(a)
        };
        OpenLayers.Event.observe(this.closeDiv,
            "touchend", OpenLayers.Function.bindAsEventListener(a, this));
        OpenLayers.Event.observe(this.closeDiv, "click", OpenLayers.Function.bindAsEventListener(a, this))
    },
    panIntoView: function () {
        var a = this.map.getSize(),
            b = this.map.getViewPortPxFromLayerPx(new OpenLayers.Pixel(parseInt(this.div.style.left), parseInt(this.div.style.top))),
            c = b.clone();
        b.x < this.map.paddingForPopups.left ? c.x = this.map.paddingForPopups.left : b.x + this.size.w > a.w - this.map.paddingForPopups.right && (c.x = a.w - this.map.paddingForPopups.right - this.size.w);
        b.y < this.map.paddingForPopups.top ? c.y = this.map.paddingForPopups.top : b.y + this.size.h > a.h - this.map.paddingForPopups.bottom && (c.y = a.h - this.map.paddingForPopups.bottom - this.size.h);
        this.map.pan(b.x - c.x, b.y - c.y)
    },
    registerEvents: function () {
        this.events = new OpenLayers.Events(this, this.div, null, !0);
        this.events.on({
            mousedown: this.onmousedown,
            mousemove: this.onmousemove,
            mouseup: this.onmouseup,
            click: this.onclick,
            mouseout: this.onmouseout,
            dblclick: this.ondblclick,
            touchstart: function (a) {
                OpenLayers.Event.stop(a, !0)
            },
            scope: this
        })
    },
    onmousedown: function (a) {
        this.mousedown = !0;
        OpenLayers.Event.stop(a, !0)
    },
    onmousemove: function (a) {
        this.mousedown && OpenLayers.Event.stop(a, !0)
    },
    onmouseup: function (a) {
        this.mousedown && (this.mousedown = !1, OpenLayers.Event.stop(a, !0))
    },
    onclick: function (a) {
        OpenLayers.Event.stop(a, !0)
    },
    onmouseout: function (a) {
        this.mousedown = !1
    },
    ondblclick: function (a) {
        OpenLayers.Event.stop(a, !0)
    },
    CLASS_NAME: "OpenLayers.Popup"
});
OpenLayers.Popup.WIDTH = 200;
OpenLayers.Popup.HEIGHT = 200;
OpenLayers.Popup.COLOR = "white";
OpenLayers.Popup.OPACITY = 1;
OpenLayers.Popup.BORDER = "0px";
OpenLayers.Control.ScaleLine = OpenLayers.Class(OpenLayers.Control, {
    maxWidth: 100,
    topOutUnits: "km",
    topInUnits: "m",
    bottomOutUnits: "mi",
    bottomInUnits: "ft",
    eTop: null,
    eBottom: null,
    geodesic: !1,
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.eTop || (this.eTop = document.createElement("div"), this.eTop.className = this.displayClass + "Top", this.div.appendChild(this.eTop), this.eTop.style.visibility = "" == this.topOutUnits || "" == this.topInUnits ? "hidden" : "visible", this.eBottom = document.createElement("div"),
            this.eBottom.className = this.displayClass + "Bottom", this.div.appendChild(this.eBottom), this.eBottom.style.visibility = "" == this.bottomOutUnits || "" == this.bottomInUnits ? "hidden" : "visible");
        this.map.events.register("moveend", this, this.update);
        this.update();
        return this.div
    },
    getBarLen: function (a) {
        var b = parseInt(Math.log(a) / Math.log(10)),
            b = Math.pow(10, b);
        a = parseInt(a / b);
        return (5 < a ? 5 : 2 < a ? 2 : 1) * b
    },
    update: function () {
        var a = this.map.getResolution();
        if (a) {
            var b = this.map.getUnits(),
                c = OpenLayers.INCHES_PER_UNIT,
                d = this.maxWidth *
                a * c[b],
                e = 1;
            !0 === this.geodesic && (e = (this.map.getGeodesicPixelSize().w || 1E-6) * this.maxWidth / (d / c.km), d *= e);
            var f, g;
            1E5 < d ? (f = this.topOutUnits, g = this.bottomOutUnits) : (f = this.topInUnits, g = this.bottomInUnits);
            var h = d / c[f],
                k = d / c[g],
                d = this.getBarLen(h),
                l = this.getBarLen(k),
                h = d / c[b] * c[f],
                k = l / c[b] * c[g],
                b = h / a / e,
                a = k / a / e;
            "visible" == this.eBottom.style.visibility && (this.eBottom.style.width = Math.round(a) + "px", this.eBottom.innerHTML = l + " " + g);
            "visible" == this.eTop.style.visibility && (this.eTop.style.width = Math.round(b) +
                "px", this.eTop.innerHTML = d + " " + f)
        }
    },
    CLASS_NAME: "OpenLayers.Control.ScaleLine"
});
OpenLayers.Icon = OpenLayers.Class({
    url: null,
    size: null,
    offset: null,
    calculateOffset: null,
    imageDiv: null,
    px: null,
    initialize: function (a, b, c, d) {
        this.url = a;
        this.size = b || {
            w: 20,
            h: 20
        };
        this.offset = c || {
            x: -(this.size.w / 2),
            y: -(this.size.h / 2)
        };
        this.calculateOffset = d;
        a = OpenLayers.Util.createUniqueID("OL_Icon_");
        this.imageDiv = OpenLayers.Util.createAlphaImageDiv(a)
    },
    destroy: function () {
        this.erase();
        OpenLayers.Event.stopObservingElement(this.imageDiv.firstChild);
        this.imageDiv.innerHTML = "";
        this.imageDiv = null
    },
    clone: function () {
        return new OpenLayers.Icon(this.url,
            this.size, this.offset, this.calculateOffset)
    },
    setSize: function (a) {
        null != a && (this.size = a);
        this.draw()
    },
    setUrl: function (a) {
        null != a && (this.url = a);
        this.draw()
    },
    draw: function (a) {
        OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, null, this.size, this.url, "absolute");
        this.moveTo(a);
        return this.imageDiv
    },
    erase: function () {
        null != this.imageDiv && null != this.imageDiv.parentNode && OpenLayers.Element.remove(this.imageDiv)
    },
    setOpacity: function (a) {
        OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, null, null, null,
            null, null, null, a)
    },
    moveTo: function (a) {
        null != a && (this.px = a);
        null != this.imageDiv && (null == this.px ? this.display(!1) : (this.calculateOffset && (this.offset = this.calculateOffset(this.size)), OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv, null, {
            x: this.px.x + this.offset.x,
            y: this.px.y + this.offset.y
        })))
    },
    display: function (a) {
        this.imageDiv.style.display = a ? "" : "none"
    },
    isDrawn: function () {
        return this.imageDiv && this.imageDiv.parentNode && 11 != this.imageDiv.parentNode.nodeType
    },
    CLASS_NAME: "OpenLayers.Icon"
});
OpenLayers.Marker = OpenLayers.Class({
    icon: null,
    lonlat: null,
    events: null,
    map: null,
    initialize: function (a, b) {
        this.lonlat = a;
        var c = b ? b : OpenLayers.Marker.defaultIcon();
        null == this.icon ? this.icon = c : (this.icon.url = c.url, this.icon.size = c.size, this.icon.offset = c.offset, this.icon.calculateOffset = c.calculateOffset);
        this.events = new OpenLayers.Events(this, this.icon.imageDiv)
    },
    destroy: function () {
        this.erase();
        this.map = null;
        this.events.destroy();
        this.events = null;
        null != this.icon && (this.icon.destroy(), this.icon = null)
    },
    draw: function (a) {
        return this.icon.draw(a)
    },
    erase: function () {
        null != this.icon && this.icon.erase()
    },
    moveTo: function (a) {
        null != a && null != this.icon && this.icon.moveTo(a);
        this.lonlat = this.map.getLonLatFromLayerPx(a)
    },
    isDrawn: function () {
        return this.icon && this.icon.isDrawn()
    },
    onScreen: function () {
        var a = !1;
        this.map && (a = this.map.getExtent().containsLonLat(this.lonlat));
        return a
    },
    inflate: function (a) {
        this.icon && this.icon.setSize({
            w: this.icon.size.w * a,
            h: this.icon.size.h * a
        })
    },
    setOpacity: function (a) {
        this.icon.setOpacity(a)
    },
    setUrl: function (a) {
        this.icon.setUrl(a)
    },
    display: function (a) {
        this.icon.display(a)
    },
    CLASS_NAME: "OpenLayers.Marker"
});
OpenLayers.Marker.defaultIcon = function () {
    return new OpenLayers.Icon(OpenLayers.Util.getImageLocation("marker.png"), {
        w: 21,
        h: 25
    }, {
        x: -10.5,
        y: -25
    })
};
OpenLayers.Layer.TileCache = OpenLayers.Class(OpenLayers.Layer.Grid, {
    isBaseLayer: !0,
    format: "image/png",
    serverResolutions: null,
    initialize: function (a, b, c, d) {
        this.layername = c;
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a, b, {}, d]);
        this.extension = this.format.split("/")[1].toLowerCase();
        this.extension = "jpg" == this.extension ? "jpeg" : this.extension
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.TileCache(this.name, this.url, this.layername, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this,
            [a])
    },
    getURL: function (a) {
        var b = this.getServerResolution(),
            c = this.maxExtent,
            d = this.tileSize,
            e = Math.round((a.left - c.left) / (b * d.w));
        a = Math.round((a.bottom - c.bottom) / (b * d.h));
        b = null != this.serverResolutions ? OpenLayers.Util.indexOf(this.serverResolutions, b) : this.map.getZoom();
        e = [this.layername, OpenLayers.Number.zeroPad(b, 2), OpenLayers.Number.zeroPad(parseInt(e / 1E6), 3), OpenLayers.Number.zeroPad(parseInt(e / 1E3) % 1E3, 3), OpenLayers.Number.zeroPad(parseInt(e) % 1E3, 3), OpenLayers.Number.zeroPad(parseInt(a / 1E6),
            3), OpenLayers.Number.zeroPad(parseInt(a / 1E3) % 1E3, 3), OpenLayers.Number.zeroPad(parseInt(a) % 1E3, 3) + "." + this.extension].join("/");
        b = this.url;
        OpenLayers.Util.isArray(b) && (b = this.selectUrl(e, b));
        b = "/" == b.charAt(b.length - 1) ? b : b + "/";
        return b + e
    },
    CLASS_NAME: "OpenLayers.Layer.TileCache"
});
OpenLayers.Strategy.Paging = OpenLayers.Class(OpenLayers.Strategy, {
    features: null,
    length: 10,
    num: null,
    paging: !1,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.call(this);
        if (a) this.layer.events.on({
            beforefeaturesadded: this.cacheFeatures,
            scope: this
        });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && (this.clearCache(), this.layer.events.un({
            beforefeaturesadded: this.cacheFeatures,
            scope: this
        }));
        return a
    },
    cacheFeatures: function (a) {
        this.paging || (this.clearCache(),
            this.features = a.features, this.pageNext(a))
    },
    clearCache: function () {
        if (this.features)
            for (var a = 0; a < this.features.length; ++a) this.features[a].destroy();
        this.num = this.features = null
    },
    pageCount: function () {
        return Math.ceil((this.features ? this.features.length : 0) / this.length)
    },
    pageNum: function () {
        return this.num
    },
    pageLength: function (a) {
        a && 0 < a && (this.length = a);
        return this.length
    },
    pageNext: function (a) {
        var b = !1;
        this.features && (null === this.num && (this.num = -1), b = this.page((this.num + 1) * this.length, a));
        return b
    },
    pagePrevious: function () {
        var a = !1;
        this.features && (null === this.num && (this.num = this.pageCount()), a = this.page((this.num - 1) * this.length));
        return a
    },
    page: function (a, b) {
        var c = !1;
        if (this.features && 0 <= a && a < this.features.length) {
            var d = Math.floor(a / this.length);
            d != this.num && (this.paging = !0, c = this.features.slice(a, a + this.length), this.layer.removeFeatures(this.layer.features), this.num = d, b && b.features ? b.features = c : this.layer.addFeatures(c), this.paging = !1, c = !0)
        }
        return c
    },
    CLASS_NAME: "OpenLayers.Strategy.Paging"
});
OpenLayers.Control.DragFeature = OpenLayers.Class(OpenLayers.Control, {
    geometryTypes: null,
    onStart: function (a, b) {},
    onDrag: function (a, b) {},
    onComplete: function (a, b) {},
    onEnter: function (a) {},
    onLeave: function (a) {},
    documentDrag: !1,
    layer: null,
    feature: null,
    dragCallbacks: {},
    featureCallbacks: {},
    lastPixel: null,
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        this.layer = a;
        this.handlers = {
            drag: new OpenLayers.Handler.Drag(this, OpenLayers.Util.extend({
                down: this.downFeature,
                move: this.moveFeature,
                up: this.upFeature,
                out: this.cancel,
                done: this.doneDragging
            }, this.dragCallbacks), {
                documentDrag: this.documentDrag
            }),
            feature: new OpenLayers.Handler.Feature(this, this.layer, OpenLayers.Util.extend({
                click: this.clickFeature,
                clickout: this.clickoutFeature,
                over: this.overFeature,
                out: this.outFeature
            }, this.featureCallbacks), {
                geometryTypes: this.geometryTypes
            })
        }
    },
    clickFeature: function (a) {
        this.handlers.feature.touch && (!this.over && this.overFeature(a)) && (this.handlers.drag.dragstart(this.handlers.feature.evt), this.handlers.drag.stopDown = !1)
    },
    clickoutFeature: function (a) {
        this.handlers.feature.touch && this.over && (this.outFeature(a), this.handlers.drag.stopDown = !0)
    },
    destroy: function () {
        this.layer = null;
        OpenLayers.Control.prototype.destroy.apply(this, [])
    },
    activate: function () {
        return this.handlers.feature.activate() && OpenLayers.Control.prototype.activate.apply(this, arguments)
    },
    deactivate: function () {
        this.handlers.drag.deactivate();
        this.handlers.feature.deactivate();
        this.feature = null;
        this.dragging = !1;
        this.lastPixel = null;
        OpenLayers.Element.removeClass(this.map.viewPortDiv,
            this.displayClass + "Over");
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    overFeature: function (a) {
        var b = !1;
        this.handlers.drag.dragging ? this.over = this.feature.id == a.id ? !0 : !1 : (this.feature = a, this.handlers.drag.activate(), this.over = b = !0, OpenLayers.Element.addClass(this.map.viewPortDiv, this.displayClass + "Over"), this.onEnter(a));
        return b
    },
    downFeature: function (a) {
        this.lastPixel = a;
        this.onStart(this.feature, a)
    },
    moveFeature: function (a) {
        var b = this.map.getResolution();
        this.feature.geometry.move(b *
            (a.x - this.lastPixel.x), b * (this.lastPixel.y - a.y));
        this.layer.drawFeature(this.feature);
        this.lastPixel = a;
        this.onDrag(this.feature, a)
    },
    upFeature: function (a) {
        this.over || this.handlers.drag.deactivate()
    },
    doneDragging: function (a) {
        this.onComplete(this.feature, a)
    },
    outFeature: function (a) {
        this.handlers.drag.dragging ? this.feature.id == a.id && (this.over = !1) : (this.over = !1, this.handlers.drag.deactivate(), OpenLayers.Element.removeClass(this.map.viewPortDiv, this.displayClass + "Over"), this.onLeave(a), this.feature = null)
    },
    cancel: function () {
        this.handlers.drag.deactivate();
        this.over = !1
    },
    setMap: function (a) {
        this.handlers.drag.setMap(a);
        this.handlers.feature.setMap(a);
        OpenLayers.Control.prototype.setMap.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Control.DragFeature"
});
OpenLayers.Control.TransformFeature = OpenLayers.Class(OpenLayers.Control, {
    geometryTypes: null,
    layer: null,
    preserveAspectRatio: !1,
    rotate: !0,
    feature: null,
    renderIntent: "temporary",
    rotationHandleSymbolizer: null,
    box: null,
    center: null,
    scale: 1,
    ratio: 1,
    rotation: 0,
    handles: null,
    rotationHandles: null,
    dragControl: null,
    irregular: !1,
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        this.layer = a;
        this.rotationHandleSymbolizer || (this.rotationHandleSymbolizer = {
            stroke: !1,
            pointRadius: 10,
            fillOpacity: 0,
            cursor: "pointer"
        });
        this.createBox();
        this.createControl()
    },
    activate: function () {
        var a = !1;
        OpenLayers.Control.prototype.activate.apply(this, arguments) && (this.dragControl.activate(), this.layer.addFeatures([this.box]), this.rotate && this.layer.addFeatures(this.rotationHandles), this.layer.addFeatures(this.handles), a = !0);
        return a
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Control.prototype.deactivate.apply(this, arguments) && (this.layer.removeFeatures(this.handles), this.rotate && this.layer.removeFeatures(this.rotationHandles),
            this.layer.removeFeatures([this.box]), this.dragControl.deactivate(), a = !0);
        return a
    },
    setMap: function (a) {
        this.dragControl.setMap(a);
        OpenLayers.Control.prototype.setMap.apply(this, arguments)
    },
    setFeature: function (a, b) {
        b = OpenLayers.Util.applyDefaults(b, {
            rotation: 0,
            scale: 1,
            ratio: 1
        });
        var c = this.rotation,
            d = this.center;
        OpenLayers.Util.extend(this, b);
        if (!1 !== this.events.triggerEvent("beforesetfeature", {
                feature: a
            })) {
            this.feature = a;
            this.activate();
            this._setfeature = !0;
            var e = this.feature.geometry.getBounds();
            this.box.move(e.getCenterLonLat());
            this.box.geometry.rotate(-c, d);
            this._angle = 0;
            this.rotation ? (c = a.geometry.clone(), c.rotate(-this.rotation, this.center), c = new OpenLayers.Feature.Vector(c.getBounds().toGeometry()), c.geometry.rotate(this.rotation, this.center), this.box.geometry.rotate(this.rotation, this.center), this.box.move(c.geometry.getBounds().getCenterLonLat()), c = c.geometry.components[0].components[0].getBounds().getCenterLonLat()) : c = new OpenLayers.LonLat(e.left, e.bottom);
            this.handles[0].move(c);
            delete this._setfeature;
            this.events.triggerEvent("setfeature", {
                feature: a
            })
        }
    },
    unsetFeature: function () {
        this.active ? this.deactivate() : (this.feature = null, this.rotation = 0, this.ratio = this.scale = 1)
    },
    createBox: function () {
        var a = this;
        this.center = new OpenLayers.Geometry.Point(0, 0);
        this.box = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([new OpenLayers.Geometry.Point(-1, -1), new OpenLayers.Geometry.Point(0, -1), new OpenLayers.Geometry.Point(1, -1), new OpenLayers.Geometry.Point(1, 0), new OpenLayers.Geometry.Point(1, 1), new OpenLayers.Geometry.Point(0, 1), new OpenLayers.Geometry.Point(-1,
            1), new OpenLayers.Geometry.Point(-1, 0), new OpenLayers.Geometry.Point(-1, -1)]), null, "string" == typeof this.renderIntent ? null : this.renderIntent);
        this.box.geometry.move = function (b, c) {
            a._moving = !0;
            OpenLayers.Geometry.LineString.prototype.move.apply(this, arguments);
            a.center.move(b, c);
            delete a._moving
        };
        for (var b = function (a, b) {
                OpenLayers.Geometry.Point.prototype.move.apply(this, arguments);
                this._rotationHandle && this._rotationHandle.geometry.move(a, b);
                this._handle.geometry.move(a, b)
            }, c = function (a, b, c) {
                OpenLayers.Geometry.Point.prototype.resize.apply(this,
                    arguments);
                this._rotationHandle && this._rotationHandle.geometry.resize(a, b, c);
                this._handle.geometry.resize(a, b, c)
            }, d = function (a, b) {
                OpenLayers.Geometry.Point.prototype.rotate.apply(this, arguments);
                this._rotationHandle && this._rotationHandle.geometry.rotate(a, b);
                this._handle.geometry.rotate(a, b)
            }, e = function (b, c) {
                var d = this.x,
                    e = this.y;
                OpenLayers.Geometry.Point.prototype.move.call(this, b, c);
                if (!a._moving) {
                    var f = a.dragControl.handlers.drag.evt,
                        g = !(!a._setfeature && a.preserveAspectRatio) && !(f && f.shiftKey),
                        h = new OpenLayers.Geometry.Point(d, e),
                        f = a.center;
                    this.rotate(-a.rotation, f);
                    h.rotate(-a.rotation, f);
                    var k = this.x - f.x,
                        l = this.y - f.y,
                        m = k - (this.x - h.x),
                        n = l - (this.y - h.y);
                    a.irregular && !a._setfeature && (k -= (this.x - h.x) / 2, l -= (this.y - h.y) / 2);
                    this.x = d;
                    this.y = e;
                    h = 1;
                    g ? (l = 1E-5 > Math.abs(n) ? 1 : l / n, h = (1E-5 > Math.abs(m) ? 1 : k / m) / l) : (m = Math.sqrt(m * m + n * n), l = Math.sqrt(k * k + l * l) / m);
                    a._moving = !0;
                    a.box.geometry.rotate(-a.rotation, f);
                    delete a._moving;
                    a.box.geometry.resize(l, f, h);
                    a.box.geometry.rotate(a.rotation, f);
                    a.transformFeature({
                        scale: l,
                        ratio: h
                    });
                    a.irregular && !a._setfeature && (k = f.clone(), k.x += 1E-5 > Math.abs(d - f.x) ? 0 : this.x - d, k.y += 1E-5 > Math.abs(e - f.y) ? 0 : this.y - e, a.box.geometry.move(this.x - d, this.y - e), a.transformFeature({
                        center: k
                    }))
                }
            }, f = function (b, c) {
                var d = this.x,
                    e = this.y;
                OpenLayers.Geometry.Point.prototype.move.call(this, b, c);
                if (!a._moving) {
                    var f = a.dragControl.handlers.drag.evt,
                        f = f && f.shiftKey ? 45 : 1,
                        g = a.center,
                        h = this.x - g.x,
                        k = this.y - g.y;
                    this.x = d;
                    this.y = e;
                    d = Math.atan2(k - c, h - b);
                    d = Math.atan2(k, h) - d;
                    d *= 180 / Math.PI;
                    a._angle = (a._angle + d) %
                        360;
                    d = a.rotation % f;
                    if (Math.abs(a._angle) >= f || 0 !== d) d = Math.round(a._angle / f) * f - d, a._angle = 0, a.box.geometry.rotate(d, g), a.transformFeature({
                        rotation: d
                    })
                }
            }, g = Array(8), h = Array(4), k, l, m, n = "sw s se e ne n nw w".split(" "), p = 0; 8 > p; ++p) k = this.box.geometry.components[p], l = new OpenLayers.Feature.Vector(k.clone(), {
            role: n[p] + "-resize"
        }, "string" == typeof this.renderIntent ? null : this.renderIntent), 0 == p % 2 && (m = new OpenLayers.Feature.Vector(k.clone(), {
                role: n[p] + "-rotate"
            }, "string" == typeof this.rotationHandleSymbolizer ?
            null : this.rotationHandleSymbolizer), m.geometry.move = f, k._rotationHandle = m, h[p / 2] = m), k.move = b, k.resize = c, k.rotate = d, l.geometry.move = e, k._handle = l, g[p] = l;
        this.rotationHandles = h;
        this.handles = g
    },
    createControl: function () {
        var a = this;
        this.dragControl = new OpenLayers.Control.DragFeature(this.layer, {
            documentDrag: !0,
            moveFeature: function (b) {
                this.feature === a.feature && (this.feature = a.box);
                OpenLayers.Control.DragFeature.prototype.moveFeature.apply(this, arguments)
            },
            onDrag: function (b, c) {
                b === a.box && a.transformFeature({
                    center: a.center
                })
            },
            onStart: function (b, c) {
                var d = !a.geometryTypes || -1 !== OpenLayers.Util.indexOf(a.geometryTypes, b.geometry.CLASS_NAME),
                    e = OpenLayers.Util.indexOf(a.handles, b),
                    e = e + OpenLayers.Util.indexOf(a.rotationHandles, b);
                b !== a.feature && (b !== a.box && -2 == e && d) && a.setFeature(b)
            },
            onComplete: function (b, c) {
                a.events.triggerEvent("transformcomplete", {
                    feature: a.feature
                })
            }
        })
    },
    drawHandles: function () {
        for (var a = this.layer, b = 0; 8 > b; ++b) this.rotate && 0 === b % 2 && a.drawFeature(this.rotationHandles[b / 2], this.rotationHandleSymbolizer), a.drawFeature(this.handles[b],
            this.renderIntent)
    },
    transformFeature: function (a) {
        if (!this._setfeature) {
            this.scale *= a.scale || 1;
            this.ratio *= a.ratio || 1;
            var b = this.rotation;
            this.rotation = (this.rotation + (a.rotation || 0)) % 360;
            if (!1 !== this.events.triggerEvent("beforetransform", a)) {
                var c = this.feature,
                    d = c.geometry,
                    e = this.center;
                d.rotate(-b, e);
                a.scale || a.ratio ? d.resize(a.scale, e, a.ratio) : a.center && c.move(a.center.getBounds().getCenterLonLat());
                d.rotate(this.rotation, e);
                this.layer.drawFeature(c);
                c.toState(OpenLayers.State.UPDATE);
                this.events.triggerEvent("transform",
                    a)
            }
        }
        this.layer.drawFeature(this.box, this.renderIntent);
        this.drawHandles()
    },
    destroy: function () {
        for (var a, b = 0; 8 > b; ++b) a = this.box.geometry.components[b], a._handle.destroy(), a._handle = null, a._rotationHandle && a._rotationHandle.destroy(), a._rotationHandle = null;
        this.rotationHandles = this.rotationHandleSymbolizer = this.handles = this.feature = this.center = null;
        this.box.destroy();
        this.layer = this.box = null;
        this.dragControl.destroy();
        this.dragControl = null;
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Control.TransformFeature"
});
OpenLayers.Handler.Box = OpenLayers.Class(OpenLayers.Handler, {
    dragHandler: null,
    boxDivClassName: "olHandlerBoxZoomBox",
    boxOffsets: null,
    initialize: function (a, b, c) {
        OpenLayers.Handler.prototype.initialize.apply(this, arguments);
        this.dragHandler = new OpenLayers.Handler.Drag(this, {
            down: this.startBox,
            move: this.moveBox,
            out: this.removeBox,
            up: this.endBox
        }, {
            keyMask: this.keyMask
        })
    },
    destroy: function () {
        OpenLayers.Handler.prototype.destroy.apply(this, arguments);
        this.dragHandler && (this.dragHandler.destroy(), this.dragHandler =
            null)
    },
    setMap: function (a) {
        OpenLayers.Handler.prototype.setMap.apply(this, arguments);
        this.dragHandler && this.dragHandler.setMap(a)
    },
    startBox: function (a) {
        this.callback("start", []);
        this.zoomBox = OpenLayers.Util.createDiv("zoomBox", {
            x: -9999,
            y: -9999
        });
        this.zoomBox.className = this.boxDivClassName;
        this.zoomBox.style.zIndex = this.map.Z_INDEX_BASE.Popup - 1;
        this.map.viewPortDiv.appendChild(this.zoomBox);
        OpenLayers.Element.addClass(this.map.viewPortDiv, "olDrawBox")
    },
    moveBox: function (a) {
        var b = this.dragHandler.start.x,
            c = this.dragHandler.start.y,
            d = Math.abs(b - a.x),
            e = Math.abs(c - a.y),
            f = this.getBoxOffsets();
        this.zoomBox.style.width = d + f.width + 1 + "px";
        this.zoomBox.style.height = e + f.height + 1 + "px";
        this.zoomBox.style.left = (a.x < b ? b - d - f.left : b - f.left) + "px";
        this.zoomBox.style.top = (a.y < c ? c - e - f.top : c - f.top) + "px"
    },
    endBox: function (a) {
        var b;
        if (5 < Math.abs(this.dragHandler.start.x - a.x) || 5 < Math.abs(this.dragHandler.start.y - a.y)) {
            var c = this.dragHandler.start;
            b = Math.min(c.y, a.y);
            var d = Math.max(c.y, a.y),
                e = Math.min(c.x, a.x);
            a = Math.max(c.x,
                a.x);
            b = new OpenLayers.Bounds(e, d, a, b)
        } else b = this.dragHandler.start.clone();
        this.removeBox();
        this.callback("done", [b])
    },
    removeBox: function () {
        this.map.viewPortDiv.removeChild(this.zoomBox);
        this.boxOffsets = this.zoomBox = null;
        OpenLayers.Element.removeClass(this.map.viewPortDiv, "olDrawBox")
    },
    activate: function () {
        return OpenLayers.Handler.prototype.activate.apply(this, arguments) ? (this.dragHandler.activate(), !0) : !1
    },
    deactivate: function () {
        return OpenLayers.Handler.prototype.deactivate.apply(this, arguments) ?
            (this.dragHandler.deactivate() && this.zoomBox && this.removeBox(), !0) : !1
    },
    getBoxOffsets: function () {
        if (!this.boxOffsets) {
            var a = document.createElement("div");
            a.style.position = "absolute";
            a.style.border = "1px solid black";
            a.style.width = "3px";
            document.body.appendChild(a);
            var b = 3 == a.clientWidth;
            document.body.removeChild(a);
            var a = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-left-width")),
                c = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-right-width")),
                d = parseInt(OpenLayers.Element.getStyle(this.zoomBox,
                    "border-top-width")),
                e = parseInt(OpenLayers.Element.getStyle(this.zoomBox, "border-bottom-width"));
            this.boxOffsets = {
                left: a,
                right: c,
                top: d,
                bottom: e,
                width: !1 === b ? a + c : 0,
                height: !1 === b ? d + e : 0
            }
        }
        return this.boxOffsets
    },
    CLASS_NAME: "OpenLayers.Handler.Box"
});
OpenLayers.Control.ZoomBox = OpenLayers.Class(OpenLayers.Control, {
    type: OpenLayers.Control.TYPE_TOOL,
    out: !1,
    keyMask: null,
    alwaysZoom: !1,
    zoomOnClick: !0,
    draw: function () {
        this.handler = new OpenLayers.Handler.Box(this, {
            done: this.zoomBox
        }, {
            keyMask: this.keyMask
        })
    },
    zoomBox: function (a) {
        if (a instanceof OpenLayers.Bounds) {
            var b, c = a.getCenterPixel();
            if (this.out) {
                b = Math.min(this.map.size.h / (a.bottom - a.top), this.map.size.w / (a.right - a.left));
                var d = this.map.getExtent(),
                    e = this.map.getLonLatFromPixel(c),
                    f = e.lon - d.getWidth() /
                    2 * b;
                a = e.lon + d.getWidth() / 2 * b;
                var g = e.lat - d.getHeight() / 2 * b;
                b = e.lat + d.getHeight() / 2 * b;
                b = new OpenLayers.Bounds(f, g, a, b)
            } else f = this.map.getLonLatFromPixel({
                x: a.left,
                y: a.bottom
            }), a = this.map.getLonLatFromPixel({
                x: a.right,
                y: a.top
            }), b = new OpenLayers.Bounds(f.lon, f.lat, a.lon, a.lat);
            f = this.map.getZoom();
            g = this.map.getSize();
            a = g.w / 2;
            g = g.h / 2;
            b = this.map.getZoomForExtent(b);
            d = this.map.getResolution();
            e = this.map.getResolutionForZoom(b);
            d == e ? this.map.setCenter(this.map.getLonLatFromPixel(c)) : this.map.zoomTo(b, {
                x: (d * c.x - e * a) / (d - e),
                y: (d * c.y - e * g) / (d - e)
            });
            f == this.map.getZoom() && !0 == this.alwaysZoom && this.map.zoomTo(f + (this.out ? -1 : 1))
        } else this.zoomOnClick && (this.out ? this.map.zoomTo(this.map.getZoom() - 1, a) : this.map.zoomTo(this.map.getZoom() + 1, a))
    },
    CLASS_NAME: "OpenLayers.Control.ZoomBox"
});
OpenLayers.Control.DragPan = OpenLayers.Class(OpenLayers.Control, {
    type: OpenLayers.Control.TYPE_TOOL,
    panned: !1,
    interval: 0,
    documentDrag: !1,
    kinetic: null,
    enableKinetic: !0,
    kineticInterval: 10,
    draw: function () {
        if (this.enableKinetic && OpenLayers.Kinetic) {
            var a = {
                interval: this.kineticInterval
            };
            "object" === typeof this.enableKinetic && (a = OpenLayers.Util.extend(a, this.enableKinetic));
            this.kinetic = new OpenLayers.Kinetic(a)
        }
        this.handler = new OpenLayers.Handler.Drag(this, {
            move: this.panMap,
            done: this.panMapDone,
            down: this.panMapStart
        }, {
            interval: this.interval,
            documentDrag: this.documentDrag
        })
    },
    panMapStart: function () {
        this.kinetic && this.kinetic.begin()
    },
    panMap: function (a) {
        this.kinetic && this.kinetic.update(a);
        this.panned = !0;
        this.map.pan(this.handler.last.x - a.x, this.handler.last.y - a.y, {
            dragging: !0,
            animate: !1
        })
    },
    panMapDone: function (a) {
        if (this.panned) {
            var b = null;
            this.kinetic && (b = this.kinetic.end(a));
            this.map.pan(this.handler.last.x - a.x, this.handler.last.y - a.y, {
                dragging: !!b,
                animate: !1
            });
            if (b) {
                var c = this;
                this.kinetic.move(b, function (a, b,
                    f) {
                    c.map.pan(a, b, {
                        dragging: !f,
                        animate: !1
                    })
                })
            }
            this.panned = !1
        }
    },
    CLASS_NAME: "OpenLayers.Control.DragPan"
});
OpenLayers.Control.Navigation = OpenLayers.Class(OpenLayers.Control, {
    dragPan: null,
    dragPanOptions: null,
    pinchZoom: null,
    pinchZoomOptions: null,
    documentDrag: !1,
    zoomBox: null,
    zoomBoxEnabled: !0,
    zoomWheelEnabled: !0,
    mouseWheelOptions: null,
    handleRightClicks: !1,
    zoomBoxKeyMask: OpenLayers.Handler.MOD_SHIFT,
    autoActivate: !0,
    initialize: function (a) {
        this.handlers = {};
        OpenLayers.Control.prototype.initialize.apply(this, arguments)
    },
    destroy: function () {
        this.deactivate();
        this.dragPan && this.dragPan.destroy();
        this.dragPan = null;
        this.zoomBox && this.zoomBox.destroy();
        this.zoomBox = null;
        this.pinchZoom && this.pinchZoom.destroy();
        this.pinchZoom = null;
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    activate: function () {
        this.dragPan.activate();
        this.zoomWheelEnabled && this.handlers.wheel.activate();
        this.handlers.click.activate();
        this.zoomBoxEnabled && this.zoomBox.activate();
        this.pinchZoom && this.pinchZoom.activate();
        return OpenLayers.Control.prototype.activate.apply(this, arguments)
    },
    deactivate: function () {
        this.pinchZoom && this.pinchZoom.deactivate();
        this.zoomBox.deactivate();
        this.dragPan.deactivate();
        this.handlers.click.deactivate();
        this.handlers.wheel.deactivate();
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    draw: function () {
        this.handleRightClicks && (this.map.viewPortDiv.oncontextmenu = OpenLayers.Function.False);
        this.handlers.click = new OpenLayers.Handler.Click(this, {
            click: this.defaultClick,
            dblclick: this.defaultDblClick,
            dblrightclick: this.defaultDblRightClick
        }, {
            "double": !0,
            stopDouble: !0
        });
        this.dragPan = new OpenLayers.Control.DragPan(OpenLayers.Util.extend({
            map: this.map,
            documentDrag: this.documentDrag
        }, this.dragPanOptions));
        this.zoomBox = new OpenLayers.Control.ZoomBox({
            map: this.map,
            keyMask: this.zoomBoxKeyMask
        });
        this.dragPan.draw();
        this.zoomBox.draw();
        this.handlers.wheel = new OpenLayers.Handler.MouseWheel(this, {
            up: this.wheelUp,
            down: this.wheelDown
        }, OpenLayers.Util.extend(this.map.fractionalZoom ? {} : {
            cumulative: !1,
            interval: 50,
            maxDelta: 6
        }, this.mouseWheelOptions));
        OpenLayers.Control.PinchZoom && (this.pinchZoom = new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({
                map: this.map
            },
            this.pinchZoomOptions)))
    },
    defaultClick: function (a) {
        a.lastTouches && 2 == a.lastTouches.length && this.map.zoomOut()
    },
    defaultDblClick: function (a) {
        this.map.zoomTo(this.map.zoom + 1, a.xy)
    },
    defaultDblRightClick: function (a) {
        this.map.zoomTo(this.map.zoom - 1, a.xy)
    },
    wheelChange: function (a, b) {
        this.map.fractionalZoom || (b = Math.round(b));
        var c = this.map.getZoom(),
            d;
        d = Math.max(c + b, 0);
        d = Math.min(d, this.map.getNumZoomLevels());
        d !== c && this.map.zoomTo(d, a.xy)
    },
    wheelUp: function (a, b) {
        this.wheelChange(a, b || 1)
    },
    wheelDown: function (a,
        b) {
        this.wheelChange(a, b || -1)
    },
    disableZoomBox: function () {
        this.zoomBoxEnabled = !1;
        this.zoomBox.deactivate()
    },
    enableZoomBox: function () {
        this.zoomBoxEnabled = !0;
        this.active && this.zoomBox.activate()
    },
    disableZoomWheel: function () {
        this.zoomWheelEnabled = !1;
        this.handlers.wheel.deactivate()
    },
    enableZoomWheel: function () {
        this.zoomWheelEnabled = !0;
        this.active && this.handlers.wheel.activate()
    },
    CLASS_NAME: "OpenLayers.Control.Navigation"
});
OpenLayers.Control.DrawFeature = OpenLayers.Class(OpenLayers.Control, {
    layer: null,
    callbacks: null,
    multi: !1,
    featureAdded: function () {},
    initialize: function (a, b, c) {
        OpenLayers.Control.prototype.initialize.apply(this, [c]);
        this.callbacks = OpenLayers.Util.extend({
            done: this.drawFeature,
            modify: function (a, b) {
                this.layer.events.triggerEvent("sketchmodified", {
                    vertex: a,
                    feature: b
                })
            },
            create: function (a, b) {
                this.layer.events.triggerEvent("sketchstarted", {
                    vertex: a,
                    feature: b
                })
            }
        }, this.callbacks);
        this.layer = a;
        this.handlerOptions =
            this.handlerOptions || {};
        this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
            renderers: a.renderers,
            rendererOptions: a.rendererOptions
        });
        "multi" in this.handlerOptions || (this.handlerOptions.multi = this.multi);
        if (a = this.layer.styleMap && this.layer.styleMap.styles.temporary) this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
            styleMap: new OpenLayers.StyleMap({
                "default": a
            })
        });
        this.handler = new b(this, this.callbacks, this.handlerOptions)
    },
    drawFeature: function (a) {
        a = new OpenLayers.Feature.Vector(a);
        !1 !== this.layer.events.triggerEvent("sketchcomplete", {
            feature: a
        }) && (a.state = OpenLayers.State.INSERT, this.layer.addFeatures([a]), this.featureAdded(a), this.events.triggerEvent("featureadded", {
            feature: a
        }))
    },
    insertXY: function (a, b) {
        this.handler && this.handler.line && this.handler.insertXY(a, b)
    },
    insertDeltaXY: function (a, b) {
        this.handler && this.handler.line && this.handler.insertDeltaXY(a, b)
    },
    insertDirectionLength: function (a, b) {
        this.handler && this.handler.line &&
            this.handler.insertDirectionLength(a, b)
    },
    insertDeflectionLength: function (a, b) {
        this.handler && this.handler.line && this.handler.insertDeflectionLength(a, b)
    },
    undo: function () {
        return this.handler.undo && this.handler.undo()
    },
    redo: function () {
        return this.handler.redo && this.handler.redo()
    },
    finishSketch: function () {
        this.handler.finishGeometry()
    },
    cancel: function () {
        this.handler.cancel()
    },
    CLASS_NAME: "OpenLayers.Control.DrawFeature"
});
OpenLayers.Handler.Polygon = OpenLayers.Class(OpenLayers.Handler.Path, {
    holeModifier: null,
    drawingHole: !1,
    polygon: null,
    createFeature: function (a) {
        a = this.layer.getLonLatFromViewPortPx(a);
        a = new OpenLayers.Geometry.Point(a.lon, a.lat);
        this.point = new OpenLayers.Feature.Vector(a);
        this.line = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LinearRing([this.point.geometry]));
        this.polygon = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([this.line.geometry]));
        this.callback("create", [this.point.geometry,
            this.getSketch()
        ]);
        this.point.geometry.clearBounds();
        this.layer.addFeatures([this.polygon, this.point], {
            silent: !0
        })
    },
    addPoint: function (a) {
        if (!this.drawingHole && this.holeModifier && this.evt && this.evt[this.holeModifier])
            for (var b = this.point.geometry, c = this.control.layer.features, d, e = c.length - 1; 0 <= e; --e)
                if (d = c[e].geometry, (d instanceof OpenLayers.Geometry.Polygon || d instanceof OpenLayers.Geometry.MultiPolygon) && d.intersects(b)) {
                    b = c[e];
                    this.control.layer.removeFeatures([b], {
                        silent: !0
                    });
                    this.control.layer.events.registerPriority("sketchcomplete",
                        this, this.finalizeInteriorRing);
                    this.control.layer.events.registerPriority("sketchmodified", this, this.enforceTopology);
                    b.geometry.addComponent(this.line.geometry);
                    this.polygon = b;
                    this.drawingHole = !0;
                    break
                } OpenLayers.Handler.Path.prototype.addPoint.apply(this, arguments)
    },
    getCurrentPointIndex: function () {
        return this.line.geometry.components.length - 2
    },
    enforceTopology: function (a) {
        a = a.vertex;
        var b = this.line.geometry.components;
        this.polygon.geometry.intersects(a) || (b = b[b.length - 3], a.x = b.x, a.y = b.y)
    },
    finishGeometry: function () {
        this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length -
            2]);
        this.removePoint();
        this.finalize()
    },
    finalizeInteriorRing: function () {
        var a = this.line.geometry,
            b = 0 !== a.getArea();
        if (b) {
            for (var c = this.polygon.geometry.components, d = c.length - 2; 0 <= d; --d)
                if (a.intersects(c[d])) {
                    b = !1;
                    break
                } if (b) a: for (d = c.length - 2; 0 < d; --d)
                for (var e = c[d].components, f = 0, g = e.length; f < g; ++f)
                    if (a.containsPoint(e[f])) {
                        b = !1;
                        break a
                    }
        }
        b ? this.polygon.state !== OpenLayers.State.INSERT && (this.polygon.state = OpenLayers.State.UPDATE) : this.polygon.geometry.removeComponent(a);
        this.restoreFeature();
        return !1
    },
    cancel: function () {
        this.drawingHole && (this.polygon.geometry.removeComponent(this.line.geometry), this.restoreFeature(!0));
        return OpenLayers.Handler.Path.prototype.cancel.apply(this, arguments)
    },
    restoreFeature: function (a) {
        this.control.layer.events.unregister("sketchcomplete", this, this.finalizeInteriorRing);
        this.control.layer.events.unregister("sketchmodified", this, this.enforceTopology);
        this.layer.removeFeatures([this.polygon], {
            silent: !0
        });
        this.control.layer.addFeatures([this.polygon], {
            silent: !0
        });
        this.drawingHole = !1;
        a || this.control.layer.events.triggerEvent("sketchcomplete", {
            feature: this.polygon
        })
    },
    destroyFeature: function (a) {
        OpenLayers.Handler.Path.prototype.destroyFeature.call(this, a);
        this.polygon = null
    },
    drawFeature: function () {
        this.layer.drawFeature(this.polygon, this.style);
        this.layer.drawFeature(this.point, this.style)
    },
    getSketch: function () {
        return this.polygon
    },
    getGeometry: function () {
        var a = this.polygon && this.polygon.geometry;
        a && this.multi && (a = new OpenLayers.Geometry.MultiPolygon([a]));
        return a
    },
    CLASS_NAME: "OpenLayers.Handler.Polygon"
});
OpenLayers.Control.EditingToolbar = OpenLayers.Class(OpenLayers.Control.Panel, {
    citeCompliant: !1,
    initialize: function (a, b) {
        OpenLayers.Control.Panel.prototype.initialize.apply(this, [b]);
        this.addControls([new OpenLayers.Control.Navigation]);
        var c = [new OpenLayers.Control.DrawFeature(a, OpenLayers.Handler.Point, {
                displayClass: "olControlDrawFeaturePoint",
                handlerOptions: {
                    citeCompliant: this.citeCompliant
                }
            }), new OpenLayers.Control.DrawFeature(a, OpenLayers.Handler.Path, {
                displayClass: "olControlDrawFeaturePath",
                handlerOptions: {
                    citeCompliant: this.citeCompliant
                }
            }),
            new OpenLayers.Control.DrawFeature(a, OpenLayers.Handler.Polygon, {
                displayClass: "olControlDrawFeaturePolygon",
                handlerOptions: {
                    citeCompliant: this.citeCompliant
                }
            })
        ];
        this.addControls(c)
    },
    draw: function () {
        var a = OpenLayers.Control.Panel.prototype.draw.apply(this, arguments);
        null === this.defaultControl && (this.defaultControl = this.controls[0]);
        return a
    },
    CLASS_NAME: "OpenLayers.Control.EditingToolbar"
});
OpenLayers.Strategy.BBOX = OpenLayers.Class(OpenLayers.Strategy, {
    bounds: null,
    resolution: null,
    ratio: 2,
    resFactor: null,
    response: null,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.call(this);
        a && (this.layer.events.on({
            moveend: this.update,
            refresh: this.update,
            visibilitychanged: this.update,
            scope: this
        }), this.update());
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && this.layer.events.un({
            moveend: this.update,
            refresh: this.update,
            visibilitychanged: this.update,
            scope: this
        });
        return a
    },
    update: function (a) {
        var b = this.getMapBounds();
        null !== b && (a && a.force || this.layer.visibility && this.layer.calculateInRange() && this.invalidBounds(b)) && (this.calculateBounds(b), this.resolution = this.layer.map.getResolution(), this.triggerRead(a))
    },
    getMapBounds: function () {
        if (null === this.layer.map) return null;
        var a = this.layer.map.getExtent();
        a && !this.layer.projection.equals(this.layer.map.getProjectionObject()) && (a = a.clone().transform(this.layer.map.getProjectionObject(), this.layer.projection));
        return a
    },
    invalidBounds: function (a) {
        a || (a = this.getMapBounds());
        a = !this.bounds || !this.bounds.containsBounds(a);
        !a && this.resFactor && (a = this.resolution / this.layer.map.getResolution(), a = a >= this.resFactor || a <= 1 / this.resFactor);
        return a
    },
    calculateBounds: function (a) {
        a || (a = this.getMapBounds());
        var b = a.getCenterLonLat(),
            c = a.getWidth() * this.ratio;
        a = a.getHeight() * this.ratio;
        this.bounds = new OpenLayers.Bounds(b.lon - c / 2, b.lat - a / 2, b.lon + c / 2, b.lat + a / 2)
    },
    triggerRead: function (a) {
        !this.response || a && !0 === a.noAbort ||
            (this.layer.protocol.abort(this.response), this.layer.events.triggerEvent("loadend"));
        var b = {
            filter: this.createFilter()
        };
        this.layer.events.triggerEvent("loadstart", b);
        this.response = this.layer.protocol.read(OpenLayers.Util.applyDefaults({
            filter: b.filter,
            callback: this.merge,
            scope: this
        }, a))
    },
    createFilter: function () {
        var a = new OpenLayers.Filter.Spatial({
            type: OpenLayers.Filter.Spatial.BBOX,
            value: this.bounds,
            projection: this.layer.projection
        });
        this.layer.filter && (a = new OpenLayers.Filter.Logical({
            type: OpenLayers.Filter.Logical.AND,
            filters: [this.layer.filter, a]
        }));
        return a
    },
    merge: function (a) {
        this.layer.destroyFeatures();
        if (a.success()) {
            var b = a.features;
            if (b && 0 < b.length) {
                var c = this.layer.projection,
                    d = this.layer.map.getProjectionObject();
                if (!d.equals(c))
                    for (var e, f = 0, g = b.length; f < g; ++f)(e = b[f].geometry) && e.transform(c, d);
                this.layer.addFeatures(b)
            }
        } else this.bounds = null;
        this.response = null;
        this.layer.events.triggerEvent("loadend", {
            response: a
        })
    },
    CLASS_NAME: "OpenLayers.Strategy.BBOX"
});
OpenLayers.Layer.WorldWind = OpenLayers.Class(OpenLayers.Layer.Grid, {
    DEFAULT_PARAMS: {},
    isBaseLayer: !0,
    lzd: null,
    zoomLevels: null,
    initialize: function (a, b, c, d, e, f) {
        this.lzd = c;
        this.zoomLevels = d;
        c = [];
        c.push(a, b, e, f);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, c);
        this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS)
    },
    getZoom: function () {
        var a = this.map.getZoom();
        this.map.getMaxExtent();
        return a -= Math.log(this.maxResolution / (this.lzd / 512)) / Math.log(2)
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.getZoom(),
            c = this.map.getMaxExtent(),
            d = this.lzd / Math.pow(2, this.getZoom()),
            e = Math.floor((a.left - c.left) / d);
        a = Math.floor((a.bottom - c.bottom) / d);
        return this.map.getResolution() <= this.lzd / 512 && this.getZoom() <= this.zoomLevels ? this.getFullRequestString({
            L: b,
            X: e,
            Y: a
        }) : OpenLayers.Util.getImageLocation("blank.gif")
    },
    CLASS_NAME: "OpenLayers.Layer.WorldWind"
});
OpenLayers.Protocol.CSW = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Protocol.CSW.DEFAULTS);
    var b = OpenLayers.Protocol.CSW["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported CSW version: " + a.version;
    return new b(a)
};
OpenLayers.Protocol.CSW.DEFAULTS = {
    version: "2.0.2"
};
OpenLayers.Format.WMTSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.0.0",
    yx: {
        "urn:ogc:def:crs:EPSG::4326": !0
    },
    createLayer: function (a, b) {
        if (!("layer" in b)) throw Error("Missing property 'layer' in configuration.");
        for (var c = a.contents, d, e = 0, f = c.layers.length; e < f; ++e)
            if (c.layers[e].identifier === b.layer) {
                d = c.layers[e];
                break
            } if (!d) throw Error("Layer not found");
        var g = b.format;
        !g && (d.formats && d.formats.length) && (g = d.formats[0]);
        var h;
        b.matrixSet ? h = c.tileMatrixSets[b.matrixSet] :
            1 <= d.tileMatrixSetLinks.length && (h = c.tileMatrixSets[d.tileMatrixSetLinks[0].tileMatrixSet]);
        if (!h) throw Error("matrixSet not found");
        for (var k, e = 0, f = d.styles.length; e < f && (k = d.styles[e], !k.isDefault); ++e);
        c = b.requestEncoding;
        if (!c && (c = "KVP", a.operationsMetadata.GetTile.dcp.http)) {
            var l = a.operationsMetadata.GetTile.dcp.http;
            l.get[0].constraints && (l = l.get[0].constraints.GetEncoding.allowedValues, l.KVP || !l.REST && !l.RESTful || (c = "REST"))
        }
        var l = [],
            m = b.params || {};
        delete b.params;
        for (var n = 0, p = d.dimensions.length; n <
            p; n++) {
            var q = d.dimensions[n];
            l.push(q.identifier);
            m.hasOwnProperty(q.identifier) || (m[q.identifier] = q["default"])
        }
        var n = b.projection || h.supportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/, "$1:$3"),
            p = b.units || ("EPSG:4326" === n ? "degrees" : "m"),
            q = [],
            r;
        for (r in h.matrixIds) h.matrixIds.hasOwnProperty(r) && q.push(2.8E-4 * h.matrixIds[r].scaleDenominator / OpenLayers.METERS_PER_INCH / OpenLayers.INCHES_PER_UNIT[p]);
        if ("REST" === c && d.resourceUrls) {
            r = [];
            for (var f = 0, s = d.resourceUrls.length; f < s; ++f) e = d.resourceUrls[f],
                e.format === g && "tile" === e.resourceType && r.push(e.template)
        } else {
            s = a.operationsMetadata.GetTile.dcp.http.get;
            r = [];
            for (var t, e = 0, f = s.length; e < f; e++) t = s[e].constraints, (!t || t && t.GetEncoding.allowedValues[c]) && r.push(s[e].url)
        }
        return new OpenLayers.Layer.WMTS(OpenLayers.Util.applyDefaults(b, {
            url: r,
            requestEncoding: c,
            name: d.title,
            style: k.identifier,
            format: g,
            matrixIds: h.matrixIds,
            matrixSet: h.identifier,
            projection: n,
            units: p,
            resolutions: !1 === b.isBaseLayer ? void 0 : q,
            serverResolutions: q,
            tileFullExtent: h.bounds,
            dimensions: l,
            params: m
        }))
    },
    CLASS_NAME: "OpenLayers.Format.WMTSCapabilities"
});
OpenLayers.Layer.Google.v3 = {
    DEFAULTS: {
        sphericalMercator: !0,
        projection: "EPSG:900913"
    },
    animationEnabled: !0,
    loadMapObject: function () {
        this.type || (this.type = google.maps.MapTypeId.ROADMAP);
        var a, b = OpenLayers.Layer.Google.cache[this.map.id];
        b ? (a = b.mapObject, ++b.count) : (a = this.map.getCenter(), b = document.createElement("div"), b.className = "olForeignContainer", b.style.width = "100%", b.style.height = "100%", a = new google.maps.Map(b, {
            center: a ? new google.maps.LatLng(a.lat, a.lon) : new google.maps.LatLng(0, 0),
            zoom: this.map.getZoom() ||
                0,
            mapTypeId: this.type,
            disableDefaultUI: !0,
            keyboardShortcuts: !1,
            draggable: !1,
            disableDoubleClickZoom: !0,
            scrollwheel: !1,
            streetViewControl: !1
        }), b = document.createElement("div"), b.style.width = "100%", b.style.height = "100%", a.controls[google.maps.ControlPosition.TOP_LEFT].push(b), b = {
            googleControl: b,
            mapObject: a,
            count: 1
        }, OpenLayers.Layer.Google.cache[this.map.id] = b);
        this.mapObject = a;
        this.setGMapVisibility(this.visibility)
    },
    onMapResize: function () {
        this.visibility && google.maps.event.trigger(this.mapObject, "resize")
    },
    setGMapVisibility: function (a) {
        var b = OpenLayers.Layer.Google.cache[this.map.id],
            c = this.map;
        if (b) {
            for (var d = this.type, e = c.layers, f, g = e.length - 1; 0 <= g; --g)
                if (f = e[g], f instanceof OpenLayers.Layer.Google && !0 === f.visibility && !0 === f.inRange) {
                    d = f.type;
                    a = !0;
                    break
                } e = this.mapObject.getDiv();
            if (!0 === a) {
                if (e.parentNode !== c.div)
                    if (b.rendered) c.div.appendChild(e), b.googleControl.appendChild(c.viewPortDiv), google.maps.event.trigger(this.mapObject, "resize");
                    else {
                        var h = this;
                        google.maps.event.addListenerOnce(this.mapObject,
                            "tilesloaded",
                            function () {
                                b.rendered = !0;
                                h.setGMapVisibility(h.getVisibility());
                                h.moveTo(h.map.getCenter())
                            })
                    } this.mapObject.setMapTypeId(d)
            } else b.googleControl.hasChildNodes() && (c.div.appendChild(c.viewPortDiv), c.div.removeChild(e))
        }
    },
    getMapContainer: function () {
        return this.mapObject.getDiv()
    },
    getMapObjectBoundsFromOLBounds: function (a) {
        var b = null;
        null != a && (b = this.sphericalMercator ? this.inverseMercator(a.bottom, a.left) : new OpenLayers.LonLat(a.bottom, a.left), a = this.sphericalMercator ? this.inverseMercator(a.top,
            a.right) : new OpenLayers.LonLat(a.top, a.right), b = new google.maps.LatLngBounds(new google.maps.LatLng(b.lat, b.lon), new google.maps.LatLng(a.lat, a.lon)));
        return b
    },
    getMapObjectLonLatFromMapObjectPixel: function (a) {
        var b = this.map.getSize(),
            c = this.getLongitudeFromMapObjectLonLat(this.mapObject.center),
            d = this.getLatitudeFromMapObjectLonLat(this.mapObject.center),
            e = this.map.getResolution();
        a = new OpenLayers.LonLat(c + (a.x - b.w / 2) * e, d - (a.y - b.h / 2) * e);
        this.wrapDateLine && (a = a.wrapDateLine(this.maxExtent));
        return this.getMapObjectLonLatFromLonLat(a.lon,
            a.lat)
    },
    getMapObjectPixelFromMapObjectLonLat: function (a) {
        var b = this.getLongitudeFromMapObjectLonLat(a);
        a = this.getLatitudeFromMapObjectLonLat(a);
        var c = this.map.getResolution(),
            d = this.map.getExtent();
        return this.getMapObjectPixelFromXY(1 / c * (b - d.left), 1 / c * (d.top - a))
    },
    setMapObjectCenter: function (a, b) {
        if (!1 === this.animationEnabled && b != this.mapObject.zoom) {
            var c = this.getMapContainer();
            google.maps.event.addListenerOnce(this.mapObject, "idle", function () {
                c.style.visibility = ""
            });
            c.style.visibility = "hidden"
        }
        this.mapObject.setOptions({
            center: a,
            zoom: b
        })
    },
    getMapObjectZoomFromMapObjectBounds: function (a) {
        return this.mapObject.getBoundsZoomLevel(a)
    },
    getMapObjectLonLatFromLonLat: function (a, b) {
        var c;
        this.sphericalMercator ? (c = this.inverseMercator(a, b), c = new google.maps.LatLng(c.lat, c.lon)) : c = new google.maps.LatLng(b, a);
        return c
    },
    getMapObjectPixelFromXY: function (a, b) {
        return new google.maps.Point(a, b)
    }
};
OpenLayers.Format.WPSDescribeProcess = OpenLayers.Class(OpenLayers.Format.XML, {
    VERSION: "1.0.0",
    namespaces: {
        wps: "https://www.opengis.net/wps/1.0.0",
        ows: "https://www.opengis.net/ows/1.1",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    schemaLocation: "https://www.opengis.net/wps/1.0.0 https://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",
    defaultPrefix: "wps",
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this,
            [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        wps: {
            ProcessDescriptions: function (a, b) {
                b.processDescriptions = {};
                this.readChildNodes(a, b.processDescriptions)
            },
            ProcessDescription: function (a, b) {
                var c = {
                    processVersion: this.getAttributeNS(a, this.namespaces.wps, "processVersion"),
                    statusSupported: "true" === a.getAttribute("statusSupported"),
                    storeSupported: "true" === a.getAttribute("storeSupported")
                };
                this.readChildNodes(a, c);
                b[c.identifier] = c
            },
            DataInputs: function (a,
                b) {
                b.dataInputs = [];
                this.readChildNodes(a, b.dataInputs)
            },
            ProcessOutputs: function (a, b) {
                b.processOutputs = [];
                this.readChildNodes(a, b.processOutputs)
            },
            Output: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.push(c)
            },
            ComplexOutput: function (a, b) {
                b.complexOutput = {};
                this.readChildNodes(a, b.complexOutput)
            },
            LiteralOutput: function (a, b) {
                b.literalOutput = {};
                this.readChildNodes(a, b.literalOutput)
            },
            Input: function (a, b) {
                var c = {
                    maxOccurs: parseInt(a.getAttribute("maxOccurs")),
                    minOccurs: parseInt(a.getAttribute("minOccurs"))
                };
                this.readChildNodes(a, c);
                b.push(c)
            },
            BoundingBoxData: function (a, b) {
                b.boundingBoxData = {};
                this.readChildNodes(a, b.boundingBoxData)
            },
            CRS: function (a, b) {
                b.CRSs || (b.CRSs = {});
                b.CRSs[this.getChildValue(a)] = !0
            },
            LiteralData: function (a, b) {
                b.literalData = {};
                this.readChildNodes(a, b.literalData)
            },
            ComplexData: function (a, b) {
                b.complexData = {};
                this.readChildNodes(a, b.complexData)
            },
            Default: function (a, b) {
                b["default"] = {};
                this.readChildNodes(a, b["default"])
            },
            Supported: function (a, b) {
                b.supported = {};
                this.readChildNodes(a, b.supported)
            },
            Format: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.formats || (b.formats = {});
                b.formats[c.mimeType] = !0
            },
            MimeType: function (a, b) {
                b.mimeType = this.getChildValue(a)
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WPSDescribeProcess"
});
OpenLayers.Format.WKT = OpenLayers.Class(OpenLayers.Format, {
    initialize: function (a) {
        this.regExes = {
            typeStr: /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,
            spaces: /\s+/,
            parenComma: /\)\s*,\s*\(/,
            doubleParenComma: /\)\s*\)\s*,\s*\(\s*\(/,
            trimParens: /^\s*\(?(.*?)\)?\s*$/
        };
        OpenLayers.Format.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        var b, c;
        a = a.replace(/[\n\r]/g, " ");
        if (c = this.regExes.typeStr.exec(a))
            if (a = c[1].toLowerCase(), c = c[2], this.parse[a] && (b = this.parse[a].apply(this, [c])), this.internalProjection && this.externalProjection)
                if (b &&
                    "OpenLayers.Feature.Vector" == b.CLASS_NAME) b.geometry.transform(this.externalProjection, this.internalProjection);
                else if (b && "geometrycollection" != a && "object" == typeof b)
            for (a = 0, c = b.length; a < c; a++) b[a].geometry.transform(this.externalProjection, this.internalProjection);
        return b
    },
    write: function (a) {
        var b, c;
        a.constructor == Array ? c = !0 : (a = [a], c = !1);
        var d = [];
        c && d.push("GEOMETRYCOLLECTION(");
        for (var e = 0, f = a.length; e < f; ++e) c && 0 < e && d.push(","), b = a[e].geometry, d.push(this.extractGeometry(b));
        c && d.push(")");
        return d.join("")
    },
    extractGeometry: function (a) {
        var b = a.CLASS_NAME.split(".")[2].toLowerCase();
        if (!this.extract[b]) return null;
        this.internalProjection && this.externalProjection && (a = a.clone(), a.transform(this.internalProjection, this.externalProjection));
        return ("collection" == b ? "GEOMETRYCOLLECTION" : b.toUpperCase()) + "(" + this.extract[b].apply(this, [a]) + ")"
    },
    extract: {
        point: function (a) {
            return a.x + " " + a.y
        },
        multipoint: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push("(" + this.extract.point.apply(this, [a.components[c]]) +
                ")");
            return b.join(",")
        },
        linestring: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extract.point.apply(this, [a.components[c]]));
            return b.join(",")
        },
        multilinestring: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push("(" + this.extract.linestring.apply(this, [a.components[c]]) + ")");
            return b.join(",")
        },
        polygon: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push("(" + this.extract.linestring.apply(this, [a.components[c]]) + ")");
            return b.join(",")
        },
        multipolygon: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push("(" + this.extract.polygon.apply(this, [a.components[c]]) + ")");
            return b.join(",")
        },
        collection: function (a) {
            for (var b = [], c = 0, d = a.components.length; c < d; ++c) b.push(this.extractGeometry.apply(this, [a.components[c]]));
            return b.join(",")
        }
    },
    parse: {
        point: function (a) {
            a = OpenLayers.String.trim(a).split(this.regExes.spaces);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a[0], a[1]))
        },
        multipoint: function (a) {
            for (var b = OpenLayers.String.trim(a).split(","),
                    c = [], d = 0, e = b.length; d < e; ++d) a = b[d].replace(this.regExes.trimParens, "$1"), c.push(this.parse.point.apply(this, [a]).geometry);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPoint(c))
        },
        linestring: function (a) {
            a = OpenLayers.String.trim(a).split(",");
            for (var b = [], c = 0, d = a.length; c < d; ++c) b.push(this.parse.point.apply(this, [a[c]]).geometry);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString(b))
        },
        multilinestring: function (a) {
            for (var b = OpenLayers.String.trim(a).split(this.regExes.parenComma),
                    c = [], d = 0, e = b.length; d < e; ++d) a = b[d].replace(this.regExes.trimParens, "$1"), c.push(this.parse.linestring.apply(this, [a]).geometry);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiLineString(c))
        },
        polygon: function (a) {
            var b;
            a = OpenLayers.String.trim(a).split(this.regExes.parenComma);
            for (var c = [], d = 0, e = a.length; d < e; ++d) b = a[d].replace(this.regExes.trimParens, "$1"), b = this.parse.linestring.apply(this, [b]).geometry, b = new OpenLayers.Geometry.LinearRing(b.components), c.push(b);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon(c))
        },
        multipolygon: function (a) {
            for (var b = OpenLayers.String.trim(a).split(this.regExes.doubleParenComma), c = [], d = 0, e = b.length; d < e; ++d) a = b[d].replace(this.regExes.trimParens, "$1"), c.push(this.parse.polygon.apply(this, [a]).geometry);
            return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPolygon(c))
        },
        geometrycollection: function (a) {
            a = a.replace(/,\s*([A-Za-z])/g, "|$1");
            a = OpenLayers.String.trim(a).split("|");
            for (var b = [], c = 0, d = a.length; c < d; ++c) b.push(OpenLayers.Format.WKT.prototype.read.apply(this, [a[c]]));
            return b
        }
    },
    CLASS_NAME: "OpenLayers.Format.WKT"
});
OpenLayers.WPSProcess = OpenLayers.Class({
    client: null,
    server: null,
    identifier: null,
    description: null,
    localWPS: "https://geoserver/wps",
    formats: null,
    chained: 0,
    executeCallbacks: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.executeCallbacks = [];
        this.formats = {
            "application/wkt": new OpenLayers.Format.WKT,
            "application/json": new OpenLayers.Format.GeoJSON
        }
    },
    describe: function (a) {
        a = a || {};
        if (!this.description) this.client.describeProcess(this.server, this.identifier, function (b) {
            this.description || this.parseDescription(b);
            a.callback && a.callback.call(a.scope, this.description)
        }, this);
        else if (a.callback) {
            var b = this.description;
            window.setTimeout(function () {
                a.callback.call(a.scope, b)
            }, 0)
        }
    },
    configure: function (a) {
        this.describe({
            callback: function () {
                var b = this.description,
                    c = a.inputs,
                    d, e, f;
                e = 0;
                for (f = b.dataInputs.length; e < f; ++e) d = b.dataInputs[e], this.setInputData(d, c[d.identifier]);
                a.callback && a.callback.call(a.scope)
            },
            scope: this
        });
        return this
    },
    execute: function (a) {
        this.configure({
            inputs: a.inputs,
            callback: function () {
                var b = this,
                    c = this.getOutputIndex(b.description.processOutputs, a.output);
                b.setResponseForm({
                    outputIndex: c
                });
                (function e() {
                    OpenLayers.Util.removeItem(b.executeCallbacks, e);
                    0 !== b.chained ? b.executeCallbacks.push(e) : OpenLayers.Request.POST({
                        url: b.client.servers[b.server].url,
                        data: (new OpenLayers.Format.WPSExecute).write(b.description),
                        success: function (e) {
                            var g = b.findMimeType(b.description.processOutputs[c].complexOutput.supported.formats);
                            e = b.formats[g].read(e.responseText);
                            e instanceof OpenLayers.Feature.Vector &&
                                (e = [e]);
                            a.success && (g = {}, g[a.output || "result"] = e, a.success.call(a.scope, g))
                        },
                        scope: b
                    })
                })()
            },
            scope: this
        })
    },
    output: function (a) {
        return new OpenLayers.WPSProcess.ChainLink({
            process: this,
            output: a
        })
    },
    parseDescription: function (a) {
        a = this.client.servers[this.server];
        this.description = (new OpenLayers.Format.WPSDescribeProcess).read(a.processDescription[this.identifier]).processDescriptions[this.identifier]
    },
    setInputData: function (a, b) {
        delete a.data;
        delete a.reference;
        if (b instanceof OpenLayers.WPSProcess.ChainLink) ++this.chained,
            a.reference = {
                method: "POST",
                href: b.process.server === this.server ? this.localWPS : this.client.servers[b.process.server].url
            }, b.process.describe({
                callback: function () {
                    --this.chained;
                    this.chainProcess(a, b)
                },
                scope: this
            });
        else {
            a.data = {};
            var c = a.complexData;
            c ? (c = this.findMimeType(c.supported.formats), a.data.complexData = {
                mimeType: c,
                value: this.formats[c].write(this.toFeatures(b))
            }) : a.data.literalData = {
                value: b
            }
        }
    },
    setResponseForm: function (a) {
        a = a || {};
        var b = this.description.processOutputs[a.outputIndex || 0];
        this.description.responseForm = {
            rawDataOutput: {
                identifier: b.identifier,
                mimeType: this.findMimeType(b.complexOutput.supported.formats, a.supportedFormats)
            }
        }
    },
    getOutputIndex: function (a, b) {
        var c;
        if (b)
            for (var d = a.length - 1; 0 <= d; --d) {
                if (a[d].identifier === b) {
                    c = d;
                    break
                }
            } else c = 0;
        return c
    },
    chainProcess: function (a, b) {
        var c = this.getOutputIndex(b.process.description.processOutputs, b.output);
        a.reference.mimeType = this.findMimeType(a.complexData.supported.formats, b.process.description.processOutputs[c].complexOutput.supported.formats);
        var d = {};
        d[a.reference.mimeType] = !0;
        b.process.setResponseForm({
            outputIndex: c,
            supportedFormats: d
        });
        for (a.reference.body = b.process.description; 0 < this.executeCallbacks.length;) this.executeCallbacks[0]()
    },
    toFeatures: function (a) {
        var b = OpenLayers.Util.isArray(a);
        b || (a = [a]);
        for (var c = Array(a.length), d, e = 0, f = a.length; e < f; ++e) d = a[e], c[e] = d instanceof OpenLayers.Feature.Vector ? d : new OpenLayers.Feature.Vector(d);
        return b ? c : c[0]
    },
    findMimeType: function (a, b) {
        b = b || this.formats;
        for (var c in a)
            if (c in b) return c
    },
    CLASS_NAME: "OpenLayers.WPSProcess"
});
OpenLayers.WPSProcess.ChainLink = OpenLayers.Class({
    process: null,
    output: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a)
    },
    CLASS_NAME: "OpenLayers.WPSProcess.ChainLink"
});
OpenLayers.WPSClient = OpenLayers.Class({
    servers: null,
    version: "1.0.0",
    lazy: !1,
    events: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.events = new OpenLayers.Events(this);
        this.servers = {};
        for (var b in a.servers) this.servers[b] = "string" == typeof a.servers[b] ? {
            url: a.servers[b],
            version: this.version,
            processDescription: {}
        } : a.servers[b]
    },
    execute: function (a) {
        this.getProcess(a.server, a.process).execute({
            inputs: a.inputs,
            success: a.success,
            scope: a.scope
        })
    },
    getProcess: function (a, b) {
        var c = new OpenLayers.WPSProcess({
            client: this,
            server: a,
            identifier: b
        });
        this.lazy || c.describe();
        return c
    },
    describeProcess: function (a, b, c, d) {
        var e = this.servers[a];
        e.processDescription[b] ? window.setTimeout(function () {
            c.call(d, e.processDescription[b])
        }, 0) : b in e.processDescription ? this.events.register("describeprocess", this, function g(a) {
            a.identifier === b && (this.events.unregister("describeprocess", this, g), c.call(d, a.raw))
        }) : (e.processDescription[b] = null, OpenLayers.Request.GET({
            url: e.url,
            params: {
                SERVICE: "WPS",
                VERSION: e.version,
                REQUEST: "DescribeProcess",
                IDENTIFIER: b
            },
            success: function (a) {
                e.processDescription[b] = a.responseText;
                this.events.triggerEvent("describeprocess", {
                    identifier: b,
                    raw: a.responseText
                })
            },
            scope: this
        }))
    },
    destroy: function () {
        this.events.destroy();
        this.servers = this.events = null
    },
    CLASS_NAME: "OpenLayers.WPSClient"
});
OpenLayers.Format.CSWGetRecords.v2_0_2 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        csw: "https://www.opengis.net/cat/csw/2.0.2",
        dc: "https://purl.org/dc/elements/1.1/",
        dct: "https://purl.org/dc/terms/",
        gmd: "https://www.isotc211.org/2005/gmd",
        geonet: "https://www.fao.org/geonetwork",
        ogc: "https://www.opengis.net/ogc",
        ows: "https://www.opengis.net/ows",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    defaultPrefix: "csw",
    version: "2.0.2",
    schemaLocation: "https://www.opengis.net/cat/csw/2.0.2 https://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",
    requestId: null,
    resultType: null,
    outputFormat: null,
    outputSchema: null,
    startPosition: null,
    maxRecords: null,
    DistributedSearch: null,
    ResponseHandler: null,
    Query: null,
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        csw: {
            GetRecordsResponse: function (a, b) {
                b.records = [];
                this.readChildNodes(a, b);
                var c = this.getAttributeNS(a, "", "version");
                "" != c && (b.version = c)
            },
            RequestId: function (a, b) {
                b.RequestId = this.getChildValue(a)
            },
            SearchStatus: function (a, b) {
                b.SearchStatus = {};
                var c = this.getAttributeNS(a, "", "timestamp");
                "" != c && (b.SearchStatus.timestamp = c)
            },
            SearchResults: function (a, b) {
                this.readChildNodes(a, b);
                for (var c = a.attributes, d = {}, e = 0, f = c.length; e < f; ++e) d[c[e].name] = "numberOfRecordsMatched" == c[e].name || "numberOfRecordsReturned" ==
                    c[e].name || "nextRecord" == c[e].name ? parseInt(c[e].nodeValue) : c[e].nodeValue;
                b.SearchResults = d
            },
            SummaryRecord: function (a, b) {
                var c = {
                    type: "SummaryRecord"
                };
                this.readChildNodes(a, c);
                b.records.push(c)
            },
            BriefRecord: function (a, b) {
                var c = {
                    type: "BriefRecord"
                };
                this.readChildNodes(a, c);
                b.records.push(c)
            },
            DCMIRecord: function (a, b) {
                var c = {
                    type: "DCMIRecord"
                };
                this.readChildNodes(a, c);
                b.records.push(c)
            },
            Record: function (a, b) {
                var c = {
                    type: "Record"
                };
                this.readChildNodes(a, c);
                b.records.push(c)
            },
            "*": function (a, b) {
                var c = a.localName ||
                    a.nodeName.split(":").pop();
                b[c] = this.getChildValue(a)
            }
        },
        geonet: {
            info: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.gninfo = c
            }
        },
        dc: {
            "*": function (a, b) {
                var c = a.localName || a.nodeName.split(":").pop();
                OpenLayers.Util.isArray(b[c]) || (b[c] = []);
                for (var d = {}, e = a.attributes, f = 0, g = e.length; f < g; ++f) d[e[f].name] = e[f].nodeValue;
                d.value = this.getChildValue(a);
                "" != d.value && b[c].push(d)
            }
        },
        dct: {
            "*": function (a, b) {
                var c = a.localName || a.nodeName.split(":").pop();
                OpenLayers.Util.isArray(b[c]) || (b[c] = []);
                b[c].push(this.getChildValue(a))
            }
        },
        ows: OpenLayers.Util.applyDefaults({
            BoundingBox: function (a, b) {
                b.bounds && (b.BoundingBox = [{
                    crs: b.projection,
                    value: [b.bounds.left, b.bounds.bottom, b.bounds.right, b.bounds.top]
                }], delete b.projection, delete b.bounds);
                OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows.BoundingBox.apply(this, arguments)
            }
        }, OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows)
    },
    write: function (a) {
        a = this.writeNode("csw:GetRecords", a);
        a.setAttribute("xmlns:gmd", this.namespaces.gmd);
        return OpenLayers.Format.XML.prototype.write.apply(this,
            [a])
    },
    writers: {
        csw: {
            GetRecords: function (a) {
                a || (a = {});
                var b = this.createElementNSPlus("csw:GetRecords", {
                    attributes: {
                        service: "CSW",
                        version: this.version,
                        requestId: a.requestId || this.requestId,
                        resultType: a.resultType || this.resultType,
                        outputFormat: a.outputFormat || this.outputFormat,
                        outputSchema: a.outputSchema || this.outputSchema,
                        startPosition: a.startPosition || this.startPosition,
                        maxRecords: a.maxRecords || this.maxRecords
                    }
                });
                (a.DistributedSearch || this.DistributedSearch) && this.writeNode("csw:DistributedSearch",
                    a.DistributedSearch || this.DistributedSearch, b);
                var c = a.ResponseHandler || this.ResponseHandler;
                if (OpenLayers.Util.isArray(c) && 0 < c.length)
                    for (var d = 0, e = c.length; d < e; d++) this.writeNode("csw:ResponseHandler", c[d], b);
                this.writeNode("Query", a.Query || this.Query, b);
                return b
            },
            DistributedSearch: function (a) {
                return this.createElementNSPlus("csw:DistributedSearch", {
                    attributes: {
                        hopCount: a.hopCount
                    }
                })
            },
            ResponseHandler: function (a) {
                return this.createElementNSPlus("csw:ResponseHandler", {
                    value: a.value
                })
            },
            Query: function (a) {
                a ||
                    (a = {});
                var b = this.createElementNSPlus("csw:Query", {
                        attributes: {
                            typeNames: a.typeNames || "csw:Record"
                        }
                    }),
                    c = a.ElementName;
                if (OpenLayers.Util.isArray(c) && 0 < c.length)
                    for (var d = 0, e = c.length; d < e; d++) this.writeNode("csw:ElementName", c[d], b);
                else this.writeNode("csw:ElementSetName", a.ElementSetName || {
                    value: "summary"
                }, b);
                a.Constraint && this.writeNode("csw:Constraint", a.Constraint, b);
                a.SortBy && this.writeNode("ogc:SortBy", a.SortBy, b);
                return b
            },
            ElementName: function (a) {
                return this.createElementNSPlus("csw:ElementName", {
                    value: a.value
                })
            },
            ElementSetName: function (a) {
                return this.createElementNSPlus("csw:ElementSetName", {
                    attributes: {
                        typeNames: a.typeNames
                    },
                    value: a.value
                })
            },
            Constraint: function (a) {
                var b = this.createElementNSPlus("csw:Constraint", {
                    attributes: {
                        version: a.version
                    }
                });
                if (a.Filter) {
                    var c = new OpenLayers.Format.Filter({
                        version: a.version
                    });
                    b.appendChild(c.write(a.Filter))
                } else a.CqlText && (a = this.createElementNSPlus("CqlText", {
                    value: a.CqlText.value
                }), b.appendChild(a));
                return b
            }
        },
        ogc: OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc
    },
    CLASS_NAME: "OpenLayers.Format.CSWGetRecords.v2_0_2"
});
/*
 Apache 2 

 Contains portions of Rico <https://openrico.org/>

 Copyright 2005 Sabre Airline Solutions  

 Licensed under the Apache License, Version 2.0 (the "License"); you
 may not use this file except in compliance with the License. You
 may obtain a copy of the License at

     https://www.apache.org/licenses/LICENSE-2.0  

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
 implied. See the License for the specific language governing
 permissions and limitations under the License. 
*/
OpenLayers.Marker.Box = OpenLayers.Class(OpenLayers.Marker, {
    bounds: null,
    div: null,
    initialize: function (a, b, c) {
        this.bounds = a;
        this.div = OpenLayers.Util.createDiv();
        this.div.style.overflow = "hidden";
        this.events = new OpenLayers.Events(this, this.div);
        this.setBorder(b, c)
    },
    destroy: function () {
        this.div = this.bounds = null;
        OpenLayers.Marker.prototype.destroy.apply(this, arguments)
    },
    setBorder: function (a, b) {
        a || (a = "red");
        b || (b = 2);
        this.div.style.border = b + "px solid " + a
    },
    draw: function (a, b) {
        OpenLayers.Util.modifyDOMElement(this.div,
            null, a, b);
        return this.div
    },
    onScreen: function () {
        var a = !1;
        this.map && (a = this.map.getExtent().containsBounds(this.bounds, !0, !0));
        return a
    },
    display: function (a) {
        this.div.style.display = a ? "" : "none"
    },
    CLASS_NAME: "OpenLayers.Marker.Box"
});
OpenLayers.Format.Text = OpenLayers.Class(OpenLayers.Format, {
    defaultStyle: null,
    extractStyles: !0,
    initialize: function (a) {
        a = a || {};
        !1 !== a.extractStyles && (a.defaultStyle = {
            externalGraphic: OpenLayers.Util.getImageLocation("marker.png"),
            graphicWidth: 21,
            graphicHeight: 25,
            graphicXOffset: -10.5,
            graphicYOffset: -12.5
        });
        OpenLayers.Format.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        a = a.split("\n");
        for (var b, c = [], d = 0; d < a.length - 1; d++) {
            var e = a[d].replace(/^\s*/, "").replace(/\s*$/, "");
            if ("#" != e.charAt(0))
                if (b) {
                    for (var e =
                            e.split("\t"), f = new OpenLayers.Geometry.Point(0, 0), g = {}, h = this.defaultStyle ? OpenLayers.Util.applyDefaults({}, this.defaultStyle) : null, k = !1, l = 0; l < e.length; l++)
                        if (e[l])
                            if ("point" == b[l]) k = e[l].split(","), f.y = parseFloat(k[0]), f.x = parseFloat(k[1]), k = !0;
                            else if ("lat" == b[l]) f.y = parseFloat(e[l]), k = !0;
                    else if ("lon" == b[l]) f.x = parseFloat(e[l]), k = !0;
                    else if ("title" == b[l]) g.title = e[l];
                    else if ("image" == b[l] || "icon" == b[l] && h) h.externalGraphic = e[l];
                    else if ("iconSize" == b[l] && h) {
                        var m = e[l].split(",");
                        h.graphicWidth =
                            parseFloat(m[0]);
                        h.graphicHeight = parseFloat(m[1])
                    } else "iconOffset" == b[l] && h ? (m = e[l].split(","), h.graphicXOffset = parseFloat(m[0]), h.graphicYOffset = parseFloat(m[1])) : "description" == b[l] ? g.description = e[l] : "overflow" == b[l] ? g.overflow = e[l] : g[b[l]] = e[l];
                    k && (this.internalProjection && this.externalProjection && f.transform(this.externalProjection, this.internalProjection), e = new OpenLayers.Feature.Vector(f, g, h), c.push(e))
                } else b = e.split("\t")
        }
        return c
    },
    CLASS_NAME: "OpenLayers.Format.Text"
});
OpenLayers.Layer.Text = OpenLayers.Class(OpenLayers.Layer.Markers, {
    location: null,
    features: null,
    formatOptions: null,
    selectedFeature: null,
    initialize: function (a, b) {
        OpenLayers.Layer.Markers.prototype.initialize.apply(this, arguments);
        this.features = []
    },
    destroy: function () {
        OpenLayers.Layer.Markers.prototype.destroy.apply(this, arguments);
        this.clearFeatures();
        this.features = null
    },
    loadText: function () {
        this.loaded || null == this.location || (this.events.triggerEvent("loadstart"), OpenLayers.Request.GET({
            url: this.location,
            success: this.parseData,
            failure: function (a) {
                this.events.triggerEvent("loadend")
            },
            scope: this
        }), this.loaded = !0)
    },
    moveTo: function (a, b, c) {
        OpenLayers.Layer.Markers.prototype.moveTo.apply(this, arguments);
        this.visibility && !this.loaded && this.loadText()
    },
    parseData: function (a) {
        a = a.responseText;
        var b = {};
        OpenLayers.Util.extend(b, this.formatOptions);
        this.map && !this.projection.equals(this.map.getProjectionObject()) && (b.externalProjection = this.projection, b.internalProjection = this.map.getProjectionObject());
        a = (new OpenLayers.Format.Text(b)).read(a);
        for (var b = 0, c = a.length; b < c; b++) {
            var d = {},
                e = a[b],
                f, g, h;
            f = new OpenLayers.LonLat(e.geometry.x, e.geometry.y);
            e.style.graphicWidth && e.style.graphicHeight && (g = new OpenLayers.Size(e.style.graphicWidth, e.style.graphicHeight));
            void 0 !== e.style.graphicXOffset && void 0 !== e.style.graphicYOffset && (h = new OpenLayers.Pixel(e.style.graphicXOffset, e.style.graphicYOffset));
            null != e.style.externalGraphic ? d.icon = new OpenLayers.Icon(e.style.externalGraphic, g, h) : (d.icon = OpenLayers.Marker.defaultIcon(), null != g && d.icon.setSize(g));
            null != e.attributes.title && null != e.attributes.description && (d.popupContentHTML = "<h2>" + e.attributes.title + "</h2><p>" + e.attributes.description + "</p>");
            d.overflow = e.attributes.overflow || "auto";
            d = new OpenLayers.Feature(this, f, d);
            this.features.push(d);
            f = d.createMarker();
            null != e.attributes.title && null != e.attributes.description && f.events.register("click", d, this.markerClick);
            this.addMarker(f)
        }
        this.events.triggerEvent("loadend")
    },
    markerClick: function (a) {
        var b = this == this.layer.selectedFeature;
        this.layer.selectedFeature =
            b ? null : this;
        for (var c = 0, d = this.layer.map.popups.length; c < d; c++) this.layer.map.removePopup(this.layer.map.popups[c]);
        b || this.layer.map.addPopup(this.createPopup());
        OpenLayers.Event.stop(a)
    },
    clearFeatures: function () {
        if (null != this.features)
            for (; 0 < this.features.length;) {
                var a = this.features[0];
                OpenLayers.Util.removeItem(this.features, a);
                a.destroy()
            }
    },
    CLASS_NAME: "OpenLayers.Layer.Text"
});
OpenLayers.Handler.RegularPolygon = OpenLayers.Class(OpenLayers.Handler.Drag, {
    sides: 4,
    radius: null,
    snapAngle: null,
    snapToggle: "shiftKey",
    layerOptions: null,
    persist: !1,
    irregular: !1,
    citeCompliant: !1,
    angle: null,
    fixedRadius: !1,
    feature: null,
    layer: null,
    origin: null,
    initialize: function (a, b, c) {
        c && c.layerOptions && c.layerOptions.styleMap || (this.style = OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"], {}));
        OpenLayers.Handler.Drag.prototype.initialize.apply(this, [a, b, c]);
        this.options = c ? c : {}
    },
    setOptions: function (a) {
        OpenLayers.Util.extend(this.options,
            a);
        OpenLayers.Util.extend(this, a)
    },
    activate: function () {
        var a = !1;
        OpenLayers.Handler.Drag.prototype.activate.apply(this, arguments) && (a = OpenLayers.Util.extend({
            displayInLayerSwitcher: !1,
            calculateInRange: OpenLayers.Function.True,
            wrapDateLine: this.citeCompliant
        }, this.layerOptions), this.layer = new OpenLayers.Layer.Vector(this.CLASS_NAME, a), this.map.addLayer(this.layer), a = !0);
        return a
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.Drag.prototype.deactivate.apply(this, arguments) && (this.dragging && this.cancel(),
            null != this.layer.map && (this.layer.destroy(!1), this.feature && this.feature.destroy()), this.feature = this.layer = null, a = !0);
        return a
    },
    down: function (a) {
        this.fixedRadius = !!this.radius;
        a = this.layer.getLonLatFromViewPortPx(a.xy);
        this.origin = new OpenLayers.Geometry.Point(a.lon, a.lat);
        if (!this.fixedRadius || this.irregular) this.radius = this.map.getResolution();
        this.persist && this.clear();
        this.feature = new OpenLayers.Feature.Vector;
        this.createGeometry();
        this.callback("create", [this.origin, this.feature]);
        this.layer.addFeatures([this.feature], {
            silent: !0
        });
        this.layer.drawFeature(this.feature, this.style)
    },
    move: function (a) {
        var b = this.layer.getLonLatFromViewPortPx(a.xy),
            b = new OpenLayers.Geometry.Point(b.lon, b.lat);
        this.irregular ? (a = Math.sqrt(2) * Math.abs(b.y - this.origin.y) / 2, this.radius = Math.max(this.map.getResolution() / 2, a)) : this.fixedRadius ? this.origin = b : (this.calculateAngle(b, a), this.radius = Math.max(this.map.getResolution() / 2, b.distanceTo(this.origin)));
        this.modifyGeometry();
        if (this.irregular) {
            a = b.x - this.origin.x;
            var b = b.y - this.origin.y,
                c;
            c = 0 == b ? a / (this.radius * Math.sqrt(2)) : a / b;
            this.feature.geometry.resize(1, this.origin, c);
            this.feature.geometry.move(a / 2, b / 2)
        }
        this.layer.drawFeature(this.feature, this.style)
    },
    up: function (a) {
        this.finalize();
        this.start == this.last && this.callback("done", [a.xy])
    },
    out: function (a) {
        this.finalize()
    },
    createGeometry: function () {
        this.angle = Math.PI * (1 / this.sides - 0.5);
        this.snapAngle && (this.angle += this.snapAngle * (Math.PI / 180));
        this.feature.geometry = OpenLayers.Geometry.Polygon.createRegularPolygon(this.origin, this.radius,
            this.sides, this.snapAngle)
    },
    modifyGeometry: function () {
        var a, b, c = this.feature.geometry.components[0];
        c.components.length != this.sides + 1 && (this.createGeometry(), c = this.feature.geometry.components[0]);
        for (var d = 0; d < this.sides; ++d) b = c.components[d], a = this.angle + 2 * d * Math.PI / this.sides, b.x = this.origin.x + this.radius * Math.cos(a), b.y = this.origin.y + this.radius * Math.sin(a), b.clearBounds()
    },
    calculateAngle: function (a, b) {
        var c = Math.atan2(a.y - this.origin.y, a.x - this.origin.x);
        if (this.snapAngle && this.snapToggle && !b[this.snapToggle]) {
            var d =
                Math.PI / 180 * this.snapAngle;
            this.angle = Math.round(c / d) * d
        } else this.angle = c
    },
    cancel: function () {
        this.callback("cancel", null);
        this.finalize()
    },
    finalize: function () {
        this.origin = null;
        this.radius = this.options.radius
    },
    clear: function () {
        this.layer && (this.layer.renderer.clear(), this.layer.destroyFeatures())
    },
    callback: function (a, b) {
        this.callbacks[a] && this.callbacks[a].apply(this.control, [this.feature.geometry.clone()]);
        this.persist || "done" != a && "cancel" != a || this.clear()
    },
    CLASS_NAME: "OpenLayers.Handler.RegularPolygon"
});
OpenLayers.Control.SLDSelect = OpenLayers.Class(OpenLayers.Control, {
    clearOnDeactivate: !1,
    layers: null,
    callbacks: null,
    selectionSymbolizer: {
        Polygon: {
            fillColor: "#FF0000",
            stroke: !1
        },
        Line: {
            strokeColor: "#FF0000",
            strokeWidth: 2
        },
        Point: {
            graphicName: "square",
            fillColor: "#FF0000",
            pointRadius: 5
        }
    },
    layerOptions: null,
    sketchStyle: null,
    wfsCache: {},
    layerCache: {},
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        this.callbacks = OpenLayers.Util.extend({
            done: this.select,
            click: this.select
        }, this.callbacks);
        this.handlerOptions = this.handlerOptions || {};
        this.layerOptions = OpenLayers.Util.applyDefaults(this.layerOptions, {
            displayInLayerSwitcher: !1,
            tileOptions: {
                maxGetUrlLength: 2048
            }
        });
        this.sketchStyle && (this.handlerOptions.layerOptions = OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions, {
            styleMap: new OpenLayers.StyleMap({
                "default": this.sketchStyle
            })
        }));
        this.handler = new a(this, this.callbacks, this.handlerOptions)
    },
    destroy: function () {
        for (var a in this.layerCache) delete this.layerCache[a];
        for (a in this.wfsCache) delete this.wfsCache[a];
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    coupleLayerVisiblity: function (a) {
        this.setVisibility(a.object.getVisibility())
    },
    createSelectionLayer: function (a) {
        var b;
        if (this.layerCache[a.id]) b = this.layerCache[a.id];
        else {
            b = new OpenLayers.Layer.WMS(a.name, a.url, a.params, OpenLayers.Util.applyDefaults(this.layerOptions, a.getOptions()));
            this.layerCache[a.id] = b;
            if (!1 === this.layerOptions.displayInLayerSwitcher) a.events.on({
                visibilitychanged: this.coupleLayerVisiblity,
                scope: b
            });
            this.map.addLayer(b)
        }
        return b
    },
    createSLD: function (a, b, c) {
        for (var d = {
                version: "1.0.0",
                namedLayers: {}
            }, e = ("" + a.params.LAYERS).split(","), f = 0, g = e.length; f < g; f++) {
            var h = e[f];
            d.namedLayers[h] = {
                name: h,
                userStyles: []
            };
            var k = this.selectionSymbolizer,
                l = c[f];
            0 <= l.type.indexOf("Polygon") ? k = {
                Polygon: this.selectionSymbolizer.Polygon
            } : 0 <= l.type.indexOf("LineString") ? k = {
                Line: this.selectionSymbolizer.Line
            } : 0 <= l.type.indexOf("Point") && (k = {
                Point: this.selectionSymbolizer.Point
            });
            d.namedLayers[h].userStyles.push({
                name: "default",
                rules: [new OpenLayers.Rule({
                    symbolizer: k,
                    filter: b[f],
                    maxScaleDenominator: a.options.minScale
                })]
            })
        }
        return (new OpenLayers.Format.SLD({
            srsName: this.map.getProjection()
        })).write(d)
    },
    parseDescribeLayer: function (a) {
        var b = new OpenLayers.Format.WMSDescribeLayer,
            c = a.responseXML;
        c && c.documentElement || (c = a.responseText);
        a = b.read(c);
        for (var b = [], c = null, d = 0, e = a.length; d < e; d++) "WFS" == a[d].owsType && (b.push(a[d].typeName), c = a[d].owsURL);
        OpenLayers.Request.GET({
            url: c,
            params: {
                SERVICE: "WFS",
                TYPENAME: b.toString(),
                REQUEST: "DescribeFeatureType",
                VERSION: "1.0.0"
            },
            callback: function (a) {
                var b = new OpenLayers.Format.WFSDescribeFeatureType,
                    c = a.responseXML;
                c && c.documentElement || (c = a.responseText);
                a = b.read(c);
                this.control.wfsCache[this.layer.id] = a;
                this.control._queue && this.control.applySelection()
            },
            scope: this
        })
    },
    getGeometryAttributes: function (a) {
        var b = [];
        a = this.wfsCache[a.id];
        for (var c = 0, d = a.featureTypes.length; c < d; c++)
            for (var e = a.featureTypes[c].properties, f = 0, g = e.length; f < g; f++) {
                var h = e[f],
                    k = h.type;
                (0 <= k.indexOf("LineString") || 0 <= k.indexOf("GeometryAssociationType") ||
                    0 <= k.indexOf("GeometryPropertyType") || 0 <= k.indexOf("Point") || 0 <= k.indexOf("Polygon")) && b.push(h)
            }
        return b
    },
    activate: function () {
        var a = OpenLayers.Control.prototype.activate.call(this);
        if (a)
            for (var b = 0, c = this.layers.length; b < c; b++) {
                var d = this.layers[b];
                d && !this.wfsCache[d.id] && OpenLayers.Request.GET({
                    url: d.url,
                    params: {
                        SERVICE: "WMS",
                        VERSION: d.params.VERSION,
                        LAYERS: d.params.LAYERS,
                        REQUEST: "DescribeLayer"
                    },
                    callback: this.parseDescribeLayer,
                    scope: {
                        layer: d,
                        control: this
                    }
                })
            }
        return a
    },
    deactivate: function () {
        var a =
            OpenLayers.Control.prototype.deactivate.call(this);
        if (a)
            for (var b = 0, c = this.layers.length; b < c; b++) {
                var d = this.layers[b];
                if (d && !0 === this.clearOnDeactivate) {
                    var e = this.layerCache,
                        f = e[d.id];
                    f && (d.events.un({
                        visibilitychanged: this.coupleLayerVisiblity,
                        scope: f
                    }), f.destroy(), delete e[d.id])
                }
            }
        return a
    },
    setLayers: function (a) {
        this.active ? (this.deactivate(), this.layers = a, this.activate()) : this.layers = a
    },
    createFilter: function (a, b) {
        var c = null;
        this.handler instanceof OpenLayers.Handler.RegularPolygon ? c = !0 === this.handler.irregular ?
            new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.BBOX,
                property: a.name,
                value: b.getBounds()
            }) : new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.INTERSECTS,
                property: a.name,
                value: b
            }) : this.handler instanceof OpenLayers.Handler.Polygon ? c = new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.INTERSECTS,
                property: a.name,
                value: b
            }) : this.handler instanceof OpenLayers.Handler.Path ? c = 0 <= a.type.indexOf("Point") ? new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.DWITHIN,
                property: a.name,
                distance: 0.01 * this.map.getExtent().getWidth(),
                distanceUnits: this.map.getUnits(),
                value: b
            }) : new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.INTERSECTS,
                property: a.name,
                value: b
            }) : this.handler instanceof OpenLayers.Handler.Click && (c = 0 <= a.type.indexOf("Polygon") ? new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.INTERSECTS,
                property: a.name,
                value: b
            }) : new OpenLayers.Filter.Spatial({
                type: OpenLayers.Filter.Spatial.DWITHIN,
                property: a.name,
                distance: 0.01 * this.map.getExtent().getWidth(),
                distanceUnits: this.map.getUnits(),
                value: b
            }));
        return c
    },
    select: function (a) {
        this._queue = function () {
            for (var b = 0, c = this.layers.length; b < c; b++) {
                for (var d = this.layers[b], e = this.getGeometryAttributes(d), f = [], g = 0, h = e.length; g < h; g++) {
                    var k = e[g];
                    if (null !== k) {
                        if (!(a instanceof OpenLayers.Geometry)) {
                            var l = this.map.getLonLatFromPixel(a.xy);
                            a = new OpenLayers.Geometry.Point(l.lon, l.lat)
                        }
                        k = this.createFilter(k, a);
                        null !== k && f.push(k)
                    }
                }
                g = this.createSelectionLayer(d);
                this.events.triggerEvent("selected", {
                    layer: d,
                    filters: f
                });
                d = this.createSLD(d, f, e);
                g.mergeNewParams({
                    SLD_BODY: d
                });
                delete this._queue
            }
        };
        this.applySelection()
    },
    applySelection: function () {
        for (var a = !0, b = 0, c = this.layers.length; b < c; b++)
            if (!this.wfsCache[this.layers[b].id]) {
                a = !1;
                break
            } a && this._queue.call(this)
    },
    CLASS_NAME: "OpenLayers.Control.SLDSelect"
});
OpenLayers.Control.Scale = OpenLayers.Class(OpenLayers.Control, {
    element: null,
    geodesic: !1,
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        this.element = OpenLayers.Util.getElement(a)
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.element || (this.element = document.createElement("div"), this.div.appendChild(this.element));
        this.map.events.register("moveend", this, this.updateScale);
        this.updateScale();
        return this.div
    },
    updateScale: function () {
        var a;
        if (!0 === this.geodesic) {
            if (!this.map.getUnits()) return;
            a = OpenLayers.INCHES_PER_UNIT;
            a = (this.map.getGeodesicPixelSize().w || 1E-6) * a.km * OpenLayers.DOTS_PER_INCH
        } else a = this.map.getScale();
        a && (a = 9500 <= a && 95E4 >= a ? Math.round(a / 1E3) + "K" : 95E4 <= a ? Math.round(a / 1E6) + "M" : Math.round(a), this.element.innerHTML = OpenLayers.i18n("Scale = 1 : ${scaleDenom}", {
            scaleDenom: a
        }))
    },
    CLASS_NAME: "OpenLayers.Control.Scale"
});
OpenLayers.Layer.MapGuide = OpenLayers.Class(OpenLayers.Layer.Grid, {
    isBaseLayer: !0,
    useHttpTile: !1,
    singleTile: !1,
    useOverlay: !1,
    useAsyncOverlay: !0,
    TILE_PARAMS: {
        operation: "GETTILEIMAGE",
        version: "1.2.0"
    },
    SINGLE_TILE_PARAMS: {
        operation: "GETMAPIMAGE",
        format: "PNG",
        locale: "en",
        clip: "1",
        version: "1.0.0"
    },
    OVERLAY_PARAMS: {
        operation: "GETDYNAMICMAPOVERLAYIMAGE",
        format: "PNG",
        locale: "en",
        clip: "1",
        version: "2.0.0"
    },
    FOLDER_PARAMS: {
        tileColumnsPerFolder: 30,
        tileRowsPerFolder: 30,
        format: "png",
        querystring: null
    },
    defaultSize: new OpenLayers.Size(300,
        300),
    tileOriginCorner: "tl",
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments);
        if (null == d || null == d.isBaseLayer) this.isBaseLayer = "true" != this.transparent && !0 != this.transparent;
        d && null != d.useOverlay && (this.useOverlay = d.useOverlay);
        this.singleTile ? this.useOverlay ? (OpenLayers.Util.applyDefaults(this.params, this.OVERLAY_PARAMS), this.useAsyncOverlay || (this.params.version = "1.0.0")) : OpenLayers.Util.applyDefaults(this.params, this.SINGLE_TILE_PARAMS) : (this.useHttpTile ?
            OpenLayers.Util.applyDefaults(this.params, this.FOLDER_PARAMS) : OpenLayers.Util.applyDefaults(this.params, this.TILE_PARAMS), this.setTileSize(this.defaultSize))
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.MapGuide(this.name, this.url, this.params, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getURL: function (a) {
        var b;
        b = a.getCenterLonLat();
        var c = this.map.getSize();
        this.singleTile ? (a = {
            setdisplaydpi: OpenLayers.DOTS_PER_INCH,
            setdisplayheight: c.h * this.ratio,
            setdisplaywidth: c.w *
                this.ratio,
            setviewcenterx: b.lon,
            setviewcentery: b.lat,
            setviewscale: this.map.getScale()
        }, this.useOverlay && !this.useAsyncOverlay && (b = {}, b = OpenLayers.Util.extend(b, a), b.operation = "GETVISIBLEMAPEXTENT", b.version = "1.0.0", b.session = this.params.session, b.mapName = this.params.mapName, b.format = "text/xml", b = this.getFullRequestString(b), OpenLayers.Request.GET({
            url: b,
            async: !1
        })), b = this.getFullRequestString(a)) : (c = this.map.getResolution(), b = Math.floor((a.left - this.maxExtent.left) / c), b = Math.round(b / this.tileSize.w),
            a = Math.floor((this.maxExtent.top - a.top) / c), a = Math.round(a / this.tileSize.h), b = this.useHttpTile ? this.getImageFilePath({
                tilecol: b,
                tilerow: a,
                scaleindex: this.resolutions.length - this.map.zoom - 1
            }) : this.getFullRequestString({
                tilecol: b,
                tilerow: a,
                scaleindex: this.resolutions.length - this.map.zoom - 1
            }));
        return b
    },
    getFullRequestString: function (a, b) {
        var c = null == b ? this.url : b;
        "object" == typeof c && (c = c[Math.floor(Math.random() * c.length)]);
        var d = c,
            e = OpenLayers.Util.extend({}, this.params),
            e = OpenLayers.Util.extend(e, a),
            f = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c)),
            g;
        for (g in e) g.toUpperCase() in f && delete e[g];
        e = OpenLayers.Util.getParameterString(e);
        e = e.replace(/,/g, "+");
        "" != e && (f = c.charAt(c.length - 1), d = "&" == f || "?" == f ? d + e : -1 == c.indexOf("?") ? d + ("?" + e) : d + ("&" + e));
        return d
    },
    getImageFilePath: function (a, b) {
        var c = null == b ? this.url : b;
        "object" == typeof c && (c = c[Math.floor(Math.random() * c.length)]);
        var d = "",
            e = "";
        0 > a.tilerow && (d = "-");
        d = 0 == a.tilerow ? d + "0" : d + Math.floor(Math.abs(a.tilerow / this.params.tileRowsPerFolder)) *
            this.params.tileRowsPerFolder;
        0 > a.tilecol && (e = "-");
        e = 0 == a.tilecol ? e + "0" : e + Math.floor(Math.abs(a.tilecol / this.params.tileColumnsPerFolder)) * this.params.tileColumnsPerFolder;
        d = "/S" + Math.floor(a.scaleindex) + "/" + this.params.basemaplayergroupname + "/R" + d + "/C" + e + "/" + a.tilerow % this.params.tileRowsPerFolder + "_" + a.tilecol % this.params.tileColumnsPerFolder + "." + this.params.format;
        this.params.querystring && (d += "?" + this.params.querystring);
        return c + d
    },
    CLASS_NAME: "OpenLayers.Layer.MapGuide"
});
OpenLayers.Control.Measure = OpenLayers.Class(OpenLayers.Control, {
    callbacks: null,
    displaySystem: "metric",
    geodesic: !1,
    displaySystemUnits: {
        geographic: ["dd"],
        english: ["mi", "ft", "in"],
        metric: ["km", "m"]
    },
    partialDelay: 300,
    delayedTrigger: null,
    persist: !1,
    immediate: !1,
    initialize: function (a, b) {
        OpenLayers.Control.prototype.initialize.apply(this, [b]);
        var c = {
            done: this.measureComplete,
            point: this.measurePartial
        };
        this.immediate && (c.modify = this.measureImmediate);
        this.callbacks = OpenLayers.Util.extend(c, this.callbacks);
        this.handlerOptions = OpenLayers.Util.extend({
            persist: this.persist
        }, this.handlerOptions);
        this.handler = new a(this, this.callbacks, this.handlerOptions)
    },
    deactivate: function () {
        this.cancelDelay();
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    cancel: function () {
        this.cancelDelay();
        this.handler.cancel()
    },
    setImmediate: function (a) {
        (this.immediate = a) ? this.callbacks.modify = this.measureImmediate: delete this.callbacks.modify
    },
    updateHandler: function (a, b) {
        var c = this.active;
        c && this.deactivate();
        this.handler = new a(this, this.callbacks, b);
        c && this.activate()
    },
    measureComplete: function (a) {
        this.cancelDelay();
        this.measure(a, "measure")
    },
    measurePartial: function (a, b) {
        this.cancelDelay();
        b = b.clone();
        this.handler.freehandMode(this.handler.evt) ? this.measure(b, "measurepartial") : this.delayedTrigger = window.setTimeout(OpenLayers.Function.bind(function () {
            this.delayedTrigger = null;
            this.measure(b, "measurepartial")
        }, this), this.partialDelay)
    },
    measureImmediate: function (a, b, c) {
        c && !this.handler.freehandMode(this.handler.evt) &&
            (this.cancelDelay(), this.measure(b.geometry, "measurepartial"))
    },
    cancelDelay: function () {
        null !== this.delayedTrigger && (window.clearTimeout(this.delayedTrigger), this.delayedTrigger = null)
    },
    measure: function (a, b) {
        var c, d; - 1 < a.CLASS_NAME.indexOf("LineString") ? (c = this.getBestLength(a), d = 1) : (c = this.getBestArea(a), d = 2);
        this.events.triggerEvent(b, {
            measure: c[0],
            units: c[1],
            order: d,
            geometry: a
        })
    },
    getBestArea: function (a) {
        for (var b = this.displaySystemUnits[this.displaySystem], c, d, e = 0, f = b.length; e < f && !(c = b[e], d = this.getArea(a,
                c), 1 < d); ++e);
        return [d, c]
    },
    getArea: function (a, b) {
        var c, d;
        this.geodesic ? (c = a.getGeodesicArea(this.map.getProjectionObject()), d = "m") : (c = a.getArea(), d = this.map.getUnits());
        var e = OpenLayers.INCHES_PER_UNIT[b];
        e && (c *= Math.pow(OpenLayers.INCHES_PER_UNIT[d] / e, 2));
        return c
    },
    getBestLength: function (a) {
        for (var b = this.displaySystemUnits[this.displaySystem], c, d, e = 0, f = b.length; e < f && !(c = b[e], d = this.getLength(a, c), 1 < d); ++e);
        return [d, c]
    },
    getLength: function (a, b) {
        var c, d;
        this.geodesic ? (c = a.getGeodesicLength(this.map.getProjectionObject()),
            d = "m") : (c = a.getLength(), d = this.map.getUnits());
        var e = OpenLayers.INCHES_PER_UNIT[b];
        e && (c *= OpenLayers.INCHES_PER_UNIT[d] / e);
        return c
    },
    CLASS_NAME: "OpenLayers.Control.Measure"
});
OpenLayers.Format.WMC.v1_0_0 = OpenLayers.Class(OpenLayers.Format.WMC.v1, {
    VERSION: "1.0.0",
    schemaLocation: "https://www.opengis.net/context https://schemas.opengis.net/context/1.0.0/context.xsd",
    initialize: function (a) {
        OpenLayers.Format.WMC.v1.prototype.initialize.apply(this, [a])
    },
    read_wmc_SRS: function (a, b) {
        var c = this.getChildValue(b);
        "object" != typeof a.projections && (a.projections = {});
        for (var c = c.split(/ +/), d = 0, e = c.length; d < e; d++) a.projections[c[d]] = !0
    },
    write_wmc_Layer: function (a) {
        var b = OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this,
            [a]);
        if (a.srs) {
            var c = [],
                d;
            for (d in a.srs) c.push(d);
            b.appendChild(this.createElementDefaultNS("SRS", c.join(" ")))
        }
        b.appendChild(this.write_wmc_FormatList(a));
        b.appendChild(this.write_wmc_StyleList(a));
        a.dimensions && b.appendChild(this.write_wmc_DimensionList(a));
        b.appendChild(this.write_wmc_LayerExtension(a))
    },
    CLASS_NAME: "OpenLayers.Format.WMC.v1_0_0"
});
OpenLayers.Popup.Anchored = OpenLayers.Class(OpenLayers.Popup, {
    relativePosition: null,
    keepInMap: !0,
    anchor: null,
    initialize: function (a, b, c, d, e, f, g) {
        OpenLayers.Popup.prototype.initialize.apply(this, [a, b, c, d, f, g]);
        this.anchor = null != e ? e : {
            size: new OpenLayers.Size(0, 0),
            offset: new OpenLayers.Pixel(0, 0)
        }
    },
    destroy: function () {
        this.relativePosition = this.anchor = null;
        OpenLayers.Popup.prototype.destroy.apply(this, arguments)
    },
    show: function () {
        this.updatePosition();
        OpenLayers.Popup.prototype.show.apply(this, arguments)
    },
    moveTo: function (a) {
        var b = this.relativePosition;
        this.relativePosition = this.calculateRelativePosition(a);
        OpenLayers.Popup.prototype.moveTo.call(this, this.calculateNewPx(a));
        this.relativePosition != b && this.updateRelativePosition()
    },
    setSize: function (a) {
        OpenLayers.Popup.prototype.setSize.apply(this, arguments);
        if (this.lonlat && this.map) {
            var b = this.map.getLayerPxFromLonLat(this.lonlat);
            this.moveTo(b)
        }
    },
    calculateRelativePosition: function (a) {
        a = this.map.getLonLatFromLayerPx(a);
        a = this.map.getExtent().determineQuadrant(a);
        return OpenLayers.Bounds.oppositeQuadrant(a)
    },
    updateRelativePosition: function () {},
    calculateNewPx: function (a) {
        a = a.offset(this.anchor.offset);
        var b = this.size || this.contentSize,
            c = "t" == this.relativePosition.charAt(0);
        a.y += c ? -b.h : this.anchor.size.h;
        c = "l" == this.relativePosition.charAt(1);
        a.x += c ? -b.w : this.anchor.size.w;
        return a
    },
    CLASS_NAME: "OpenLayers.Popup.Anchored"
});
OpenLayers.Popup.Framed = OpenLayers.Class(OpenLayers.Popup.Anchored, {
    imageSrc: null,
    imageSize: null,
    isAlphaImage: !1,
    positionBlocks: null,
    blocks: null,
    fixedRelativePosition: !1,
    initialize: function (a, b, c, d, e, f, g) {
        OpenLayers.Popup.Anchored.prototype.initialize.apply(this, arguments);
        this.fixedRelativePosition && (this.updateRelativePosition(), this.calculateRelativePosition = function (a) {
            return this.relativePosition
        });
        this.contentDiv.style.position = "absolute";
        this.contentDiv.style.zIndex = 1;
        f && (this.closeDiv.style.zIndex =
            1);
        this.groupDiv.style.position = "absolute";
        this.groupDiv.style.top = "0px";
        this.groupDiv.style.left = "0px";
        this.groupDiv.style.height = "100%";
        this.groupDiv.style.width = "100%"
    },
    destroy: function () {
        this.isAlphaImage = this.imageSize = this.imageSrc = null;
        this.fixedRelativePosition = !1;
        this.positionBlocks = null;
        for (var a = 0; a < this.blocks.length; a++) {
            var b = this.blocks[a];
            b.image && b.div.removeChild(b.image);
            b.image = null;
            b.div && this.groupDiv.removeChild(b.div);
            b.div = null
        }
        this.blocks = null;
        OpenLayers.Popup.Anchored.prototype.destroy.apply(this,
            arguments)
    },
    setBackgroundColor: function (a) {},
    setBorder: function () {},
    setOpacity: function (a) {},
    setSize: function (a) {
        OpenLayers.Popup.Anchored.prototype.setSize.apply(this, arguments);
        this.updateBlocks()
    },
    updateRelativePosition: function () {
        this.padding = this.positionBlocks[this.relativePosition].padding;
        if (this.closeDiv) {
            var a = this.getContentDivPadding();
            this.closeDiv.style.right = a.right + this.padding.right + "px";
            this.closeDiv.style.top = a.top + this.padding.top + "px"
        }
        this.updateBlocks()
    },
    calculateNewPx: function (a) {
        var b =
            OpenLayers.Popup.Anchored.prototype.calculateNewPx.apply(this, arguments);
        return b = b.offset(this.positionBlocks[this.relativePosition].offset)
    },
    createBlocks: function () {
        this.blocks = [];
        var a = null,
            b;
        for (b in this.positionBlocks) {
            a = b;
            break
        }
        a = this.positionBlocks[a];
        for (b = 0; b < a.blocks.length; b++) {
            var c = {};
            this.blocks.push(c);
            c.div = OpenLayers.Util.createDiv(this.id + "_FrameDecorationDiv_" + b, null, null, null, "absolute", null, "hidden", null);
            c.image = (this.isAlphaImage ? OpenLayers.Util.createAlphaImageDiv : OpenLayers.Util.createImage)(this.id +
                "_FrameDecorationImg_" + b, null, this.imageSize, this.imageSrc, "absolute", null, null, null);
            c.div.appendChild(c.image);
            this.groupDiv.appendChild(c.div)
        }
    },
    updateBlocks: function () {
        this.blocks || this.createBlocks();
        if (this.size && this.relativePosition) {
            for (var a = this.positionBlocks[this.relativePosition], b = 0; b < a.blocks.length; b++) {
                var c = a.blocks[b],
                    d = this.blocks[b],
                    e = c.anchor.left,
                    f = c.anchor.bottom,
                    g = c.anchor.right,
                    h = c.anchor.top,
                    k = isNaN(c.size.w) ? this.size.w - (g + e) : c.size.w,
                    l = isNaN(c.size.h) ? this.size.h - (f +
                        h) : c.size.h;
                d.div.style.width = (0 > k ? 0 : k) + "px";
                d.div.style.height = (0 > l ? 0 : l) + "px";
                d.div.style.left = null != e ? e + "px" : "";
                d.div.style.bottom = null != f ? f + "px" : "";
                d.div.style.right = null != g ? g + "px" : "";
                d.div.style.top = null != h ? h + "px" : "";
                d.image.style.left = c.position.x + "px";
                d.image.style.top = c.position.y + "px"
            }
            this.contentDiv.style.left = this.padding.left + "px";
            this.contentDiv.style.top = this.padding.top + "px"
        }
    },
    CLASS_NAME: "OpenLayers.Popup.Framed"
});
OpenLayers.Popup.FramedCloud = OpenLayers.Class(OpenLayers.Popup.Framed, {
    contentDisplayClass: "olFramedCloudPopupContent",
    autoSize: !0,
    panMapIfOutOfView: !0,
    imageSize: new OpenLayers.Size(1276, 736),
    isAlphaImage: !1,
    fixedRelativePosition: !1,
    positionBlocks: {
        tl: {
            offset: new OpenLayers.Pixel(44, 0),
            padding: new OpenLayers.Bounds(8, 40, 8, 9),
            blocks: [{
                size: new OpenLayers.Size("auto", "auto"),
                anchor: new OpenLayers.Bounds(0, 51, 22, 0),
                position: new OpenLayers.Pixel(0, 0)
            }, {
                size: new OpenLayers.Size(22, "auto"),
                anchor: new OpenLayers.Bounds(null,
                    50, 0, 0),
                position: new OpenLayers.Pixel(-1238, 0)
            }, {
                size: new OpenLayers.Size("auto", 19),
                anchor: new OpenLayers.Bounds(0, 32, 22, null),
                position: new OpenLayers.Pixel(0, -631)
            }, {
                size: new OpenLayers.Size(22, 18),
                anchor: new OpenLayers.Bounds(null, 32, 0, null),
                position: new OpenLayers.Pixel(-1238, -632)
            }, {
                size: new OpenLayers.Size(81, 35),
                anchor: new OpenLayers.Bounds(null, 0, 0, null),
                position: new OpenLayers.Pixel(0, -688)
            }]
        },
        tr: {
            offset: new OpenLayers.Pixel(-45, 0),
            padding: new OpenLayers.Bounds(8, 40, 8, 9),
            blocks: [{
                size: new OpenLayers.Size("auto",
                    "auto"),
                anchor: new OpenLayers.Bounds(0, 51, 22, 0),
                position: new OpenLayers.Pixel(0, 0)
            }, {
                size: new OpenLayers.Size(22, "auto"),
                anchor: new OpenLayers.Bounds(null, 50, 0, 0),
                position: new OpenLayers.Pixel(-1238, 0)
            }, {
                size: new OpenLayers.Size("auto", 19),
                anchor: new OpenLayers.Bounds(0, 32, 22, null),
                position: new OpenLayers.Pixel(0, -631)
            }, {
                size: new OpenLayers.Size(22, 19),
                anchor: new OpenLayers.Bounds(null, 32, 0, null),
                position: new OpenLayers.Pixel(-1238, -631)
            }, {
                size: new OpenLayers.Size(81, 35),
                anchor: new OpenLayers.Bounds(0,
                    0, null, null),
                position: new OpenLayers.Pixel(-215, -687)
            }]
        },
        bl: {
            offset: new OpenLayers.Pixel(45, 0),
            padding: new OpenLayers.Bounds(8, 9, 8, 40),
            blocks: [{
                size: new OpenLayers.Size("auto", "auto"),
                anchor: new OpenLayers.Bounds(0, 21, 22, 32),
                position: new OpenLayers.Pixel(0, 0)
            }, {
                size: new OpenLayers.Size(22, "auto"),
                anchor: new OpenLayers.Bounds(null, 21, 0, 32),
                position: new OpenLayers.Pixel(-1238, 0)
            }, {
                size: new OpenLayers.Size("auto", 21),
                anchor: new OpenLayers.Bounds(0, 0, 22, null),
                position: new OpenLayers.Pixel(0, -629)
            }, {
                size: new OpenLayers.Size(22,
                    21),
                anchor: new OpenLayers.Bounds(null, 0, 0, null),
                position: new OpenLayers.Pixel(-1238, -629)
            }, {
                size: new OpenLayers.Size(81, 33),
                anchor: new OpenLayers.Bounds(null, null, 0, 0),
                position: new OpenLayers.Pixel(-101, -674)
            }]
        },
        br: {
            offset: new OpenLayers.Pixel(-44, 0),
            padding: new OpenLayers.Bounds(8, 9, 8, 40),
            blocks: [{
                size: new OpenLayers.Size("auto", "auto"),
                anchor: new OpenLayers.Bounds(0, 21, 22, 32),
                position: new OpenLayers.Pixel(0, 0)
            }, {
                size: new OpenLayers.Size(22, "auto"),
                anchor: new OpenLayers.Bounds(null, 21, 0, 32),
                position: new OpenLayers.Pixel(-1238,
                    0)
            }, {
                size: new OpenLayers.Size("auto", 21),
                anchor: new OpenLayers.Bounds(0, 0, 22, null),
                position: new OpenLayers.Pixel(0, -629)
            }, {
                size: new OpenLayers.Size(22, 21),
                anchor: new OpenLayers.Bounds(null, 0, 0, null),
                position: new OpenLayers.Pixel(-1238, -629)
            }, {
                size: new OpenLayers.Size(81, 33),
                anchor: new OpenLayers.Bounds(0, null, null, 0),
                position: new OpenLayers.Pixel(-311, -674)
            }]
        }
    },
    minSize: new OpenLayers.Size(105, 10),
    maxSize: new OpenLayers.Size(1200, 660),
    initialize: function (a, b, c, d, e, f, g) {
        this.imageSrc = OpenLayers.Util.getImageLocation("cloud-popup-relative.png");
        OpenLayers.Popup.Framed.prototype.initialize.apply(this, arguments);
        this.contentDiv.className = this.contentDisplayClass
    },
    CLASS_NAME: "OpenLayers.Popup.FramedCloud"
});
OpenLayers.Tile.Image.IFrame = {
    useIFrame: null,
    blankImageUrl: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7",
    draw: function () {
        if (OpenLayers.Tile.Image.prototype.shouldDraw.call(this)) {
            var a = this.layer.getURL(this.bounds),
                b = this.useIFrame;
            this.useIFrame = null !== this.maxGetUrlLength && !this.layer.async && a.length > this.maxGetUrlLength;
            a = b && !this.useIFrame;
            b = !b && this.useIFrame;
            if (a || b) this.imgDiv && this.imgDiv.parentNode === this.frame && this.frame.removeChild(this.imgDiv), this.imgDiv =
                null, a && this.frame.removeChild(this.frame.firstChild)
        }
        return OpenLayers.Tile.Image.prototype.draw.apply(this, arguments)
    },
    getImage: function () {
        if (!0 === this.useIFrame) {
            if (!this.frame.childNodes.length) {
                var a = document.createElement("div"),
                    b = a.style;
                b.position = "absolute";
                b.width = "100%";
                b.height = "100%";
                b.zIndex = 1;
                b.backgroundImage = "url(" + this.blankImageUrl + ")";
                this.frame.appendChild(a)
            }
            a = this.id + "_iFrame";
            9 > parseFloat(navigator.appVersion.split("MSIE")[1]) ? (b = document.createElement('<iframe name="' + a + '">'),
                b.style.backgroundColor = "#FFFFFF", b.style.filter = "chroma(color=#FFFFFF)") : (b = document.createElement("iframe"), b.style.backgroundColor = "transparent", b.name = a);
            b.scrolling = "no";
            b.marginWidth = "0px";
            b.marginHeight = "0px";
            b.frameBorder = "0";
            b.style.position = "absolute";
            b.style.width = "100%";
            b.style.height = "100%";
            1 > this.layer.opacity && OpenLayers.Util.modifyDOMElement(b, null, null, null, null, null, null, this.layer.opacity);
            this.frame.appendChild(b);
            return this.imgDiv = b
        }
        return OpenLayers.Tile.Image.prototype.getImage.apply(this,
            arguments)
    },
    createRequestForm: function () {
        var a = document.createElement("form");
        a.method = "POST";
        var b = this.layer.params._OLSALT,
            b = (b ? b + "_" : "") + this.bounds.toBBOX();
        a.action = OpenLayers.Util.urlAppend(this.layer.url, b);
        a.target = this.id + "_iFrame";
        this.layer.getImageSize();
        var b = OpenLayers.Util.getParameters(this.url),
            c, d;
        for (d in b) c = document.createElement("input"), c.type = "hidden", c.name = d, c.value = b[d], a.appendChild(c);
        return a
    },
    setImgSrc: function (a) {
        if (!0 === this.useIFrame)
            if (a) {
                var b = this.createRequestForm();
                this.frame.appendChild(b);
                b.submit();
                this.frame.removeChild(b)
            } else this.imgDiv.parentNode === this.frame && (this.frame.removeChild(this.imgDiv), this.imgDiv = null);
        else OpenLayers.Tile.Image.prototype.setImgSrc.apply(this, arguments)
    },
    onImageLoad: function () {
        OpenLayers.Tile.Image.prototype.onImageLoad.apply(this, arguments);
        !0 === this.useIFrame && (this.imgDiv.style.opacity = 1, this.frame.style.opacity = this.layer.opacity)
    },
    createBackBuffer: function () {
        var a;
        !1 === this.useIFrame && (a = OpenLayers.Tile.Image.prototype.createBackBuffer.call(this));
        return a
    }
};
OpenLayers.Format.SOSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.0.0",
    CLASS_NAME: "OpenLayers.Format.SOSCapabilities"
});
OpenLayers.Format.SOSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.SOSCapabilities, {
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        sos: "https://www.opengis.net/sos/1.0",
        gml: "https://www.opengis.net/gml",
        xlink: "https://www.w3.org/1999/xlink"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a]);
        this.options = a
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this,
            [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        gml: OpenLayers.Util.applyDefaults({
            name: function (a, b) {
                b.name = this.getChildValue(a)
            },
            TimePeriod: function (a, b) {
                b.timePeriod = {};
                this.readChildNodes(a, b.timePeriod)
            },
            beginPosition: function (a, b) {
                b.beginPosition = this.getChildValue(a)
            },
            endPosition: function (a, b) {
                b.endPosition = this.getChildValue(a)
            }
        }, OpenLayers.Format.GML.v3.prototype.readers.gml),
        sos: {
            Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            Contents: function (a,
                b) {
                b.contents = {};
                this.readChildNodes(a, b.contents)
            },
            ObservationOfferingList: function (a, b) {
                b.offeringList = {};
                this.readChildNodes(a, b.offeringList)
            },
            ObservationOffering: function (a, b) {
                var c = this.getAttributeNS(a, this.namespaces.gml, "id");
                b[c] = {
                    procedures: [],
                    observedProperties: [],
                    featureOfInterestIds: [],
                    responseFormats: [],
                    resultModels: [],
                    responseModes: []
                };
                this.readChildNodes(a, b[c])
            },
            time: function (a, b) {
                b.time = {};
                this.readChildNodes(a, b.time)
            },
            procedure: function (a, b) {
                b.procedures.push(this.getAttributeNS(a,
                    this.namespaces.xlink, "href"))
            },
            observedProperty: function (a, b) {
                b.observedProperties.push(this.getAttributeNS(a, this.namespaces.xlink, "href"))
            },
            featureOfInterest: function (a, b) {
                b.featureOfInterestIds.push(this.getAttributeNS(a, this.namespaces.xlink, "href"))
            },
            responseFormat: function (a, b) {
                b.responseFormats.push(this.getChildValue(a))
            },
            resultModel: function (a, b) {
                b.resultModels.push(this.getChildValue(a))
            },
            responseMode: function (a, b) {
                b.responseModes.push(this.getChildValue(a))
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.SOSCapabilities.v1_0_0"
});
OpenLayers.Handler.Pinch = OpenLayers.Class(OpenLayers.Handler, {
    started: !1,
    stopDown: !1,
    pinching: !1,
    last: null,
    start: null,
    touchstart: function (a) {
        var b = !0;
        this.pinching = !1;
        if (OpenLayers.Event.isMultiTouch(a)) this.started = !0, this.last = this.start = {
            distance: this.getDistance(a.touches),
            delta: 0,
            scale: 1
        }, this.callback("start", [a, this.start]), b = !this.stopDown;
        else {
            if (this.started) return !1;
            this.started = !1;
            this.last = this.start = null
        }
        OpenLayers.Event.preventDefault(a);
        return b
    },
    touchmove: function (a) {
        if (this.started &&
            OpenLayers.Event.isMultiTouch(a)) {
            this.pinching = !0;
            var b = this.getPinchData(a);
            this.callback("move", [a, b]);
            this.last = b;
            OpenLayers.Event.stop(a)
        } else if (this.started) return !1;
        return !0
    },
    touchend: function (a) {
        return this.started && !OpenLayers.Event.isMultiTouch(a) ? (this.pinching = this.started = !1, this.callback("done", [a, this.start, this.last]), this.last = this.start = null, !1) : !0
    },
    activate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.activate.apply(this, arguments) && (this.pinching = !1, a = !0);
        return a
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.pinching = this.started = !1, this.last = this.start = null, a = !0);
        return a
    },
    getDistance: function (a) {
        var b = a[0];
        a = a[1];
        return Math.sqrt(Math.pow(b.olClientX - a.olClientX, 2) + Math.pow(b.olClientY - a.olClientY, 2))
    },
    getPinchData: function (a) {
        a = this.getDistance(a.touches);
        return {
            distance: a,
            delta: this.last.distance - a,
            scale: a / this.start.distance
        }
    },
    CLASS_NAME: "OpenLayers.Handler.Pinch"
});
OpenLayers.Control.NavToolbar = OpenLayers.Class(OpenLayers.Control.Panel, {
    initialize: function (a) {
        OpenLayers.Control.Panel.prototype.initialize.apply(this, [a]);
        this.addControls([new OpenLayers.Control.Navigation, new OpenLayers.Control.ZoomBox])
    },
    draw: function () {
        var a = OpenLayers.Control.Panel.prototype.draw.apply(this, arguments);
        null === this.defaultControl && (this.defaultControl = this.controls[0]);
        return a
    },
    CLASS_NAME: "OpenLayers.Control.NavToolbar"
});
OpenLayers.Strategy.Refresh = OpenLayers.Class(OpenLayers.Strategy, {
    force: !1,
    interval: 0,
    timer: null,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.call(this);
        a && (!0 === this.layer.visibility && this.start(), this.layer.events.on({
            visibilitychanged: this.reset,
            scope: this
        }));
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && (this.stop(), this.layer.events.un({
            visibilitychanged: this.reset,
            scope: this
        }));
        return a
    },
    reset: function () {
        !0 === this.layer.visibility ?
            this.start() : this.stop()
    },
    start: function () {
        this.interval && ("number" === typeof this.interval && 0 < this.interval) && (this.timer = window.setInterval(OpenLayers.Function.bind(this.refresh, this), this.interval))
    },
    refresh: function () {
        this.layer && (this.layer.refresh && "function" == typeof this.layer.refresh) && this.layer.refresh({
            force: this.force
        })
    },
    stop: function () {
        null !== this.timer && (window.clearInterval(this.timer), this.timer = null)
    },
    CLASS_NAME: "OpenLayers.Strategy.Refresh"
});
OpenLayers.Layer.ArcGIS93Rest = OpenLayers.Class(OpenLayers.Layer.Grid, {
    DEFAULT_PARAMS: {
        format: "png"
    },
    isBaseLayer: !0,
    initialize: function (a, b, c, d) {
        var e = [];
        c = OpenLayers.Util.upperCaseObject(c);
        e.push(a, b, c, d);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, e);
        OpenLayers.Util.applyDefaults(this.params, OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));
        this.params.TRANSPARENT && "true" == this.params.TRANSPARENT.toString().toLowerCase() && (null != d && d.isBaseLayer || (this.isBaseLayer = !1), "jpg" == this.params.FORMAT &&
            (this.params.FORMAT = OpenLayers.Util.alphaHack() ? "gif" : "png"))
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.ArcGIS93Rest(this.name, this.url, this.params, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.projection.getCode().split(":"),
            b = b[b.length - 1],
            c = this.getImageSize();
        a = {
            BBOX: a.toBBOX(),
            SIZE: c.w + "," + c.h,
            F: "image",
            BBOXSR: b,
            IMAGESR: b
        };
        if (this.layerDefs) {
            var b = [],
                d;
            for (d in this.layerDefs) this.layerDefs.hasOwnProperty(d) &&
                this.layerDefs[d] && (b.push(d), b.push(":"), b.push(this.layerDefs[d]), b.push(";"));
            0 < b.length && (a.LAYERDEFS = b.join(""))
        }
        return this.getFullRequestString(a)
    },
    setLayerFilter: function (a, b) {
        this.layerDefs || (this.layerDefs = {});
        b ? this.layerDefs[a] = b : delete this.layerDefs[a]
    },
    clearLayerFilter: function (a) {
        a ? delete this.layerDefs[a] : delete this.layerDefs
    },
    mergeNewParams: function (a) {
        a = [OpenLayers.Util.upperCaseObject(a)];
        return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, a)
    },
    CLASS_NAME: "OpenLayers.Layer.ArcGIS93Rest"
});
OpenLayers.Handler.Hover = OpenLayers.Class(OpenLayers.Handler, {
    delay: 500,
    pixelTolerance: null,
    stopMove: !1,
    px: null,
    timerId: null,
    mousemove: function (a) {
        this.passesTolerance(a.xy) && (this.clearTimer(), this.callback("move", [a]), this.px = a.xy, a = OpenLayers.Util.extend({}, a), this.timerId = window.setTimeout(OpenLayers.Function.bind(this.delayedCall, this, a), this.delay));
        return !this.stopMove
    },
    mouseout: function (a) {
        OpenLayers.Util.mouseLeft(a, this.map.viewPortDiv) && (this.clearTimer(), this.callback("move", [a]));
        return !0
    },
    passesTolerance: function (a) {
        var b = !0;
        this.pixelTolerance && this.px && Math.sqrt(Math.pow(this.px.x - a.x, 2) + Math.pow(this.px.y - a.y, 2)) < this.pixelTolerance && (b = !1);
        return b
    },
    clearTimer: function () {
        null != this.timerId && (window.clearTimeout(this.timerId), this.timerId = null)
    },
    delayedCall: function (a) {
        this.callback("pause", [a])
    },
    deactivate: function () {
        var a = !1;
        OpenLayers.Handler.prototype.deactivate.apply(this, arguments) && (this.clearTimer(), a = !0);
        return a
    },
    CLASS_NAME: "OpenLayers.Handler.Hover"
});
OpenLayers.Control.GetFeature = OpenLayers.Class(OpenLayers.Control, {
    protocol: null,
    multipleKey: null,
    toggleKey: null,
    modifiers: null,
    multiple: !1,
    click: !0,
    single: !0,
    clickout: !0,
    toggle: !1,
    clickTolerance: 5,
    hover: !1,
    box: !1,
    maxFeatures: 10,
    features: null,
    hoverFeature: null,
    handlers: null,
    hoverResponse: null,
    filterType: OpenLayers.Filter.Spatial.BBOX,
    initialize: function (a) {
        a.handlerOptions = a.handlerOptions || {};
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.features = {};
        this.handlers = {};
        this.click && (this.handlers.click =
            new OpenLayers.Handler.Click(this, {
                click: this.selectClick
            }, this.handlerOptions.click || {}));
        this.box && (this.handlers.box = new OpenLayers.Handler.Box(this, {
            done: this.selectBox
        }, OpenLayers.Util.extend(this.handlerOptions.box, {
            boxDivClassName: "olHandlerBoxSelectFeature"
        })));
        this.hover && (this.handlers.hover = new OpenLayers.Handler.Hover(this, {
            move: this.cancelHover,
            pause: this.selectHover
        }, OpenLayers.Util.extend(this.handlerOptions.hover, {
            delay: 250,
            pixelTolerance: 2
        })))
    },
    activate: function () {
        if (!this.active)
            for (var a in this.handlers) this.handlers[a].activate();
        return OpenLayers.Control.prototype.activate.apply(this, arguments)
    },
    deactivate: function () {
        if (this.active)
            for (var a in this.handlers) this.handlers[a].deactivate();
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    selectClick: function (a) {
        var b = this.pixelToBounds(a.xy);
        this.setModifiers(a);
        this.request(b, {
            single: this.single
        })
    },
    selectBox: function (a) {
        var b;
        if (a instanceof OpenLayers.Bounds) b = this.map.getLonLatFromPixel({
            x: a.left,
            y: a.bottom
        }), a = this.map.getLonLatFromPixel({
            x: a.right,
            y: a.top
        }), b = new OpenLayers.Bounds(b.lon, b.lat, a.lon, a.lat);
        else {
            if (this.click) return;
            b = this.pixelToBounds(a)
        }
        this.setModifiers(this.handlers.box.dragHandler.evt);
        this.request(b)
    },
    selectHover: function (a) {
        a = this.pixelToBounds(a.xy);
        this.request(a, {
            single: !0,
            hover: !0
        })
    },
    cancelHover: function () {
        this.hoverResponse && (this.protocol.abort(this.hoverResponse), this.hoverResponse = null, OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"))
    },
    request: function (a, b) {
        b = b || {};
        var c = new OpenLayers.Filter.Spatial({
            type: this.filterType,
            value: a
        });
        OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait");
        c = this.protocol.read({
            maxFeatures: !0 == b.single ? this.maxFeatures : void 0,
            filter: c,
            callback: function (c) {
                c.success() && (c.features.length ? !0 == b.single ? this.selectBestFeature(c.features, a.getCenterLonLat(), b) : this.select(c.features) : b.hover ? this.hoverSelect() : (this.events.triggerEvent("clickout"), this.clickout && this.unselectAll()));
                OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait")
            },
            scope: this
        });
        !0 == b.hover && (this.hoverResponse =
            c)
    },
    selectBestFeature: function (a, b, c) {
        c = c || {};
        if (a.length) {
            b = new OpenLayers.Geometry.Point(b.lon, b.lat);
            for (var d, e, f, g = Number.MAX_VALUE, h = 0; h < a.length && !(d = a[h], d.geometry && (f = b.distanceTo(d.geometry, {
                    edge: !1
                }), f < g && (g = f, e = d, 0 == g))); ++h);
            !0 == c.hover ? this.hoverSelect(e) : this.select(e || a)
        }
    },
    setModifiers: function (a) {
        this.modifiers = {
            multiple: this.multiple || this.multipleKey && a[this.multipleKey],
            toggle: this.toggle || this.toggleKey && a[this.toggleKey]
        }
    },
    select: function (a) {
        this.modifiers.multiple || this.modifiers.toggle ||
            this.unselectAll();
        OpenLayers.Util.isArray(a) || (a = [a]);
        var b = this.events.triggerEvent("beforefeaturesselected", {
            features: a
        });
        if (!1 !== b) {
            for (var c = [], d, e = 0, f = a.length; e < f; ++e) d = a[e], this.features[d.fid || d.id] ? this.modifiers.toggle && this.unselect(this.features[d.fid || d.id]) : (b = this.events.triggerEvent("beforefeatureselected", {
                feature: d
            }), !1 !== b && (this.features[d.fid || d.id] = d, c.push(d), this.events.triggerEvent("featureselected", {
                feature: d
            })));
            this.events.triggerEvent("featuresselected", {
                features: c
            })
        }
    },
    hoverSelect: function (a) {
        var b = a ? a.fid || a.id : null,
            c = this.hoverFeature ? this.hoverFeature.fid || this.hoverFeature.id : null;
        c && c != b && (this.events.triggerEvent("outfeature", {
            feature: this.hoverFeature
        }), this.hoverFeature = null);
        b && b != c && (this.events.triggerEvent("hoverfeature", {
            feature: a
        }), this.hoverFeature = a)
    },
    unselect: function (a) {
        delete this.features[a.fid || a.id];
        this.events.triggerEvent("featureunselected", {
            feature: a
        })
    },
    unselectAll: function () {
        for (var a in this.features) this.unselect(this.features[a])
    },
    setMap: function (a) {
        for (var b in this.handlers) this.handlers[b].setMap(a);
        OpenLayers.Control.prototype.setMap.apply(this, arguments)
    },
    pixelToBounds: function (a) {
        var b = a.add(-this.clickTolerance / 2, this.clickTolerance / 2);
        a = a.add(this.clickTolerance / 2, -this.clickTolerance / 2);
        b = this.map.getLonLatFromPixel(b);
        a = this.map.getLonLatFromPixel(a);
        return new OpenLayers.Bounds(b.lon, b.lat, a.lon, a.lat)
    },
    CLASS_NAME: "OpenLayers.Control.GetFeature"
});
OpenLayers.Format.QueryStringFilter = function () {
    function a(a) {
        a = a.replace(/%/g, "\\%");
        a = a.replace(/\\\\\.(\*)?/g, function (a, b) {
            return b ? a : "\\\\_"
        });
        a = a.replace(/\\\\\.\*/g, "\\\\%");
        a = a.replace(/(\\)?\.(\*)?/g, function (a, b, c) {
            return b || c ? a : "_"
        });
        a = a.replace(/(\\)?\.\*/g, function (a, b) {
            return b ? a : "%"
        });
        a = a.replace(/\\\./g, ".");
        return a = a.replace(/(\\)?\\\*/g, function (a, b) {
            return b ? a : "*"
        })
    }
    var b = {};
    b[OpenLayers.Filter.Comparison.EQUAL_TO] = "eq";
    b[OpenLayers.Filter.Comparison.NOT_EQUAL_TO] = "ne";
    b[OpenLayers.Filter.Comparison.LESS_THAN] =
        "lt";
    b[OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO] = "lte";
    b[OpenLayers.Filter.Comparison.GREATER_THAN] = "gt";
    b[OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO] = "gte";
    b[OpenLayers.Filter.Comparison.LIKE] = "ilike";
    return OpenLayers.Class(OpenLayers.Format, {
        wildcarded: !1,
        srsInBBOX: !1,
        write: function (c, d) {
            d = d || {};
            var e = c.CLASS_NAME,
                e = e.substring(e.lastIndexOf(".") + 1);
            switch (e) {
                case "Spatial":
                    switch (c.type) {
                        case OpenLayers.Filter.Spatial.BBOX:
                            d.bbox = c.value.toArray();
                            this.srsInBBOX && c.projection &&
                                d.bbox.push(c.projection.getCode());
                            break;
                        case OpenLayers.Filter.Spatial.DWITHIN:
                            d.tolerance = c.distance;
                        case OpenLayers.Filter.Spatial.WITHIN:
                            d.lon = c.value.x;
                            d.lat = c.value.y;
                            break;
                        default:
                            OpenLayers.Console.warn("Unknown spatial filter type " + c.type)
                    }
                    break;
                case "Comparison":
                    e = b[c.type];
                    if (void 0 !== e) {
                        var f = c.value;
                        c.type == OpenLayers.Filter.Comparison.LIKE && (f = a(f), this.wildcarded && (f = "%" + f + "%"));
                        d[c.property + "__" + e] = f;
                        d.queryable = d.queryable || [];
                        d.queryable.push(c.property)
                    } else OpenLayers.Console.warn("Unknown comparison filter type " +
                        c.type);
                    break;
                case "Logical":
                    if (c.type === OpenLayers.Filter.Logical.AND)
                        for (e = 0, f = c.filters.length; e < f; e++) d = this.write(c.filters[e], d);
                    else OpenLayers.Console.warn("Unsupported logical filter type " + c.type);
                    break;
                default:
                    OpenLayers.Console.warn("Unknown filter type " + e)
            }
            return d
        },
        CLASS_NAME: "OpenLayers.Format.QueryStringFilter"
    })
}();
OpenLayers.Control.MousePosition = OpenLayers.Class(OpenLayers.Control, {
    autoActivate: !0,
    element: null,
    prefix: "",
    separator: ", ",
    suffix: "",
    numDigits: 5,
    granularity: 10,
    emptyString: null,
    lastXy: null,
    displayProjection: null,
    destroy: function () {
        this.deactivate();
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    activate: function () {
        return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.map.events.register("mousemove", this, this.redraw), this.map.events.register("mouseout", this, this.reset),
            this.redraw(), !0) : !1
    },
    deactivate: function () {
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (this.map.events.unregister("mousemove", this, this.redraw), this.map.events.unregister("mouseout", this, this.reset), this.element.innerHTML = "", !0) : !1
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.element || (this.div.left = "", this.div.top = "", this.element = this.div);
        return this.div
    },
    redraw: function (a) {
        var b;
        if (null == a) this.reset();
        else if (null == this.lastXy || Math.abs(a.xy.x -
                this.lastXy.x) > this.granularity || Math.abs(a.xy.y - this.lastXy.y) > this.granularity) this.lastXy = a.xy;
        else if (b = this.map.getLonLatFromPixel(a.xy)) this.displayProjection && b.transform(this.map.getProjectionObject(), this.displayProjection), this.lastXy = a.xy, a = this.formatOutput(b), a != this.element.innerHTML && (this.element.innerHTML = a)
    },
    reset: function (a) {
        null != this.emptyString && (this.element.innerHTML = this.emptyString)
    },
    formatOutput: function (a) {
        var b = parseInt(this.numDigits);
        return this.prefix + a.lon.toFixed(b) +
            this.separator + a.lat.toFixed(b) + this.suffix
    },
    CLASS_NAME: "OpenLayers.Control.MousePosition"
});
OpenLayers.Control.Geolocate = OpenLayers.Class(OpenLayers.Control, {
    geolocation: null,
    available: "geolocation" in navigator,
    bind: !0,
    watch: !1,
    geolocationOptions: null,
    destroy: function () {
        this.deactivate();
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    activate: function () {
        this.available && !this.geolocation && (this.geolocation = navigator.geolocation);
        return this.geolocation ? OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.watch ? this.watchId = this.geolocation.watchPosition(OpenLayers.Function.bind(this.geolocate,
            this), OpenLayers.Function.bind(this.failure, this), this.geolocationOptions) : this.getCurrentLocation(), !0) : !1 : (this.events.triggerEvent("locationuncapable"), !1)
    },
    deactivate: function () {
        this.active && null !== this.watchId && this.geolocation.clearWatch(this.watchId);
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments)
    },
    geolocate: function (a) {
        var b = (new OpenLayers.LonLat(a.coords.longitude, a.coords.latitude)).transform(new OpenLayers.Projection("EPSG:4326"), this.map.getProjectionObject());
        this.bind &&
            this.map.setCenter(b);
        this.events.triggerEvent("locationupdated", {
            position: a,
            point: new OpenLayers.Geometry.Point(b.lon, b.lat)
        })
    },
    getCurrentLocation: function () {
        if (!this.active || this.watch) return !1;
        this.geolocation.getCurrentPosition(OpenLayers.Function.bind(this.geolocate, this), OpenLayers.Function.bind(this.failure, this), this.geolocationOptions);
        return !0
    },
    failure: function (a) {
        this.events.triggerEvent("locationfailed", {
            error: a
        })
    },
    CLASS_NAME: "OpenLayers.Control.Geolocate"
});
OpenLayers.Tile.UTFGrid = OpenLayers.Class(OpenLayers.Tile, {
    url: null,
    utfgridResolution: 2,
    json: null,
    format: null,
    destroy: function () {
        this.clear();
        OpenLayers.Tile.prototype.destroy.apply(this, arguments)
    },
    draw: function () {
        var a = OpenLayers.Tile.prototype.draw.apply(this, arguments);
        if (a)
            if (this.isLoading ? (this.abortLoading(), this.events.triggerEvent("reload")) : (this.isLoading = !0, this.events.triggerEvent("loadstart")), this.url = this.layer.getURL(this.bounds), this.layer.useJSONP) {
                var b = new OpenLayers.Protocol.Script({
                    url: this.url,
                    callback: function (a) {
                        this.isLoading = !1;
                        this.events.triggerEvent("loadend");
                        this.json = a.data
                    },
                    scope: this
                });
                b.read();
                this.request = b
            } else this.request = OpenLayers.Request.GET({
                url: this.url,
                callback: function (a) {
                    this.isLoading = !1;
                    this.events.triggerEvent("loadend");
                    200 === a.status && this.parseData(a.responseText)
                },
                scope: this
            });
        else this.unload();
        return a
    },
    abortLoading: function () {
        this.request && (this.request.abort(), delete this.request);
        this.isLoading = !1
    },
    getFeatureInfo: function (a, b) {
        var c = null;
        if (this.json) {
            var d =
                this.getFeatureId(a, b);
            null !== d && (c = {
                id: d,
                data: this.json.data[d]
            })
        }
        return c
    },
    getFeatureId: function (a, b) {
        var c = null;
        if (this.json) {
            var d = this.utfgridResolution,
                d = this.json.grid[Math.floor(b / d)].charCodeAt(Math.floor(a / d)),
                d = this.indexFromCharCode(d),
                e = this.json.keys;
            !isNaN(d) && d in e && (c = e[d])
        }
        return c
    },
    indexFromCharCode: function (a) {
        93 <= a && a--;
        35 <= a && a--;
        return a - 32
    },
    parseData: function (a) {
        this.format || (this.format = new OpenLayers.Format.JSON);
        this.json = this.format.read(a)
    },
    clear: function () {
        this.json =
            null
    },
    CLASS_NAME: "OpenLayers.Tile.UTFGrid"
});
OpenLayers.Protocol.HTTP = OpenLayers.Class(OpenLayers.Protocol, {
    url: null,
    headers: null,
    params: null,
    callback: null,
    scope: null,
    readWithPOST: !1,
    updateWithPOST: !1,
    deleteWithPOST: !1,
    wildcarded: !1,
    srsInBBOX: !1,
    initialize: function (a) {
        a = a || {};
        this.params = {};
        this.headers = {};
        OpenLayers.Protocol.prototype.initialize.apply(this, arguments);
        if (!this.filterToParams && OpenLayers.Format.QueryStringFilter) {
            var b = new OpenLayers.Format.QueryStringFilter({
                wildcarded: this.wildcarded,
                srsInBBOX: this.srsInBBOX
            });
            this.filterToParams =
                function (a, d) {
                    return b.write(a, d)
                }
        }
    },
    destroy: function () {
        this.headers = this.params = null;
        OpenLayers.Protocol.prototype.destroy.apply(this)
    },
    read: function (a) {
        OpenLayers.Protocol.prototype.read.apply(this, arguments);
        a = a || {};
        a.params = OpenLayers.Util.applyDefaults(a.params, this.options.params);
        a = OpenLayers.Util.applyDefaults(a, this.options);
        a.filter && this.filterToParams && (a.params = this.filterToParams(a.filter, a.params));
        var b = void 0 !== a.readWithPOST ? a.readWithPOST : this.readWithPOST,
            c = new OpenLayers.Protocol.Response({
                requestType: "read"
            });
        b ? (b = a.headers || {}, b["Content-Type"] = "application/x-www-form-urlencoded", c.priv = OpenLayers.Request.POST({
            url: a.url,
            callback: this.createCallback(this.handleRead, c, a),
            data: OpenLayers.Util.getParameterString(a.params),
            headers: b
        })) : c.priv = OpenLayers.Request.GET({
            url: a.url,
            callback: this.createCallback(this.handleRead, c, a),
            params: a.params,
            headers: a.headers
        });
        return c
    },
    handleRead: function (a, b) {
        this.handleResponse(a, b)
    },
    create: function (a, b) {
        b = OpenLayers.Util.applyDefaults(b, this.options);
        var c = new OpenLayers.Protocol.Response({
            reqFeatures: a,
            requestType: "create"
        });
        c.priv = OpenLayers.Request.POST({
            url: b.url,
            callback: this.createCallback(this.handleCreate, c, b),
            headers: b.headers,
            data: this.format.write(a)
        });
        return c
    },
    handleCreate: function (a, b) {
        this.handleResponse(a, b)
    },
    update: function (a, b) {
        b = b || {};
        var c = b.url || a.url || this.options.url + "/" + a.fid;
        b = OpenLayers.Util.applyDefaults(b, this.options);
        var d = new OpenLayers.Protocol.Response({
            reqFeatures: a,
            requestType: "update"
        });
        d.priv = OpenLayers.Request[this.updateWithPOST ? "POST" : "PUT"]({
            url: c,
            callback: this.createCallback(this.handleUpdate,
                d, b),
            headers: b.headers,
            data: this.format.write(a)
        });
        return d
    },
    handleUpdate: function (a, b) {
        this.handleResponse(a, b)
    },
    "delete": function (a, b) {
        b = b || {};
        var c = b.url || a.url || this.options.url + "/" + a.fid;
        b = OpenLayers.Util.applyDefaults(b, this.options);
        var d = new OpenLayers.Protocol.Response({
                reqFeatures: a,
                requestType: "delete"
            }),
            e = this.deleteWithPOST ? "POST" : "DELETE",
            c = {
                url: c,
                callback: this.createCallback(this.handleDelete, d, b),
                headers: b.headers
            };
        this.deleteWithPOST && (c.data = this.format.write(a));
        d.priv = OpenLayers.Request[e](c);
        return d
    },
    handleDelete: function (a, b) {
        this.handleResponse(a, b)
    },
    handleResponse: function (a, b) {
        var c = a.priv;
        b.callback && (200 <= c.status && 300 > c.status ? ("delete" != a.requestType && (a.features = this.parseFeatures(c)), a.code = OpenLayers.Protocol.Response.SUCCESS) : a.code = OpenLayers.Protocol.Response.FAILURE, b.callback.call(b.scope, a))
    },
    parseFeatures: function (a) {
        var b = a.responseXML;
        b && b.documentElement || (b = a.responseText);
        return !b || 0 >= b.length ? null : this.format.read(b)
    },
    commit: function (a, b) {
        function c(a) {
            for (var b =
                    a.features ? a.features.length : 0, c = Array(b), e = 0; e < b; ++e) c[e] = a.features[e].fid;
            r.insertIds = c;
            d.apply(this, [a])
        }

        function d(a) {
            this.callUserCallback(a, b);
            q = q && a.success();
            f++;
            f >= p && b.callback && (r.code = q ? OpenLayers.Protocol.Response.SUCCESS : OpenLayers.Protocol.Response.FAILURE, b.callback.apply(b.scope, [r]))
        }
        b = OpenLayers.Util.applyDefaults(b, this.options);
        var e = [],
            f = 0,
            g = {};
        g[OpenLayers.State.INSERT] = [];
        g[OpenLayers.State.UPDATE] = [];
        g[OpenLayers.State.DELETE] = [];
        for (var h, k, l = [], m = 0, n = a.length; m < n; ++m)
            if (h =
                a[m], k = g[h.state]) k.push(h), l.push(h);
        var p = (0 < g[OpenLayers.State.INSERT].length ? 1 : 0) + g[OpenLayers.State.UPDATE].length + g[OpenLayers.State.DELETE].length,
            q = !0,
            r = new OpenLayers.Protocol.Response({
                reqFeatures: l
            });
        h = g[OpenLayers.State.INSERT];
        0 < h.length && e.push(this.create(h, OpenLayers.Util.applyDefaults({
            callback: c,
            scope: this
        }, b.create)));
        h = g[OpenLayers.State.UPDATE];
        for (m = h.length - 1; 0 <= m; --m) e.push(this.update(h[m], OpenLayers.Util.applyDefaults({
            callback: d,
            scope: this
        }, b.update)));
        h = g[OpenLayers.State.DELETE];
        for (m = h.length - 1; 0 <= m; --m) e.push(this["delete"](h[m], OpenLayers.Util.applyDefaults({
            callback: d,
            scope: this
        }, b["delete"])));
        return e
    },
    abort: function (a) {
        a && a.priv.abort()
    },
    callUserCallback: function (a, b) {
        var c = b[a.requestType];
        c && c.callback && c.callback.call(c.scope, a)
    },
    CLASS_NAME: "OpenLayers.Protocol.HTTP"
});
OpenLayers.Strategy.Cluster = OpenLayers.Class(OpenLayers.Strategy, {
    distance: 20,
    threshold: null,
    features: null,
    clusters: null,
    clustering: !1,
    resolution: null,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.call(this);
        if (a) this.layer.events.on({
            beforefeaturesadded: this.cacheFeatures,
            featuresremoved: this.clearCache,
            moveend: this.cluster,
            scope: this
        });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Strategy.prototype.deactivate.call(this);
        a && (this.clearCache(), this.layer.events.un({
            beforefeaturesadded: this.cacheFeatures,
            featuresremoved: this.clearCache,
            moveend: this.cluster,
            scope: this
        }));
        return a
    },
    cacheFeatures: function (a) {
        var b = !0;
        this.clustering || (this.clearCache(), this.features = a.features, this.cluster(), b = !1);
        return b
    },
    clearCache: function () {
        this.clustering || (this.features = null)
    },
    cluster: function (a) {
        if ((!a || a.zoomChanged) && this.features && (a = this.layer.map.getResolution(), a != this.resolution || !this.clustersExist())) {
            this.resolution = a;
            a = [];
            for (var b, c, d, e = 0; e < this.features.length; ++e)
                if (b = this.features[e], b.geometry) {
                    c = !1;
                    for (var f = a.length - 1; 0 <= f; --f)
                        if (d = a[f], this.shouldCluster(d, b)) {
                            this.addToCluster(d, b);
                            c = !0;
                            break
                        } c || a.push(this.createCluster(this.features[e]))
                } this.clustering = !0;
            this.layer.removeAllFeatures();
            this.clustering = !1;
            if (0 < a.length) {
                if (1 < this.threshold)
                    for (b = a.slice(), a = [], e = 0, d = b.length; e < d; ++e) c = b[e], c.attributes.count < this.threshold ? Array.prototype.push.apply(a, c.cluster) : a.push(c);
                this.clustering = !0;
                this.layer.addFeatures(a);
                this.clustering = !1
            }
            this.clusters = a
        }
    },
    clustersExist: function () {
        var a = !1;
        if (this.clusters && 0 < this.clusters.length && this.clusters.length == this.layer.features.length)
            for (var a = !0, b = 0; b < this.clusters.length; ++b)
                if (this.clusters[b] != this.layer.features[b]) {
                    a = !1;
                    break
                } return a
    },
    shouldCluster: function (a, b) {
        var c = a.geometry.getBounds().getCenterLonLat(),
            d = b.geometry.getBounds().getCenterLonLat();
        return Math.sqrt(Math.pow(c.lon - d.lon, 2) + Math.pow(c.lat - d.lat, 2)) / this.resolution <= this.distance
    },
    addToCluster: function (a, b) {
        a.cluster.push(b);
        a.attributes.count += 1
    },
    createCluster: function (a) {
        var b =
            a.geometry.getBounds().getCenterLonLat(),
            b = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(b.lon, b.lat), {
                count: 1
            });
        b.cluster = [a];
        return b
    },
    CLASS_NAME: "OpenLayers.Strategy.Cluster"
});
OpenLayers.Strategy.Filter = OpenLayers.Class(OpenLayers.Strategy, {
    filter: null,
    cache: null,
    caching: !1,
    activate: function () {
        var a = OpenLayers.Strategy.prototype.activate.apply(this, arguments);
        a && (this.cache = [], this.layer.events.on({
            beforefeaturesadded: this.handleAdd,
            beforefeaturesremoved: this.handleRemove,
            scope: this
        }));
        return a
    },
    deactivate: function () {
        this.cache = null;
        this.layer && this.layer.events && this.layer.events.un({
            beforefeaturesadded: this.handleAdd,
            beforefeaturesremoved: this.handleRemove,
            scope: this
        });
        return OpenLayers.Strategy.prototype.deactivate.apply(this, arguments)
    },
    handleAdd: function (a) {
        if (!this.caching && this.filter) {
            var b = a.features;
            a.features = [];
            for (var c, d = 0, e = b.length; d < e; ++d) c = b[d], this.filter.evaluate(c) ? a.features.push(c) : this.cache.push(c)
        }
    },
    handleRemove: function (a) {
        this.caching || (this.cache = [])
    },
    setFilter: function (a) {
        this.filter = a;
        a = this.cache;
        this.cache = [];
        this.handleAdd({
            features: this.layer.features
        });
        0 < this.cache.length && (this.caching = !0, this.layer.removeFeatures(this.cache.slice()),
            this.caching = !1);
        0 < a.length && (a = {
            features: a
        }, this.handleAdd(a), 0 < a.features.length && (this.caching = !0, this.layer.addFeatures(a.features), this.caching = !1))
    },
    CLASS_NAME: "OpenLayers.Strategy.Filter"
});
OpenLayers.Protocol.SOS = function (a) {
    a = OpenLayers.Util.applyDefaults(a, OpenLayers.Protocol.SOS.DEFAULTS);
    var b = OpenLayers.Protocol.SOS["v" + a.version.replace(/\./g, "_")];
    if (!b) throw "Unsupported SOS version: " + a.version;
    return new b(a)
};
OpenLayers.Protocol.SOS.DEFAULTS = {
    version: "1.0.0"
};
OpenLayers.Format.WFSDescribeFeatureType = OpenLayers.Class(OpenLayers.Format.XML, {
    regExes: {
        trimSpace: /^\s*|\s*$/g
    },
    namespaces: {
        xsd: "https://www.w3.org/2001/XMLSchema"
    },
    readers: {
        xsd: {
            schema: function (a, b) {
                var c = [],
                    d = {},
                    e, f;
                this.readChildNodes(a, {
                    complexTypes: c,
                    customTypes: d
                });
                var g = a.attributes,
                    h, k;
                e = 0;
                for (f = g.length; e < f; ++e) h = g[e], k = h.name, 0 === k.indexOf("xmlns") ? this.setNamespace(k.split(":")[1] || "", h.value) : b[k] = h.value;
                b.featureTypes = c;
                b.targetPrefix = this.namespaceAlias[b.targetNamespace];
                e = 0;
                for (f =
                    c.length; e < f; ++e) g = c[e], h = d[g.typeName], d[g.typeName] && (g.typeName = h.name)
            },
            complexType: function (a, b) {
                var c = {
                    typeName: a.getAttribute("name")
                };
                this.readChildNodes(a, c);
                b.complexTypes.push(c)
            },
            complexContent: function (a, b) {
                this.readChildNodes(a, b)
            },
            extension: function (a, b) {
                this.readChildNodes(a, b)
            },
            sequence: function (a, b) {
                var c = {
                    elements: []
                };
                this.readChildNodes(a, c);
                b.properties = c.elements
            },
            element: function (a, b) {
                var c;
                if (b.elements) {
                    var d = {};
                    c = a.attributes;
                    for (var e, f = 0, g = c.length; f < g; ++f) e = c[f], d[e.name] =
                        e.value;
                    c = d.type;
                    c || (c = {}, this.readChildNodes(a, c), d.restriction = c, d.type = c.base);
                    d.localType = (c.base || c).split(":").pop();
                    b.elements.push(d);
                    this.readChildNodes(a, d)
                }
                b.complexTypes && (c = a.getAttribute("type"), d = c.split(":").pop(), b.customTypes[d] = {
                    name: a.getAttribute("name"),
                    type: c
                })
            },
            annotation: function (a, b) {
                b.annotation = {};
                this.readChildNodes(a, b.annotation)
            },
            appinfo: function (a, b) {
                b.appinfo || (b.appinfo = []);
                b.appinfo.push(this.getChildValue(a))
            },
            documentation: function (a, b) {
                b.documentation || (b.documentation = []);
                var c = this.getChildValue(a);
                b.documentation.push({
                    lang: a.getAttribute("xml:lang"),
                    textContent: c.replace(this.regExes.trimSpace, "")
                })
            },
            simpleType: function (a, b) {
                this.readChildNodes(a, b)
            },
            restriction: function (a, b) {
                b.base = a.getAttribute("base");
                this.readRestriction(a, b)
            }
        }
    },
    readRestriction: function (a, b) {
        for (var c = a.childNodes, d, e, f = 0, g = c.length; f < g; ++f) d = c[f], 1 == d.nodeType && (e = d.nodeName.split(":").pop(), d = d.getAttribute("value"), b[e] ? ("string" == typeof b[e] && (b[e] = [b[e]]), b[e].push(d)) : b[e] = d)
    },
    read: function (a) {
        "string" ==
        typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        if ("ExceptionReport" === a.nodeName.split(":").pop()) {
            var c = new OpenLayers.Format.OGCExceptionReport;
            b.error = c.read(a)
        } else this.readNode(a, b);
        return b
    },
    CLASS_NAME: "OpenLayers.Format.WFSDescribeFeatureType"
});
OpenLayers.Format.GeoRSS = OpenLayers.Class(OpenLayers.Format.XML, {
    rssns: "https://backend.userland.com/rss2",
    featureNS: "https://mapserver.gis.umn.edu/mapserver",
    georssns: "https://www.georss.org/georss",
    geons: "https://www.w3.org/2003/01/geo/wgs84_pos#",
    featureTitle: "Untitled",
    featureDescription: "No Description",
    gmlParser: null,
    xy: !1,
    createGeometryFromItem: function (a) {
        var b = this.getElementsByTagNameNS(a, this.georssns, "point"),
            c = this.getElementsByTagNameNS(a, this.geons, "lat"),
            d = this.getElementsByTagNameNS(a,
                this.geons, "long"),
            e = this.getElementsByTagNameNS(a, this.georssns, "line"),
            f = this.getElementsByTagNameNS(a, this.georssns, "polygon"),
            g = this.getElementsByTagNameNS(a, this.georssns, "where");
        a = this.getElementsByTagNameNS(a, this.georssns, "box");
        if (0 < b.length || 0 < c.length && 0 < d.length) {
            0 < b.length ? (c = OpenLayers.String.trim(b[0].firstChild.nodeValue).split(/\s+/), 2 != c.length && (c = OpenLayers.String.trim(b[0].firstChild.nodeValue).split(/\s*,\s*/))) : c = [parseFloat(c[0].firstChild.nodeValue), parseFloat(d[0].firstChild.nodeValue)];
            var h = new OpenLayers.Geometry.Point(c[1], c[0])
        } else if (0 < e.length) {
            c = OpenLayers.String.trim(this.getChildValue(e[0])).split(/\s+/);
            d = [];
            e = 0;
            for (f = c.length; e < f; e += 2) b = new OpenLayers.Geometry.Point(c[e + 1], c[e]), d.push(b);
            h = new OpenLayers.Geometry.LineString(d)
        } else if (0 < f.length) {
            c = OpenLayers.String.trim(this.getChildValue(f[0])).split(/\s+/);
            d = [];
            e = 0;
            for (f = c.length; e < f; e += 2) b = new OpenLayers.Geometry.Point(c[e + 1], c[e]), d.push(b);
            h = new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)])
        } else 0 <
            g.length ? (this.gmlParser || (this.gmlParser = new OpenLayers.Format.GML({
                xy: this.xy
            })), h = this.gmlParser.parseFeature(g[0]).geometry) : 0 < a.length && (c = OpenLayers.String.trim(a[0].firstChild.nodeValue).split(/\s+/), d = [], 3 < c.length && (b = new OpenLayers.Geometry.Point(c[1], c[0]), d.push(b), b = new OpenLayers.Geometry.Point(c[1], c[2]), d.push(b), b = new OpenLayers.Geometry.Point(c[3], c[2]), d.push(b), b = new OpenLayers.Geometry.Point(c[3], c[0]), d.push(b), b = new OpenLayers.Geometry.Point(c[1], c[0]), d.push(b)), h = new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(d)]));
        h && (this.internalProjection && this.externalProjection) && h.transform(this.externalProjection, this.internalProjection);
        return h
    },
    createFeatureFromItem: function (a) {
        var b = this.createGeometryFromItem(a),
            c = this._getChildValue(a, "*", "title", this.featureTitle),
            d = this._getChildValue(a, "*", "description", this._getChildValue(a, "*", "content", this._getChildValue(a, "*", "summary", this.featureDescription))),
            e = this._getChildValue(a, "*", "link");
        if (!e) try {
            e = this.getElementsByTagNameNS(a, "*", "link")[0].getAttribute("href")
        } catch (f) {
            e =
                null
        }
        a = this._getChildValue(a, "*", "id", null);
        b = new OpenLayers.Feature.Vector(b, {
            title: c,
            description: d,
            link: e
        });
        b.fid = a;
        return b
    },
    _getChildValue: function (a, b, c, d) {
        return (a = this.getElementsByTagNameNS(a, b, c)) && a[0] && a[0].firstChild && a[0].firstChild.nodeValue ? this.getChildValue(a[0]) : void 0 == d ? "" : d
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = null,
            b = this.getElementsByTagNameNS(a, "*", "item");
        0 == b.length && (b = this.getElementsByTagNameNS(a, "*", "entry"));
        a = b.length;
        for (var c = Array(a), d = 0; d < a; d++) c[d] = this.createFeatureFromItem(b[d]);
        return c
    },
    write: function (a) {
        var b;
        if (OpenLayers.Util.isArray(a)) {
            b = this.createElementNS(this.rssns, "rss");
            for (var c = 0, d = a.length; c < d; c++) b.appendChild(this.createFeatureXML(a[c]))
        } else b = this.createFeatureXML(a);
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    createFeatureXML: function (a) {
        var b = this.buildGeometryNode(a.geometry),
            c = this.createElementNS(this.rssns, "item"),
            d = this.createElementNS(this.rssns, "title");
        d.appendChild(this.createTextNode(a.attributes.title ? a.attributes.title : ""));
        var e = this.createElementNS(this.rssns, "description");
        e.appendChild(this.createTextNode(a.attributes.description ? a.attributes.description : ""));
        c.appendChild(d);
        c.appendChild(e);
        a.attributes.link && (d = this.createElementNS(this.rssns, "link"), d.appendChild(this.createTextNode(a.attributes.link)), c.appendChild(d));
        for (var f in a.attributes) "link" != f && ("title" != f && "description" != f) && (d = this.createTextNode(a.attributes[f]), e = f, -1 !=
            f.search(":") && (e = f.split(":")[1]), e = this.createElementNS(this.featureNS, "feature:" + e), e.appendChild(d), c.appendChild(e));
        c.appendChild(b);
        return c
    },
    buildGeometryNode: function (a) {
        this.internalProjection && this.externalProjection && (a = a.clone(), a.transform(this.internalProjection, this.externalProjection));
        var b;
        if ("OpenLayers.Geometry.Polygon" == a.CLASS_NAME) b = this.createElementNS(this.georssns, "georss:polygon"), b.appendChild(this.buildCoordinatesNode(a.components[0]));
        else if ("OpenLayers.Geometry.LineString" ==
            a.CLASS_NAME) b = this.createElementNS(this.georssns, "georss:line"), b.appendChild(this.buildCoordinatesNode(a));
        else if ("OpenLayers.Geometry.Point" == a.CLASS_NAME) b = this.createElementNS(this.georssns, "georss:point"), b.appendChild(this.buildCoordinatesNode(a));
        else throw "Couldn't parse " + a.CLASS_NAME;
        return b
    },
    buildCoordinatesNode: function (a) {
        var b = null;
        a.components && (b = a.components);
        if (b) {
            a = b.length;
            for (var c = Array(a), d = 0; d < a; d++) c[d] = b[d].y + " " + b[d].x;
            b = c.join(" ")
        } else b = a.y + " " + a.x;
        return this.createTextNode(b)
    },
    CLASS_NAME: "OpenLayers.Format.GeoRSS"
});
OpenLayers.Format.WPSCapabilities = OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC, {
    defaultVersion: "1.0.0",
    CLASS_NAME: "OpenLayers.Format.WPSCapabilities"
});
OpenLayers.Format.WPSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        wps: "https://www.opengis.net/wps/1.0.0",
        xlink: "https://www.w3.org/1999/xlink"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a])
    },
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        return b
    },
    readers: {
        wps: {
            Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            ProcessOfferings: function (a, b) {
                b.processOfferings = {};
                this.readChildNodes(a, b.processOfferings)
            },
            Process: function (a, b) {
                var c = {
                    processVersion: this.getAttributeNS(a, this.namespaces.wps, "processVersion")
                };
                this.readChildNodes(a, c);
                b[c.identifier] = c
            },
            Languages: function (a, b) {
                b.languages = [];
                this.readChildNodes(a, b.languages)
            },
            Default: function (a, b) {
                var c = {
                    isDefault: !0
                };
                this.readChildNodes(a, c);
                b.push(c)
            },
            Supported: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.push(c)
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WPSCapabilities.v1_0_0"
});
OpenLayers.Control.PinchZoom = OpenLayers.Class(OpenLayers.Control, {
    type: OpenLayers.Control.TYPE_TOOL,
    pinchOrigin: null,
    currentCenter: null,
    autoActivate: !0,
    preserveCenter: !1,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, arguments);
        this.handler = new OpenLayers.Handler.Pinch(this, {
            start: this.pinchStart,
            move: this.pinchMove,
            done: this.pinchDone
        }, this.handlerOptions)
    },
    pinchStart: function (a, b) {
        var c = this.preserveCenter ? this.map.getPixelFromLonLat(this.map.getCenter()) : a.xy;
        this.currentCenter =
            this.pinchOrigin = c
    },
    pinchMove: function (a, b) {
        var c = b.scale,
            d = this.map.layerContainerOriginPx,
            e = this.pinchOrigin,
            f = this.preserveCenter ? this.map.getPixelFromLonLat(this.map.getCenter()) : a.xy,
            g = Math.round(d.x + f.x - e.x + (c - 1) * (d.x - e.x)),
            d = Math.round(d.y + f.y - e.y + (c - 1) * (d.y - e.y));
        this.map.applyTransform(g, d, c);
        this.currentCenter = f
    },
    pinchDone: function (a, b, c) {
        this.map.applyTransform();
        a = this.map.getZoomForResolution(this.map.getResolution() / c.scale, !0);
        if (a !== this.map.getZoom() || !this.currentCenter.equals(this.pinchOrigin)) {
            b =
                this.map.getResolutionForZoom(a);
            c = this.map.getLonLatFromPixel(this.pinchOrigin);
            var d = this.currentCenter,
                e = this.map.getSize();
            c.lon += b * (e.w / 2 - d.x);
            c.lat -= b * (e.h / 2 - d.y);
            this.map.div.clientWidth = this.map.div.clientWidth;
            this.map.setCenter(c, a)
        }
    },
    CLASS_NAME: "OpenLayers.Control.PinchZoom"
});
OpenLayers.Control.TouchNavigation = OpenLayers.Class(OpenLayers.Control, {
    dragPan: null,
    dragPanOptions: null,
    pinchZoom: null,
    pinchZoomOptions: null,
    clickHandlerOptions: null,
    documentDrag: !1,
    autoActivate: !0,
    initialize: function (a) {
        this.handlers = {};
        OpenLayers.Control.prototype.initialize.apply(this, arguments)
    },
    destroy: function () {
        this.deactivate();
        this.dragPan && this.dragPan.destroy();
        this.dragPan = null;
        this.pinchZoom && (this.pinchZoom.destroy(), delete this.pinchZoom);
        OpenLayers.Control.prototype.destroy.apply(this,
            arguments)
    },
    activate: function () {
        return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.dragPan.activate(), this.handlers.click.activate(), this.pinchZoom.activate(), !0) : !1
    },
    deactivate: function () {
        return OpenLayers.Control.prototype.deactivate.apply(this, arguments) ? (this.dragPan.deactivate(), this.handlers.click.deactivate(), this.pinchZoom.deactivate(), !0) : !1
    },
    draw: function () {
        var a = {
                click: this.defaultClick,
                dblclick: this.defaultDblClick
            },
            b = OpenLayers.Util.extend({
                "double": !0,
                stopDouble: !0,
                pixelTolerance: 2
            }, this.clickHandlerOptions);
        this.handlers.click = new OpenLayers.Handler.Click(this, a, b);
        this.dragPan = new OpenLayers.Control.DragPan(OpenLayers.Util.extend({
            map: this.map,
            documentDrag: this.documentDrag
        }, this.dragPanOptions));
        this.dragPan.draw();
        this.pinchZoom = new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({
            map: this.map
        }, this.pinchZoomOptions))
    },
    defaultClick: function (a) {
        a.lastTouches && 2 == a.lastTouches.length && this.map.zoomOut()
    },
    defaultDblClick: function (a) {
        this.map.zoomTo(this.map.zoom +
            1, a.xy)
    },
    CLASS_NAME: "OpenLayers.Control.TouchNavigation"
});
OpenLayers.Console.warn("OpenLayers.Rico is deprecated");
OpenLayers.Rico = OpenLayers.Rico || {};
OpenLayers.Rico.Color = OpenLayers.Class({
    initialize: function (a, b, c) {
        this.rgb = {
            r: a,
            g: b,
            b: c
        }
    },
    setRed: function (a) {
        this.rgb.r = a
    },
    setGreen: function (a) {
        this.rgb.g = a
    },
    setBlue: function (a) {
        this.rgb.b = a
    },
    setHue: function (a) {
        var b = this.asHSB();
        b.h = a;
        this.rgb = OpenLayers.Rico.Color.HSBtoRGB(b.h, b.s, b.b)
    },
    setSaturation: function (a) {
        var b = this.asHSB();
        b.s = a;
        this.rgb = OpenLayers.Rico.Color.HSBtoRGB(b.h, b.s, b.b)
    },
    setBrightness: function (a) {
        var b = this.asHSB();
        b.b = a;
        this.rgb = OpenLayers.Rico.Color.HSBtoRGB(b.h, b.s, b.b)
    },
    darken: function (a) {
        var b = this.asHSB();
        this.rgb = OpenLayers.Rico.Color.HSBtoRGB(b.h, b.s, Math.max(b.b - a, 0))
    },
    brighten: function (a) {
        var b = this.asHSB();
        this.rgb = OpenLayers.Rico.Color.HSBtoRGB(b.h, b.s, Math.min(b.b + a, 1))
    },
    blend: function (a) {
        this.rgb.r = Math.floor((this.rgb.r + a.rgb.r) / 2);
        this.rgb.g = Math.floor((this.rgb.g + a.rgb.g) / 2);
        this.rgb.b = Math.floor((this.rgb.b + a.rgb.b) / 2)
    },
    isBright: function () {
        this.asHSB();
        return 0.5 < this.asHSB().b
    },
    isDark: function () {
        return !this.isBright()
    },
    asRGB: function () {
        return "rgb(" +
            this.rgb.r + "," + this.rgb.g + "," + this.rgb.b + ")"
    },
    asHex: function () {
        return "#" + this.rgb.r.toColorPart() + this.rgb.g.toColorPart() + this.rgb.b.toColorPart()
    },
    asHSB: function () {
        return OpenLayers.Rico.Color.RGBtoHSB(this.rgb.r, this.rgb.g, this.rgb.b)
    },
    toString: function () {
        return this.asHex()
    }
});
OpenLayers.Rico.Color.createFromHex = function (a) {
    if (4 == a.length) {
        var b = a;
        a = "#";
        for (var c = 1; 4 > c; c++) a += b.charAt(c) + b.charAt(c)
    }
    0 == a.indexOf("#") && (a = a.substring(1));
    b = a.substring(0, 2);
    c = a.substring(2, 4);
    a = a.substring(4, 6);
    return new OpenLayers.Rico.Color(parseInt(b, 16), parseInt(c, 16), parseInt(a, 16))
};
OpenLayers.Rico.Color.createColorFromBackground = function (a) {
    var b = OpenLayers.Element.getStyle(OpenLayers.Util.getElement(a), "backgroundColor");
    return "transparent" == b && a.parentNode ? OpenLayers.Rico.Color.createColorFromBackground(a.parentNode) : null == b ? new OpenLayers.Rico.Color(255, 255, 255) : 0 == b.indexOf("rgb(") ? (a = b.substring(4, b.length - 1).split(","), new OpenLayers.Rico.Color(parseInt(a[0]), parseInt(a[1]), parseInt(a[2]))) : 0 == b.indexOf("#") ? OpenLayers.Rico.Color.createFromHex(b) : new OpenLayers.Rico.Color(255,
        255, 255)
};
OpenLayers.Rico.Color.HSBtoRGB = function (a, b, c) {
    var d = 0,
        e = 0,
        f = 0;
    if (0 == b) f = e = d = parseInt(255 * c + 0.5);
    else {
        a = 6 * (a - Math.floor(a));
        var g = a - Math.floor(a),
            h = c * (1 - b),
            k = c * (1 - b * g);
        b = c * (1 - b * (1 - g));
        switch (parseInt(a)) {
            case 0:
                d = 255 * c + 0.5;
                e = 255 * b + 0.5;
                f = 255 * h + 0.5;
                break;
            case 1:
                d = 255 * k + 0.5;
                e = 255 * c + 0.5;
                f = 255 * h + 0.5;
                break;
            case 2:
                d = 255 * h + 0.5;
                e = 255 * c + 0.5;
                f = 255 * b + 0.5;
                break;
            case 3:
                d = 255 * h + 0.5;
                e = 255 * k + 0.5;
                f = 255 * c + 0.5;
                break;
            case 4:
                d = 255 * b + 0.5;
                e = 255 * h + 0.5;
                f = 255 * c + 0.5;
                break;
            case 5:
                d = 255 * c + 0.5, e = 255 * h + 0.5, f = 255 * k + 0.5
        }
    }
    return {
        r: parseInt(d),
        g: parseInt(e),
        b: parseInt(f)
    }
};
OpenLayers.Rico.Color.RGBtoHSB = function (a, b, c) {
    var d, e = a > b ? a : b;
    c > e && (e = c);
    var f = a < b ? a : b;
    c < f && (f = c);
    d = 0 != e ? (e - f) / e : 0;
    if (0 == d) a = 0;
    else {
        var g = (e - a) / (e - f),
            h = (e - b) / (e - f);
        c = (e - c) / (e - f);
        a = (a == e ? c - h : b == e ? 2 + g - c : 4 + h - g) / 6;
        0 > a && (a += 1)
    }
    return {
        h: a,
        s: d,
        b: e / 255
    }
};
OpenLayers.Style2 = OpenLayers.Class({
    id: null,
    name: null,
    title: null,
    description: null,
    layerName: null,
    isDefault: !1,
    rules: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.id = OpenLayers.Util.createUniqueID(this.CLASS_NAME + "_")
    },
    destroy: function () {
        for (var a = 0, b = this.rules.length; a < b; a++) this.rules[a].destroy();
        delete this.rules
    },
    clone: function () {
        var a = OpenLayers.Util.extend({}, this);
        if (this.rules) {
            a.rules = [];
            for (var b = 0, c = this.rules.length; b < c; ++b) a.rules.push(this.rules[b].clone())
        }
        return new OpenLayers.Style2(a)
    },
    CLASS_NAME: "OpenLayers.Style2"
});
OpenLayers.Format.WFS = OpenLayers.Class(OpenLayers.Format.GML, {
    layer: null,
    wfsns: "https://www.opengis.net/wfs",
    ogcns: "https://www.opengis.net/ogc",
    initialize: function (a, b) {
        OpenLayers.Format.GML.prototype.initialize.apply(this, [a]);
        this.layer = b;
        this.layer.featureNS && (this.featureNS = this.layer.featureNS);
        this.layer.options.geometry_column && (this.geometryName = this.layer.options.geometry_column);
        this.layer.options.typename && (this.featureName = this.layer.options.typename)
    },
    write: function (a) {
        var b = this.createElementNS(this.wfsns,
            "wfs:Transaction");
        b.setAttribute("version", "1.0.0");
        b.setAttribute("service", "WFS");
        for (var c = 0; c < a.length; c++) switch (a[c].state) {
            case OpenLayers.State.INSERT:
                b.appendChild(this.insert(a[c]));
                break;
            case OpenLayers.State.UPDATE:
                b.appendChild(this.update(a[c]));
                break;
            case OpenLayers.State.DELETE:
                b.appendChild(this.remove(a[c]))
        }
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    createFeatureXML: function (a) {
        var b = this.buildGeometryNode(a.geometry),
            c = this.createElementNS(this.featureNS, "feature:" +
                this.geometryName);
        c.appendChild(b);
        b = this.createElementNS(this.featureNS, "feature:" + this.featureName);
        b.appendChild(c);
        for (var d in a.attributes) {
            var c = this.createTextNode(a.attributes[d]),
                e = d; - 1 != d.search(":") && (e = d.split(":")[1]);
            e = this.createElementNS(this.featureNS, "feature:" + e);
            e.appendChild(c);
            b.appendChild(e)
        }
        return b
    },
    insert: function (a) {
        var b = this.createElementNS(this.wfsns, "wfs:Insert");
        b.appendChild(this.createFeatureXML(a));
        return b
    },
    update: function (a) {
        a.fid || OpenLayers.Console.userError(OpenLayers.i18n("noFID"));
        var b = this.createElementNS(this.wfsns, "wfs:Update");
        b.setAttribute("typeName", this.featurePrefix + ":" + this.featureName);
        b.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
        var c = this.createElementNS(this.wfsns, "wfs:Property"),
            d = this.createElementNS(this.wfsns, "wfs:Name"),
            e = this.createTextNode(this.geometryName);
        d.appendChild(e);
        c.appendChild(d);
        d = this.createElementNS(this.wfsns, "wfs:Value");
        e = this.buildGeometryNode(a.geometry);
        a.layer && e.setAttribute("srsName", a.layer.projection.getCode());
        d.appendChild(e);
        c.appendChild(d);
        b.appendChild(c);
        for (var f in a.attributes) c = this.createElementNS(this.wfsns, "wfs:Property"), d = this.createElementNS(this.wfsns, "wfs:Name"), d.appendChild(this.createTextNode(f)), c.appendChild(d), d = this.createElementNS(this.wfsns, "wfs:Value"), d.appendChild(this.createTextNode(a.attributes[f])), c.appendChild(d), b.appendChild(c);
        c = this.createElementNS(this.ogcns, "ogc:Filter");
        f = this.createElementNS(this.ogcns, "ogc:FeatureId");
        f.setAttribute("fid", a.fid);
        c.appendChild(f);
        b.appendChild(c);
        return b
    },
    remove: function (a) {
        if (!a.fid) return OpenLayers.Console.userError(OpenLayers.i18n("noFID")), !1;
        var b = this.createElementNS(this.wfsns, "wfs:Delete");
        b.setAttribute("typeName", this.featurePrefix + ":" + this.featureName);
        b.setAttribute("xmlns:" + this.featurePrefix, this.featureNS);
        var c = this.createElementNS(this.ogcns, "ogc:Filter"),
            d = this.createElementNS(this.ogcns, "ogc:FeatureId");
        d.setAttribute("fid", a.fid);
        c.appendChild(d);
        b.appendChild(c);
        return b
    },
    destroy: function () {
        this.layer =
            null
    },
    CLASS_NAME: "OpenLayers.Format.WFS"
});
OpenLayers.Format.SLD.v1_0_0_GeoServer = OpenLayers.Class(OpenLayers.Format.SLD.v1_0_0, {
    version: "1.0.0",
    profile: "GeoServer",
    readers: OpenLayers.Util.applyDefaults({
        sld: OpenLayers.Util.applyDefaults({
            Priority: function (a, b) {
                var c = this.readers.ogc._expression.call(this, a);
                c && (b.priority = c)
            },
            VendorOption: function (a, b) {
                b.vendorOptions || (b.vendorOptions = {});
                b.vendorOptions[a.getAttribute("name")] = this.getChildValue(a)
            },
            TextSymbolizer: function (a, b) {
                OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld.TextSymbolizer.apply(this,
                    arguments);
                var c = this.multipleSymbolizers ? b.symbolizers[b.symbolizers.length - 1] : b.symbolizer.Text;
                void 0 === c.graphic && (c.graphic = !1)
            }
        }, OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld)
    }, OpenLayers.Format.SLD.v1_0_0.prototype.readers),
    writers: OpenLayers.Util.applyDefaults({
        sld: OpenLayers.Util.applyDefaults({
            Priority: function (a) {
                return this.writers.sld._OGCExpression.call(this, "sld:Priority", a)
            },
            VendorOption: function (a) {
                return this.createElementNSPlus("sld:VendorOption", {
                    attributes: {
                        name: a.name
                    },
                    value: a.value
                })
            },
            TextSymbolizer: function (a) {
                var b = OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.TextSymbolizer.apply(this, arguments);
                !1 !== a.graphic && (a.externalGraphic || a.graphicName) && this.writeNode("Graphic", a, b);
                "priority" in a && this.writeNode("Priority", a.priority, b);
                return this.addVendorOptions(b, a)
            },
            PointSymbolizer: function (a) {
                var b = OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PointSymbolizer.apply(this, arguments);
                return this.addVendorOptions(b, a)
            },
            LineSymbolizer: function (a) {
                var b =
                    OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.LineSymbolizer.apply(this, arguments);
                return this.addVendorOptions(b, a)
            },
            PolygonSymbolizer: function (a) {
                var b = OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld.PolygonSymbolizer.apply(this, arguments);
                return this.addVendorOptions(b, a)
            }
        }, OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld)
    }, OpenLayers.Format.SLD.v1_0_0.prototype.writers),
    addVendorOptions: function (a, b) {
        if (b.vendorOptions)
            for (var c in b.vendorOptions) this.writeNode("VendorOption", {
                name: c,
                value: b.vendorOptions[c]
            }, a);
        return a
    },
    CLASS_NAME: "OpenLayers.Format.SLD.v1_0_0_GeoServer"
});
OpenLayers.Layer.Boxes = OpenLayers.Class(OpenLayers.Layer.Markers, {
    drawMarker: function (a) {
        var b = this.map.getLayerPxFromLonLat({
                lon: a.bounds.left,
                lat: a.bounds.top
            }),
            c = this.map.getLayerPxFromLonLat({
                lon: a.bounds.right,
                lat: a.bounds.bottom
            });
        null == c || null == b ? a.display(!1) : (b = a.draw(b, {
            w: Math.max(1, c.x - b.x),
            h: Math.max(1, c.y - b.y)
        }), a.drawn || (this.div.appendChild(b), a.drawn = !0))
    },
    removeMarker: function (a) {
        OpenLayers.Util.removeItem(this.markers, a);
        null != a.div && a.div.parentNode == this.div && this.div.removeChild(a.div)
    },
    CLASS_NAME: "OpenLayers.Layer.Boxes"
});
OpenLayers.Format.WFSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1, {
    readers: {
        wfs: OpenLayers.Util.applyDefaults({
            Service: function (a, b) {
                b.service = {};
                this.readChildNodes(a, b.service)
            },
            Fees: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.fees = c)
            },
            AccessConstraints: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.accessConstraints = c)
            },
            OnlineResource: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.onlineResource =
                    c)
            },
            Keywords: function (a, b) {
                var c = this.getChildValue(a);
                c && "none" != c.toLowerCase() && (b.keywords = c.split(", "))
            },
            Capability: function (a, b) {
                b.capability = {};
                this.readChildNodes(a, b.capability)
            },
            Request: function (a, b) {
                b.request = {};
                this.readChildNodes(a, b.request)
            },
            GetFeature: function (a, b) {
                b.getfeature = {
                    href: {},
                    formats: []
                };
                this.readChildNodes(a, b.getfeature)
            },
            ResultFormat: function (a, b) {
                for (var c = a.childNodes, d, e = 0; e < c.length; e++) d = c[e], 1 == d.nodeType && b.formats.push(d.nodeName)
            },
            DCPType: function (a, b) {
                this.readChildNodes(a,
                    b)
            },
            https: function (a, b) {
                this.readChildNodes(a, b.href)
            },
            Get: function (a, b) {
                b.get = a.getAttribute("onlineResource")
            },
            Post: function (a, b) {
                b.post = a.getAttribute("onlineResource")
            },
            SRS: function (a, b) {
                var c = this.getChildValue(a);
                c && (b.srs = c)
            }
        }, OpenLayers.Format.WFSCapabilities.v1.prototype.readers.wfs)
    },
    CLASS_NAME: "OpenLayers.Format.WFSCapabilities.v1_0_0"
});
OpenLayers.Format.WMSCapabilities.v1_3 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1, {
    readers: {
        wms: OpenLayers.Util.applyDefaults({
            WMS_Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            LayerLimit: function (a, b) {
                b.layerLimit = parseInt(this.getChildValue(a))
            },
            MaxWidth: function (a, b) {
                b.maxWidth = parseInt(this.getChildValue(a))
            },
            MaxHeight: function (a, b) {
                b.maxHeight = parseInt(this.getChildValue(a))
            },
            BoundingBox: function (a, b) {
                var c = OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this,
                    [a, b]);
                c.srs = a.getAttribute("CRS");
                b.bbox[c.srs] = c
            },
            CRS: function (a, b) {
                this.readers.wms.SRS.apply(this, [a, b])
            },
            EX_GeographicBoundingBox: function (a, b) {
                b.llbbox = [];
                this.readChildNodes(a, b.llbbox)
            },
            westBoundLongitude: function (a, b) {
                b[0] = this.getChildValue(a)
            },
            eastBoundLongitude: function (a, b) {
                b[2] = this.getChildValue(a)
            },
            southBoundLatitude: function (a, b) {
                b[1] = this.getChildValue(a)
            },
            northBoundLatitude: function (a, b) {
                b[3] = this.getChildValue(a)
            },
            MinScaleDenominator: function (a, b) {
                b.maxScale = parseFloat(this.getChildValue(a)).toPrecision(16)
            },
            MaxScaleDenominator: function (a, b) {
                b.minScale = parseFloat(this.getChildValue(a)).toPrecision(16)
            },
            Dimension: function (a, b) {
                var c = {
                    name: a.getAttribute("name").toLowerCase(),
                    units: a.getAttribute("units"),
                    unitsymbol: a.getAttribute("unitSymbol"),
                    nearestVal: "1" === a.getAttribute("nearestValue"),
                    multipleVal: "1" === a.getAttribute("multipleValues"),
                    "default": a.getAttribute("default") || "",
                    current: "1" === a.getAttribute("current"),
                    values: this.getChildValue(a).split(",")
                };
                b.dimensions[c.name] = c
            },
            Keyword: function (a,
                b) {
                var c = {
                    value: this.getChildValue(a),
                    vocabulary: a.getAttribute("vocabulary")
                };
                b.keywords && b.keywords.push(c)
            }
        }, OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms),
        sld: {
            UserDefinedSymbolization: function (a, b) {
                this.readers.wms.UserDefinedSymbolization.apply(this, [a, b]);
                b.userSymbols.inlineFeature = 1 == parseInt(a.getAttribute("InlineFeature"));
                b.userSymbols.remoteWCS = 1 == parseInt(a.getAttribute("RemoteWCS"))
            },
            DescribeLayer: function (a, b) {
                this.readers.wms.DescribeLayer.apply(this, [a, b])
            },
            GetLegendGraphic: function (a,
                b) {
                this.readers.wms.GetLegendGraphic.apply(this, [a, b])
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_3"
});
OpenLayers.Layer.Zoomify = OpenLayers.Class(OpenLayers.Layer.Grid, {
    size: null,
    isBaseLayer: !0,
    standardTileSize: 256,
    tileOriginCorner: "tl",
    numberOfTiers: 0,
    tileCountUpToTier: null,
    tierSizeInTiles: null,
    tierImageSize: null,
    initialize: function (a, b, c, d) {
        this.initializeZoomify(c);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a, b, c, {}, d])
    },
    initializeZoomify: function (a) {
        var b = a.clone();
        this.size = a.clone();
        a = new OpenLayers.Size(Math.ceil(b.w / this.standardTileSize), Math.ceil(b.h / this.standardTileSize));
        this.tierSizeInTiles = [a];
        for (this.tierImageSize = [b]; b.w > this.standardTileSize || b.h > this.standardTileSize;) b = new OpenLayers.Size(Math.floor(b.w / 2), Math.floor(b.h / 2)), a = new OpenLayers.Size(Math.ceil(b.w / this.standardTileSize), Math.ceil(b.h / this.standardTileSize)), this.tierSizeInTiles.push(a), this.tierImageSize.push(b);
        this.tierSizeInTiles.reverse();
        this.tierImageSize.reverse();
        this.numberOfTiers = this.tierSizeInTiles.length;
        b = [1];
        this.tileCountUpToTier = [0];
        for (a = 1; a < this.numberOfTiers; a++) b.unshift(Math.pow(2, a)), this.tileCountUpToTier.push(this.tierSizeInTiles[a -
            1].w * this.tierSizeInTiles[a - 1].h + this.tileCountUpToTier[a - 1]);
        this.serverResolutions || (this.serverResolutions = b)
    },
    destroy: function () {
        OpenLayers.Layer.Grid.prototype.destroy.apply(this, arguments);
        this.tileCountUpToTier.length = 0;
        this.tierSizeInTiles.length = 0;
        this.tierImageSize.length = 0
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.Zoomify(this.name, this.url, this.size, this.options));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b =
            this.getServerResolution(),
            c = Math.round((a.left - this.tileOrigin.lon) / (b * this.tileSize.w));
        a = Math.round((this.tileOrigin.lat - a.top) / (b * this.tileSize.h));
        b = this.getZoomForResolution(b);
        c = "TileGroup" + Math.floor((c + a * this.tierSizeInTiles[b].w + this.tileCountUpToTier[b]) / 256) + "/" + b + "-" + c + "-" + a + ".jpg";
        b = this.url;
        OpenLayers.Util.isArray(b) && (b = this.selectUrl(c, b));
        return b + c
    },
    getImageSize: function () {
        if (0 < arguments.length) {
            var a = this.adjustBounds(arguments[0]),
                b = this.getServerResolution(),
                c = Math.round((a.left -
                    this.tileOrigin.lon) / (b * this.tileSize.w)),
                a = Math.round((this.tileOrigin.lat - a.top) / (b * this.tileSize.h)),
                b = this.getZoomForResolution(b),
                d = this.standardTileSize,
                e = this.standardTileSize;
            c == this.tierSizeInTiles[b].w - 1 && (d = this.tierImageSize[b].w % this.standardTileSize);
            a == this.tierSizeInTiles[b].h - 1 && (e = this.tierImageSize[b].h % this.standardTileSize);
            return new OpenLayers.Size(d, e)
        }
        return this.tileSize
    },
    setMap: function (a) {
        OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments);
        this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left,
            this.map.maxExtent.top)
    },
    CLASS_NAME: "OpenLayers.Layer.Zoomify"
});
OpenLayers.Layer.MapServer = OpenLayers.Class(OpenLayers.Layer.Grid, {
    DEFAULT_PARAMS: {
        mode: "map",
        map_imagetype: "png"
    },
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments);
        this.params = OpenLayers.Util.applyDefaults(this.params, this.DEFAULT_PARAMS);
        if (null == d || null == d.isBaseLayer) this.isBaseLayer = "true" != this.params.transparent && !0 != this.params.transparent
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.MapServer(this.name, this.url, this.params, this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        a = [a.left, a.bottom, a.right, a.top];
        var b = this.getImageSize();
        return this.getFullRequestString({
            mapext: a,
            imgext: a,
            map_size: [b.w, b.h],
            imgx: b.w / 2,
            imgy: b.h / 2,
            imgxy: [b.w, b.h]
        })
    },
    getFullRequestString: function (a, b) {
        var c = null == b ? this.url : b,
            d = OpenLayers.Util.extend({}, this.params),
            d = OpenLayers.Util.extend(d, a),
            e = OpenLayers.Util.getParameterString(d);
        OpenLayers.Util.isArray(c) && (c = this.selectUrl(e, c));
        var e = OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(c)),
            f;
        for (f in d) f.toUpperCase() in e && delete d[f];
        e = OpenLayers.Util.getParameterString(d);
        d = c;
        e = e.replace(/,/g, "+");
        "" != e && (f = c.charAt(c.length - 1), d = "&" == f || "?" == f ? d + e : -1 == c.indexOf("?") ? d + ("?" + e) : d + ("&" + e));
        return d
    },
    CLASS_NAME: "OpenLayers.Layer.MapServer"
});
OpenLayers.Renderer.VML = OpenLayers.Class(OpenLayers.Renderer.Elements, {
    xmlns: "urn:schemas-microsoft-com:vml",
    symbolCache: {},
    offset: null,
    initialize: function (a) {
        if (this.supported()) {
            if (!document.namespaces.olv) {
                document.namespaces.add("olv", this.xmlns);
                for (var b = document.createStyleSheet(), c = "shape rect oval fill stroke imagedata group textbox".split(" "), d = 0, e = c.length; d < e; d++) b.addRule("olv\\:" + c[d], "behavior: url(#default#VML); position: absolute; display: inline-block;")
            }
            OpenLayers.Renderer.Elements.prototype.initialize.apply(this,
                arguments)
        }
    },
    supported: function () {
        return !!document.namespaces
    },
    setExtent: function (a, b) {
        var c = OpenLayers.Renderer.Elements.prototype.setExtent.apply(this, arguments),
            d = this.getResolution(),
            e = a.left / d | 0,
            d = a.top / d - this.size.h | 0;
        b || !this.offset ? (this.offset = {
            x: e,
            y: d
        }, d = e = 0) : (e -= this.offset.x, d -= this.offset.y);
        this.root.coordorigin = e - this.xOffset + " " + d;
        for (var e = [this.root, this.vectorRoot, this.textRoot], f = 0, g = e.length; f < g; ++f) d = e[f], d.coordsize = this.size.w + " " + this.size.h;
        this.root.style.flip = "y";
        return c
    },
    setSize: function (a) {
        OpenLayers.Renderer.prototype.setSize.apply(this, arguments);
        for (var b = [this.rendererRoot, this.root, this.vectorRoot, this.textRoot], c = this.size.w + "px", d = this.size.h + "px", e, f = 0, g = b.length; f < g; ++f) e = b[f], e.style.width = c, e.style.height = d
    },
    getNodeType: function (a, b) {
        var c = null;
        switch (a.CLASS_NAME) {
            case "OpenLayers.Geometry.Point":
                c = b.externalGraphic ? "olv:rect" : this.isComplexSymbol(b.graphicName) ? "olv:shape" : "olv:oval";
                break;
            case "OpenLayers.Geometry.Rectangle":
                c = "olv:rect";
                break;
            case "OpenLayers.Geometry.LineString":
            case "OpenLayers.Geometry.LinearRing":
            case "OpenLayers.Geometry.Polygon":
            case "OpenLayers.Geometry.Curve":
                c =
                    "olv:shape"
        }
        return c
    },
    setStyle: function (a, b, c, d) {
        b = b || a._style;
        c = c || a._options;
        var e = b.fillColor,
            f = b.title || b.graphicTitle;
        f && (a.title = f);
        if ("OpenLayers.Geometry.Point" === a._geometryClass)
            if (b.externalGraphic) {
                c.isFilled = !0;
                var e = b.graphicWidth || b.graphicHeight,
                    f = b.graphicHeight || b.graphicWidth,
                    e = e ? e : 2 * b.pointRadius,
                    f = f ? f : 2 * b.pointRadius,
                    g = this.getResolution(),
                    h = void 0 != b.graphicXOffset ? b.graphicXOffset : -(0.5 * e),
                    k = void 0 != b.graphicYOffset ? b.graphicYOffset : -(0.5 * f);
                a.style.left = ((d.x - this.featureDx) /
                    g - this.offset.x + h | 0) + "px";
                a.style.top = (d.y / g - this.offset.y - (k + f) | 0) + "px";
                a.style.width = e + "px";
                a.style.height = f + "px";
                a.style.flip = "y";
                e = "none";
                c.isStroked = !1
            } else this.isComplexSymbol(b.graphicName) ? (f = this.importSymbol(b.graphicName), a.path = f.path, a.coordorigin = f.left + "," + f.bottom, f = f.size, a.coordsize = f + "," + f, this.drawCircle(a, d, b.pointRadius), a.style.flip = "y") : this.drawCircle(a, d, b.pointRadius);
        c.isFilled ? a.fillcolor = e : a.filled = "false";
        d = a.getElementsByTagName("fill");
        d = 0 == d.length ? null : d[0];
        c.isFilled ?
            (d || (d = this.createNode("olv:fill", a.id + "_fill")), d.opacity = b.fillOpacity, "OpenLayers.Geometry.Point" === a._geometryClass && b.externalGraphic && (b.graphicOpacity && (d.opacity = b.graphicOpacity), d.src = b.externalGraphic, d.type = "frame", b.graphicWidth && b.graphicHeight || (d.aspect = "atmost")), d.parentNode != a && a.appendChild(d)) : d && a.removeChild(d);
        e = b.rotation;
        if (void 0 !== e || void 0 !== a._rotation) a._rotation = e, b.externalGraphic ? (this.graphicRotate(a, h, k, b), d.opacity = 0) : "OpenLayers.Geometry.Point" === a._geometryClass &&
            (a.style.rotation = e || 0);
        h = a.getElementsByTagName("stroke");
        h = 0 == h.length ? null : h[0];
        c.isStroked ? (h || (h = this.createNode("olv:stroke", a.id + "_stroke"), a.appendChild(h)), h.on = !0, h.color = b.strokeColor, h.weight = b.strokeWidth + "px", h.opacity = b.strokeOpacity, h.endcap = "butt" == b.strokeLinecap ? "flat" : b.strokeLinecap || "round", b.strokeDashstyle && (h.dashstyle = this.dashStyle(b))) : (a.stroked = !1, h && (h.on = !1));
        "inherit" != b.cursor && null != b.cursor && (a.style.cursor = b.cursor);
        return a
    },
    graphicRotate: function (a, b, c, d) {
        d =
            d || a._style;
        var e = d.rotation || 0,
            f, g;
        if (d.graphicWidth && d.graphicHeight) {
            g = Math.max(d.graphicWidth, d.graphicHeight);
            f = d.graphicWidth / d.graphicHeight;
            var h = Math.round(d.graphicWidth || g * f),
                k = Math.round(d.graphicHeight || g);
            a.style.width = h + "px";
            a.style.height = k + "px";
            var l = document.getElementById(a.id + "_image");
            l || (l = this.createNode("olv:imagedata", a.id + "_image"), a.appendChild(l));
            l.style.width = h + "px";
            l.style.height = k + "px";
            l.src = d.externalGraphic;
            l.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='', sizingMethod='scale')";
            l = e * Math.PI / 180;
            e = Math.sin(l);
            l = Math.cos(l);
            e = "progid:DXImageTransform.Microsoft.Matrix(M11=" + l + ",M12=" + -e + ",M21=" + e + ",M22=" + l + ",SizingMethod='auto expand')\n";
            (l = d.graphicOpacity || d.fillOpacity) && 1 != l && (e += "progid:DXImageTransform.Microsoft.BasicImage(opacity=" + l + ")\n");
            a.style.filter = e;
            e = new OpenLayers.Geometry.Point(-b, -c);
            h = (new OpenLayers.Bounds(0, 0, h, k)).toGeometry();
            h.rotate(d.rotation, e);
            h = h.getBounds();
            a.style.left = Math.round(parseInt(a.style.left) + h.left) + "px";
            a.style.top = Math.round(parseInt(a.style.top) -
                h.bottom) + "px"
        } else {
            var m = new Image;
            m.onreadystatechange = OpenLayers.Function.bind(function () {
                if ("complete" == m.readyState || "interactive" == m.readyState) f = m.width / m.height, g = Math.max(2 * d.pointRadius, d.graphicWidth || 0, d.graphicHeight || 0), b *= f, d.graphicWidth = g * f, d.graphicHeight = g, this.graphicRotate(a, b, c, d)
            }, this);
            m.src = d.externalGraphic
        }
    },
    postDraw: function (a) {
        a.style.visibility = "visible";
        var b = a._style.fillColor,
            c = a._style.strokeColor;
        "none" == b && a.fillcolor != b && (a.fillcolor = b);
        "none" == c && a.strokecolor !=
            c && (a.strokecolor = c)
    },
    setNodeDimension: function (a, b) {
        var c = b.getBounds();
        if (c) {
            var d = this.getResolution(),
                c = new OpenLayers.Bounds((c.left - this.featureDx) / d - this.offset.x | 0, c.bottom / d - this.offset.y | 0, (c.right - this.featureDx) / d - this.offset.x | 0, c.top / d - this.offset.y | 0);
            a.style.left = c.left + "px";
            a.style.top = c.top + "px";
            a.style.width = c.getWidth() + "px";
            a.style.height = c.getHeight() + "px";
            a.coordorigin = c.left + " " + c.top;
            a.coordsize = c.getWidth() + " " + c.getHeight()
        }
    },
    dashStyle: function (a) {
        a = a.strokeDashstyle;
        switch (a) {
            case "solid":
            case "dot":
            case "dash":
            case "dashdot":
            case "longdash":
            case "longdashdot":
                return a;
            default:
                return a = a.split(/[ ,]/), 2 == a.length ? 1 * a[0] >= 2 * a[1] ? "longdash" : 1 == a[0] || 1 == a[1] ? "dot" : "dash" : 4 == a.length ? 1 * a[0] >= 2 * a[1] ? "longdashdot" : "dashdot" : "solid"
        }
    },
    createNode: function (a, b) {
        var c = document.createElement(a);
        b && (c.id = b);
        c.unselectable = "on";
        c.onselectstart = OpenLayers.Function.False;
        return c
    },
    nodeTypeCompare: function (a, b) {
        var c = b,
            d = c.indexOf(":"); - 1 != d && (c = c.substr(d + 1));
        var e = a.nodeName,
            d = e.indexOf(":"); - 1 != d && (e = e.substr(d + 1));
        return c == e
    },
    createRenderRoot: function () {
        return this.nodeFactory(this.container.id +
            "_vmlRoot", "div")
    },
    createRoot: function (a) {
        return this.nodeFactory(this.container.id + a, "olv:group")
    },
    drawPoint: function (a, b) {
        return this.drawCircle(a, b, 1)
    },
    drawCircle: function (a, b, c) {
        if (!isNaN(b.x) && !isNaN(b.y)) {
            var d = this.getResolution();
            a.style.left = ((b.x - this.featureDx) / d - this.offset.x | 0) - c + "px";
            a.style.top = (b.y / d - this.offset.y | 0) - c + "px";
            b = 2 * c;
            a.style.width = b + "px";
            a.style.height = b + "px";
            return a
        }
        return !1
    },
    drawLineString: function (a, b) {
        return this.drawLine(a, b, !1)
    },
    drawLinearRing: function (a, b) {
        return this.drawLine(a,
            b, !0)
    },
    drawLine: function (a, b, c) {
        this.setNodeDimension(a, b);
        for (var d = this.getResolution(), e = b.components.length, f = Array(e), g, h, k = 0; k < e; k++) g = b.components[k], h = (g.x - this.featureDx) / d - this.offset.x | 0, g = g.y / d - this.offset.y | 0, f[k] = " " + h + "," + g + " l ";
        b = c ? " x e" : " e";
        a.path = "m" + f.join("") + b;
        return a
    },
    drawPolygon: function (a, b) {
        this.setNodeDimension(a, b);
        var c = this.getResolution(),
            d = [],
            e, f, g, h, k, l, m, n, p, q;
        e = 0;
        for (f = b.components.length; e < f; e++) {
            d.push("m");
            g = b.components[e].components;
            h = 0 === e;
            l = k = null;
            m = 0;
            for (n = g.length; m < n; m++) p = g[m], q = (p.x - this.featureDx) / c - this.offset.x | 0, p = p.y / c - this.offset.y | 0, q = " " + q + "," + p, d.push(q), 0 == m && d.push(" l"), h || (k ? k != q && (l ? l != q && (h = !0) : l = q) : k = q);
            d.push(h ? " x " : " ")
        }
        d.push("e");
        a.path = d.join("");
        return a
    },
    drawRectangle: function (a, b) {
        var c = this.getResolution();
        a.style.left = ((b.x - this.featureDx) / c - this.offset.x | 0) + "px";
        a.style.top = (b.y / c - this.offset.y | 0) + "px";
        a.style.width = (b.width / c | 0) + "px";
        a.style.height = (b.height / c | 0) + "px";
        return a
    },
    drawText: function (a, b, c) {
        var d = this.nodeFactory(a +
                this.LABEL_ID_SUFFIX, "olv:rect"),
            e = this.nodeFactory(a + this.LABEL_ID_SUFFIX + "_textbox", "olv:textbox"),
            f = this.getResolution();
        d.style.left = ((c.x - this.featureDx) / f - this.offset.x | 0) + "px";
        d.style.top = (c.y / f - this.offset.y | 0) + "px";
        d.style.flip = "y";
        e.innerText = b.label;
        "inherit" != b.cursor && null != b.cursor && (e.style.cursor = b.cursor);
        b.fontColor && (e.style.color = b.fontColor);
        b.fontOpacity && (e.style.filter = "alpha(opacity=" + 100 * b.fontOpacity + ")");
        b.fontFamily && (e.style.fontFamily = b.fontFamily);
        b.fontSize && (e.style.fontSize =
            b.fontSize);
        b.fontWeight && (e.style.fontWeight = b.fontWeight);
        b.fontStyle && (e.style.fontStyle = b.fontStyle);
        !0 === b.labelSelect && (d._featureId = a, e._featureId = a, e._geometry = c, e._geometryClass = c.CLASS_NAME);
        e.style.whiteSpace = "nowrap";
        e.inset = "1px,0px,0px,0px";
        d.parentNode || (d.appendChild(e), this.textRoot.appendChild(d));
        b = b.labelAlign || "cm";
        1 == b.length && (b += "m");
        a = e.clientWidth * OpenLayers.Renderer.VML.LABEL_SHIFT[b.substr(0, 1)];
        e = e.clientHeight * OpenLayers.Renderer.VML.LABEL_SHIFT[b.substr(1, 1)];
        d.style.left =
            parseInt(d.style.left) - a - 1 + "px";
        d.style.top = parseInt(d.style.top) + e + "px"
    },
    moveRoot: function (a) {
        var b = this.map.getLayer(a.container.id);
        b instanceof OpenLayers.Layer.Vector.RootContainer && (b = this.map.getLayer(this.container.id));
        b && b.renderer.clear();
        OpenLayers.Renderer.Elements.prototype.moveRoot.apply(this, arguments);
        b && b.redraw()
    },
    importSymbol: function (a) {
        var b = this.container.id + "-" + a,
            c = this.symbolCache[b];
        if (c) return c;
        c = OpenLayers.Renderer.symbol[a];
        if (!c) throw Error(a + " is not a valid symbol name");
        a = new OpenLayers.Bounds(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0);
        for (var d = ["m"], e = 0; e < c.length; e += 2) {
            var f = c[e],
                g = c[e + 1];
            a.left = Math.min(a.left, f);
            a.bottom = Math.min(a.bottom, g);
            a.right = Math.max(a.right, f);
            a.top = Math.max(a.top, g);
            d.push(f);
            d.push(g);
            0 == e && d.push("l")
        }
        d.push("x e");
        c = d.join(" ");
        d = (a.getWidth() - a.getHeight()) / 2;
        0 < d ? (a.bottom -= d, a.top += d) : (a.left += d, a.right -= d);
        c = {
            path: c,
            size: a.getWidth(),
            left: a.left,
            bottom: a.bottom
        };
        return this.symbolCache[b] = c
    },
    CLASS_NAME: "OpenLayers.Renderer.VML"
});
OpenLayers.Renderer.VML.LABEL_SHIFT = {
    l: 0,
    c: 0.5,
    r: 1,
    t: 0,
    m: 0.5,
    b: 1
};
OpenLayers.Control.CacheRead = OpenLayers.Class(OpenLayers.Control, {
    fetchEvent: "tileloadstart",
    layers: null,
    autoActivate: !0,
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        var b, c = this.layers || a.layers;
        for (b = c.length - 1; 0 <= b; --b) this.addLayer({
            layer: c[b]
        });
        if (!this.layers) a.events.on({
            addlayer: this.addLayer,
            removeLayer: this.removeLayer,
            scope: this
        })
    },
    addLayer: function (a) {
        a.layer.events.register(this.fetchEvent, this, this.fetch)
    },
    removeLayer: function (a) {
        a.layer.events.unregister(this.fetchEvent,
            this, this.fetch)
    },
    fetch: function (a) {
        if (this.active && window.localStorage && a.tile instanceof OpenLayers.Tile.Image) {
            var b = a.tile,
                c = b.url;
            !b.layer.crossOriginKeyword && (OpenLayers.ProxyHost && 0 === c.indexOf(OpenLayers.ProxyHost)) && (c = OpenLayers.Control.CacheWrite.urlMap[c]);
            if (c = window.localStorage.getItem("olCache_" + c)) b.url = c, "tileerror" === a.type && b.setImgSrc(c)
        }
    },
    destroy: function () {
        if (this.layers || this.map) {
            var a, b = this.layers || this.map.layers;
            for (a = b.length - 1; 0 <= a; --a) this.removeLayer({
                layer: b[a]
            })
        }
        this.map &&
            this.map.events.un({
                addlayer: this.addLayer,
                removeLayer: this.removeLayer,
                scope: this
            });
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    CLASS_NAME: "OpenLayers.Control.CacheRead"
});
OpenLayers.Protocol.WFS.v1_0_0 = OpenLayers.Class(OpenLayers.Protocol.WFS.v1, {
    version: "1.0.0",
    CLASS_NAME: "OpenLayers.Protocol.WFS.v1_0_0"
});
OpenLayers.Format.WMSGetFeatureInfo = OpenLayers.Class(OpenLayers.Format.XML, {
    layerIdentifier: "_layer",
    featureIdentifier: "_feature",
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    gmlFormat: null,
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        var b = a.documentElement;
        if (b) {
            var c = this["read_" + b.nodeName];
            a = c ? c.call(this, b) : (new OpenLayers.Format.GML(this.options ? this.options : {})).read(a)
        }
        return a
    },
    read_msGMLOutput: function (a) {
        var b = [];
        if (a = this.getSiblingNodesByTagCriteria(a, this.layerIdentifier))
            for (var c = 0, d = a.length; c < d; ++c) {
                var e = a[c],
                    f = e.nodeName;
                e.prefix && (f = f.split(":")[1]);
                f = f.replace(this.layerIdentifier, "");
                if (e = this.getSiblingNodesByTagCriteria(e, this.featureIdentifier))
                    for (var g = 0; g < e.length; g++) {
                        var h = e[g],
                            k = this.parseGeometry(h),
                            h = this.parseAttributes(h),
                            h = new OpenLayers.Feature.Vector(k.geometry, h, null);
                        h.bounds = k.bounds;
                        h.type = f;
                        b.push(h)
                    }
            }
        return b
    },
    read_FeatureInfoResponse: function (a) {
        var b = [];
        a = this.getElementsByTagNameNS(a,
            "*", "FIELDS");
        for (var c = 0, d = a.length; c < d; c++) {
            var e = a[c],
                f = {},
                g, h = e.attributes.length;
            if (0 < h)
                for (g = 0; g < h; g++) {
                    var k = e.attributes[g];
                    f[k.nodeName] = k.nodeValue
                } else
                    for (e = e.childNodes, g = 0, h = e.length; g < h; ++g) k = e[g], 3 != k.nodeType && (f[k.getAttribute("name")] = k.getAttribute("value"));
            b.push(new OpenLayers.Feature.Vector(null, f, null))
        }
        return b
    },
    getSiblingNodesByTagCriteria: function (a, b) {
        var c = [],
            d, e, f, g;
        if (a && a.hasChildNodes()) {
            d = a.childNodes;
            f = d.length;
            for (var h = 0; h < f; h++) {
                for (g = d[h]; g && 1 != g.nodeType;) g =
                    g.nextSibling, h++;
                e = g ? g.nodeName : "";
                0 < e.length && -1 < e.indexOf(b) ? c.push(g) : (e = this.getSiblingNodesByTagCriteria(g, b), 0 < e.length && (0 == c.length ? c = e : c.push(e)))
            }
        }
        return c
    },
    parseAttributes: function (a) {
        var b = {};
        if (1 == a.nodeType) {
            a = a.childNodes;
            for (var c = a.length, d = 0; d < c; ++d) {
                var e = a[d];
                if (1 == e.nodeType) {
                    var f = e.childNodes,
                        e = e.prefix ? e.nodeName.split(":")[1] : e.nodeName;
                    0 == f.length ? b[e] = null : 1 == f.length && (f = f[0], 3 == f.nodeType || 4 == f.nodeType) && (f = f.nodeValue.replace(this.regExes.trimSpace, ""), b[e] = f)
                }
            }
        }
        return b
    },
    parseGeometry: function (a) {
        this.gmlFormat || (this.gmlFormat = new OpenLayers.Format.GML);
        a = this.gmlFormat.parseFeature(a);
        var b, c = null;
        a && (b = a.geometry && a.geometry.clone(), c = a.bounds && a.bounds.clone(), a.destroy());
        return {
            geometry: b,
            bounds: c
        }
    },
    CLASS_NAME: "OpenLayers.Format.WMSGetFeatureInfo"
});
OpenLayers.Control.WMTSGetFeatureInfo = OpenLayers.Class(OpenLayers.Control, {
    hover: !1,
    requestEncoding: "KVP",
    drillDown: !1,
    maxFeatures: 10,
    clickCallback: "click",
    layers: null,
    queryVisible: !0,
    infoFormat: "text/html",
    vendorParams: {},
    format: null,
    formatOptions: null,
    handler: null,
    hoverRequest: null,
    pending: 0,
    initialize: function (a) {
        a = a || {};
        a.handlerOptions = a.handlerOptions || {};
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.format || (this.format = new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions));
        !0 === this.drillDown && (this.hover = !1);
        this.hover ? this.handler = new OpenLayers.Handler.Hover(this, {
            move: this.cancelHover,
            pause: this.getInfoForHover
        }, OpenLayers.Util.extend(this.handlerOptions.hover || {}, {
            delay: 250
        })) : (a = {}, a[this.clickCallback] = this.getInfoForClick, this.handler = new OpenLayers.Handler.Click(this, a, this.handlerOptions.click || {}))
    },
    getInfoForClick: function (a) {
        this.request(a.xy, {})
    },
    getInfoForHover: function (a) {
        this.request(a.xy, {
            hover: !0
        })
    },
    cancelHover: function () {
        this.hoverRequest && (--this.pending,
            0 >= this.pending && (OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"), this.pending = 0), this.hoverRequest.abort(), this.hoverRequest = null)
    },
    findLayers: function () {
        for (var a = this.layers || this.map.layers, b = [], c, d = a.length - 1; 0 <= d && (c = a[d], !(c instanceof OpenLayers.Layer.WMTS) || (c.requestEncoding !== this.requestEncoding || this.queryVisible && !c.getVisibility()) || (b.push(c), this.drillDown && !this.hover)); --d);
        return b
    },
    buildRequestOptions: function (a, b) {
        var c = this.map.getLonLatFromPixel(b),
            d = a.getURL(new OpenLayers.Bounds(c.lon,
                c.lat, c.lon, c.lat)),
            d = OpenLayers.Util.getParameters(d),
            c = a.getTileInfo(c);
        OpenLayers.Util.extend(d, {
            service: "WMTS",
            version: a.version,
            request: "GetFeatureInfo",
            infoFormat: this.infoFormat,
            i: c.i,
            j: c.j
        });
        OpenLayers.Util.applyDefaults(d, this.vendorParams);
        return {
            url: OpenLayers.Util.isArray(a.url) ? a.url[0] : a.url,
            params: OpenLayers.Util.upperCaseObject(d),
            callback: function (c) {
                this.handleResponse(b, c, a)
            },
            scope: this
        }
    },
    request: function (a, b) {
        b = b || {};
        var c = this.findLayers();
        if (0 < c.length) {
            for (var d, e, f = 0, g = c.length; f <
                g; f++) e = c[f], d = this.events.triggerEvent("beforegetfeatureinfo", {
                xy: a,
                layer: e
            }), !1 !== d && (++this.pending, d = this.buildRequestOptions(e, a), d = OpenLayers.Request.GET(d), !0 === b.hover && (this.hoverRequest = d));
            0 < this.pending && OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait")
        }
    },
    handleResponse: function (a, b, c) {
        --this.pending;
        0 >= this.pending && (OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait"), this.pending = 0);
        if (b.status && (200 > b.status || 300 <= b.status)) this.events.triggerEvent("exception", {
            xy: a,
            request: b,
            layer: c
        });
        else {
            var d = b.responseXML;
            d && d.documentElement || (d = b.responseText);
            var e, f;
            try {
                e = this.format.read(d)
            } catch (g) {
                f = !0, this.events.triggerEvent("exception", {
                    xy: a,
                    request: b,
                    error: g,
                    layer: c
                })
            }
            f || this.events.triggerEvent("getfeatureinfo", {
                text: b.responseText,
                features: e,
                request: b,
                xy: a,
                layer: c
            })
        }
    },
    CLASS_NAME: "OpenLayers.Control.WMTSGetFeatureInfo"
});
OpenLayers.Protocol.CSW.v2_0_2 = OpenLayers.Class(OpenLayers.Protocol, {
    formatOptions: null,
    initialize: function (a) {
        OpenLayers.Protocol.prototype.initialize.apply(this, [a]);
        a.format || (this.format = new OpenLayers.Format.CSWGetRecords.v2_0_2(OpenLayers.Util.extend({}, this.formatOptions)))
    },
    destroy: function () {
        this.options && !this.options.format && this.format.destroy();
        this.format = null;
        OpenLayers.Protocol.prototype.destroy.apply(this)
    },
    read: function (a) {
        a = OpenLayers.Util.extend({}, a);
        OpenLayers.Util.applyDefaults(a,
            this.options || {});
        var b = new OpenLayers.Protocol.Response({
                requestType: "read"
            }),
            c = this.format.write(a.params || a);
        b.priv = OpenLayers.Request.POST({
            url: a.url,
            callback: this.createCallback(this.handleRead, b, a),
            params: a.params,
            headers: a.headers,
            data: c
        });
        return b
    },
    handleRead: function (a, b) {
        if (b.callback) {
            var c = a.priv;
            200 <= c.status && 300 > c.status ? (a.data = this.parseData(c), a.code = OpenLayers.Protocol.Response.SUCCESS) : a.code = OpenLayers.Protocol.Response.FAILURE;
            b.callback.call(b.scope, a)
        }
    },
    parseData: function (a) {
        var b =
            a.responseXML;
        b && b.documentElement || (b = a.responseText);
        return !b || 0 >= b.length ? null : this.format.read(b)
    },
    CLASS_NAME: "OpenLayers.Protocol.CSW.v2_0_2"
});
OpenLayers.Format.WCSCapabilities.v1_1_0 = OpenLayers.Class(OpenLayers.Format.WCSCapabilities.v1, {
    namespaces: {
        wcs: "https://www.opengis.net/wcs/1.1",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance",
        ows: "https://www.opengis.net/ows/1.1"
    },
    errorProperty: "operationsMetadata",
    readers: {
        wcs: OpenLayers.Util.applyDefaults({
            Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            Contents: function (a, b) {
                b.contentMetadata = [];
                this.readChildNodes(a, b.contentMetadata)
            },
            CoverageSummary: function (a,
                b) {
                var c = {};
                this.readChildNodes(a, c);
                b.push(c)
            },
            Identifier: function (a, b) {
                b.identifier = this.getChildValue(a)
            },
            Title: function (a, b) {
                b.title = this.getChildValue(a)
            },
            Abstract: function (a, b) {
                b["abstract"] = this.getChildValue(a)
            },
            SupportedCRS: function (a, b) {
                var c = this.getChildValue(a);
                c && (b.supportedCRS || (b.supportedCRS = []), b.supportedCRS.push(c))
            },
            SupportedFormat: function (a, b) {
                var c = this.getChildValue(a);
                c && (b.supportedFormat || (b.supportedFormat = []), b.supportedFormat.push(c))
            }
        }, OpenLayers.Format.WCSCapabilities.v1.prototype.readers.wcs),
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WCSCapabilities.v1_1_0"
});
OpenLayers.Control.Graticule = OpenLayers.Class(OpenLayers.Control, {
    autoActivate: !0,
    intervals: [45, 30, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.01, 0.005, 0.002, 0.001],
    displayInLayerSwitcher: !0,
    visible: !0,
    numPoints: 50,
    targetSize: 200,
    layerName: null,
    labelled: !0,
    labelFormat: "dm",
    lineSymbolizer: {
        strokeColor: "#333",
        strokeWidth: 1,
        strokeOpacity: 0.5
    },
    labelSymbolizer: {},
    gratLayer: null,
    initialize: function (a) {
        a = a || {};
        a.layerName = a.layerName || OpenLayers.i18n("Graticule");
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.labelSymbolizer.stroke = !1;
        this.labelSymbolizer.fill = !1;
        this.labelSymbolizer.label = "${label}";
        this.labelSymbolizer.labelAlign = "${labelAlign}";
        this.labelSymbolizer.labelXOffset = "${xOffset}";
        this.labelSymbolizer.labelYOffset = "${yOffset}"
    },
    destroy: function () {
        this.deactivate();
        OpenLayers.Control.prototype.destroy.apply(this, arguments);
        this.gratLayer && (this.gratLayer.destroy(), this.gratLayer = null)
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        if (!this.gratLayer) {
            var a = new OpenLayers.Style({}, {
                rules: [new OpenLayers.Rule({
                    symbolizer: {
                        Point: this.labelSymbolizer,
                        Line: this.lineSymbolizer
                    }
                })]
            });
            this.gratLayer = new OpenLayers.Layer.Vector(this.layerName, {
                styleMap: new OpenLayers.StyleMap({
                    "default": a
                }),
                visibility: this.visible,
                displayInLayerSwitcher: this.displayInLayerSwitcher
            })
        }
        return this.div
    },
    activate: function () {
        return OpenLayers.Control.prototype.activate.apply(this, arguments) ? (this.map.addLayer(this.gratLayer), this.map.events.register("moveend", this, this.update), this.update(), !0) : !1
    },
    deactivate: function () {
        return OpenLayers.Control.prototype.deactivate.apply(this,
            arguments) ? (this.map.events.unregister("moveend", this, this.update), this.map.removeLayer(this.gratLayer), !0) : !1
    },
    update: function () {
        var a = this.map.getExtent();
        if (a) {
            this.gratLayer.destroyFeatures();
            var b = new OpenLayers.Projection("EPSG:4326"),
                c = this.map.getProjectionObject(),
                d = this.map.getResolution();
            c.proj && "longlat" == c.proj.projName && (this.numPoints = 1);
            var e = this.map.getCenter(),
                f = new OpenLayers.Pixel(e.lon, e.lat);
            OpenLayers.Projection.transform(f, c, b);
            for (var e = this.targetSize * d, e = e * e, g, d = 0; d < this.intervals.length; ++d) {
                g =
                    this.intervals[d];
                var h = g / 2,
                    k = f.offset({
                        x: -h,
                        y: -h
                    }),
                    h = f.offset({
                        x: h,
                        y: h
                    });
                OpenLayers.Projection.transform(k, b, c);
                OpenLayers.Projection.transform(h, b, c);
                if ((k.x - h.x) * (k.x - h.x) + (k.y - h.y) * (k.y - h.y) <= e) break
            }
            f.x = Math.floor(f.x / g) * g;
            f.y = Math.floor(f.y / g) * g;
            var d = 0,
                e = [f.clone()],
                h = f.clone(),
                l;
            do h = h.offset({
                x: 0,
                y: g
            }), l = OpenLayers.Projection.transform(h.clone(), b, c), e.unshift(h); while (a.containsPixel(l) && 1E3 > ++d);
            h = f.clone();
            do h = h.offset({
                x: 0,
                y: -g
            }), l = OpenLayers.Projection.transform(h.clone(), b, c), e.push(h);
            while (a.containsPixel(l) && 1E3 > ++d);
            d = 0;
            k = [f.clone()];
            h = f.clone();
            do h = h.offset({
                x: -g,
                y: 0
            }), l = OpenLayers.Projection.transform(h.clone(), b, c), k.unshift(h); while (a.containsPixel(l) && 1E3 > ++d);
            h = f.clone();
            do h = h.offset({
                x: g,
                y: 0
            }), l = OpenLayers.Projection.transform(h.clone(), b, c), k.push(h); while (a.containsPixel(l) && 1E3 > ++d);
            g = [];
            for (d = 0; d < k.length; ++d) {
                l = k[d].x;
                for (var f = [], m = null, n = Math.min(e[0].y, 90), h = Math.max(e[e.length - 1].y, -90), p = (n - h) / this.numPoints, n = h, h = 0; h <= this.numPoints; ++h) {
                    var q = new OpenLayers.Geometry.Point(l,
                        n);
                    q.transform(b, c);
                    f.push(q);
                    n += p;
                    q.y >= a.bottom && !m && (m = q)
                }
                this.labelled && (m = new OpenLayers.Geometry.Point(m.x, a.bottom), l = {
                    value: l,
                    label: this.labelled ? OpenLayers.Util.getFormattedLonLat(l, "lon", this.labelFormat) : "",
                    labelAlign: "cb",
                    xOffset: 0,
                    yOffset: 2
                }, this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(m, l)));
                f = new OpenLayers.Geometry.LineString(f);
                g.push(new OpenLayers.Feature.Vector(f))
            }
            for (h = 0; h < e.length; ++h)
                if (n = e[h].y, !(-90 > n || 90 < n)) {
                    f = [];
                    d = k[0].x;
                    p = (k[k.length - 1].x - d) / this.numPoints;
                    l = d;
                    m = null;
                    for (d = 0; d <= this.numPoints; ++d) q = new OpenLayers.Geometry.Point(l, n), q.transform(b, c), f.push(q), l += p, q.x < a.right && (m = q);
                    this.labelled && (m = new OpenLayers.Geometry.Point(a.right, m.y), l = {
                        value: n,
                        label: this.labelled ? OpenLayers.Util.getFormattedLonLat(n, "lat", this.labelFormat) : "",
                        labelAlign: "rb",
                        xOffset: -2,
                        yOffset: 2
                    }, this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(m, l)));
                    f = new OpenLayers.Geometry.LineString(f);
                    g.push(new OpenLayers.Feature.Vector(f))
                } this.gratLayer.addFeatures(g)
        }
    },
    CLASS_NAME: "OpenLayers.Control.Graticule"
});
OpenLayers.Console.warn("OpenLayers.Rico is deprecated");
OpenLayers.Rico = OpenLayers.Rico || {};
OpenLayers.Rico.Corner = {
    round: function (a, b) {
        a = OpenLayers.Util.getElement(a);
        this._setOptions(b);
        var c = this.options.color;
        "fromElement" == this.options.color && (c = this._background(a));
        var d = this.options.bgColor;
        "fromParent" == this.options.bgColor && (d = this._background(a.offsetParent));
        this._roundCornersImpl(a, c, d)
    },
    changeColor: function (a, b) {
        a.style.backgroundColor = b;
        for (var c = a.parentNode.getElementsByTagName("span"), d = 0; d < c.length; d++) c[d].style.backgroundColor = b
    },
    changeOpacity: function (a, b) {
        var c = "alpha(opacity=" +
            100 * b + ")";
        a.style.opacity = b;
        a.style.filter = c;
        for (var d = a.parentNode.getElementsByTagName("span"), e = 0; e < d.length; e++) d[e].style.opacity = b, d[e].style.filter = c
    },
    reRound: function (a, b) {
        var c = a.parentNode.childNodes[2];
        a.parentNode.removeChild(a.parentNode.childNodes[0]);
        a.parentNode.removeChild(c);
        this.round(a.parentNode, b)
    },
    _roundCornersImpl: function (a, b, c) {
        this.options.border && this._renderBorder(a, c);
        this._isTopRounded() && this._roundTopCorners(a, b, c);
        this._isBottomRounded() && this._roundBottomCorners(a,
            b, c)
    },
    _renderBorder: function (a, b) {
        var c = "1px solid " + this._borderColor(b);
        a.innerHTML = "<div " + ("style='border-left: " + c + ";" + ("border-right: " + c) + "'") + ">" + a.innerHTML + "</div>"
    },
    _roundTopCorners: function (a, b, c) {
        for (var d = this._createCorner(c), e = 0; e < this.options.numSlices; e++) d.appendChild(this._createCornerSlice(b, c, e, "top"));
        a.style.paddingTop = 0;
        a.insertBefore(d, a.firstChild)
    },
    _roundBottomCorners: function (a, b, c) {
        for (var d = this._createCorner(c), e = this.options.numSlices - 1; 0 <= e; e--) d.appendChild(this._createCornerSlice(b,
            c, e, "bottom"));
        a.style.paddingBottom = 0;
        a.appendChild(d)
    },
    _createCorner: function (a) {
        var b = document.createElement("div");
        b.style.backgroundColor = this._isTransparent() ? "transparent" : a;
        return b
    },
    _createCornerSlice: function (a, b, c, d) {
        var e = document.createElement("span"),
            f = e.style;
        f.backgroundColor = a;
        f.display = "block";
        f.height = "1px";
        f.overflow = "hidden";
        f.fontSize = "1px";
        a = this._borderColor(a, b);
        this.options.border && 0 == c ? (f.borderTopStyle = "solid", f.borderTopWidth = "1px", f.borderLeftWidth = "0px", f.borderRightWidth =
            "0px", f.borderBottomWidth = "0px", f.height = "0px", f.borderColor = a) : a && (f.borderColor = a, f.borderStyle = "solid", f.borderWidth = "0px 1px");
        this.options.compact || c != this.options.numSlices - 1 || (f.height = "2px");
        this._setMargin(e, c, d);
        this._setBorder(e, c, d);
        return e
    },
    _setOptions: function (a) {
        this.options = {
            corners: "all",
            color: "fromElement",
            bgColor: "fromParent",
            blend: !0,
            border: !1,
            compact: !1
        };
        OpenLayers.Util.extend(this.options, a || {});
        this.options.numSlices = this.options.compact ? 2 : 4;
        this._isTransparent() && (this.options.blend = !1)
    },
    _whichSideTop: function () {
        return this._hasString(this.options.corners, "all", "top") || 0 <= this.options.corners.indexOf("tl") && 0 <= this.options.corners.indexOf("tr") ? "" : 0 <= this.options.corners.indexOf("tl") ? "left" : 0 <= this.options.corners.indexOf("tr") ? "right" : ""
    },
    _whichSideBottom: function () {
        return this._hasString(this.options.corners, "all", "bottom") || 0 <= this.options.corners.indexOf("bl") && 0 <= this.options.corners.indexOf("br") ? "" : 0 <= this.options.corners.indexOf("bl") ? "left" : 0 <= this.options.corners.indexOf("br") ?
            "right" : ""
    },
    _borderColor: function (a, b) {
        return "transparent" == a ? b : this.options.border ? this.options.border : this.options.blend ? this._blend(b, a) : ""
    },
    _setMargin: function (a, b, c) {
        b = this._marginSize(b);
        c = "top" == c ? this._whichSideTop() : this._whichSideBottom();
        "left" == c ? (a.style.marginLeft = b + "px", a.style.marginRight = "0px") : "right" == c ? (a.style.marginRight = b + "px", a.style.marginLeft = "0px") : (a.style.marginLeft = b + "px", a.style.marginRight = b + "px")
    },
    _setBorder: function (a, b, c) {
        b = this._borderSize(b);
        c = "top" == c ? this._whichSideTop() :
            this._whichSideBottom();
        "left" == c ? (a.style.borderLeftWidth = b + "px", a.style.borderRightWidth = "0px") : "right" == c ? (a.style.borderRightWidth = b + "px", a.style.borderLeftWidth = "0px") : (a.style.borderLeftWidth = b + "px", a.style.borderRightWidth = b + "px");
        !1 != this.options.border && (a.style.borderLeftWidth = b + "px", a.style.borderRightWidth = b + "px")
    },
    _marginSize: function (a) {
        if (this._isTransparent()) return 0;
        var b = [5, 3, 2, 1],
            c = [3, 2, 1, 0],
            d = [2, 1],
            e = [1, 0];
        return this.options.compact && this.options.blend ? e[a] : this.options.compact ?
            d[a] : this.options.blend ? c[a] : b[a]
    },
    _borderSize: function (a) {
        var b = [5, 3, 2, 1],
            c = [2, 1, 1, 1],
            d = [1, 0],
            e = [0, 2, 0, 0];
        return this.options.compact && (this.options.blend || this._isTransparent()) ? 1 : this.options.compact ? d[a] : this.options.blend ? c[a] : this.options.border ? e[a] : this._isTransparent() ? b[a] : 0
    },
    _hasString: function (a) {
        for (var b = 1; b < arguments.length; b++)
            if (0 <= a.indexOf(arguments[b])) return !0;
        return !1
    },
    _blend: function (a, b) {
        var c = OpenLayers.Rico.Color.createFromHex(a);
        c.blend(OpenLayers.Rico.Color.createFromHex(b));
        return c
    },
    _background: function (a) {
        try {
            return OpenLayers.Rico.Color.createColorFromBackground(a).asHex()
        } catch (b) {
            return "#ffffff"
        }
    },
    _isTransparent: function () {
        return "transparent" == this.options.color
    },
    _isTopRounded: function () {
        return this._hasString(this.options.corners, "all", "top", "tl", "tr")
    },
    _isBottomRounded: function () {
        return this._hasString(this.options.corners, "all", "bottom", "bl", "br")
    },
    _hasSingleTextChild: function (a) {
        return 1 == a.childNodes.length && 3 == a.childNodes[0].nodeType
    }
};
OpenLayers.Control.NavigationHistory = OpenLayers.Class(OpenLayers.Control, {
    type: OpenLayers.Control.TYPE_TOGGLE,
    previous: null,
    previousOptions: null,
    next: null,
    nextOptions: null,
    limit: 50,
    autoActivate: !0,
    clearOnDeactivate: !1,
    registry: null,
    nextStack: null,
    previousStack: null,
    listeners: null,
    restoring: !1,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.registry = OpenLayers.Util.extend({
            moveend: this.getState
        }, this.registry);
        a = {
            trigger: OpenLayers.Function.bind(this.previousTrigger,
                this),
            displayClass: this.displayClass + " " + this.displayClass + "Previous"
        };
        OpenLayers.Util.extend(a, this.previousOptions);
        this.previous = new OpenLayers.Control.Button(a);
        a = {
            trigger: OpenLayers.Function.bind(this.nextTrigger, this),
            displayClass: this.displayClass + " " + this.displayClass + "Next"
        };
        OpenLayers.Util.extend(a, this.nextOptions);
        this.next = new OpenLayers.Control.Button(a);
        this.clear()
    },
    onPreviousChange: function (a, b) {
        a && !this.previous.active ? this.previous.activate() : !a && this.previous.active && this.previous.deactivate()
    },
    onNextChange: function (a, b) {
        a && !this.next.active ? this.next.activate() : !a && this.next.active && this.next.deactivate()
    },
    destroy: function () {
        OpenLayers.Control.prototype.destroy.apply(this);
        this.previous.destroy();
        this.next.destroy();
        this.deactivate();
        for (var a in this) this[a] = null
    },
    setMap: function (a) {
        this.map = a;
        this.next.setMap(a);
        this.previous.setMap(a)
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this, arguments);
        this.next.draw();
        this.previous.draw()
    },
    previousTrigger: function () {
        var a = this.previousStack.shift(),
            b = this.previousStack.shift();
        void 0 != b ? (this.nextStack.unshift(a), this.previousStack.unshift(b), this.restoring = !0, this.restore(b), this.restoring = !1, this.onNextChange(this.nextStack[0], this.nextStack.length), this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1)) : this.previousStack.unshift(a);
        return b
    },
    nextTrigger: function () {
        var a = this.nextStack.shift();
        void 0 != a && (this.previousStack.unshift(a), this.restoring = !0, this.restore(a), this.restoring = !1, this.onNextChange(this.nextStack[0],
            this.nextStack.length), this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1));
        return a
    },
    clear: function () {
        this.previousStack = [];
        this.previous.deactivate();
        this.nextStack = [];
        this.next.deactivate()
    },
    getState: function () {
        return {
            center: this.map.getCenter(),
            resolution: this.map.getResolution(),
            projection: this.map.getProjectionObject(),
            units: this.map.getProjectionObject().getUnits() || this.map.units || this.map.baseLayer.units
        }
    },
    restore: function (a) {
        var b, c;
        if (this.map.getProjectionObject() ==
            a.projection) c = this.map.getZoomForResolution(a.resolution), b = a.center;
        else {
            b = a.center.clone();
            b.transform(a.projection, this.map.getProjectionObject());
            c = a.units;
            var d = this.map.getProjectionObject().getUnits() || this.map.units || this.map.baseLayer.units;
            c = this.map.getZoomForResolution((c && d ? OpenLayers.INCHES_PER_UNIT[c] / OpenLayers.INCHES_PER_UNIT[d] : 1) * a.resolution)
        }
        this.map.setCenter(b, c)
    },
    setListeners: function () {
        this.listeners = {};
        for (var a in this.registry) this.listeners[a] = OpenLayers.Function.bind(function () {
            if (!this.restoring) {
                var b =
                    this.registry[a].apply(this, arguments);
                this.previousStack.unshift(b);
                if (1 < this.previousStack.length) this.onPreviousChange(this.previousStack[1], this.previousStack.length - 1);
                this.previousStack.length > this.limit + 1 && this.previousStack.pop();
                0 < this.nextStack.length && (this.nextStack = [], this.onNextChange(null, 0))
            }
            return !0
        }, this)
    },
    activate: function () {
        var a = !1;
        if (this.map && OpenLayers.Control.prototype.activate.apply(this)) {
            null == this.listeners && this.setListeners();
            for (var b in this.listeners) this.map.events.register(b,
                this, this.listeners[b]);
            a = !0;
            0 == this.previousStack.length && this.initStack()
        }
        return a
    },
    initStack: function () {
        this.map.getCenter() && this.listeners.moveend()
    },
    deactivate: function () {
        var a = !1;
        if (this.map && OpenLayers.Control.prototype.deactivate.apply(this)) {
            for (var b in this.listeners) this.map.events.unregister(b, this, this.listeners[b]);
            this.clearOnDeactivate && this.clear();
            a = !0
        }
        return a
    },
    CLASS_NAME: "OpenLayers.Control.NavigationHistory"
});
OpenLayers.Layer.UTFGrid = OpenLayers.Class(OpenLayers.Layer.XYZ, {
    isBaseLayer: !1,
    projection: new OpenLayers.Projection("EPSG:900913"),
    useJSONP: !1,
    tileClass: OpenLayers.Tile.UTFGrid,
    initialize: function (a) {
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a.name, a.url, {}, a]);
        this.tileOptions = OpenLayers.Util.extend({
            utfgridResolution: this.utfgridResolution
        }, this.tileOptions)
    },
    createBackBuffer: function () {},
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.UTFGrid(this.getOptions()));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this,
            [a])
    },
    getFeatureInfo: function (a) {
        var b = null;
        (a = this.getTileData(a)) && a.tile && (b = a.tile.getFeatureInfo(a.i, a.j));
        return b
    },
    getFeatureId: function (a) {
        var b = null;
        a = this.getTileData(a);
        a.tile && (b = a.tile.getFeatureId(a.i, a.j));
        return b
    },
    CLASS_NAME: "OpenLayers.Layer.UTFGrid"
});
OpenLayers.TileManager = OpenLayers.Class({
    cacheSize: 256,
    tilesPerFrame: 2,
    frameDelay: 16,
    moveDelay: 100,
    zoomDelay: 200,
    maps: null,
    tileQueueId: null,
    tileQueue: null,
    tileCache: null,
    tileCacheIndex: null,
    initialize: function (a) {
        OpenLayers.Util.extend(this, a);
        this.maps = [];
        this.tileQueueId = {};
        this.tileQueue = {};
        this.tileCache = {};
        this.tileCacheIndex = []
    },
    addMap: function (a) {
        if (!this._destroyed && OpenLayers.Layer.Grid) {
            this.maps.push(a);
            this.tileQueue[a.id] = [];
            for (var b = 0, c = a.layers.length; b < c; ++b) this.addLayer({
                layer: a.layers[b]
            });
            a.events.on({
                move: this.move,
                zoomend: this.zoomEnd,
                changelayer: this.changeLayer,
                addlayer: this.addLayer,
                preremovelayer: this.removeLayer,
                scope: this
            })
        }
    },
    removeMap: function (a) {
        if (!this._destroyed && OpenLayers.Layer.Grid) {
            window.clearTimeout(this.tileQueueId[a.id]);
            if (a.layers)
                for (var b = 0, c = a.layers.length; b < c; ++b) this.removeLayer({
                    layer: a.layers[b]
                });
            a.events && a.events.un({
                move: this.move,
                zoomend: this.zoomEnd,
                changelayer: this.changeLayer,
                addlayer: this.addLayer,
                preremovelayer: this.removeLayer,
                scope: this
            });
            delete this.tileQueue[a.id];
            delete this.tileQueueId[a.id];
            OpenLayers.Util.removeItem(this.maps, a)
        }
    },
    move: function (a) {
        this.updateTimeout(a.object, this.moveDelay, !0)
    },
    zoomEnd: function (a) {
        this.updateTimeout(a.object, this.zoomDelay)
    },
    changeLayer: function (a) {
        "visibility" !== a.property && "params" !== a.property || this.updateTimeout(a.object, 0)
    },
    addLayer: function (a) {
        a = a.layer;
        if (a instanceof OpenLayers.Layer.Grid) {
            a.events.on({
                addtile: this.addTile,
                retile: this.clearTileQueue,
                scope: this
            });
            var b, c, d;
            for (b = a.grid.length -
                1; 0 <= b; --b)
                for (c = a.grid[b].length - 1; 0 <= c; --c) d = a.grid[b][c], this.addTile({
                    tile: d
                }), d.url && !d.imgDiv && this.manageTileCache({
                    object: d
                })
        }
    },
    removeLayer: function (a) {
        a = a.layer;
        if (a instanceof OpenLayers.Layer.Grid && (this.clearTileQueue({
                object: a
            }), a.events && a.events.un({
                addtile: this.addTile,
                retile: this.clearTileQueue,
                scope: this
            }), a.grid)) {
            var b, c, d;
            for (b = a.grid.length - 1; 0 <= b; --b)
                for (c = a.grid[b].length - 1; 0 <= c; --c) d = a.grid[b][c], this.unloadTile({
                    object: d
                })
        }
    },
    updateTimeout: function (a, b, c) {
        window.clearTimeout(this.tileQueueId[a.id]);
        var d = this.tileQueue[a.id];
        if (!c || d.length) this.tileQueueId[a.id] = window.setTimeout(OpenLayers.Function.bind(function () {
            this.drawTilesFromQueue(a);
            d.length && this.updateTimeout(a, this.frameDelay)
        }, this), b)
    },
    addTile: function (a) {
        if (a.tile instanceof OpenLayers.Tile.Image) a.tile.events.on({
            beforedraw: this.queueTileDraw,
            beforeload: this.manageTileCache,
            loadend: this.addToCache,
            unload: this.unloadTile,
            scope: this
        });
        else this.removeLayer({
            layer: a.tile.layer
        })
    },
    unloadTile: function (a) {
        a = a.object;
        a.events.un({
            beforedraw: this.queueTileDraw,
            beforeload: this.manageTileCache,
            loadend: this.addToCache,
            unload: this.unloadTile,
            scope: this
        });
        OpenLayers.Util.removeItem(this.tileQueue[a.layer.map.id], a)
    },
    queueTileDraw: function (a) {
        a = a.object;
        var b = !1,
            c = a.layer,
            d = c.getURL(a.bounds),
            e = this.tileCache[d];
        e && "olTileImage" !== e.className && (delete this.tileCache[d], OpenLayers.Util.removeItem(this.tileCacheIndex, d), e = null);
        !c.url || !c.async && e || (b = this.tileQueue[c.map.id], ~OpenLayers.Util.indexOf(b, a) || b.push(a), b = !0);
        return !b
    },
    drawTilesFromQueue: function (a) {
        var b =
            this.tileQueue[a.id],
            c = this.tilesPerFrame;
        for (a = a.zoomTween && a.zoomTween.playing; !a && b.length && c;) b.shift().draw(!0), --c
    },
    manageTileCache: function (a) {
        a = a.object;
        var b = this.tileCache[a.url];
        b && (b.parentNode && OpenLayers.Element.hasClass(b.parentNode, "olBackBuffer") && (b.parentNode.removeChild(b), b.id = null), b.parentNode || (b.style.visibility = "hidden", b.style.opacity = 0, a.setImage(b), OpenLayers.Util.removeItem(this.tileCacheIndex, a.url), this.tileCacheIndex.push(a.url)))
    },
    addToCache: function (a) {
        a = a.object;
        this.tileCache[a.url] || OpenLayers.Element.hasClass(a.imgDiv, "olImageLoadError") || (this.tileCacheIndex.length >= this.cacheSize && (delete this.tileCache[this.tileCacheIndex[0]], this.tileCacheIndex.shift()), this.tileCache[a.url] = a.imgDiv, this.tileCacheIndex.push(a.url))
    },
    clearTileQueue: function (a) {
        a = a.object;
        for (var b = this.tileQueue[a.map.id], c = b.length - 1; 0 <= c; --c) b[c].layer === a && b.splice(c, 1)
    },
    destroy: function () {
        for (var a = this.maps.length - 1; 0 <= a; --a) this.removeMap(this.maps[a]);
        this.tileCacheIndex = this.tileCache =
            this.tileQueueId = this.tileQueue = this.maps = null;
        this._destroyed = !0
    }
});
OpenLayers.Layer.ArcGISCache = OpenLayers.Class(OpenLayers.Layer.XYZ, {
    url: null,
    tileOrigin: null,
    tileSize: new OpenLayers.Size(256, 256),
    useArcGISServer: !0,
    type: "png",
    useScales: !1,
    overrideDPI: !1,
    initialize: function (a, b, c) {
        OpenLayers.Layer.XYZ.prototype.initialize.apply(this, arguments);
        this.resolutions && (this.serverResolutions = this.resolutions, this.maxExtent = this.getMaxExtentForResolution(this.resolutions[0]));
        if (this.layerInfo) {
            var d = this.layerInfo,
                e = new OpenLayers.Bounds(d.fullExtent.xmin, d.fullExtent.ymin,
                    d.fullExtent.xmax, d.fullExtent.ymax);
            this.projection = "EPSG:" + d.spatialReference.wkid;
            this.sphericalMercator = 102100 == d.spatialReference.wkid;
            this.units = "esriFeet" == d.units ? "ft" : "m";
            if (d.tileInfo) {
                this.tileSize = new OpenLayers.Size(d.tileInfo.width || d.tileInfo.cols, d.tileInfo.height || d.tileInfo.rows);
                this.tileOrigin = new OpenLayers.LonLat(d.tileInfo.origin.x, d.tileInfo.origin.y);
                var f = new OpenLayers.Geometry.Point(e.left, e.top),
                    e = new OpenLayers.Geometry.Point(e.right, e.bottom);
                this.useScales ? this.scales = [] : this.resolutions = [];
                this.lods = [];
                for (var g in d.tileInfo.lods)
                    if (d.tileInfo.lods.hasOwnProperty(g)) {
                        var h = d.tileInfo.lods[g];
                        this.useScales ? this.scales.push(h.scale) : this.resolutions.push(h.resolution);
                        var k = this.getContainingTileCoords(f, h.resolution);
                        h.startTileCol = k.x;
                        h.startTileRow = k.y;
                        k = this.getContainingTileCoords(e, h.resolution);
                        h.endTileCol = k.x;
                        h.endTileRow = k.y;
                        this.lods.push(h)
                    } this.maxExtent = this.calculateMaxExtentWithLOD(this.lods[0]);
                this.serverResolutions = this.resolutions;
                this.overrideDPI &&
                    d.tileInfo.dpi && (OpenLayers.DOTS_PER_INCH = d.tileInfo.dpi)
            }
        }
    },
    getContainingTileCoords: function (a, b) {
        return new OpenLayers.Pixel(Math.max(Math.floor((a.x - this.tileOrigin.lon) / (this.tileSize.w * b)), 0), Math.max(Math.floor((this.tileOrigin.lat - a.y) / (this.tileSize.h * b)), 0))
    },
    calculateMaxExtentWithLOD: function (a) {
        var b = this.tileOrigin.lon + a.startTileCol * this.tileSize.w * a.resolution,
            c = this.tileOrigin.lat - a.startTileRow * this.tileSize.h * a.resolution;
        return new OpenLayers.Bounds(b, c - (a.endTileRow - a.startTileRow +
            1) * this.tileSize.h * a.resolution, b + (a.endTileCol - a.startTileCol + 1) * this.tileSize.w * a.resolution, c)
    },
    calculateMaxExtentWithExtent: function (a, b) {
        var c = new OpenLayers.Geometry.Point(a.left, a.top),
            d = new OpenLayers.Geometry.Point(a.right, a.bottom),
            c = this.getContainingTileCoords(c, b),
            d = this.getContainingTileCoords(d, b);
        return this.calculateMaxExtentWithLOD({
            resolution: b,
            startTileCol: c.x,
            startTileRow: c.y,
            endTileCol: d.x,
            endTileRow: d.y
        })
    },
    getUpperLeftTileCoord: function (a) {
        var b = new OpenLayers.Geometry.Point(this.maxExtent.left,
            this.maxExtent.top);
        return this.getContainingTileCoords(b, a)
    },
    getLowerRightTileCoord: function (a) {
        var b = new OpenLayers.Geometry.Point(this.maxExtent.right, this.maxExtent.bottom);
        return this.getContainingTileCoords(b, a)
    },
    getMaxExtentForResolution: function (a) {
        var b = this.getUpperLeftTileCoord(a),
            c = this.getLowerRightTileCoord(a),
            d = this.tileOrigin.lon + b.x * this.tileSize.w * a,
            e = this.tileOrigin.lat - b.y * this.tileSize.h * a;
        return new OpenLayers.Bounds(d, e - (c.y - b.y + 1) * this.tileSize.h * a, d + (c.x - b.x + 1) * this.tileSize.w *
            a, e)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.ArcGISCache(this.name, this.url, this.options));
        return OpenLayers.Layer.XYZ.prototype.clone.apply(this, [a])
    },
    initGriddedTiles: function (a) {
        delete this._tileOrigin;
        OpenLayers.Layer.XYZ.prototype.initGriddedTiles.apply(this, arguments)
    },
    getMaxExtent: function () {
        var a = this.map.getResolution();
        return this.maxExtent = this.getMaxExtentForResolution(a)
    },
    getTileOrigin: function () {
        if (!this._tileOrigin) {
            var a = this.getMaxExtent();
            this._tileOrigin = new OpenLayers.LonLat(a.left,
                a.bottom)
        }
        return this._tileOrigin
    },
    getURL: function (a) {
        var b = this.getResolution(),
            c = this.tileOrigin.lon + b * this.tileSize.w / 2,
            d = this.tileOrigin.lat - b * this.tileSize.h / 2;
        a = a.getCenterLonLat();
        c = Math.round(Math.abs((a.lon - c) / (b * this.tileSize.w)));
        d = Math.round(Math.abs((d - a.lat) / (b * this.tileSize.h)));
        a = this.map.getZoom();
        if (this.lods) {
            if (b = this.lods[this.map.getZoom()], c < b.startTileCol || c > b.endTileCol || d < b.startTileRow || d > b.endTileRow) return null
        } else {
            var e = this.getUpperLeftTileCoord(b),
                b = this.getLowerRightTileCoord(b);
            if (c < e.x || c >= b.x || d < e.y || d >= b.y) return null
        }
        b = this.url;
        e = "" + c + d + a;
        OpenLayers.Util.isArray(b) && (b = this.selectUrl(e, b));
        this.useArcGISServer ? b += "/tile/${z}/${y}/${x}" : (c = "C" + OpenLayers.Number.zeroPad(c, 8, 16), d = "R" + OpenLayers.Number.zeroPad(d, 8, 16), a = "L" + OpenLayers.Number.zeroPad(a, 2, 10), b = b + "/${z}/${y}/${x}." + this.type);
        b = OpenLayers.String.format(b, {
            x: c,
            y: d,
            z: a
        });
        return OpenLayers.Util.urlAppend(b, OpenLayers.Util.getParameterString(this.params))
    },
    CLASS_NAME: "OpenLayers.Layer.ArcGISCache"
});
OpenLayers.Control.WMSGetFeatureInfo = OpenLayers.Class(OpenLayers.Control, {
    hover: !1,
    drillDown: !1,
    maxFeatures: 10,
    clickCallback: "click",
    output: "features",
    layers: null,
    queryVisible: !1,
    url: null,
    layerUrls: null,
    infoFormat: "text/html",
    vendorParams: {},
    format: null,
    formatOptions: null,
    handler: null,
    hoverRequest: null,
    initialize: function (a) {
        a = a || {};
        a.handlerOptions = a.handlerOptions || {};
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.format || (this.format = new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions));
        !0 === this.drillDown && (this.hover = !1);
        this.hover ? this.handler = new OpenLayers.Handler.Hover(this, {
            move: this.cancelHover,
            pause: this.getInfoForHover
        }, OpenLayers.Util.extend(this.handlerOptions.hover || {}, {
            delay: 250
        })) : (a = {}, a[this.clickCallback] = this.getInfoForClick, this.handler = new OpenLayers.Handler.Click(this, a, this.handlerOptions.click || {}))
    },
    getInfoForClick: function (a) {
        this.events.triggerEvent("beforegetfeatureinfo", {
            xy: a.xy
        });
        OpenLayers.Element.addClass(this.map.viewPortDiv, "olCursorWait");
        this.request(a.xy, {})
    },
    getInfoForHover: function (a) {
        this.events.triggerEvent("beforegetfeatureinfo", {
            xy: a.xy
        });
        this.request(a.xy, {
            hover: !0
        })
    },
    cancelHover: function () {
        this.hoverRequest && (this.hoverRequest.abort(), this.hoverRequest = null)
    },
    findLayers: function () {
        for (var a = this.layers || this.map.layers, b = [], c, d, e = a.length - 1; 0 <= e; --e) c = a[e], c instanceof OpenLayers.Layer.WMS && (!this.queryVisible || c.getVisibility()) && (d = OpenLayers.Util.isArray(c.url) ? c.url[0] : c.url, !1 !== this.drillDown || this.url || (this.url = d), (!0 === this.drillDown ||
            this.urlMatches(d)) && b.push(c));
        return b
    },
    urlMatches: function (a) {
        var b = OpenLayers.Util.isEquivalentUrl(this.url, a);
        if (!b && this.layerUrls)
            for (var c = 0, d = this.layerUrls.length; c < d; ++c)
                if (OpenLayers.Util.isEquivalentUrl(this.layerUrls[c], a)) {
                    b = !0;
                    break
                } return b
    },
    buildWMSOptions: function (a, b, c, d) {
        for (var e = [], f = [], g = 0, h = b.length; g < h; g++) null != b[g].params.LAYERS && (e = e.concat(b[g].params.LAYERS), f = f.concat(this.getStyleNames(b[g])));
        b = b[0];
        g = this.map.getProjection();
        (h = b.projection) && h.equals(this.map.getProjectionObject()) &&
            (g = h.getCode());
        d = OpenLayers.Util.extend({
            service: "WMS",
            version: b.params.VERSION,
            request: "GetFeatureInfo",
            exceptions: b.params.EXCEPTIONS,
            bbox: this.map.getExtent().toBBOX(null, b.reverseAxisOrder()),
            feature_count: this.maxFeatures,
            height: this.map.getSize().h,
            width: this.map.getSize().w,
            format: d,
            info_format: b.params.INFO_FORMAT || this.infoFormat
        }, 1.3 <= parseFloat(b.params.VERSION) ? {
            crs: g,
            i: parseInt(c.x),
            j: parseInt(c.y)
        } : {
            srs: g,
            x: parseInt(c.x),
            y: parseInt(c.y)
        });
        0 != e.length && (d = OpenLayers.Util.extend({
            layers: e,
            query_layers: e,
            styles: f
        }, d));
        OpenLayers.Util.applyDefaults(d, this.vendorParams);
        return {
            url: a,
            params: OpenLayers.Util.upperCaseObject(d),
            callback: function (b) {
                this.handleResponse(c, b, a)
            },
            scope: this
        }
    },
    getStyleNames: function (a) {
        return a.params.STYLES ? a.params.STYLES : OpenLayers.Util.isArray(a.params.LAYERS) ? Array(a.params.LAYERS.length) : a.params.LAYERS.replace(/[^,]/g, "")
    },
    request: function (a, b) {
        var c = this.findLayers();
        if (0 == c.length) this.events.triggerEvent("nogetfeatureinfo"), OpenLayers.Element.removeClass(this.map.viewPortDiv,
            "olCursorWait");
        else if (b = b || {}, !1 === this.drillDown) {
            var c = this.buildWMSOptions(this.url, c, a, c[0].params.FORMAT),
                d = OpenLayers.Request.GET(c);
            !0 === b.hover && (this.hoverRequest = d)
        } else {
            this._numRequests = this._requestCount = 0;
            this.features = [];
            for (var d = {}, e, f = 0, g = c.length; f < g; f++) {
                var h = c[f];
                e = OpenLayers.Util.isArray(h.url) ? h.url[0] : h.url;
                e in d ? d[e].push(h) : (this._numRequests++, d[e] = [h])
            }
            for (e in d) c = d[e], c = this.buildWMSOptions(e, c, a, c[0].params.FORMAT), OpenLayers.Request.GET(c)
        }
    },
    triggerGetFeatureInfo: function (a,
        b, c) {
        this.events.triggerEvent("getfeatureinfo", {
            text: a.responseText,
            features: c,
            request: a,
            xy: b
        });
        OpenLayers.Element.removeClass(this.map.viewPortDiv, "olCursorWait")
    },
    handleResponse: function (a, b, c) {
        var d = b.responseXML;
        d && d.documentElement || (d = b.responseText);
        d = this.format.read(d);
        !1 === this.drillDown ? this.triggerGetFeatureInfo(b, a, d) : (this._requestCount++, this._features = "object" === this.output ? (this._features || []).concat({
                url: c,
                features: d
            }) : (this._features || []).concat(d), this._requestCount === this._numRequests &&
            (this.triggerGetFeatureInfo(b, a, this._features.concat()), delete this._features, delete this._requestCount, delete this._numRequests))
    },
    CLASS_NAME: "OpenLayers.Control.WMSGetFeatureInfo"
});
OpenLayers.Format.WMSCapabilities.v1_3_0 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_3, {
    version: "1.3.0",
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_3_0"
});
OpenLayers.Format.SOSGetFeatureOfInterest = OpenLayers.Class(OpenLayers.Format.XML, {
    VERSION: "1.0.0",
    namespaces: {
        sos: "https://www.opengis.net/sos/1.0",
        gml: "https://www.opengis.net/gml",
        sa: "https://www.opengis.net/sampling/1.0",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    schemaLocation: "https://www.opengis.net/sos/1.0 https://schemas.opengis.net/sos/1.0.0/sosAll.xsd",
    defaultPrefix: "sos",
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    read: function (a) {
        "string" ==
        typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {
            features: []
        };
        this.readNode(a, b);
        a = [];
        for (var c = 0, d = b.features.length; c < d; c++) {
            var e = b.features[c];
            this.internalProjection && (this.externalProjection && e.components[0]) && e.components[0].transform(this.externalProjection, this.internalProjection);
            e = new OpenLayers.Feature.Vector(e.components[0], e.attributes);
            a.push(e)
        }
        return a
    },
    readers: {
        sa: {
            SamplingPoint: function (a, b) {
                if (!b.attributes) {
                    var c = {
                        attributes: {}
                    };
                    b.features.push(c);
                    b = c
                }
                b.attributes.id = this.getAttributeNS(a, this.namespaces.gml, "id");
                this.readChildNodes(a, b)
            },
            position: function (a, b) {
                this.readChildNodes(a, b)
            }
        },
        gml: OpenLayers.Util.applyDefaults({
            FeatureCollection: function (a, b) {
                this.readChildNodes(a, b)
            },
            featureMember: function (a, b) {
                var c = {
                    attributes: {}
                };
                b.features.push(c);
                this.readChildNodes(a, c)
            },
            name: function (a, b) {
                b.attributes.name = this.getChildValue(a)
            },
            pos: function (a, b) {
                this.externalProjection || (this.externalProjection = new OpenLayers.Projection(a.getAttribute("srsName")));
                OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this, [a, b])
            }
        }, OpenLayers.Format.GML.v3.prototype.readers.gml)
    },
    writers: {
        sos: {
            GetFeatureOfInterest: function (a) {
                for (var b = this.createElementNSPlus("GetFeatureOfInterest", {
                        attributes: {
                            version: this.VERSION,
                            service: "SOS",
                            "xsi:schemaLocation": this.schemaLocation
                        }
                    }), c = 0, d = a.fois.length; c < d; c++) this.writeNode("FeatureOfInterestId", {
                    foi: a.fois[c]
                }, b);
                return b
            },
            FeatureOfInterestId: function (a) {
                return this.createElementNSPlus("FeatureOfInterestId", {
                    value: a.foi
                })
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.SOSGetFeatureOfInterest"
});
OpenLayers.Format.SOSGetObservation = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        ows: "https://www.opengis.net/ows",
        gml: "https://www.opengis.net/gml",
        sos: "https://www.opengis.net/sos/1.0",
        ogc: "https://www.opengis.net/ogc",
        om: "https://www.opengis.net/om/1.0",
        sa: "https://www.opengis.net/sampling/1.0",
        xlink: "https://www.w3.org/1999/xlink",
        xsi: "https://www.w3.org/2001/XMLSchema-instance"
    },
    regExes: {
        trimSpace: /^\s*|\s*$/g,
        removeSpace: /\s*/g,
        splitSpace: /\s+/,
        trimComma: /\s*,\s*/g
    },
    VERSION: "1.0.0",
    schemaLocation: "https://www.opengis.net/sos/1.0 https://schemas.opengis.net/sos/1.0.0/sosGetObservation.xsd",
    defaultPrefix: "sos",
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {
            measurements: [],
            observations: []
        };
        this.readNode(a, b);
        return b
    },
    write: function (a) {
        a = this.writeNode("sos:GetObservation", a);
        a.setAttribute("xmlns:om", this.namespaces.om);
        a.setAttribute("xmlns:ogc", this.namespaces.ogc);
        this.setAttributeNS(a, this.namespaces.xsi, "xsi:schemaLocation", this.schemaLocation);
        return OpenLayers.Format.XML.prototype.write.apply(this,
            [a])
    },
    readers: {
        om: {
            ObservationCollection: function (a, b) {
                b.id = this.getAttributeNS(a, this.namespaces.gml, "id");
                this.readChildNodes(a, b)
            },
            member: function (a, b) {
                this.readChildNodes(a, b)
            },
            Measurement: function (a, b) {
                var c = {};
                b.measurements.push(c);
                this.readChildNodes(a, c)
            },
            Observation: function (a, b) {
                var c = {};
                b.observations.push(c);
                this.readChildNodes(a, c)
            },
            samplingTime: function (a, b) {
                var c = {};
                b.samplingTime = c;
                this.readChildNodes(a, c)
            },
            observedProperty: function (a, b) {
                b.observedProperty = this.getAttributeNS(a, this.namespaces.xlink,
                    "href");
                this.readChildNodes(a, b)
            },
            procedure: function (a, b) {
                b.procedure = this.getAttributeNS(a, this.namespaces.xlink, "href");
                this.readChildNodes(a, b)
            },
            featureOfInterest: function (a, b) {
                var c = {
                    features: []
                };
                b.fois = [];
                b.fois.push(c);
                this.readChildNodes(a, c);
                for (var d = [], e = 0, f = c.features.length; e < f; e++) {
                    var g = c.features[e];
                    d.push(new OpenLayers.Feature.Vector(g.components[0], g.attributes))
                }
                c.features = d
            },
            result: function (a, b) {
                var c = {};
                b.result = c;
                "" !== this.getChildValue(a) ? (c.value = this.getChildValue(a), c.uom =
                    a.getAttribute("uom")) : this.readChildNodes(a, c)
            }
        },
        sa: OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.sa,
        gml: OpenLayers.Util.applyDefaults({
            TimeInstant: function (a, b) {
                var c = {};
                b.timeInstant = c;
                this.readChildNodes(a, c)
            },
            timePosition: function (a, b) {
                b.timePosition = this.getChildValue(a)
            }
        }, OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.gml)
    },
    writers: {
        sos: {
            GetObservation: function (a) {
                var b = this.createElementNSPlus("GetObservation", {
                    attributes: {
                        version: this.VERSION,
                        service: "SOS"
                    }
                });
                this.writeNode("offering",
                    a, b);
                a.eventTime && this.writeNode("eventTime", a, b);
                for (var c in a.procedures) this.writeNode("procedure", a.procedures[c], b);
                for (var d in a.observedProperties) this.writeNode("observedProperty", a.observedProperties[d], b);
                a.foi && this.writeNode("featureOfInterest", a.foi, b);
                this.writeNode("responseFormat", a, b);
                a.resultModel && this.writeNode("resultModel", a, b);
                a.responseMode && this.writeNode("responseMode", a, b);
                return b
            },
            featureOfInterest: function (a) {
                var b = this.createElementNSPlus("featureOfInterest");
                this.writeNode("ObjectID",
                    a.objectId, b);
                return b
            },
            ObjectID: function (a) {
                return this.createElementNSPlus("ObjectID", {
                    value: a
                })
            },
            responseFormat: function (a) {
                return this.createElementNSPlus("responseFormat", {
                    value: a.responseFormat
                })
            },
            procedure: function (a) {
                return this.createElementNSPlus("procedure", {
                    value: a
                })
            },
            offering: function (a) {
                return this.createElementNSPlus("offering", {
                    value: a.offering
                })
            },
            observedProperty: function (a) {
                return this.createElementNSPlus("observedProperty", {
                    value: a
                })
            },
            eventTime: function (a) {
                var b = this.createElementNSPlus("eventTime");
                "latest" === a.eventTime && this.writeNode("ogc:TM_Equals", a, b);
                return b
            },
            resultModel: function (a) {
                return this.createElementNSPlus("resultModel", {
                    value: a.resultModel
                })
            },
            responseMode: function (a) {
                return this.createElementNSPlus("responseMode", {
                    value: a.responseMode
                })
            }
        },
        ogc: {
            TM_Equals: function (a) {
                var b = this.createElementNSPlus("ogc:TM_Equals");
                this.writeNode("ogc:PropertyName", {
                    property: "urn:ogc:data:time:iso8601"
                }, b);
                "latest" === a.eventTime && this.writeNode("gml:TimeInstant", {
                    value: "latest"
                }, b);
                return b
            },
            PropertyName: function (a) {
                return this.createElementNSPlus("ogc:PropertyName", {
                    value: a.property
                })
            }
        },
        gml: {
            TimeInstant: function (a) {
                var b = this.createElementNSPlus("gml:TimeInstant");
                this.writeNode("gml:timePosition", a, b);
                return b
            },
            timePosition: function (a) {
                return this.createElementNSPlus("gml:timePosition", {
                    value: a.value
                })
            }
        }
    },
    CLASS_NAME: "OpenLayers.Format.SOSGetObservation"
});
OpenLayers.Control.UTFGrid = OpenLayers.Class(OpenLayers.Control, {
    autoActivate: !0,
    layers: null,
    defaultHandlerOptions: {
        delay: 300,
        pixelTolerance: 4,
        stopMove: !1,
        single: !0,
        "double": !1,
        stopSingle: !1,
        stopDouble: !1
    },
    handlerMode: "click",
    setHandler: function (a) {
        this.handlerMode = a;
        this.resetHandler()
    },
    resetHandler: function () {
        this.handler && (this.handler.deactivate(), this.handler.destroy(), this.handler = null);
        "hover" == this.handlerMode ? this.handler = new OpenLayers.Handler.Hover(this, {
                pause: this.handleEvent,
                move: this.reset
            },
            this.handlerOptions) : "click" == this.handlerMode ? this.handler = new OpenLayers.Handler.Click(this, {
            click: this.handleEvent
        }, this.handlerOptions) : "move" == this.handlerMode && (this.handler = new OpenLayers.Handler.Hover(this, {
            pause: this.handleEvent,
            move: this.handleEvent
        }, this.handlerOptions));
        return this.handler ? !0 : !1
    },
    initialize: function (a) {
        a = a || {};
        a.handlerOptions = a.handlerOptions || this.defaultHandlerOptions;
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.resetHandler()
    },
    handleEvent: function (a) {
        if (null ==
            a) this.reset();
        else {
            var b = this.map.getLonLatFromPixel(a.xy);
            if (b) {
                var c = this.findLayers();
                if (0 < c.length) {
                    for (var d = {}, e, f, g = 0, h = c.length; g < h; g++) e = c[g], f = OpenLayers.Util.indexOf(this.map.layers, e), d[f] = e.getFeatureInfo(b);
                    this.callback(d, b, a.xy)
                }
            }
        }
    },
    callback: function (a) {},
    reset: function (a) {
        this.callback(null)
    },
    findLayers: function () {
        for (var a = this.layers || this.map.layers, b = [], c, d = a.length - 1; 0 <= d; --d) c = a[d], c instanceof OpenLayers.Layer.UTFGrid && b.push(c);
        return b
    },
    CLASS_NAME: "OpenLayers.Control.UTFGrid"
});
OpenLayers.Format.CQL = function () {
    function a(a) {
        function b() {
            var a = e.pop();
            switch (a.type) {
                case "LOGICAL":
                    var c = b(),
                        g = b();
                    return new OpenLayers.Filter.Logical({
                        filters: [g, c],
                        type: f[a.text.toUpperCase()]
                    });
                case "NOT":
                    return a = b(), new OpenLayers.Filter.Logical({
                        filters: [a],
                        type: OpenLayers.Filter.Logical.NOT
                    });
                case "BETWEEN":
                    return e.pop(), g = b(), a = b(), c = b(), new OpenLayers.Filter.Comparison({
                        property: c,
                        lowerBoundary: a,
                        upperBoundary: g,
                        type: OpenLayers.Filter.Comparison.BETWEEN
                    });
                case "COMPARISON":
                    return g =
                        b(), c = b(), new OpenLayers.Filter.Comparison({
                            property: c,
                            value: g,
                            type: d[a.text.toUpperCase()]
                        });
                case "IS_NULL":
                    return c = b(), new OpenLayers.Filter.Comparison({
                        property: c,
                        type: d[a.text.toUpperCase()]
                    });
                case "VALUE":
                    return (c = a.text.match(/^'(.*)'$/)) ? c[1].replace(/''/g, "'") : Number(a.text);
                case "SPATIAL":
                    switch (a.text.toUpperCase()) {
                        case "BBOX":
                            var a = b(),
                                c = b(),
                                g = b(),
                                h = b(),
                                k = b();
                            return new OpenLayers.Filter.Spatial({
                                type: OpenLayers.Filter.Spatial.BBOX,
                                property: k,
                                value: OpenLayers.Bounds.fromArray([h, g, c,
                                    a
                                ])
                            });
                        case "INTERSECTS":
                            return g = b(), c = b(), new OpenLayers.Filter.Spatial({
                                type: OpenLayers.Filter.Spatial.INTERSECTS,
                                property: c,
                                value: g
                            });
                        case "WITHIN":
                            return g = b(), c = b(), new OpenLayers.Filter.Spatial({
                                type: OpenLayers.Filter.Spatial.WITHIN,
                                property: c,
                                value: g
                            });
                        case "CONTAINS":
                            return g = b(), c = b(), new OpenLayers.Filter.Spatial({
                                type: OpenLayers.Filter.Spatial.CONTAINS,
                                property: c,
                                value: g
                            });
                        case "DWITHIN":
                            return a = b(), g = b(), c = b(), new OpenLayers.Filter.Spatial({
                                type: OpenLayers.Filter.Spatial.DWITHIN,
                                value: g,
                                property: c,
                                distance: Number(a)
                            })
                    }
                    case "GEOMETRY":
                        return OpenLayers.Geometry.fromWKT(a.text);
                    default:
                        return a.text
            }
        }
        for (var c = [], e = []; a.length;) {
            var g = a.shift();
            switch (g.type) {
                case "PROPERTY":
                case "GEOMETRY":
                case "VALUE":
                    e.push(g);
                    break;
                case "COMPARISON":
                case "BETWEEN":
                case "IS_NULL":
                case "LOGICAL":
                    for (var k = h[g.type]; 0 < c.length && h[c[c.length - 1].type] <= k;) e.push(c.pop());
                    c.push(g);
                    break;
                case "SPATIAL":
                case "NOT":
                case "LPAREN":
                    c.push(g);
                    break;
                case "RPAREN":
                    for (; 0 < c.length && "LPAREN" != c[c.length - 1].type;) e.push(c.pop());
                    c.pop();
                    0 < c.length && "SPATIAL" == c[c.length - 1].type && e.push(c.pop());
                case "COMMA":
                case "END":
                    break;
                default:
                    throw Error("Unknown token type " + g.type);
            }
        }
        for (; 0 < c.length;) e.push(c.pop());
        a = b();
        if (0 < e.length) {
            a = "Remaining tokens after building AST: \n";
            for (c = e.length - 1; 0 <= c; c--) a += e[c].type + ": " + e[c].text + "\n";
            throw Error(a);
        }
        return a
    }
    var b = {
            PROPERTY: /^[_a-zA-Z]\w*/,
            COMPARISON: /^(=|<>|<=|<|>=|>|LIKE)/i,
            IS_NULL: /^IS NULL/i,
            COMMA: /^,/,
            LOGICAL: /^(AND|OR)/i,
            VALUE: /^('([^']|'')*'|\d+(\.\d*)?|\.\d+)/,
            LPAREN: /^\(/,
            RPAREN: /^\)/,
            SPATIAL: /^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,
            NOT: /^NOT/i,
            BETWEEN: /^BETWEEN/i,
            GEOMETRY: function (a) {
                var b = /^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(a);
                if (b) {
                    var c = a.length,
                        b = a.indexOf("(", b[0].length);
                    if (-1 < b)
                        for (var d = 1; b < c && 0 < d;) switch (b++, a.charAt(b)) {
                            case "(":
                                d++;
                                break;
                            case ")":
                                d--
                        }
                    return [a.substr(0, b + 1)]
                }
            },
            END: /^$/
        },
        c = {
            LPAREN: ["GEOMETRY", "SPATIAL", "PROPERTY", "VALUE", "LPAREN"],
            RPAREN: ["NOT", "LOGICAL", "END", "RPAREN"],
            PROPERTY: ["COMPARISON",
                "BETWEEN", "COMMA", "IS_NULL"
            ],
            BETWEEN: ["VALUE"],
            IS_NULL: ["END"],
            COMPARISON: ["VALUE"],
            COMMA: ["GEOMETRY", "VALUE", "PROPERTY"],
            VALUE: ["LOGICAL", "COMMA", "RPAREN", "END"],
            SPATIAL: ["LPAREN"],
            LOGICAL: ["NOT", "VALUE", "SPATIAL", "PROPERTY", "LPAREN"],
            NOT: ["PROPERTY", "LPAREN"],
            GEOMETRY: ["COMMA", "RPAREN"]
        },
        d = {
            "=": OpenLayers.Filter.Comparison.EQUAL_TO,
            "<>": OpenLayers.Filter.Comparison.NOT_EQUAL_TO,
            "<": OpenLayers.Filter.Comparison.LESS_THAN,
            "<=": OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO,
            ">": OpenLayers.Filter.Comparison.GREATER_THAN,
            ">=": OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,
            LIKE: OpenLayers.Filter.Comparison.LIKE,
            BETWEEN: OpenLayers.Filter.Comparison.BETWEEN,
            "IS NULL": OpenLayers.Filter.Comparison.IS_NULL
        },
        e = {},
        f = {
            AND: OpenLayers.Filter.Logical.AND,
            OR: OpenLayers.Filter.Logical.OR
        },
        g = {},
        h = {
            RPAREN: 3,
            LOGICAL: 2,
            COMPARISON: 1
        },
        k;
    for (k in d) d.hasOwnProperty(k) && (e[d[k]] = k);
    for (k in f) f.hasOwnProperty(k) && (g[f[k]] = k);
    return OpenLayers.Class(OpenLayers.Format, {
        read: function (d) {
            var e = d;
            d = [];
            var f, g = ["NOT", "GEOMETRY", "SPATIAL",
                "PROPERTY", "LPAREN"
            ];
            do {
                a: {
                    f = g;
                    for (var h = void 0, g = void 0, k = f.length, h = 0; h < k; h++) {
                        var g = f[h],
                            s = b[g] instanceof RegExp ? b[g].exec(e) : (0, b[g])(e);
                        if (s) {
                            f = s[0];
                            e = e.substr(f.length).replace(/^\s*/, "");
                            f = {
                                type: g,
                                text: f,
                                remainder: e
                            };
                            break a
                        }
                    }
                    d = "ERROR: In parsing: [" + e + "], expected one of: ";
                    for (h = 0; h < k; h++) g = f[h],
                    d += "\n    " + g + ": " + b[g];
                    throw Error(d);
                }
                e = f.remainder;g = c[f.type];
                if ("END" != f.type && !g) throw Error("No follows list for " + f.type);d.push(f)
            } while ("END" != f.type);
            d = a(d);
            this.keepData && (this.data = d);
            return d
        },
        write: function (a) {
            if (a instanceof OpenLayers.Geometry) return a.toString();
            switch (a.CLASS_NAME) {
                case "OpenLayers.Filter.Spatial":
                    switch (a.type) {
                        case OpenLayers.Filter.Spatial.BBOX:
                            return "BBOX(" + a.property + "," + a.value.toBBOX() + ")";
                        case OpenLayers.Filter.Spatial.DWITHIN:
                            return "DWITHIN(" + a.property + ", " + this.write(a.value) + ", " + a.distance + ")";
                        case OpenLayers.Filter.Spatial.WITHIN:
                            return "WITHIN(" + a.property + ", " + this.write(a.value) + ")";
                        case OpenLayers.Filter.Spatial.INTERSECTS:
                            return "INTERSECTS(" +
                                a.property + ", " + this.write(a.value) + ")";
                        case OpenLayers.Filter.Spatial.CONTAINS:
                            return "CONTAINS(" + a.property + ", " + this.write(a.value) + ")";
                        default:
                            throw Error("Unknown spatial filter type: " + a.type);
                    }
                    case "OpenLayers.Filter.Logical":
                        if (a.type == OpenLayers.Filter.Logical.NOT) return "NOT (" + this.write(a.filters[0]) + ")";
                        for (var b = "(", c = !0, d = 0; d < a.filters.length; d++) c ? c = !1 : b += ") " + g[a.type] + " (", b += this.write(a.filters[d]);
                        return b + ")";
                    case "OpenLayers.Filter.Comparison":
                        return a.type == OpenLayers.Filter.Comparison.BETWEEN ?
                            a.property + " BETWEEN " + this.write(a.lowerBoundary) + " AND " + this.write(a.upperBoundary) : null !== a.value ? a.property + " " + e[a.type] + " " + this.write(a.value) : a.property + " " + e[a.type];
                    case void 0:
                        if ("string" === typeof a) return "'" + a.replace(/'/g, "''") + "'";
                        if ("number" === typeof a) return String(a);
                    default:
                        throw Error("Can't encode: " + a.CLASS_NAME + " " + a);
            }
        },
        CLASS_NAME: "OpenLayers.Format.CQL"
    })
}();
OpenLayers.Control.Split = OpenLayers.Class(OpenLayers.Control, {
    layer: null,
    source: null,
    sourceOptions: null,
    tolerance: null,
    edge: !0,
    deferDelete: !1,
    mutual: !0,
    targetFilter: null,
    sourceFilter: null,
    handler: null,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, [a]);
        this.options = a || {};
        this.options.source && this.setSource(this.options.source)
    },
    setSource: function (a) {
        this.active ? (this.deactivate(), this.handler && (this.handler.destroy(), delete this.handler), this.source = a, this.activate()) : this.source =
            a
    },
    activate: function () {
        var a = OpenLayers.Control.prototype.activate.call(this);
        if (a)
            if (!this.source) this.handler || (this.handler = new OpenLayers.Handler.Path(this, {
                done: function (a) {
                    this.onSketchComplete({
                        feature: new OpenLayers.Feature.Vector(a)
                    })
                }
            }, {
                layerOptions: this.sourceOptions
            })), this.handler.activate();
            else if (this.source.events) this.source.events.on({
            sketchcomplete: this.onSketchComplete,
            afterfeaturemodified: this.afterFeatureModified,
            scope: this
        });
        return a
    },
    deactivate: function () {
        var a = OpenLayers.Control.prototype.deactivate.call(this);
        a && this.source && this.source.events && this.source.events.un({
            sketchcomplete: this.onSketchComplete,
            afterfeaturemodified: this.afterFeatureModified,
            scope: this
        });
        return a
    },
    onSketchComplete: function (a) {
        this.feature = null;
        return !this.considerSplit(a.feature)
    },
    afterFeatureModified: function (a) {
        a.modified && "function" === typeof a.feature.geometry.split && (this.feature = a.feature, this.considerSplit(a.feature))
    },
    removeByGeometry: function (a, b) {
        for (var c = 0, d = a.length; c < d; ++c)
            if (a[c].geometry === b) {
                a.splice(c, 1);
                break
            }
    },
    isEligible: function (a) {
        return a.geometry ? a.state !== OpenLayers.State.DELETE && "function" === typeof a.geometry.split && this.feature !== a && (!this.targetFilter || this.targetFilter.evaluate(a.attributes)) : !1
    },
    considerSplit: function (a) {
        var b = !1,
            c = !1;
        if (!this.sourceFilter || this.sourceFilter.evaluate(a.attributes)) {
            for (var d = this.layer && this.layer.features || [], e, f, g = [], h = [], k = this.layer === this.source && this.mutual, l = {
                    edge: this.edge,
                    tolerance: this.tolerance,
                    mutual: k
                }, m = [a.geometry], n, p, q, r = 0, s = d.length; r < s; ++r)
                if (n =
                    d[r], this.isEligible(n)) {
                    p = [n.geometry];
                    for (var t = 0; t < m.length; ++t) {
                        q = m[t];
                        for (var u = 0; u < p.length; ++u)
                            if (e = p[u], q.getBounds().intersectsBounds(e.getBounds()) && (e = q.split(e, l))) f = this.events.triggerEvent("beforesplit", {
                                source: a,
                                target: n
                            }), !1 !== f && (k && (f = e[0], 1 < f.length && (f.unshift(t, 1), Array.prototype.splice.apply(m, f), t += f.length - 3), e = e[1]), 1 < e.length && (e.unshift(u, 1), Array.prototype.splice.apply(p, e), u += e.length - 3))
                    }
                    p && 1 < p.length && (this.geomsToFeatures(n, p), this.events.triggerEvent("split", {
                        original: n,
                        features: p
                    }), Array.prototype.push.apply(g, p), h.push(n), c = !0)
                } m && 1 < m.length && (this.geomsToFeatures(a, m), this.events.triggerEvent("split", {
                original: a,
                features: m
            }), Array.prototype.push.apply(g, m), h.push(a), b = !0);
            if (b || c) {
                if (this.deferDelete) {
                    d = [];
                    r = 0;
                    for (s = h.length; r < s; ++r) c = h[r], c.state === OpenLayers.State.INSERT ? d.push(c) : (c.state = OpenLayers.State.DELETE, this.layer.drawFeature(c));
                    this.layer.destroyFeatures(d, {
                        silent: !0
                    });
                    r = 0;
                    for (s = g.length; r < s; ++r) g[r].state = OpenLayers.State.INSERT
                } else this.layer.destroyFeatures(h, {
                    silent: !0
                });
                this.layer.addFeatures(g, {
                    silent: !0
                });
                this.events.triggerEvent("aftersplit", {
                    source: a,
                    features: g
                })
            }
        }
        return b
    },
    geomsToFeatures: function (a, b) {
        var c = a.clone();
        delete c.geometry;
        for (var d, e = 0, f = b.length; e < f; ++e) d = c.clone(), d.geometry = b[e], d.state = OpenLayers.State.INSERT, b[e] = d
    },
    destroy: function () {
        this.active && this.deactivate();
        OpenLayers.Control.prototype.destroy.call(this)
    },
    CLASS_NAME: "OpenLayers.Control.Split"
});
OpenLayers.Layer.WMTS = OpenLayers.Class(OpenLayers.Layer.Grid, {
    isBaseLayer: !0,
    version: "1.0.0",
    requestEncoding: "KVP",
    url: null,
    layer: null,
    matrixSet: null,
    style: null,
    format: "image/jpeg",
    tileOrigin: null,
    tileFullExtent: null,
    formatSuffix: null,
    matrixIds: null,
    dimensions: null,
    params: null,
    zoomOffset: 0,
    serverResolutions: null,
    formatSuffixMap: {
        "image/png": "png",
        "image/png8": "png",
        "image/png24": "png",
        "image/png32": "png",
        png: "png",
        "image/jpeg": "jpg",
        "image/jpg": "jpg",
        jpeg: "jpg",
        jpg: "jpg"
    },
    matrix: null,
    initialize: function (a) {
        var b = {
                url: !0,
                layer: !0,
                style: !0,
                matrixSet: !0
            },
            c;
        for (c in b)
            if (!(c in a)) throw Error("Missing property '" + c + "' in layer configuration.");
        a.params = OpenLayers.Util.upperCaseObject(a.params);
        OpenLayers.Layer.Grid.prototype.initialize.apply(this, [a.name, a.url, a.params, a]);
        this.formatSuffix || (this.formatSuffix = this.formatSuffixMap[this.format] || this.format.split("/").pop());
        if (this.matrixIds && (a = this.matrixIds.length) && "string" === typeof this.matrixIds[0])
            for (b = this.matrixIds, this.matrixIds = Array(a), c = 0; c < a; ++c) this.matrixIds[c] = {
                identifier: b[c]
            }
    },
    setMap: function () {
        OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments)
    },
    updateMatrixProperties: function () {
        if (this.matrix = this.getMatrix()) this.matrix.topLeftCorner && (this.tileOrigin = this.matrix.topLeftCorner), this.matrix.tileWidth && this.matrix.tileHeight && (this.tileSize = new OpenLayers.Size(this.matrix.tileWidth, this.matrix.tileHeight)), this.tileOrigin || (this.tileOrigin = new OpenLayers.LonLat(this.maxExtent.left, this.maxExtent.top)), this.tileFullExtent || (this.tileFullExtent =
            this.maxExtent)
    },
    moveTo: function (a, b, c) {
        !b && this.matrix || this.updateMatrixProperties();
        return OpenLayers.Layer.Grid.prototype.moveTo.apply(this, arguments)
    },
    clone: function (a) {
        null == a && (a = new OpenLayers.Layer.WMTS(this.options));
        return a = OpenLayers.Layer.Grid.prototype.clone.apply(this, [a])
    },
    getIdentifier: function () {
        return this.getServerZoom()
    },
    getMatrix: function () {
        var a;
        if (this.matrixIds && 0 !== this.matrixIds.length)
            if ("scaleDenominator" in this.matrixIds[0])
                for (var b = OpenLayers.METERS_PER_INCH * OpenLayers.INCHES_PER_UNIT[this.units] *
                        this.getServerResolution() / 2.8E-4, c = Number.POSITIVE_INFINITY, d, e = 0, f = this.matrixIds.length; e < f; ++e) d = Math.abs(1 - this.matrixIds[e].scaleDenominator / b), d < c && (c = d, a = this.matrixIds[e]);
            else a = this.matrixIds[this.getIdentifier()];
        else a = {
            identifier: this.getIdentifier()
        };
        return a
    },
    getTileInfo: function (a) {
        var b = this.getServerResolution(),
            c = (a.lon - this.tileOrigin.lon) / (b * this.tileSize.w);
        a = (this.tileOrigin.lat - a.lat) / (b * this.tileSize.h);
        var b = Math.floor(c),
            d = Math.floor(a);
        return {
            col: b,
            row: d,
            i: Math.floor((c -
                b) * this.tileSize.w),
            j: Math.floor((a - d) * this.tileSize.h)
        }
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = "";
        if (!this.tileFullExtent || this.tileFullExtent.intersectsBounds(a)) {
            a = a.getCenterLonLat();
            var c = this.getTileInfo(a);
            a = this.dimensions;
            var d, b = OpenLayers.Util.isArray(this.url) ? this.selectUrl([this.version, this.style, this.matrixSet, this.matrix.identifier, c.row, c.col].join(), this.url) : this.url;
            if ("REST" === this.requestEncoding.toUpperCase())
                if (d = this.params, -1 !== b.indexOf("{")) {
                    b = b.replace(/\{/g,
                        "${");
                    c = {
                        style: this.style,
                        Style: this.style,
                        TileMatrixSet: this.matrixSet,
                        TileMatrix: this.matrix.identifier,
                        TileRow: c.row,
                        TileCol: c.col
                    };
                    if (a) {
                        var e, f;
                        for (f = a.length - 1; 0 <= f; --f) e = a[f], c[e] = d[e.toUpperCase()]
                    }
                    b = OpenLayers.String.format(b, c)
                } else {
                    e = this.version + "/" + this.layer + "/" + this.style + "/";
                    if (a)
                        for (f = 0; f < a.length; f++) d[a[f]] && (e = e + d[a[f]] + "/");
                    e = e + this.matrixSet + "/" + this.matrix.identifier + "/" + c.row + "/" + c.col + "." + this.formatSuffix;
                    b.match(/\/$/) || (b += "/");
                    b += e
                }
            else "KVP" === this.requestEncoding.toUpperCase() &&
                (d = {
                    SERVICE: "WMTS",
                    REQUEST: "GetTile",
                    VERSION: this.version,
                    LAYER: this.layer,
                    STYLE: this.style,
                    TILEMATRIXSET: this.matrixSet,
                    TILEMATRIX: this.matrix.identifier,
                    TILEROW: c.row,
                    TILECOL: c.col,
                    FORMAT: this.format
                }, b = OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this, [d]))
        }
        return b
    },
    mergeNewParams: function (a) {
        if ("KVP" === this.requestEncoding.toUpperCase()) return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this, [OpenLayers.Util.upperCaseObject(a)])
    },
    CLASS_NAME: "OpenLayers.Layer.WMTS"
});
OpenLayers.Protocol.SOS.v1_0_0 = OpenLayers.Class(OpenLayers.Protocol, {
    fois: null,
    formatOptions: null,
    initialize: function (a) {
        OpenLayers.Protocol.prototype.initialize.apply(this, [a]);
        a.format || (this.format = new OpenLayers.Format.SOSGetFeatureOfInterest(this.formatOptions))
    },
    destroy: function () {
        this.options && !this.options.format && this.format.destroy();
        this.format = null;
        OpenLayers.Protocol.prototype.destroy.apply(this)
    },
    read: function (a) {
        a = OpenLayers.Util.extend({}, a);
        OpenLayers.Util.applyDefaults(a, this.options || {});
        var b = new OpenLayers.Protocol.Response({
                requestType: "read"
            }),
            c = this.format,
            c = OpenLayers.Format.XML.prototype.write.apply(c, [c.writeNode("sos:GetFeatureOfInterest", {
                fois: this.fois
            })]);
        b.priv = OpenLayers.Request.POST({
            url: a.url,
            callback: this.createCallback(this.handleRead, b, a),
            data: c
        });
        return b
    },
    handleRead: function (a, b) {
        if (b.callback) {
            var c = a.priv;
            200 <= c.status && 300 > c.status ? (a.features = this.parseFeatures(c), a.code = OpenLayers.Protocol.Response.SUCCESS) : a.code = OpenLayers.Protocol.Response.FAILURE;
            b.callback.call(b.scope, a)
        }
    },
    parseFeatures: function (a) {
        var b = a.responseXML;
        b && b.documentElement || (b = a.responseText);
        return !b || 0 >= b.length ? null : this.format.read(b)
    },
    CLASS_NAME: "OpenLayers.Protocol.SOS.v1_0_0"
});
OpenLayers.Layer.KaMapCache = OpenLayers.Class(OpenLayers.Layer.KaMap, {
    IMAGE_EXTENSIONS: {
        jpeg: "jpg",
        gif: "gif",
        png: "png",
        png8: "png",
        png24: "png",
        dithered: "png"
    },
    DEFAULT_FORMAT: "jpeg",
    initialize: function (a, b, c, d) {
        OpenLayers.Layer.KaMap.prototype.initialize.apply(this, arguments);
        this.extension = this.IMAGE_EXTENSIONS[this.params.i.toLowerCase() || this.DEFAULT_FORMAT]
    },
    getURL: function (a) {
        a = this.adjustBounds(a);
        var b = this.map.getResolution(),
            c = Math.round(1E4 * this.map.getScale()) / 1E4,
            d = Math.round(a.left / b);
        a = -Math.round(a.top / b);
        var b = Math.floor(d / this.tileSize.w / this.params.metaTileSize.w) * this.tileSize.w * this.params.metaTileSize.w,
            e = Math.floor(a / this.tileSize.h / this.params.metaTileSize.h) * this.tileSize.h * this.params.metaTileSize.h,
            c = ["/", this.params.map, "/", c, "/", this.params.g.replace(/\s/g, "_"), "/def/t", e, "/l", b, "/t", a, "l", d, ".", this.extension],
            d = this.url;
        OpenLayers.Util.isArray(d) && (d = this.selectUrl(c.join(""), d));
        return d + c.join("")
    },
    CLASS_NAME: "OpenLayers.Layer.KaMapCache"
});
OpenLayers.Protocol.WFS.v1_1_0 = OpenLayers.Class(OpenLayers.Protocol.WFS.v1, {
    version: "1.1.0",
    initialize: function (a) {
        OpenLayers.Protocol.WFS.v1.prototype.initialize.apply(this, arguments);
        this.outputFormat && !this.readFormat && ("gml2" == this.outputFormat.toLowerCase() ? this.readFormat = new OpenLayers.Format.GML.v2({
            featureType: this.featureType,
            featureNS: this.featureNS,
            geometryName: this.geometryName
        }) : "json" == this.outputFormat.toLowerCase() && (this.readFormat = new OpenLayers.Format.GeoJSON))
    },
    CLASS_NAME: "OpenLayers.Protocol.WFS.v1_1_0"
});
OpenLayers.Format.WMSCapabilities.v1_1_1 = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1, {
    version: "1.1.1",
    readers: {
        wms: OpenLayers.Util.applyDefaults({
            SRS: function (a, b) {
                b.srs[this.getChildValue(a)] = !0
            }
        }, OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_1_1"
});
OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC = OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1_1, {
    version: "1.1.1",
    profile: "WMSC",
    readers: {
        wms: OpenLayers.Util.applyDefaults({
            VendorSpecificCapabilities: function (a, b) {
                b.vendorSpecific = {
                    tileSets: []
                };
                this.readChildNodes(a, b.vendorSpecific)
            },
            TileSet: function (a, b) {
                var c = {
                    srs: {},
                    bbox: {},
                    resolutions: []
                };
                this.readChildNodes(a, c);
                b.tileSets.push(c)
            },
            Resolutions: function (a, b) {
                for (var c = this.getChildValue(a).split(" "), d = 0, e = c.length; d < e; d++) "" != c[d] && b.resolutions.push(parseFloat(c[d]))
            },
            Width: function (a, b) {
                b.width = parseInt(this.getChildValue(a))
            },
            Height: function (a, b) {
                b.height = parseInt(this.getChildValue(a))
            },
            Layers: function (a, b) {
                b.layers = this.getChildValue(a)
            },
            Styles: function (a, b) {
                b.styles = this.getChildValue(a)
            }
        }, OpenLayers.Format.WMSCapabilities.v1_1_1.prototype.readers.wms)
    },
    CLASS_NAME: "OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC"
});
OpenLayers.Control.LayerSwitcher = OpenLayers.Class(OpenLayers.Control, {
    layerStates: null,
    layersDiv: null,
    baseLayersDiv: null,
    baseLayers: null,
    dataLbl: null,
    dataLayersDiv: null,
    dataLayers: null,
    minimizeDiv: null,
    maximizeDiv: null,
    ascending: !0,
    initialize: function (a) {
        OpenLayers.Control.prototype.initialize.apply(this, arguments);
        this.layerStates = []
    },
    destroy: function () {
        this.clearLayersArray("base");
        this.clearLayersArray("data");
        this.map.events.un({
            buttonclick: this.onButtonClick,
            addlayer: this.redraw,
            changelayer: this.redraw,
            removelayer: this.redraw,
            changebaselayer: this.redraw,
            scope: this
        });
        this.events.unregister("buttonclick", this, this.onButtonClick);
        OpenLayers.Control.prototype.destroy.apply(this, arguments)
    },
    setMap: function (a) {
        OpenLayers.Control.prototype.setMap.apply(this, arguments);
        this.map.events.on({
            addlayer: this.redraw,
            changelayer: this.redraw,
            removelayer: this.redraw,
            changebaselayer: this.redraw,
            scope: this
        });
        this.outsideViewport ? (this.events.attachToElement(this.div), this.events.register("buttonclick", this, this.onButtonClick)) :
            this.map.events.register("buttonclick", this, this.onButtonClick)
    },
    draw: function () {
        OpenLayers.Control.prototype.draw.apply(this);
        this.loadContents();
        this.outsideViewport || this.minimizeControl();
        this.redraw();
        return this.div
    },
    onButtonClick: function (a) {
        a = a.buttonElement;
        a === this.minimizeDiv ? this.minimizeControl() : a === this.maximizeDiv ? this.maximizeControl() : a._layerSwitcher === this.id && (a["for"] && (a = document.getElementById(a["for"])), a.disabled || ("radio" == a.type ? (a.checked = !0, this.map.setBaseLayer(this.map.getLayer(a._layer))) :
            (a.checked = !a.checked, this.updateMap())))
    },
    clearLayersArray: function (a) {
        this[a + "LayersDiv"].innerHTML = "";
        this[a + "Layers"] = []
    },
    checkRedraw: function () {
        if (!this.layerStates.length || this.map.layers.length != this.layerStates.length) return !0;
        for (var a = 0, b = this.layerStates.length; a < b; a++) {
            var c = this.layerStates[a],
                d = this.map.layers[a];
            if (c.name != d.name || c.inRange != d.inRange || c.id != d.id || c.visibility != d.visibility) return !0
        }
        return !1
    },
    redraw: function () {
        if (!this.checkRedraw()) return this.div;
        this.clearLayersArray("base");
        this.clearLayersArray("data");
        var a = !1,
            b = !1,
            c = this.map.layers.length;
        this.layerStates = Array(c);
        for (var d = 0; d < c; d++) {
            var e = this.map.layers[d];
            this.layerStates[d] = {
                name: e.name,
                visibility: e.visibility,
                inRange: e.inRange,
                id: e.id
            }
        }
        var f = this.map.layers.slice();
        this.ascending || f.reverse();
        d = 0;
        for (c = f.length; d < c; d++) {
            var e = f[d],
                g = e.isBaseLayer;
            if (e.displayInLayerSwitcher) {
                g ? b = !0 : a = !0;
                var h = g ? e == this.map.baseLayer : e.getVisibility(),
                    k = document.createElement("input"),
                    l = OpenLayers.Util.createUniqueID(this.id +
                        "_input_");
                k.id = l;
                k.name = g ? this.id + "_baseLayers" : e.name;
                k.type = g ? "radio" : "checkbox";
                k.value = e.name;
                k.checked = h;
                k.defaultChecked = h;
                k.className = "olButton";
                k._layer = e.id;
                k._layerSwitcher = this.id;
                g || e.inRange || (k.disabled = !0);
                h = document.createElement("label");
                h["for"] = k.id;
                OpenLayers.Element.addClass(h, "labelSpan olButton");
                h._layer = e.id;
                h._layerSwitcher = this.id;
                g || e.inRange || (h.style.color = "gray");
                h.innerHTML = e.name;
                h.style.verticalAlign = g ? "bottom" : "baseline";
                l = document.createElement("br");
                (g ? this.baseLayers :
                    this.dataLayers).push({
                    layer: e,
                    inputElem: k,
                    labelSpan: h
                });
                e = g ? this.baseLayersDiv : this.dataLayersDiv;
                e.appendChild(k);
                e.appendChild(h);
                e.appendChild(l)
            }
        }
        this.dataLbl.style.display = a ? "" : "none";
        this.baseLbl.style.display = b ? "" : "none";
        return this.div
    },
    updateMap: function () {
        for (var a = 0, b = this.baseLayers.length; a < b; a++) {
            var c = this.baseLayers[a];
            c.inputElem.checked && this.map.setBaseLayer(c.layer, !1)
        }
        a = 0;
        for (b = this.dataLayers.length; a < b; a++) c = this.dataLayers[a], c.layer.setVisibility(c.inputElem.checked)
    },
    maximizeControl: function (a) {
        this.div.style.width =
            "";
        this.div.style.height = "";
        this.showControls(!1);
        null != a && OpenLayers.Event.stop(a)
    },
    minimizeControl: function (a) {
        this.div.style.width = "0px";
        this.div.style.height = "0px";
        this.showControls(!0);
        null != a && OpenLayers.Event.stop(a)
    },
    showControls: function (a) {
        this.maximizeDiv.style.display = a ? "" : "none";
        this.minimizeDiv.style.display = a ? "none" : "";
        this.layersDiv.style.display = a ? "none" : ""
    },
    loadContents: function () {
        this.layersDiv = document.createElement("div");
        this.layersDiv.id = this.id + "_layersDiv";
        OpenLayers.Element.addClass(this.layersDiv,
            "layersDiv");
        this.baseLbl = document.createElement("div");
        this.baseLbl.innerHTML = OpenLayers.i18n("Base Layer");
        OpenLayers.Element.addClass(this.baseLbl, "baseLbl");
        this.baseLayersDiv = document.createElement("div");
        OpenLayers.Element.addClass(this.baseLayersDiv, "baseLayersDiv");
        this.dataLbl = document.createElement("div");
        this.dataLbl.innerHTML = OpenLayers.i18n("Overlays");
        OpenLayers.Element.addClass(this.dataLbl, "dataLbl");
        this.dataLayersDiv = document.createElement("div");
        OpenLayers.Element.addClass(this.dataLayersDiv,
            "dataLayersDiv");
        this.ascending ? (this.layersDiv.appendChild(this.baseLbl), this.layersDiv.appendChild(this.baseLayersDiv), this.layersDiv.appendChild(this.dataLbl), this.layersDiv.appendChild(this.dataLayersDiv)) : (this.layersDiv.appendChild(this.dataLbl), this.layersDiv.appendChild(this.dataLayersDiv), this.layersDiv.appendChild(this.baseLbl), this.layersDiv.appendChild(this.baseLayersDiv));
        this.div.appendChild(this.layersDiv);
        var a = OpenLayers.Util.getImageLocation("layer-switcher-maximize.png");
        this.maximizeDiv =
            OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MaximizeDiv", null, null, a, "absolute");
        OpenLayers.Element.addClass(this.maximizeDiv, "maximizeDiv olButton");
        this.maximizeDiv.style.display = "none";
        this.div.appendChild(this.maximizeDiv);
        a = OpenLayers.Util.getImageLocation("layer-switcher-minimize.png");
        this.minimizeDiv = OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MinimizeDiv", null, null, a, "absolute");
        OpenLayers.Element.addClass(this.minimizeDiv, "minimizeDiv olButton");
        this.minimizeDiv.style.display =
            "none";
        this.div.appendChild(this.minimizeDiv)
    },
    CLASS_NAME: "OpenLayers.Control.LayerSwitcher"
});
OpenLayers.Format.Atom = OpenLayers.Class(OpenLayers.Format.XML, {
    namespaces: {
        atom: "https://www.w3.org/2005/Atom",
        georss: "https://www.georss.org/georss"
    },
    feedTitle: "untitled",
    defaultEntryTitle: "untitled",
    gmlParser: null,
    xy: !1,
    read: function (a) {
        "string" == typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        return this.parseFeatures(a)
    },
    write: function (a) {
        var b;
        if (OpenLayers.Util.isArray(a)) {
            b = this.createElementNSPlus("atom:feed");
            b.appendChild(this.createElementNSPlus("atom:title", {
                value: this.feedTitle
            }));
            for (var c = 0, d = a.length; c < d; c++) b.appendChild(this.buildEntryNode(a[c]))
        } else b = this.buildEntryNode(a);
        return OpenLayers.Format.XML.prototype.write.apply(this, [b])
    },
    buildContentNode: function (a) {
        var b = this.createElementNSPlus("atom:content", {
            attributes: {
                type: a.type || null
            }
        });
        if (a.src) b.setAttribute("src", a.src);
        else if ("text" == a.type || null == a.type) b.appendChild(this.createTextNode(a.value));
        else if ("html" == a.type) {
            if ("string" != typeof a.value) throw "HTML content must be in form of an escaped string";
            b.appendChild(this.createTextNode(a.value))
        } else "xhtml" ==
            a.type ? b.appendChild(a.value) : "xhtml" == a.type || a.type.match(/(\+|\/)xml$/) ? b.appendChild(a.value) : b.appendChild(this.createTextNode(a.value));
        return b
    },
    buildEntryNode: function (a) {
        var b = a.attributes,
            c = b.atom || {},
            d = this.createElementNSPlus("atom:entry");
        if (c.authors)
            for (var e = OpenLayers.Util.isArray(c.authors) ? c.authors : [c.authors], f = 0, g = e.length; f < g; f++) d.appendChild(this.buildPersonConstructNode("author", e[f]));
        if (c.categories)
            for (var e = OpenLayers.Util.isArray(c.categories) ? c.categories : [c.categories],
                    h, f = 0, g = e.length; f < g; f++) h = e[f], d.appendChild(this.createElementNSPlus("atom:category", {
                attributes: {
                    term: h.term,
                    scheme: h.scheme || null,
                    label: h.label || null
                }
            }));
        c.content && d.appendChild(this.buildContentNode(c.content));
        if (c.contributors)
            for (e = OpenLayers.Util.isArray(c.contributors) ? c.contributors : [c.contributors], f = 0, g = e.length; f < g; f++) d.appendChild(this.buildPersonConstructNode("contributor", e[f]));
        a.fid && d.appendChild(this.createElementNSPlus("atom:id", {
            value: a.fid
        }));
        if (c.links)
            for (e = OpenLayers.Util.isArray(c.links) ?
                c.links : [c.links], f = 0, g = e.length; f < g; f++) h = e[f], d.appendChild(this.createElementNSPlus("atom:link", {
                attributes: {
                    href: h.href,
                    rel: h.rel || null,
                    type: h.type || null,
                    hreflang: h.hreflang || null,
                    title: h.title || null,
                    length: h.length || null
                }
            }));
        c.published && d.appendChild(this.createElementNSPlus("atom:published", {
            value: c.published
        }));
        c.rights && d.appendChild(this.createElementNSPlus("atom:rights", {
            value: c.rights
        }));
        (c.summary || b.description) && d.appendChild(this.createElementNSPlus("atom:summary", {
            value: c.summary ||
                b.description
        }));
        d.appendChild(this.createElementNSPlus("atom:title", {
            value: c.title || b.title || this.defaultEntryTitle
        }));
        c.updated && d.appendChild(this.createElementNSPlus("atom:updated", {
            value: c.updated
        }));
        a.geometry && (b = this.createElementNSPlus("georss:where"), b.appendChild(this.buildGeometryNode(a.geometry)), d.appendChild(b));
        return d
    },
    initGmlParser: function () {
        this.gmlParser = new OpenLayers.Format.GML.v3({
            xy: this.xy,
            featureNS: "https://example.com#feature",
            internalProjection: this.internalProjection,
            externalProjection: this.externalProjection
        })
    },
    buildGeometryNode: function (a) {
        this.gmlParser || this.initGmlParser();
        return this.gmlParser.writeNode("feature:_geometry", a).firstChild
    },
    buildPersonConstructNode: function (a, b) {
        var c = ["uri", "email"],
            d = this.createElementNSPlus("atom:" + a);
        d.appendChild(this.createElementNSPlus("atom:name", {
            value: b.name
        }));
        for (var e = 0, f = c.length; e < f; e++) b[c[e]] && d.appendChild(this.createElementNSPlus("atom:" + c[e], {
            value: b[c[e]]
        }));
        return d
    },
    getFirstChildValue: function (a, b, c,
        d) {
        return (a = this.getElementsByTagNameNS(a, b, c)) && 0 < a.length ? this.getChildValue(a[0], d) : d
    },
    parseFeature: function (a) {
        var b = {},
            c = null,
            d = null,
            e = null,
            f = this.namespaces.atom;
        this.parsePersonConstructs(a, "author", b);
        d = this.getElementsByTagNameNS(a, f, "category");
        0 < d.length && (b.categories = []);
        for (var g = 0, h = d.length; g < h; g++) {
            c = {};
            c.term = d[g].getAttribute("term");
            if (e = d[g].getAttribute("scheme")) c.scheme = e;
            if (e = d[g].getAttribute("label")) c.label = e;
            b.categories.push(c)
        }
        d = this.getElementsByTagNameNS(a, f, "content");
        if (0 < d.length) {
            c = {};
            if (e = d[0].getAttribute("type")) c.type = e;
            (e = d[0].getAttribute("src")) ? c.src = e: ("text" == c.type || "html" == c.type || null == c.type ? c.value = this.getFirstChildValue(a, f, "content", null) : "xhtml" == c.type || c.type.match(/(\+|\/)xml$/) ? c.value = this.getChildEl(d[0]) : c.value = this.getFirstChildValue(a, f, "content", null), b.content = c)
        }
        this.parsePersonConstructs(a, "contributor", b);
        b.id = this.getFirstChildValue(a, f, "id", null);
        d = this.getElementsByTagNameNS(a, f, "link");
        0 < d.length && (b.links = Array(d.length));
        for (var k = ["rel", "type", "hreflang", "title", "length"], g = 0, h = d.length; g < h; g++) {
            c = {};
            c.href = d[g].getAttribute("href");
            for (var l = 0, m = k.length; l < m; l++)(e = d[g].getAttribute(k[l])) && (c[k[l]] = e);
            b.links[g] = c
        }
        if (c = this.getFirstChildValue(a, f, "published", null)) b.published = c;
        if (c = this.getFirstChildValue(a, f, "rights", null)) b.rights = c;
        if (c = this.getFirstChildValue(a, f, "summary", null)) b.summary = c;
        b.title = this.getFirstChildValue(a, f, "title", null);
        b.updated = this.getFirstChildValue(a, f, "updated", null);
        c = {
            title: b.title,
            description: b.summary,
            atom: b
        };
        a = this.parseLocations(a)[0];
        a = new OpenLayers.Feature.Vector(a, c);
        a.fid = b.id;
        return a
    },
    parseFeatures: function (a) {
        var b = [],
            c = this.getElementsByTagNameNS(a, this.namespaces.atom, "entry");
        0 == c.length && (c = [a]);
        a = 0;
        for (var d = c.length; a < d; a++) b.push(this.parseFeature(c[a]));
        return b
    },
    parseLocations: function (a) {
        var b = this.namespaces.georss,
            c = {
                components: []
            },
            d = this.getElementsByTagNameNS(a, b, "where");
        if (d && 0 < d.length) {
            this.gmlParser || this.initGmlParser();
            for (var e = 0, f = d.length; e <
                f; e++) this.gmlParser.readChildNodes(d[e], c)
        }
        c = c.components;
        if ((d = this.getElementsByTagNameNS(a, b, "point")) && 0 < d.length)
            for (e = 0, f = d.length; e < f; e++) {
                var g = OpenLayers.String.trim(d[e].firstChild.nodeValue).split(/\s+/);
                2 != g.length && (g = OpenLayers.String.trim(d[e].firstChild.nodeValue).split(/\s*,\s*/));
                c.push(new OpenLayers.Geometry.Point(g[1], g[0]))
            }
        var h = this.getElementsByTagNameNS(a, b, "line");
        if (h && 0 < h.length)
            for (var k, e = 0, f = h.length; e < f; e++) {
                d = OpenLayers.String.trim(h[e].firstChild.nodeValue).split(/\s+/);
                k = [];
                for (var l = 0, m = d.length; l < m; l += 2) g = new OpenLayers.Geometry.Point(d[l + 1], d[l]), k.push(g);
                c.push(new OpenLayers.Geometry.LineString(k))
            }
        if ((a = this.getElementsByTagNameNS(a, b, "polygon")) && 0 < a.length)
            for (e = 0, f = a.length; e < f; e++) {
                d = OpenLayers.String.trim(a[e].firstChild.nodeValue).split(/\s+/);
                k = [];
                l = 0;
                for (m = d.length; l < m; l += 2) g = new OpenLayers.Geometry.Point(d[l + 1], d[l]), k.push(g);
                c.push(new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(k)]))
            }
        if (this.internalProjection && this.externalProjection)
            for (e =
                0, f = c.length; e < f; e++) c[e] && c[e].transform(this.externalProjection, this.internalProjection);
        return c
    },
    parsePersonConstructs: function (a, b, c) {
        var d = [],
            e = this.namespaces.atom;
        a = this.getElementsByTagNameNS(a, e, b);
        for (var f = ["uri", "email"], g = 0, h = a.length; g < h; g++) {
            var k = {};
            k.name = this.getFirstChildValue(a[g], e, "name", null);
            for (var l = 0, m = f.length; l < m; l++) {
                var n = this.getFirstChildValue(a[g], e, f[l], null);
                n && (k[f[l]] = n)
            }
            d.push(k)
        }
        0 < d.length && (c[b + "s"] = d)
    },
    CLASS_NAME: "OpenLayers.Format.Atom"
});
OpenLayers.Control.KeyboardDefaults = OpenLayers.Class(OpenLayers.Control, {
    autoActivate: !0,
    slideFactor: 75,
    observeElement: null,
    draw: function () {
        this.handler = new OpenLayers.Handler.Keyboard(this, {
            keydown: this.defaultKeyPress
        }, {
            observeElement: this.observeElement || document
        })
    },
    defaultKeyPress: function (a) {
        var b, c = !0;
        b = OpenLayers.Event.element(a);
        if (!b || "INPUT" != b.tagName && "TEXTAREA" != b.tagName && "SELECT" != b.tagName) {
            switch (a.keyCode) {
                case OpenLayers.Event.KEY_LEFT:
                    this.map.pan(-this.slideFactor, 0);
                    break;
                case OpenLayers.Event.KEY_RIGHT:
                    this.map.pan(this.slideFactor,
                        0);
                    break;
                case OpenLayers.Event.KEY_UP:
                    this.map.pan(0, -this.slideFactor);
                    break;
                case OpenLayers.Event.KEY_DOWN:
                    this.map.pan(0, this.slideFactor);
                    break;
                case 33:
                    b = this.map.getSize();
                    this.map.pan(0, -0.75 * b.h);
                    break;
                case 34:
                    b = this.map.getSize();
                    this.map.pan(0, 0.75 * b.h);
                    break;
                case 35:
                    b = this.map.getSize();
                    this.map.pan(0.75 * b.w, 0);
                    break;
                case 36:
                    b = this.map.getSize();
                    this.map.pan(-0.75 * b.w, 0);
                    break;
                case 43:
                case 61:
                case 187:
                case 107:
                    this.map.zoomIn();
                    break;
                case 45:
                case 109:
                case 189:
                case 95:
                    this.map.zoomOut();
                    break;
                default:
                    c = !1
            }
            c && OpenLayers.Event.stop(a)
        }
    },
    CLASS_NAME: "OpenLayers.Control.KeyboardDefaults"
});
OpenLayers.Format.WMTSCapabilities.v1_0_0 = OpenLayers.Class(OpenLayers.Format.OWSCommon.v1_1_0, {
    version: "1.0.0",
    namespaces: {
        ows: "https://www.opengis.net/ows/1.1",
        wmts: "https://www.opengis.net/wmts/1.0",
        xlink: "https://www.w3.org/1999/xlink"
    },
    yx: null,
    defaultPrefix: "wmts",
    initialize: function (a) {
        OpenLayers.Format.XML.prototype.initialize.apply(this, [a]);
        this.options = a;
        a = OpenLayers.Util.extend({}, OpenLayers.Format.WMTSCapabilities.prototype.yx);
        this.yx = OpenLayers.Util.extend(a, this.yx)
    },
    read: function (a) {
        "string" ==
        typeof a && (a = OpenLayers.Format.XML.prototype.read.apply(this, [a]));
        a && 9 == a.nodeType && (a = a.documentElement);
        var b = {};
        this.readNode(a, b);
        b.version = this.version;
        return b
    },
    readers: {
        wmts: {
            Capabilities: function (a, b) {
                this.readChildNodes(a, b)
            },
            Contents: function (a, b) {
                b.contents = {};
                b.contents.layers = [];
                b.contents.tileMatrixSets = {};
                this.readChildNodes(a, b.contents)
            },
            Layer: function (a, b) {
                var c = {
                    styles: [],
                    formats: [],
                    dimensions: [],
                    tileMatrixSetLinks: [],
                    layers: []
                };
                this.readChildNodes(a, c);
                b.layers.push(c)
            },
            Style: function (a,
                b) {
                var c = {};
                c.isDefault = "true" === a.getAttribute("isDefault");
                this.readChildNodes(a, c);
                b.styles.push(c)
            },
            Format: function (a, b) {
                b.formats.push(this.getChildValue(a))
            },
            TileMatrixSetLink: function (a, b) {
                var c = {};
                this.readChildNodes(a, c);
                b.tileMatrixSetLinks.push(c)
            },
            TileMatrixSet: function (a, b) {
                if (b.layers) {
                    var c = {
                        matrixIds: []
                    };
                    this.readChildNodes(a, c);
                    b.tileMatrixSets[c.identifier] = c
                } else b.tileMatrixSet = this.getChildValue(a)
            },
            TileMatrix: function (a, b) {
                var c = {
                    supportedCRS: b.supportedCRS
                };
                this.readChildNodes(a,
                    c);
                b.matrixIds.push(c)
            },
            ScaleDenominator: function (a, b) {
                b.scaleDenominator = parseFloat(this.getChildValue(a))
            },
            TopLeftCorner: function (a, b) {
                var c = this.getChildValue(a).split(" "),
                    d;
                b.supportedCRS && (d = b.supportedCRS.replace(/urn:ogc:def:crs:(\w+):.+:(\w+)$/, "urn:ogc:def:crs:$1::$2"), d = !!this.yx[d]);
                b.topLeftCorner = d ? new OpenLayers.LonLat(c[1], c[0]) : new OpenLayers.LonLat(c[0], c[1])
            },
            TileWidth: function (a, b) {
                b.tileWidth = parseInt(this.getChildValue(a))
            },
            TileHeight: function (a, b) {
                b.tileHeight = parseInt(this.getChildValue(a))
            },
            MatrixWidth: function (a, b) {
                b.matrixWidth = parseInt(this.getChildValue(a))
            },
            MatrixHeight: function (a, b) {
                b.matrixHeight = parseInt(this.getChildValue(a))
            },
            ResourceURL: function (a, b) {
                b.resourceUrl = b.resourceUrl || {};
                var c = a.getAttribute("resourceType");
                b.resourceUrls || (b.resourceUrls = []);
                c = b.resourceUrl[c] = {
                    format: a.getAttribute("format"),
                    template: a.getAttribute("template"),
                    resourceType: c
                };
                b.resourceUrls.push(c)
            },
            WSDL: function (a, b) {
                b.wsdl = {};
                b.wsdl.href = a.getAttribute("xlink:href")
            },
            ServiceMetadataURL: function (a,
                b) {
                b.serviceMetadataUrl = {};
                b.serviceMetadataUrl.href = a.getAttribute("xlink:href")
            },
            LegendURL: function (a, b) {
                b.legend = {};
                b.legend.href = a.getAttribute("xlink:href");
                b.legend.format = a.getAttribute("format")
            },
            Dimension: function (a, b) {
                var c = {
                    values: []
                };
                this.readChildNodes(a, c);
                b.dimensions.push(c)
            },
            Default: function (a, b) {
                b["default"] = this.getChildValue(a)
            },
            Value: function (a, b) {
                b.values.push(this.getChildValue(a))
            }
        },
        ows: OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows
    },
    CLASS_NAME: "OpenLayers.Format.WMTSCapabilities.v1_0_0"
});